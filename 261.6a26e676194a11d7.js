(self.webpackChunkspear=self.webpackChunkspear||[]).push([[261,400,745,453,870,72],{4261:(ve,Z,S)=>{S.r(Z);var M={};S.r(M),S.d(M,{getUserAgentPrefix:()=>EI,isVirtualHostableS3Bucket:()=>XL,parseArn:()=>QL,partition:()=>HL,setPartitionInfo:()=>SI,useDefaultPartitionInfo:()=>qL});var H={};S.r(H),S.d(H,{aws:()=>M,booleanEquals:()=>JL,getAttr:()=>AI,isSet:()=>e7,isValidHostLabel:()=>PI,not:()=>t7,parseURL:()=>n7,stringEquals:()=>r7,substring:()=>o7,uriEncode:()=>a7});var j=S(2512),o=S(6718),v=S(8047),h=S(8069),g=S(2090),_=S(6170),w=S(4055),O=S(3267),F=S(4582),L=S(8694),U=S(2223),z=S(5106);function Y(a){return new o.\u0275RuntimeError(3e3,!1)}function le(a){switch(a.length){case 0:return new U.ZN;case 1:return a[0];default:return new U.ZE(a)}}function ce(a,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,r=[],s=[],u=-1,l=null;if(n.forEach(function(c){var p=c.get("offset"),y=p==u,E=y&&l||new Map;c.forEach(function(D,R){var B=R,te=D;if("offset"!==R)switch(B=a.normalizePropertyName(B,r),te){case U.k1:te=t.get(R);break;case U.l3:te=e.get(R);break;default:te=a.normalizeStyleValue(R,B,te,r)}E.set(B,te)}),y||s.push(E),l=E,u=p}),r.length)throw function St(a){return new o.\u0275RuntimeError(3502,!1)}();return s}function Fe(a,n,t,e){switch(n){case"start":a.onStart(function(){return e(t&&ut(t,"start",a))});break;case"done":a.onDone(function(){return e(t&&ut(t,"done",a))});break;case"destroy":a.onDestroy(function(){return e(t&&ut(t,"destroy",a))})}}function ut(a,n,t){var s=Nt(a.element,a.triggerName,a.fromState,a.toState,n||a.phaseName,t.totalTime??a.totalTime,!!t.disabled),u=a._data;return null!=u&&(s._data=u),s}function Nt(a,n,t,e){return{element:a,triggerName:n,fromState:t,toState:e,phaseName:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",totalTime:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,disabled:!!(arguments.length>6?arguments[6]:void 0)}}function Mt(a,n,t){var e=a.get(n);return e||a.set(n,e=t),e}function Wt(a){var n=a.indexOf(":");return[a.substring(1,n),a.slice(n+1)]}var mn=function(){return typeof document>"u"?null:document.documentElement}();function tn(a){var n=a.parentNode||a.host||null;return n===mn?null:n}var jn=null,Ie=!1;function To(a,n){for(;n;){if(n===a)return!0;n=tn(n)}return!1}function Ui(a,n,t){if(t)return Array.from(a.querySelectorAll(n));var e=a.querySelector(n);return e?[e]:[]}var Rt=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"validateStyleProperty",value:function(e){return function Qr(a){jn||(jn=function nn(){return typeof document<"u"?document.body:null}()||{},Ie=!!jn.style&&"WebkitAppearance"in jn.style);var n=!0;return jn.style&&!function ir(a){return"ebkit"==a.substring(1,6)}(a)&&!(n=a in jn.style)&&Ie&&(n="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in jn.style),n}(e)}},{key:"matchesElement",value:function(e,r){return!1}},{key:"containsElement",value:function(e,r){return To(e,r)}},{key:"getParentElement",value:function(e){return tn(e)}},{key:"query",value:function(e,r,s){return Ui(e,r,s)}},{key:"computeStyle",value:function(e,r,s){return s||""}},{key:"animate",value:function(e,r,s,u,l){return new U.ZN(s,u)}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),In=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.NOOP=new Rt,a}(),or=1e3,$r="ng-enter",pr="ng-leave",cr="ng-trigger",Ar=".ng-trigger",Xi="ng-animating",zi=".ng-animating";function Rr(a){if("number"==typeof a)return a;var n=a.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Lr(parseFloat(n[1]),n[2])}function Lr(a,n){return"s"===n?a*or:a}function ei(a,n,t){return a.hasOwnProperty("duration")?a:function Ko(a,n,t){var r,s=0,u="";if("string"==typeof a){var l=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(Y()),{duration:0,delay:0,easing:""};r=Lr(parseFloat(l[1]),l[2]);var c=l[3];null!=c&&(s=Lr(parseFloat(c),l[4]));var p=l[5];p&&(u=p)}else r=a;if(!t){var y=!1,E=n.length;r<0&&(n.push(function ae(){return new o.\u0275RuntimeError(3100,!1)}()),y=!0),s<0&&(n.push(function q(){return new o.\u0275RuntimeError(3101,!1)}()),y=!0),y&&n.splice(E,0,Y())}return{duration:r,delay:s,easing:u}}(a,n,t)}function ki(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(a).forEach(function(t){n[t]=a[t]}),n}function Do(a){var n=new Map;return Object.keys(a).forEach(function(t){n.set(t,a[t])}),n}function _i(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,t=arguments.length>2?arguments[2]:void 0;if(t){var r,e=(0,z.Z)(t);try{for(e.s();!(r=e.n()).done;){var s=(0,g.Z)(r.value,2);n.set(s[0],s[1])}}catch(R){e.e(R)}finally{e.f()}}var p,c=(0,z.Z)(a);try{for(c.s();!(p=c.n()).done;){var y=(0,g.Z)(p.value,2);n.set(y[0],y[1])}}catch(R){c.e(R)}finally{c.f()}return n}function xi(a,n,t){n.forEach(function(e,r){var s=Qi(r);t&&!t.has(r)&&t.set(r,a.style[s]),a.style[s]=e})}function Pi(a,n){n.forEach(function(t,e){var r=Qi(e);a.style[r]=""})}function Vi(a){return Array.isArray(a)?1==a.length?a[0]:(0,U.vP)(a):a}var Io=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function _r(a){var n=[];if("string"==typeof a){for(var t;t=Io.exec(a);)n.push(t[1]);Io.lastIndex=0}return n}function Oo(a,n,t){var e=a.toString(),r=e.replace(Io,function(s,u){var l=n[u];return null==l&&(t.push(function J(a){return new o.\u0275RuntimeError(3003,!1)}()),l=""),l.toString()});return r==e?a:r}function so(a){for(var n=[],t=a.next();!t.done;)n.push(t.value),t=a.next();return n}var Ai=/-+([a-z0-9])/g;function Qi(a){return a.replace(Ai,function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function bi(a,n,t){switch(n.type){case 7:return a.visitTrigger(n,t);case 0:return a.visitState(n,t);case 1:return a.visitTransition(n,t);case 2:return a.visitSequence(n,t);case 3:return a.visitGroup(n,t);case 4:return a.visitAnimate(n,t);case 5:return a.visitKeyframes(n,t);case 6:return a.visitStyle(n,t);case 8:return a.visitReference(n,t);case 9:return a.visitAnimateChild(n,t);case 10:return a.visitAnimateRef(n,t);case 11:return a.visitQuery(n,t);case 12:return a.visitStagger(n,t);default:throw function de(a){return new o.\u0275RuntimeError(3004,!1)}()}}function Fs(a,n){return window.getComputedStyle(a)[n]}var P="*";function k(a,n){var t=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(function(e){return function N(a,n,t){if(":"==a[0]){var e=function G(a,n){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return n.push(function at(a){return new o.\u0275RuntimeError(3016,!1)}()),"* => *"}}(a,t);if("function"==typeof e)return void n.push(e);a=e}var r=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ne(a){return new o.\u0275RuntimeError(3015,!1)}()),n;var s=r[1],u=r[2],l=r[3];n.push(Ae(s,l)),"<"==u[0]&&!(s==P&&l==P)&&n.push(Ae(l,s))}(e,t,n)}):t.push(a),t}var oe=new Set(["true","1"]),ye=new Set(["false","0"]);function Ae(a,n){var t=oe.has(a)||ye.has(a),e=oe.has(n)||ye.has(n);return function(r,s){var u=a==P||a==r,l=n==P||n==s;return!u&&t&&"boolean"==typeof r&&(u=r?oe.has(a):ye.has(a)),!l&&e&&"boolean"==typeof s&&(l=s?oe.has(n):ye.has(n)),u&&l}}var Be=new RegExp("s*".concat(":self","s*,?"),"g");function je(a,n,t,e){return new Ke(a).build(n,t,e)}var Ke=function(){function a(n){(0,h.Z)(this,a),this._driver=n}return(0,v.Z)(a,[{key:"build",value:function(t,e,r){var s=new yt(e);return this._resetContextStyleTimingState(s),bi(this,Vi(t),s)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var r=this,s=e.queryCount=0,u=e.depCount=0,l=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function be(){return new o.\u0275RuntimeError(3006,!1)}()),t.definitions.forEach(function(p){if(r._resetContextStyleTimingState(e),0==p.type){var y=p,E=y.name;E.toString().split(/\s*,\s*/).forEach(function(R){y.name=R,l.push(r.visitState(y,e))}),y.name=E}else if(1==p.type){var D=r.visitTransition(p,e);s+=D.queryCount,u+=D.depCount,c.push(D)}else e.errors.push(function ge(){return new o.\u0275RuntimeError(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:c,queryCount:s,depCount:u,options:null}}},{key:"visitState",value:function(t,e){var r=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(r.containsDynamicStyles){var u=new Set,l=s||{};r.styles.forEach(function(p){p instanceof Map&&p.forEach(function(y){_r(y).forEach(function(E){l.hasOwnProperty(E)||u.add(E)})})}),u.size&&(so(u.values()),e.errors.push(function x(a,n){return new o.\u0275RuntimeError(3008,!1)}()))}return{type:0,name:t.name,style:r,options:s?{params:s}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var r=bi(this,Vi(t.animation),e);return{type:1,matchers:k(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Pe(t.options)}}},{key:"visitSequence",value:function(t,e){var r=this;return{type:2,steps:t.steps.map(function(s){return bi(r,s,e)}),options:Pe(t.options)}}},{key:"visitGroup",value:function(t,e){var r=this,s=e.currentTime,u=0,l=t.steps.map(function(c){e.currentTime=s;var p=bi(r,c,e);return u=Math.max(u,e.currentTime),p});return e.currentTime=u,{type:3,steps:l,options:Pe(t.options)}}},{key:"visitAnimate",value:function(t,e){var r=function Dt(a,n){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return qe(ei(a,n).duration,0,"");var e=a,r=e.split(/\s+/).some(function(l){return"{"==l.charAt(0)&&"{"==l.charAt(1)});if(r){var s=qe(0,0,"");return s.dynamic=!0,s.strValue=e,s}var u=ei(e,n);return qe(u.duration,u.delay,u.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var s,u=t.styles?t.styles:(0,U.oB)({});if(5==u.type)s=this.visitKeyframes(u,e);else{var l=t.styles,c=!1;if(!l){c=!0;var p={};r.easing&&(p.easing=r.easing),l=(0,U.oB)(p)}e.currentTime+=r.duration+r.delay;var y=this.visitStyle(l,e);y.isEmptyStep=c,s=y}return e.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}},{key:"visitStyle",value:function(t,e){var r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}},{key:"_makeStyleAst",value:function(t,e){var l,r=[],s=Array.isArray(t.styles)?t.styles:[t.styles],u=(0,z.Z)(s);try{for(u.s();!(l=u.n()).done;){var c=l.value;"string"==typeof c?c===U.l3?r.push(c):e.errors.push(new o.\u0275RuntimeError(3002,!1)):r.push(Do(c))}}catch(E){u.e(E)}finally{u.f()}var p=!1,y=null;return r.forEach(function(E){if(E instanceof Map&&(E.has("easing")&&(y=E.get("easing"),E.delete("easing")),!p)){var R,D=(0,z.Z)(E.values());try{for(D.s();!(R=D.n()).done;)if(R.value.toString().indexOf("{{")>=0){p=!0;break}}catch(te){D.e(te)}finally{D.f()}}}),{type:6,styles:r,easing:y,offset:t.offset,containsDynamicStyles:p,options:null}}},{key:"_validateStyleAst",value:function(t,e){var s=e.currentAnimateTimings,u=e.currentTime,l=e.currentTime;s&&l>0&&(l-=s.duration+s.delay),t.styles.forEach(function(c){"string"!=typeof c&&c.forEach(function(p,y){var E=e.collectedStyles.get(e.currentQuerySelector),D=E.get(y),R=!0;D&&(l!=u&&l>=D.startTime&&u<=D.endTime&&(e.errors.push(function I(a,n,t,e,r){return new o.\u0275RuntimeError(3010,!1)}()),R=!1),l=D.startTime),R&&E.set(y,{startTime:l,endTime:u}),e.options&&function ca(a,n,t){var e=n.params||{},r=_r(a);r.length&&r.forEach(function(s){e.hasOwnProperty(s)||t.push(function W(a){return new o.\u0275RuntimeError(3001,!1)}())})}(p,e.options,e.errors)})})}},{key:"visitKeyframes",value:function(t,e){var r=this,s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $(){return new o.\u0275RuntimeError(3011,!1)}()),s;var l=0,c=[],p=!1,y=!1,E=0,D=t.steps.map(function(we){var $e=r._makeStyleAst(we,e),Ye=null!=$e.offset?$e.offset:function At(a){if("string"==typeof a)return null;var n=null;if(Array.isArray(a))a.forEach(function(e){if(e instanceof Map&&e.has("offset")){var r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(a instanceof Map&&a.has("offset")){var t=a;n=parseFloat(t.get("offset")),t.delete("offset")}return n}($e.styles),lt=0;return null!=Ye&&(l++,lt=$e.offset=Ye),y=y||lt<0||lt>1,p=p||lt<E,E=lt,c.push(lt),$e});y&&e.errors.push(function T(){return new o.\u0275RuntimeError(3012,!1)}()),p&&e.errors.push(function X(){return new o.\u0275RuntimeError(3200,!1)}());var R=t.steps.length,B=0;l>0&&l<R?e.errors.push(function fe(){return new o.\u0275RuntimeError(3202,!1)}()):0==l&&(B=1/(R-1));var te=R-1,ne=e.currentTime,he=e.currentAnimateTimings,Se=he.duration;return D.forEach(function(we,$e){var Ye=B>0?$e==te?1:B*$e:c[$e],lt=Ye*Se;e.currentTime=ne+he.delay+lt,he.duration=lt,r._validateStyleAst(we,e),we.offset=Ye,s.styles.push(we)}),s}},{key:"visitReference",value:function(t,e){return{type:8,animation:bi(this,Vi(t.animation),e),options:Pe(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Pe(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Pe(t.options)}}},{key:"visitQuery",value:function(t,e){var r=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;var u=function Qe(a){var n=!!a.split(/\s*,\s*/).find(function(t){return":self"==t});return n&&(a=a.replace(Be,"")),a=a.replace(/@\*/g,Ar).replace(/@\w+/g,function(t){return Ar+"-"+t.slice(1)}).replace(/:animating/g,zi),[a,n]}(t.selector),l=(0,g.Z)(u,2),c=l[0],p=l[1];e.currentQuerySelector=r.length?r+" "+c:c,Mt(e.collectedStyles,e.currentQuerySelector,new Map);var y=bi(this,Vi(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:p,animation:y,originalSelector:t.selector,options:Pe(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push(function De(){return new o.\u0275RuntimeError(3013,!1)}());var r="full"===t.timings?{duration:0,delay:0,easing:"full"}:ei(t.timings,e.errors,!0);return{type:12,animation:bi(this,Vi(t.animation),e),timings:r,options:null}}}]),a}(),yt=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set});function Pe(a){return a?(a=ki(a)).params&&(a.params=function ot(a){return a?ki(a):null}(a.params)):a={},a}function qe(a,n,t){return{duration:a,delay:n,easing:t}}function Xe(a,n,t,e,r,s){return{type:1,element:a,keyframes:n,preStyleProps:t,postStyleProps:e,duration:r,delay:s,totalTime:r+s,easing:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,subTimeline:arguments.length>7&&void 0!==arguments[7]&&arguments[7]}}var Je=function(){function a(){(0,h.Z)(this,a),this._map=new Map}return(0,v.Z)(a,[{key:"get",value:function(t){return this._map.get(t)||[]}},{key:"append",value:function(t,e){var r,s=this._map.get(t);s||this._map.set(t,s=[]),(r=s).push.apply(r,(0,_.Z)(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),a}(),ln=new RegExp(":enter","g"),Hn=new RegExp(":leave","g");function un(a,n,t,e,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Map,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Map,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Cn).buildKeyframes(a,n,t,e,r,s,u,l,c,p)}var Cn=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"buildKeyframes",value:function(t,e,r,s,u,l,c,p,y){var E=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];y=y||new Je;var D=new Er(t,e,y,s,u,E,[]);D.options=p;var R=p.delay?Rr(p.delay):0;D.currentTimeline.delayNextStep(R),D.currentTimeline.setStyles([l],null,D.errors,p),bi(this,r,D);var B=D.timelines.filter(function(Se){return Se.containsAnimation()});if(B.length&&c.size){for(var te,ne=B.length-1;ne>=0;ne--){var he=B[ne];if(he.element===e){te=he;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([c],null,D.errors,p)}return B.length?B.map(function(Se){return Se.buildKeyframes()}):[Xe(e,[],[],[],0,R,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var r=e.subInstructions.get(e.element);if(r){var s=e.createSubContext(t.options),u=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,s,s.options);u!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}},{key:"_applyAnimationRefDelays",value:function(t,e,r){var u,s=(0,z.Z)(t);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=l?.delay;if(c){var p,y="number"==typeof c?c:Rr(Oo(c,null!==(p=l?.params)&&void 0!==p?p:{},e.errors));r.delayNextStep(y)}}}catch(E){s.e(E)}finally{s.f()}}},{key:"_visitSubInstructions",value:function(t,e,r){var u=e.currentTimeline.currentTime,l=null!=r.duration?Rr(r.duration):null,c=null!=r.delay?Rr(r.delay):null;return 0!==l&&t.forEach(function(p){var y=e.appendInstructionToTimeline(p,l,c);u=Math.max(u,y.duration+y.delay)}),u}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),bi(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var r=this,s=e.subContextCount,u=e,l=t.options;if(l&&(l.params||l.delay)&&((u=e.createSubContext(l)).transformIntoNewTimeline(),null!=l.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=ar);var c=Rr(l.delay);u.delayNextStep(c)}t.steps.length&&(t.steps.forEach(function(p){return bi(r,p,u)}),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>s&&u.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var r=this,s=[],u=e.currentTimeline.currentTime,l=t.options&&t.options.delay?Rr(t.options.delay):0;t.steps.forEach(function(c){var p=e.createSubContext(t.options);l&&p.delayNextStep(l),bi(r,c,p),u=Math.max(u,p.currentTimeline.currentTime),s.push(p.currentTimeline)}),s.forEach(function(c){return e.currentTimeline.mergeTimelineCollectedStyles(c)}),e.transformIntoNewTimeline(u),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var r=t.strValue;return ei(e.params?Oo(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var r=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),s.snapshotCurrentStyles());var u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(r.duration),this.visitStyle(u,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var r=e.currentTimeline,s=e.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();var u=s&&s.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(u):r.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var r=e.currentAnimateTimings,s=e.currentTimeline.duration,u=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,t.styles.forEach(function(p){c.forwardTime((p.offset||0)*u),c.setStyles(p.styles,p.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(s+u),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var r=this,s=e.currentTimeline.currentTime,u=t.options||{},l=u.delay?Rr(u.delay):0;l&&(6===e.previousNode.type||0==s&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ar);var c=s,p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!u.optional,e.errors);e.currentQueryTotal=p.length;var y=null;p.forEach(function(E,D){e.currentQueryIndex=D;var R=e.createSubContext(t.options,E);l&&R.delayNextStep(l),E===e.element&&(y=R.currentTimeline),bi(r,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var r=e.parentContext,s=e.currentTimeline,u=t.timings,l=Math.abs(u.duration),c=l*(e.currentQueryTotal-1),p=l*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":p=c-p;break;case"full":p=r.currentStaggerTime}var E=e.currentTimeline;p&&E.delayNextStep(p);var D=E.currentTime;bi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=s.currentTime-D+(s.startTime-r.currentTimeline.startTime)}}]),a}(),ar={},Er=function(){function a(n,t,e,r,s,u,l,c){(0,h.Z)(this,a),this._driver=n,this.element=t,this.subInstructions=e,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ar,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new xr(this._driver,t,0),l.push(this.currentTimeline)}return(0,v.Z)(a,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var r=this;if(t){var s=t,u=this.options;null!=s.duration&&(u.duration=Rr(s.duration)),null!=s.delay&&(u.delay=Rr(s.delay));var l=s.params;if(l){var c=u.params;c||(c=this.options.params={}),Object.keys(l).forEach(function(p){(!e||!c.hasOwnProperty(p))&&(c[p]=Oo(l[p],c,r.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var r=t.params={};Object.keys(e).forEach(function(s){r[s]=e[s]})}}return t}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=(arguments.length>1?arguments[1]:void 0)||this.element,u=new a(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,(arguments.length>2?arguments[2]:void 0)||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ar,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,r){var s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},u=new Ci(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(u),s}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,r,s,u,l){var c=[];if(s&&c.push(this.element),t.length>0){t=(t=t.replace(ln,"."+this._enterClassName)).replace(Hn,"."+this._leaveClassName);var y=this._driver.query(this.element,t,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),c.push.apply(c,(0,_.Z)(y))}return!u&&0==c.length&&l.push(function re(a){return new o.\u0275RuntimeError(3014,!1)}()),c}}]),a}(),xr=function(){function a(n,t,e,r){(0,h.Z)(this,a),this._driver=n,this.element=t,this.startTime=e,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}return(0,v.Z)(a,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}},{key:"hasCurrentStyleProperties",value:function(){return this._currentKeyframe.size>0}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(t,e){return this.applyStylesToKeyframe(),new a(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){t&&this._previousKeyframe.set("easing",t);var r,e=(0,z.Z)(this._globalTimelineStyles);try{for(e.s();!(r=e.n()).done;){var s=(0,g.Z)(r.value,2),u=s[0];this._backFill.set(u,s[1]||U.l3),this._currentKeyframe.set(u,U.l3)}}catch(c){e.e(c)}finally{e.f()}this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,r,s){e&&this._previousKeyframe.set("easing",e);var p,u=s&&s.params||{},l=function ti(a,n){var e,t=new Map;return a.forEach(function(r){if("*"===r){e=e||n.keys();var u,s=(0,z.Z)(e);try{for(s.s();!(u=s.n()).done;)t.set(u.value,U.l3)}catch(c){s.e(c)}finally{s.f()}}else _i(r,t)}),t}(t,this._globalTimelineStyles),c=(0,z.Z)(l);try{for(c.s();!(p=c.n()).done;){var B,y=(0,g.Z)(p.value,2),E=y[0],R=Oo(y[1],u,r);this._pendingStyles.set(E,R),this._localTimelineStyles.has(E)||this._backFill.set(E,null!==(B=this._globalTimelineStyles.get(E))&&void 0!==B?B:U.l3),this._updateStyle(E,R)}}catch(te){c.e(te)}finally{c.f()}}},{key:"applyStylesToKeyframe",value:function(){var t=this;0!=this._pendingStyles.size&&(this._pendingStyles.forEach(function(e,r){t._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach(function(e,r){t._currentKeyframe.has(r)||t._currentKeyframe.set(r,e)}))}},{key:"snapshotCurrentStyles",value:function(){var e,t=(0,z.Z)(this._localTimelineStyles);try{for(t.s();!(e=t.n()).done;){var r=(0,g.Z)(e.value,2),s=r[0],u=r[1];this._pendingStyles.set(s,u),this._updateStyle(s,u)}}catch(l){t.e(l)}finally{t.f()}}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;t._styleSummary.forEach(function(r,s){var u=e._styleSummary.get(s);(!u||r.time>u.time)&&e._updateStyle(s,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration,u=[];this._keyframes.forEach(function(E,D){var R=_i(E,new Map,t._backFill);R.forEach(function(B,te){B===U.k1?e.add(te):B===U.l3&&r.add(te)}),s||R.set("offset",D/t.duration),u.push(R)});var l=e.size?so(e.values()):[],c=r.size?so(r.values()):[];if(s){var p=u[0],y=new Map(p);p.set("offset",0),y.set("offset",1),u=[p,y]}return Xe(this.element,u,l,c,this.duration,this.startTime,this.easing,!1)}}]),a}(),Ci=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e,r,s,u,l,c){var p,y=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,h.Z)(this,t),(p=n.call(this,e,r,c.delay)).keyframes=s,p.preStyleProps=u,p.postStyleProps=l,p._stretchStartingKeyframe=y,p.timings={duration:c.duration,delay:c.delay,easing:c.easing},p}return(0,v.Z)(t,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var r=this.keyframes,s=this.timings,u=s.delay,l=s.duration,c=s.easing;if(this._stretchStartingKeyframe&&u){var p=[],y=l+u,E=u/y,D=_i(r[0]);D.set("offset",0),p.push(D);var R=_i(r[0]);R.set("offset",si(E)),p.push(R);for(var B=r.length-1,te=1;te<=B;te++){var ne=_i(r[te]),he=ne.get("offset");ne.set("offset",si((u+he*l)/y)),p.push(ne)}l=y,u=0,c="",r=p}return Xe(this.element,r,this.preStyleProps,this.postStyleProps,l,u,c,!0)}}]),t}(xr);function si(a){var t=Math.pow(10,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3)-1);return Math.round(a*t)/t}var ft=(0,v.Z)(function a(){(0,h.Z)(this,a)}),kt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),jt=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(){return(0,h.Z)(this,t),n.apply(this,arguments)}return(0,v.Z)(t,[{key:"normalizePropertyName",value:function(r,s){return Qi(r)}},{key:"normalizeStyleValue",value:function(r,s,u,l){var c="",p=u.toString().trim();if(kt.has(s)&&0!==u&&"0"!==u)if("number"==typeof u)c="px";else{var y=u.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&l.push(function _e(a,n){return new o.\u0275RuntimeError(3005,!1)}())}return p+c}}]),t}(ft);function Ot(a,n,t,e,r,s,u,l,c,p,y,E,D){return{type:0,element:a,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:s,toState:e,toStyles:u,timelines:l,queriedElements:c,preStyleProps:p,postStyleProps:y,totalTime:E,errors:D}}var an={},wn=function(){function a(n,t,e){(0,h.Z)(this,a),this._triggerName=n,this.ast=t,this._stateStyles=e}return(0,v.Z)(a,[{key:"match",value:function(t,e,r,s){return function sr(a,n,t,e,r){return a.some(function(s){return s(n,t,e,r)})}(this.ast.matchers,t,e,r,s)}},{key:"buildStyles",value:function(t,e,r){var s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,r):new Map}},{key:"build",value:function(t,e,r,s,u,l,c,p,y,E){var D,R=[],B=this.ast.options&&this.ast.options.params||an,ne=this.buildStyles(r,c&&c.params||an,R),he=p&&p.params||an,Se=this.buildStyles(s,he,R),we=new Set,$e=new Map,Ye=new Map,lt="void"===s,Ft={params:Jn(he,B),delay:null===(D=this.ast.options)||void 0===D?void 0:D.delay},pt=E?[]:un(t,e,this.ast.animation,u,l,ne,Se,Ft,y,R),Zt=0;if(pt.forEach(function(Yt){Zt=Math.max(Yt.duration+Yt.delay,Zt)}),R.length)return Ot(e,this._triggerName,r,s,lt,ne,Se,[],[],$e,Ye,Zt,R);pt.forEach(function(Yt){var qt=Yt.element,Ht=Mt($e,qt,new Set);Yt.preStyleProps.forEach(function(Zn){return Ht.add(Zn)});var Xt=Mt(Ye,qt,new Set);Yt.postStyleProps.forEach(function(Zn){return Xt.add(Zn)}),qt!==e&&we.add(qt)});var Gt=so(we.values());return Ot(e,this._triggerName,r,s,lt,ne,Se,pt,Gt,$e,Ye,Zt)}}]),a}();function Jn(a,n){var t=ki(n);for(var e in a)a.hasOwnProperty(e)&&null!=a[e]&&(t[e]=a[e]);return t}var br=function(){function a(n,t,e){(0,h.Z)(this,a),this.styles=n,this.defaultParams=t,this.normalizer=e}return(0,v.Z)(a,[{key:"buildStyles",value:function(t,e){var r=this,s=new Map,u=ki(this.defaultParams);return Object.keys(t).forEach(function(l){var c=t[l];null!==c&&(u[l]=c)}),this.styles.styles.forEach(function(l){"string"!=typeof l&&l.forEach(function(c,p){c&&(c=Oo(c,u,e));var y=r.normalizer.normalizePropertyName(p,e);c=r.normalizer.normalizeStyleValue(p,y,c,e),s.set(p,c)})}),s}}]),a}(),Vr=function(){function a(n,t,e){var r=this;(0,h.Z)(this,a),this.name=n,this.ast=t,this._normalizer=e,this.transitionFactories=[],this.states=new Map,t.states.forEach(function(s){r.states.set(s.name,new br(s.style,s.options&&s.options.params||{},e))}),Ni(this.states,"true","1"),Ni(this.states,"false","0"),t.transitions.forEach(function(s){r.transitionFactories.push(new wn(n,s,r.states))}),this.fallbackTransition=function pi(a,n,t){return new wn(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(u,l){return!0}],options:null,queryCount:0,depCount:0},n)}(n,this.states)}return(0,v.Z)(a,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,r,s){return this.transitionFactories.find(function(l){return l.match(t,e,r,s)})||null}},{key:"matchStyles",value:function(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}]),a}();function Ni(a,n,t){a.has(n)?a.has(t)||a.set(t,a.get(n)):a.has(t)&&a.set(n,a.get(t))}var ni=new Je,lr=function(){function a(n,t,e){(0,h.Z)(this,a),this.bodyNode=n,this._driver=t,this._normalizer=e,this._animations=new Map,this._playersById=new Map,this.players=[]}return(0,v.Z)(a,[{key:"register",value:function(t,e){var r=[],u=je(this._driver,e,r,[]);if(r.length)throw function it(a){return new o.\u0275RuntimeError(3503,!1)}();this._animations.set(t,u)}},{key:"_buildPlayer",value:function(t,e,r){var s=t.element,u=ce(this._normalizer,t.keyframes,e,r);return this._driver.animate(s,u,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var c,r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=[],l=this._animations.get(t),p=new Map;if(l?(c=un(this._driver,e,l,$r,pr,new Map,new Map,s,ni,u)).forEach(function(D){var R=Mt(p,D.element,new Map);D.postStyleProps.forEach(function(B){return R.set(B,null)})}):(u.push(function Ve(){return new o.\u0275RuntimeError(3300,!1)}()),c=[]),u.length)throw function st(a){return new o.\u0275RuntimeError(3504,!1)}();p.forEach(function(D,R){D.forEach(function(B,te){D.set(te,r._driver.computeStyle(R,te,U.l3))})});var E=le(c.map(function(D){var R=p.get(D.element);return r._buildPlayer(D,new Map,R)}));return this._playersById.set(t,E),E.onDestroy(function(){return r.destroy(t)}),this.players.push(E),E}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);var r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById.get(t);if(!e)throw function me(a){return new o.\u0275RuntimeError(3301,!1)}();return e}},{key:"listen",value:function(t,e,r,s){var u=Nt(e,"","","");return Fe(this._getPlayer(t),r,u,s),function(){}}},{key:"command",value:function(t,e,r,s){if("register"!=r)if("create"!=r){var l=this._getPlayer(t);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,s[0]||{});else this.register(t,s[0])}}]),a}(),Gr="ng-animate-queued",Fo="ng-animate-disabled",hi=[],Ns={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ea={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed",Bs=function(){function a(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,h.Z)(this,a),this.namespaceId=t;var e=n&&n.hasOwnProperty("value");if(this.value=function E0(a){return a??null}(e?n.value:n),e){var s=ki(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}return(0,v.Z)(a,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var r=this.options.params;Object.keys(e).forEach(function(s){null==r[s]&&(r[s]=e[s])})}}}]),a}(),Za="void",Zs=new Bs(Za),ja=function(){function a(n,t,e){(0,h.Z)(this,a),this.id=n,this.hostElement=t,this._engine=e,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,po(t,this._hostClassName)}return(0,v.Z)(a,[{key:"listen",value:function(t,e,r,s){var u=this;if(!this._triggers.has(e))throw function ee(a,n){return new o.\u0275RuntimeError(3302,!1)}();if(null==r||0==r.length)throw function se(a){return new o.\u0275RuntimeError(3303,!1)}();if(!function k0(a){return"start"==a||"done"==a}(r))throw function Re(a,n){return new o.\u0275RuntimeError(3400,!1)}();var l=Mt(this._elementListeners,t,[]),c={name:e,phase:r,callback:s};l.push(c);var p=Mt(this._engine.statesByElement,t,new Map);return p.has(e)||(po(t,cr),po(t,cr+"-"+e),p.set(e,Zs)),function(){u._engine.afterFlush(function(){var y=l.indexOf(c);y>=0&&l.splice(y,1),u._triggers.has(e)||p.delete(e)})}}},{key:"register",value:function(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers.get(t);if(!e)throw function Ze(a){return new o.\u0275RuntimeError(3401,!1)}();return e}},{key:"trigger",value:function(t,e,r){var s=this,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=this._getTrigger(e),c=new nl(this.id,e,t),p=this._engine.statesByElement.get(t);p||(po(t,cr),po(t,cr+"-"+e),this._engine.statesByElement.set(t,p=new Map));var y=p.get(e),E=new Bs(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),p.set(e,E),y||(y=Zs),E.value===Za||y.value!==E.value){var he=Mt(this._engine.playersByElement,t,[]);he.forEach(function($e){$e.namespaceId==s.id&&$e.triggerName==e&&$e.queued&&$e.destroy()});var Se=l.matchTransition(y.value,E.value,t,E.params),we=!1;if(!Se){if(!u)return;Se=l.fallbackTransition,we=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Se,fromState:y,toState:E,player:c,isFallbackTransition:we}),we||(po(t,Gr),c.onStart(function(){ss(t,Gr)})),c.onDone(function(){var $e=s.players.indexOf(c);$e>=0&&s.players.splice($e,1);var Ye=s._engine.playersByElement.get(t);if(Ye){var lt=Ye.indexOf(c);lt>=0&&Ye.splice(lt,1)}}),this.players.push(c),he.push(c),c}if(!function Lf(a,n){var t=Object.keys(a),e=Object.keys(n);if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++){var s=t[r];if(!n.hasOwnProperty(s)||a[s]!==n[s])return!1}return!0}(y.params,E.params)){var B=[],te=l.matchStyles(y.value,y.params,B),ne=l.matchStyles(E.value,E.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(function(){Pi(t,te),xi(t,ne)})}}},{key:"deregister",value:function(t){var e=this;this._triggers.delete(t),this._engine.statesByElement.forEach(function(r){return r.delete(t)}),this._elementListeners.forEach(function(r,s){e._elementListeners.set(s,r.filter(function(u){return u.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(r){return r.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var r=this,s=this._engine.driver.query(t,Ar,!0);s.forEach(function(u){if(!u[Si]){var l=r._engine.fetchNamespacesByElement(u);l.size?l.forEach(function(c){return c.triggerLeaveAnimation(u,e,!1,!0)}):r.clearElementCache(u)}}),this._engine.afterFlushAnimationsDone(function(){return s.forEach(function(u){return r.clearElementCache(u)})})}},{key:"triggerLeaveAnimation",value:function(t,e,r,s){var u=this,l=this._engine.statesByElement.get(t),c=new Map;if(l){var p=[];if(l.forEach(function(y,E){if(c.set(E,y.value),u._triggers.has(E)){var D=u.trigger(t,E,Za,s);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),r&&le(p).onDone(function(){return u._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,r=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(r&&s){var u=new Set;r.forEach(function(l){var c=l.name;if(!u.has(c)){u.add(c);var y=e._triggers.get(c).fallbackTransition,E=s.get(c)||Zs,D=new Bs(Za),R=new nl(e.id,c,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:c,transition:y,fromState:E,toState:D,player:R,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var r=this,s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var u=!1;if(s.totalAnimations){var l=s.players.length?s.playersByQueriedElement.get(t):[];if(l&&l.length)u=!0;else for(var c=t;c=c.parentNode;)if(s.statesByElement.get(c)){u=!0;break}}if(this.prepareLeaveAnimationListeners(t),u)s.markElementAsRemoved(this.id,t,!1,e);else{var y=t[Si];(!y||y===Ns)&&(s.afterFlush(function(){return r.clearElementCache(t)}),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){po(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,r=[];return this._queue.forEach(function(s){var u=s.player;if(!u.destroyed){var l=s.element,c=e._elementListeners.get(l);c&&c.forEach(function(p){if(p.name==s.triggerName){var y=Nt(l,s.triggerName,s.fromState.value,s.toState.value);y._data=t,Fe(s.player,p.phase,y,p.callback)}}),u.markedForDestroy?e._engine.afterFlush(function(){u.destroy()}):r.push(s)}}),this._queue=[],r.sort(function(s,u){var l=s.transition.ast.depCount,c=u.transition.ast.depCount;return 0==l||0==c?l-c:e._engine.driver.containsElement(s.element,u.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(r){return r.element===t})||e}}]),a}(),oc=function(){function a(n,t,e){(0,h.Z)(this,a),this.bodyNode=n,this.driver=t,this._normalizer=e,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(r,s){}}return(0,v.Z)(a,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(r){r.queued&&t.push(r)})}),t}},{key:"createNamespace",value:function(t,e){var r=new ja(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}},{key:"_balanceNamespaceList",value:function(t,e){var r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){for(var l=!1,c=this.driver.getParentElement(e);c;){var p=s.get(c);if(p){var y=r.indexOf(p);r.splice(y+1,0,t),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(t)}else r.push(t);return s.set(e,t),t}},{key:"register",value:function(t,e){var r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}},{key:"registerTrigger",value:function(t,e,r){var s=this._namespaceLookup[t];s&&s.register(e,r)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var r=this;if(t){var s=this._fetchNamespace(t);this.afterFlush(function(){r.namespacesByHostElement.delete(s.hostElement),delete r._namespaceLookup[t];var u=r._namespaceList.indexOf(s);u>=0&&r._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(function(){return s.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,r=this.statesByElement.get(t);if(r){var u,s=(0,z.Z)(r.values());try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.namespaceId){var c=this._fetchNamespace(l.namespaceId);c&&e.add(c)}}}catch(p){s.e(p)}finally{s.f()}}return e}},{key:"trigger",value:function(t,e,r,s){if(rl(e)){var u=this._fetchNamespace(t);if(u)return u.trigger(e,r,s),!0}return!1}},{key:"insertNode",value:function(t,e,r,s){if(rl(e)){var u=e[Si];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;var l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){var c=this._fetchNamespace(t);c&&c.insertNode(e,r)}s&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),po(t,Fo)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ss(t,Fo))}},{key:"removeNode",value:function(t,e,r){if(rl(e)){var s=t?this._fetchNamespace(t):null;s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);var u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,r,s,u){this.collectedLeaveElements.push(e),e[Si]={namespaceId:t,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}},{key:"listen",value:function(t,e,r,s,u){return rl(e)?this._fetchNamespace(t).listen(e,r,s,u):function(){}}},{key:"_buildInstruction",value:function(t,e,r,s,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,s,t.fromState.options,t.toState.options,e,u)}},{key:"destroyInnerAnimations",value:function(t){var e=this,r=this.driver.query(t,Ar,!0);r.forEach(function(s){return e.destroyActiveAnimationsForElement(s)}),0!=this.playersByQueriedElement.size&&(r=this.driver.query(t,zi,!0)).forEach(function(s){return e.finishActiveQueriedAnimationOnElement(s)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(r){r.queued?r.markedForDestroy=!0:r.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(r){return r.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return le(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e,r=this,s=t[Si];if(s&&s.setForRemoval){if(t[Si]=Ns,s.namespaceId){this.destroyInnerAnimations(t);var u=this._fetchNamespace(s.namespaceId);u&&u.clearElementCache(t)}this._onRemovalComplete(t,s.setForRemoval)}null!==(e=t.classList)&&void 0!==e&&e.contains(Fo)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(l){r.markElementAsDisabled(l,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(D,R){return t._balanceNamespaceList(D,R)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var s=0;s<this.collectedEnterElements.length;s++)po(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var l=[];try{r=this._flushAnimations(l,e)}finally{for(var c=0;c<l.length;c++)l[c]()}}else for(var p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(D){return D()}),this._flushFns=[],this._whenQuietFns.length){var E=this._whenQuietFns;this._whenQuietFns=[],r.length?le(r).onDone(function(){E.forEach(function(D){return D()})}):E.forEach(function(D){return D()})}}},{key:"reportError",value:function(t){throw function pe(a){return new o.\u0275RuntimeError(3402,!1)}()}},{key:"_flushAnimations",value:function(t,e){var r=this,s=new Je,u=[],l=new Map,c=[],p=new Map,y=new Map,E=new Map,D=new Set;this.disabledNodes.forEach(function(_n){D.add(_n);for(var Kn=r.driver.query(_n,".ng-animate-queued",!0),Qn=0;Qn<Kn.length;Qn++)D.add(Kn[Qn])});var R=this.bodyNode,B=Array.from(this.statesByElement.keys()),te=Bf(B,this.collectedEnterElements),ne=new Map,he=0;te.forEach(function(_n,Kn){var Qn=$r+he++;ne.set(Kn,Qn),_n.forEach(function(Yr){return po(Yr,Qn)})});for(var Se=[],we=new Set,$e=new Set,Ye=0;Ye<this.collectedLeaveElements.length;Ye++){var lt=this.collectedLeaveElements[Ye],Ft=lt[Si];Ft&&Ft.setForRemoval&&(Se.push(lt),we.add(lt),Ft.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(function(_n){return we.add(_n)}):$e.add(lt))}var pt=new Map,Zt=Bf(B,Array.from(we));Zt.forEach(function(_n,Kn){var Qn=pr+he++;pt.set(Kn,Qn),_n.forEach(function(Yr){return po(Yr,Qn)})}),t.push(function(){te.forEach(function(_n,Kn){var Qn=ne.get(Kn);_n.forEach(function(Yr){return ss(Yr,Qn)})}),Zt.forEach(function(_n,Kn){var Qn=pt.get(Kn);_n.forEach(function(Yr){return ss(Yr,Qn)})}),Se.forEach(function(_n){r.processLeaveNode(_n)})});for(var Gt=[],Yt=[],qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(e).forEach(function(_n){var Kn=_n.player,Qn=_n.element;if(Gt.push(Kn),r.collectedEnterElements.length){var Yr=Qn[Si];if(Yr&&Yr.setForMove){if(Yr.previousTriggersValues&&Yr.previousTriggersValues.has(_n.triggerName)){var Is=Yr.previousTriggersValues.get(_n.triggerName),yu=r.statesByElement.get(_n.element);if(yu&&yu.has(_n.triggerName)){var x0=yu.get(_n.triggerName);x0.value=Is,yu.set(_n.triggerName,x0)}}return void Kn.destroy()}}var b0=!R||!r.driver.containsElement(R,Qn),zR=pt.get(Qn),C0=ne.get(Qn),Ro=r._buildInstruction(_n,s,C0,zR,b0);if(Ro.errors&&Ro.errors.length)Yt.push(Ro);else{if(b0)return Kn.onStart(function(){return Pi(Qn,Ro.fromStyles)}),Kn.onDestroy(function(){return xi(Qn,Ro.toStyles)}),void u.push(Kn);if(_n.isFallbackTransition)return Kn.onStart(function(){return Pi(Qn,Ro.fromStyles)}),Kn.onDestroy(function(){return xi(Qn,Ro.toStyles)}),void u.push(Kn);var R5=[];Ro.timelines.forEach(function(Os){Os.stretchStartingKeyframe=!0,r.disabledNodes.has(Os.element)||R5.push(Os)}),Ro.timelines=R5,s.append(Qn,Ro.timelines),c.push({instruction:Ro,player:Kn,element:Qn}),Ro.queriedElements.forEach(function(Os){return Mt(p,Os,[]).push(Kn)}),Ro.preStyleProps.forEach(function(Os,w0){if(Os.size){var ic=y.get(w0);ic||y.set(w0,ic=new Set),Os.forEach(function(TY,VR){return ic.add(VR)})}}),Ro.postStyleProps.forEach(function(Os,w0){var ic=E.get(w0);ic||E.set(w0,ic=new Set),Os.forEach(function(TY,VR){return ic.add(VR)})})}});if(Yt.length){var Xt=[];Yt.forEach(function(_n){Xt.push(function dt(a,n){return new o.\u0275RuntimeError(3505,!1)}())}),Gt.forEach(function(_n){return _n.destroy()}),this.reportError(Xt)}var Zn=new Map,fr=new Map;c.forEach(function(_n){var Kn=_n.element;s.has(Kn)&&(fr.set(Kn,Kn),r._beforeAnimationBuild(_n.player.namespaceId,_n.instruction,Zn))}),u.forEach(function(_n){var Kn=_n.element;r._getPreviousPlayers(Kn,!1,_n.namespaceId,_n.triggerName,null).forEach(function(Yr){Mt(Zn,Kn,[]).push(Yr),Yr.destroy()})});var Wi=Se.filter(function(_n){return sc(_n,y,E)}),qo=new Map;Nf(qo,this.driver,$e,E,U.l3).forEach(function(_n){sc(_n,y,E)&&Wi.push(_n)});var Qu=new Map;te.forEach(function(_n,Kn){Nf(Qu,r.driver,new Set(_n),y,U.k1)}),Wi.forEach(function(_n){var Kn,Qn,Yr=qo.get(_n),Is=Qu.get(_n);qo.set(_n,new Map([].concat((0,_.Z)(null!==(Kn=Yr?.entries())&&void 0!==Kn?Kn:[]),(0,_.Z)(null!==(Qn=Is?.entries())&&void 0!==Qn?Qn:[]))))});var nc=[],Ju=[],rc={};c.forEach(function(_n){var Kn=_n.element,Qn=_n.player,Yr=_n.instruction;if(s.has(Kn)){if(D.has(Kn))return Qn.onDestroy(function(){return xi(Kn,Yr.toStyles)}),Qn.disabled=!0,Qn.overrideTotalTime(Yr.totalTime),void u.push(Qn);var Is=rc;if(fr.size>1){for(var yu=Kn,x0=[];yu=yu.parentNode;){var b0=fr.get(yu);if(b0){Is=b0;break}x0.push(yu)}x0.forEach(function(Ro){return fr.set(Ro,Is)})}var zR=r._buildAnimation(Qn.namespaceId,Yr,Zn,l,Qu,qo);if(Qn.setRealPlayer(zR),Is===rc)nc.push(Qn);else{var C0=r.playersByElement.get(Is);C0&&C0.length&&(Qn.parentPlayer=le(C0)),u.push(Qn)}}else Pi(Kn,Yr.fromStyles),Qn.onDestroy(function(){return xi(Kn,Yr.toStyles)}),Ju.push(Qn),D.has(Kn)&&u.push(Qn)}),Ju.forEach(function(_n){var Kn=l.get(_n.element);if(Kn&&Kn.length){var Qn=le(Kn);_n.setRealPlayer(Qn)}}),u.forEach(function(_n){_n.parentPlayer?_n.syncPlayerEvents(_n.parentPlayer):_n.destroy()});for(var Ff=0;Ff<Se.length;Ff++){var Mf=Se[Ff],k5=Mf[Si];if(ss(Mf,pr),!k5||!k5.hasAnimation){var _0=[];if(p.size){var $R=p.get(Mf);$R&&$R.length&&_0.push.apply(_0,(0,_.Z)($R));for(var P5=this.driver.query(Mf,zi,!0),LR=0;LR<P5.length;LR++){var UR=p.get(P5[LR]);UR&&UR.length&&_0.push.apply(_0,(0,_.Z)(UR))}}var A5=_0.filter(function(_n){return!_n.destroyed});A5.length?Zf(this,Mf,A5):this.processLeaveNode(Mf)}}return Se.length=0,nc.forEach(function(_n){r.players.push(_n),_n.onDone(function(){_n.destroy();var Kn=r.players.indexOf(_n);r.players.splice(Kn,1)}),_n.play()}),nc}},{key:"elementContainsData",value:function(t,e){var r=!1,s=e[Si];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,r,s,u){var l=[];if(e){var c=this.playersByQueriedElement.get(t);c&&(l=c)}else{var p=this.playersByElement.get(t);if(p){var y=!u||u==Za;p.forEach(function(E){E.queued||!y&&E.triggerName!=s||l.push(E)})}}return(r||s)&&(l=l.filter(function(E){return!(r&&r!=E.namespaceId||s&&s!=E.triggerName)})),l}},{key:"_beforeAnimationBuild",value:function(t,e,r){var E,s=this,l=e.element,c=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName,y=(0,z.Z)(e.timelines);try{var D=function(){var te=E.value.element,ne=te!==l,he=Mt(r,te,[]);s._getPreviousPlayers(te,ne,c,p,e.toState).forEach(function(we){var $e=we.getRealPlayer();$e.beforeDestroy&&$e.beforeDestroy(),we.destroy(),he.push(we)})};for(y.s();!(E=y.n()).done;)D()}catch(R){y.e(R)}finally{y.f()}Pi(l,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,r,s,u,l){var c=this,p=e.triggerName,y=e.element,E=[],D=new Set,R=new Set,B=e.timelines.map(function(ne){var he=ne.element;D.add(he);var Se=he[Si];if(Se&&Se.removedBeforeQueried)return new U.ZN(ne.duration,ne.delay);var we=he!==y,$e=function jf(a){var n=[];return $f(a,n),n}((r.get(he)||hi).map(function(Gt){return Gt.getRealPlayer()})).filter(function(Gt){return!!Gt.element&&Gt.element===he}),Ye=u.get(he),lt=l.get(he),Ft=ce(c._normalizer,ne.keyframes,Ye,lt),pt=c._buildPlayer(ne,Ft,$e);if(ne.subTimeline&&s&&R.add(he),we){var Zt=new nl(t,p,he);Zt.setRealPlayer(pt),E.push(Zt)}return pt});E.forEach(function(ne){Mt(c.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(function(){return function S0(a,n,t){var e=a.get(n);if(e){if(e.length){var r=e.indexOf(t);e.splice(r,1)}0==e.length&&a.delete(n)}return e}(c.playersByQueriedElement,ne.element,ne)})}),D.forEach(function(ne){return po(ne,Xi)});var te=le(B);return te.onDestroy(function(){D.forEach(function(ne){return ss(ne,Xi)}),xi(y,e.toStyles)}),R.forEach(function(ne){Mt(s,ne,[]).push(te)}),te}},{key:"_buildPlayer",value:function(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new U.ZN(t.duration,t.delay)}}]),a}(),nl=function(){function a(n,t,e){(0,h.Z)(this,a),this.namespaceId=n,this.triggerName=t,this.element=e,this._player=new U.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return(0,v.Z)(a,[{key:"setRealPlayer",value:function(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach(function(e,r){e.forEach(function(s){return Fe(t,r,void 0,s)})}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,r=this._player;r.triggerCallback&&t.onStart(function(){return r.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){Mt(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),a}();function rl(a){return a&&1===a.nodeType}function ac(a,n){var t=a.style.display;return a.style.display=n??"none",t}function Nf(a,n,t,e,r){var s=[];t.forEach(function(c){return s.push(ac(c))});var u=[];e.forEach(function(c,p){var y=new Map;c.forEach(function(E){var D=n.computeStyle(p,E,r);y.set(E,D),(!D||0==D.length)&&(p[Si]=Ea,u.push(p))}),a.set(p,y)});var l=0;return t.forEach(function(c){return ac(c,s[l++])}),u}function Bf(a,n){var t=new Map;if(a.forEach(function(l){return t.set(l,[])}),0==n.length)return t;var e=1,r=new Set(n),s=new Map;function u(l){if(!l)return e;var c=s.get(l);if(c)return c;var p=l.parentNode;return c=t.has(p)?p:r.has(p)?e:u(p),s.set(l,c),c}return n.forEach(function(l){var c=u(l);c!==e&&t.get(c).push(l)}),t}function po(a,n){var t;null===(t=a.classList)||void 0===t||t.add(n)}function ss(a,n){var t;null===(t=a.classList)||void 0===t||t.remove(n)}function Zf(a,n,t){le(t).onDone(function(){return a.processLeaveNode(n)})}function $f(a,n){for(var t=0;t<a.length;t++){var e=a[t];e instanceof U.ZE?$f(e.players,n):n.push(e)}}function sc(a,n,t){var e=t.get(a);if(!e)return!1;var r=n.get(a);return r?e.forEach(function(s){return r.add(s)}):n.set(a,e),t.delete(a),!0}var uc=function(){function a(n,t,e){var r=this;(0,h.Z)(this,a),this.bodyNode=n,this._driver=t,this._normalizer=e,this._triggerCache={},this.onRemovalComplete=function(s,u){},this._transitionEngine=new oc(n,t,e),this._timelineEngine=new lr(n,t,e),this._transitionEngine.onRemovalComplete=function(s,u){return r.onRemovalComplete(s,u)}}return(0,v.Z)(a,[{key:"registerTrigger",value:function(t,e,r,s,u){var l=t+"-"+s,c=this._triggerCache[l];if(!c){var p=[],E=je(this._driver,u,p,[]);if(p.length)throw function et(a,n){return new o.\u0275RuntimeError(3404,!1)}();c=function wi(a,n,t){return new Vr(a,n,t)}(s,E,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,s,c)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,r,s){this._transitionEngine.insertNode(t,e,r,s)}},{key:"onRemove",value:function(t,e,r){this._transitionEngine.removeNode(t,e,r)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,r,s){if("@"==r.charAt(0)){var u=Wt(r),l=(0,g.Z)(u,2);this._timelineEngine.command(l[0],e,l[1],s)}else this._transitionEngine.trigger(t,e,r,s)}},{key:"listen",value:function(t,e,r,s,u){if("@"==r.charAt(0)){var l=Wt(r),c=(0,g.Z)(l,2);return this._timelineEngine.listen(c[0],e,c[1],u)}return this._transitionEngine.listen(t,e,r,s,u)}},{key:"flush",value:function(){this._transitionEngine.flush(arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),a}(),P0=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this._element=t,this._startStyles=e,this._endStyles=r,this._state=0;var s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}return(0,v.Z)(n,[{key:"start",value:function(){this._state<1&&(this._startStyles&&xi(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(xi(this._element,this._initialStyles),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pi(this._element,this._endStyles),this._endStyles=null),xi(this._element,this._initialStyles),this._state=3)}}]),n}();return a.initialStylesByElement=new WeakMap,a}();function il(a){var n=null;return a.forEach(function(t,e){(function us(a){return"display"===a||"position"===a})(e)&&(n=n||new Map).set(e,t)}),n}var ol=function(){function a(n,t,e,r){(0,h.Z)(this,a),this.element=n,this.keyframes=t,this.options=e,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay}return(0,v.Z)(a,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_convertKeyframesToObject",value:function(t){var e=[];return t.forEach(function(r){e.push(Object.fromEntries(r))}),e}},{key:"_triggerWebAnimation",value:function(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}},{key:"onStart",value:function(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e=new Map;this.hasStarted()&&this._finalKeyframe.forEach(function(s,u){"offset"!==u&&e.set(u,t._finished?s:Fs(t.element,u))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(function(r){return r()}),e.length=0}}]),a}(),al=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"validateStyleProperty",value:function(t){return!0}},{key:"validateAnimatableStyleProperty",value:function(t){return!0}},{key:"matchesElement",value:function(t,e){return!1}},{key:"containsElement",value:function(t,e){return To(t,e)}},{key:"getParentElement",value:function(t){return tn(t)}},{key:"query",value:function(t,e,r){return Ui(t,e,r)}},{key:"computeStyle",value:function(t,e,r){return window.getComputedStyle(t)[e]}},{key:"animate",value:function(t,e,r,s,u){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],p={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(p.easing=u);var y=new Map,E=l.filter(function(B){return B instanceof ol});(function Wo(a,n){return 0===a||0===n})(r,s)&&E.forEach(function(B){B.currentSnapshot.forEach(function(te,ne){return y.set(ne,te)})});var D=function ao(a){return a.length?a[0]instanceof Map?a:a.map(function(n){return Do(n)}):[]}(e).map(function(B){return _i(B)});D=function as(a,n,t){if(t.size&&n.length){var e=n[0],r=[];if(t.forEach(function(l,c){e.has(c)||r.push(c),e.set(c,l)}),r.length)for(var s=function(){var c=n[u];r.forEach(function(p){return c.set(p,Fs(a,p))})},u=1;u<n.length;u++)s()}return n}(t,D,y);var R=function bu(a,n){var t=null,e=null;return Array.isArray(n)&&n.length?(t=il(n[0]),n.length>1&&(e=il(n[n.length-1]))):n instanceof Map&&(t=il(n)),t||e?new P0(a,t,e):null}(t,D);return new ol(t,D,p,R)}}]),a}(),sl=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){var u;return(0,h.Z)(this,e),(u=t.call(this))._nextAnimationId=0,u._renderer=r.createRenderer(s.body,{id:"0",encapsulation:o.ViewEncapsulation.None,styles:[],data:{animation:[]}}),u}return(0,v.Z)(e,[{key:"build",value:function(s){var u=this._nextAnimationId.toString();this._nextAnimationId++;var l=Array.isArray(s)?(0,U.vP)(s):s;return lc(this._renderer,null,u,"register",[l]),new ul(u,this._renderer)}}]),e}(U._j);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.RendererFactory2),o.\u0275\u0275inject(w.DOCUMENT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),ul=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e,r){var s;return(0,h.Z)(this,t),(s=n.call(this))._id=e,s._renderer=r,s}return(0,v.Z)(t,[{key:"create",value:function(r,s){return new js(this._id,r,s||{},this._renderer)}}]),t}(U.LC),js=function(){function a(n,t,e,r){(0,h.Z)(this,a),this.id=n,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",e)}return(0,v.Z)(a,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return lc(this._renderer,this.element,this.id,t,r)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),a}();function lc(a,n,t,e,r){return a.setProperty(n,"@@".concat(t,":").concat(e),r)}var Uf="@.disabled",A0=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.delegate=t,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(s,u){var l=u?.parentNode(s);l&&u.removeChild(l,s)}}return(0,v.Z)(n,[{key:"createRenderer",value:function(e,r){var s=this,l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){var c=this._rendererCache.get(l);return c||(c=new R0("",l,this.engine,function(){return s._rendererCache.delete(l)}),this._rendererCache.set(l,c)),c}var y=r.id,E=r.id+"-"+this._currentId;return this._currentId++,this.engine.register(E,e),r.data.animation.forEach(function B(te){Array.isArray(te)?te.forEach(B):s.engine.registerTrigger(y,E,e,te.name,te)}),new zf(this,E,l,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,r,s){var u=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return r(s)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){u._zone.run(function(){u._animationCallbacksBuffer.forEach(function(l){var c=(0,g.Z)(l,2);(0,c[0])(c[1])}),u._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.RendererFactory2),o.\u0275\u0275inject(uc),o.\u0275\u0275inject(o.NgZone))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),R0=function(){function a(n,t,e,r){(0,h.Z)(this,a),this.namespaceId=n,this.delegate=t,this.engine=e,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?function(s){return t.destroyNode(s)}:null}return(0,v.Z)(a,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){var t;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(t=this._onDestroy)||void 0===t||t.call(this)}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,r){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,s)}},{key:"removeChild",value:function(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,r,s){this.delegate.setAttribute(t,e,r,s)}},{key:"removeAttribute",value:function(t,e,r){this.delegate.removeAttribute(t,e,r)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,r,s){this.delegate.setStyle(t,e,r,s)}},{key:"removeStyle",value:function(t,e,r){this.delegate.removeStyle(t,e,r)}},{key:"setProperty",value:function(t,e,r){"@"==e.charAt(0)&&e==Uf?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,r){return this.delegate.listen(t,e,r)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),a}(),zf=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e,r,s,u,l){var c;return(0,h.Z)(this,t),(c=n.call(this,r,s,u,l)).factory=e,c.namespaceId=r,c}return(0,v.Z)(t,[{key:"setProperty",value:function(r,s,u){"@"==s.charAt(0)?"."==s.charAt(1)&&s==Uf?this.disableAnimations(r,u=void 0===u||!!u):this.engine.process(this.namespaceId,r,s.slice(1),u):this.delegate.setProperty(r,s,u)}},{key:"listen",value:function(r,s,u){var l=this;if("@"==s.charAt(0)){var c=function nk(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(r),p=s.slice(1),y="";if("@"!=p.charAt(0)){var E=function Cu(a){var n=a.indexOf(".");return[a.substring(0,n),a.slice(n+1)]}(p),D=(0,g.Z)(E,2);p=D[0],y=D[1]}return this.engine.listen(this.namespaceId,c,p,y,function(R){l.factory.scheduleListenerCallback(R._data||-1,u,R)})}return this.delegate.listen(r,s,u)}}]),t}(R0),ls=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l){return(0,h.Z)(this,e),t.call(this,r.body,s,u)}return(0,v.Z)(e,[{key:"ngOnDestroy",value:function(){this.flush()}}]),e}(uc);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(w.DOCUMENT),o.\u0275\u0275inject(In),o.\u0275\u0275inject(ft),o.\u0275\u0275inject(o.ApplicationRef))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Gf=[{provide:U._j,useClass:sl},{provide:ft,useFactory:function Vf(){return new jt}},{provide:uc,useClass:ls},{provide:o.RendererFactory2,useFactory:function cc(a,n,t){return new A0(a,n,t)},deps:[j.se,uc,o.NgZone]}],wu=[{provide:In,useFactory:function(){return new al}},{provide:o.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"}].concat(Gf),ll=[{provide:In,useClass:Rt},{provide:o.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"}].concat(Gf),No=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"withConfig",value:function(e){return{ngModule:n,providers:e.disableAnimations?ll:wu}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:wu,imports:[j.b2]}),a}(),K=S(9542),ue=S(5603),dc=S(2902),en=S(6317),hr=S(833),ho=S(6646),yn=S(253);function Hf(a){for(var n in a){var t,e=null!==(t=a[n])&&void 0!==t?t:"";switch(n){case"display":a.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":a["-webkit-"+n]=e;break;case"flex-direction":a["-webkit-flex-direction"]=e,a["flex-direction"]=e;break;case"order":a.order=a["-webkit-"+n]=isNaN(+e)?"0":e}}return a}var da="inline",cl=["row","column","row-reverse","column-reverse"];function qf(a){var n=Kf(a),t=(0,g.Z)(n,3);return function ok(a){return{display:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"inline-flex":"flex","box-sizing":"border-box","flex-direction":a,"flex-wrap":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||null}}(t[0],t[1],t[2])}function Kf(a){var n,t,e=(a=null!==(n=null===(t=a)||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"").split(" "),r=(0,g.Z)(e,3),s=r[0],u=r[1],l=r[2];return cl.find(function(c){return c===s})||(s=cl[0]),u===da&&(u=l!==da?l:"",l=da),[s,ik(u),!!l]}function ka(a){var n=Kf(a);return(0,g.Z)(n,1)[0].indexOf("row")>-1}function ik(a){if(a)switch(a.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":a="wrap-reverse";break;case"no":case"none":case"nowrap":a="nowrap";break;default:a="wrap"}return a}function $a(a){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];for(var r=0,s=t;r<s.length;r++){var u=s[r];if(null!=u)for(var l in u)u.hasOwnProperty(l)&&(a[l]=u[l])}return a}var sn=S(116),bt=S(9337),D0={provide:o.APP_BOOTSTRAP_LISTENER,useFactory:function T0(a,n){return function(){if((0,w.isPlatformBrowser)(n)){var t=Array.from(a.querySelectorAll("[class*=".concat(Su,"]"))),e=/\bflex-layout-.+?\b/g;t.forEach(function(r){r.classList.contains("".concat(Su,"ssr"))&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(e,"")})}}},deps:[w.DOCUMENT,o.PLATFORM_ID],multi:!0},Su="flex-layout-",$s=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[D0]}),a}(),dl=function(){function a(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,h.Z)(this,a),this.matches=n,this.mediaQuery=t,this.mqAlias=e,this.suffix=r,this.priority=s,this.property=""}return(0,v.Z)(a,[{key:"clone",value:function(){return new a(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}]),a}(),fc=function(){var a=function(){function n(){(0,h.Z)(this,n),this.stylesheet=new Map}return(0,v.Z)(n,[{key:"addStyleToElement",value:function(e,r,s){var u=this.stylesheet.get(e);u?u.set(r,s):this.stylesheet.set(e,new Map([[r,s]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(e,r){var s=this.stylesheet.get(e),u="";if(s){var l=s.get(r);("number"==typeof l||"string"==typeof l)&&(u=l+"")}return u}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Wf={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Bo=new o.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return Wf}}),Ls=new o.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),pc=new o.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function I0(a,n){var t,e;return a=null!==(t=null===(e=a)||void 0===e?void 0:e.clone())&&void 0!==t?t:new dl,n&&(a.mqAlias=n.alias,a.mediaQuery=n.mediaQuery,a.suffix=n.suffix,a.priority=n.priority),a}var ui=function(){function a(){(0,h.Z)(this,a),this.shouldCache=!0}return(0,v.Z)(a,[{key:"sideEffect",value:function(t,e,r){}}]),a}(),Hr=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=r,this.layoutConfig=s}return(0,v.Z)(n,[{key:"applyStyleToElement",value:function(e,r){var u={};"string"==typeof r&&(u[r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=u),u=this.layoutConfig.disableVendorPrefixes?r:Hf(r),this._applyMultiValueStyleToElement(u,e)}},{key:"applyStyleToElements",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.layoutConfig.disableVendorPrefixes?e:Hf(e);s.forEach(function(l){r._applyMultiValueStyleToElement(u,l)})}},{key:"getFlowDirection",value:function(e){var r="flex-direction",s=this.lookupStyle(e,r);return[s||"row",this.lookupInlineStyle(e,r)||(0,w.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?s:""]}},{key:"hasWrap",value:function(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}},{key:"lookupAttributeValue",value:function(e,r){var s;return null!==(s=e.getAttribute(r))&&void 0!==s?s:""}},{key:"lookupInlineStyle",value:function(e,r){return(0,w.isPlatformBrowser)(this._platformId)?e.style.getPropertyValue(r):function ak(a,n){var t;return null!==(t=O0(a)[n])&&void 0!==t?t:""}(e,r)}},{key:"lookupStyle",value:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";return e&&((u=this.lookupInlineStyle(e,r))||((0,w.isPlatformBrowser)(this._platformId)?s||(u=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(e,r)))),u?u.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(e,r){var s=this;Object.keys(e).sort().forEach(function(u){var l=e[u],c=Array.isArray(l)?l:[l];c.sort();var y,p=(0,z.Z)(c);try{for(p.s();!(y=p.n()).done;){var E=y.value;E=E?E+"":"",(0,w.isPlatformBrowser)(s._platformId)||!s._serverModuleLoaded?(0,w.isPlatformBrowser)(s._platformId)?r.style.setProperty(u,E):sk(r,u,E):s._serverStylesheet.addStyleToElement(r,u,E)}}catch(D){p.e(D)}finally{p.f()}})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(fc),o.\u0275\u0275inject(Ls),o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(Bo))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function sk(a,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=O0(a);e[n]=t??"",function fl(a,n){var t="";for(var e in n)n[e]&&(t+="".concat(e,":").concat(n[e],";"));a.setAttribute("style",t)}(a,e)}function O0(a){var n={},t=a.getAttribute("style");if(t)for(var e=t.split(/;+/g),r=0;r<e.length;r++){var s=e[r].trim();if(s.length>0){var u=s.indexOf(":");if(-1===u)throw new Error("Invalid CSS style: ".concat(s));n[s.substr(0,u).trim()]=s.substr(u+1).trim()}}return n}function pl(a,n){return(n&&n.priority||0)-(a&&a.priority||0)}function Xf(a,n){return(a.priority||0)-(n.priority||0)}var hc=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this._zone=t,this._platformId=e,this._document=r,this.source=new en.X(new dl(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}return(0,v.Z)(n,[{key:"activations",get:function(){var e=[];return this.registry.forEach(function(r,s){r.matches&&e.push(s)}),e}},{key:"isActive",value:function(e){var r,s=this.registry.get(e);return null!==(r=s?.matches)&&void 0!==r?r:this.registerQuery(e).some(function(u){return u.matches})}},{key:"observe",value:function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.length){var u=this._observable$.pipe((0,sn.h)(function(c){return!s||e.indexOf(c.mediaQuery)>-1})),l=new hr.y(function(c){var p=r.registerQuery(e);if(p.length){var y=p.pop();p.forEach(function(E){c.next(E)}),r.source.next(y)}c.complete()});return(0,ho.T)(l,u)}return this._observable$}},{key:"registerQuery",value:function(e){var r=this,s=Array.isArray(e)?e:[e],u=[];return function F0(a,n){var t=a.filter(function(u){return!Qf[u]});if(t.length>0){var e=t.join(", ");try{var r=n.createElement("style");if(r.setAttribute("type","text/css"),!r.styleSheet){var s="\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(e," {.fx-query-test{ }}\n");r.appendChild(n.createTextNode(s))}n.head.appendChild(r),t.forEach(function(u){return Qf[u]=r})}catch(u){console.error(u)}}}(s,this._document),s.forEach(function(l){var c=function(E){r._zone.run(function(){return r.source.next(new dl(E.matches,l))})},p=r.registry.get(l);p||((p=r.buildMQL(l)).addListener(c),r.pendingRemoveListenerFns.push(function(){return p.removeListener(c)}),r.registry.set(l,p)),p.matches&&u.push(new dl(!0,l))}),u}},{key:"ngOnDestroy",value:function(){for(var e;e=this.pendingRemoveListenerFns.pop();)e()}},{key:"buildMQL",value:function(e){return function hl(a,n){return n&&!!window.matchMedia("all").addListener?window.matchMedia(a):function M0(a){var n=new EventTarget;return n.matches="all"===a||""===a,n.media=a,n.addListener=function(){},n.removeListener=function(){},n.addEventListener=function(){},n.dispatchEvent=function(){return!1},n.onchange=null,n}(a)}(e,(0,w.isPlatformBrowser)(this._platformId))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.NgZone),o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(w.DOCUMENT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Qf={},N0=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Eu="(orientation: portrait) and (max-width: 599.98px)",B0="(orientation: landscape) and (max-width: 959.98px)",Z0="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",cs="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",j0="(orientation: portrait) and (min-width: 840px)",ku="(orientation: landscape) and (min-width: 1280px)",La={HANDSET:"".concat(Eu,", ").concat(B0),TABLET:"".concat(Z0," , ").concat(cs),WEB:"".concat(j0,", ").concat(ku," "),HANDSET_PORTRAIT:"".concat(Eu),TABLET_PORTRAIT:"".concat(Z0," "),WEB_PORTRAIT:"".concat(j0),HANDSET_LANDSCAPE:"".concat(B0),TABLET_LANDSCAPE:"".concat(cs),WEB_LANDSCAPE:"".concat(ku)},$0=[{alias:"handset",priority:2e3,mediaQuery:La.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:La.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:La.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:La.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:La.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:La.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:La.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:La.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:La.WEB_PORTRAIT,overlapping:!0}],Pu=/(\.|-|_)/g;function Jf(a){var n=a.length>0?a.charAt(0):"",t=a.length>1?a.slice(1):"";return n.toUpperCase()+t}var uk=new o.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var n=(0,o.inject)(pc),t=(0,o.inject)(Bo),e=[].concat.apply([],(n||[]).map(function(s){return Array.isArray(s)?s:[s]}));return function L0(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};return a.forEach(function(e){t[e.alias]=e}),n.forEach(function(e){t[e.alias]?$a(t[e.alias],e):t[e.alias]=e}),function Yf(a){return a.forEach(function(n){n.suffix||(n.suffix=function ml(a){return a.replace(Pu,"|").split("|").map(Jf).join("")}(n.alias),n.overlapping=!!n.overlapping)}),a}(Object.keys(t).map(function(e){return t[e]}))}((t.disableDefaultBps?[]:N0).concat(t.addOrientationBps?$0:[]),e)}}),ep=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.findByMap=new Map,this.items=(0,_.Z)(t).sort(Xf)}return(0,v.Z)(n,[{key:"findByAlias",value:function(e){return e?this.findWithPredicate(e,function(r){return r.alias===e}):null}},{key:"findByQuery",value:function(e){return this.findWithPredicate(e,function(r){return r.mediaQuery===e})}},{key:"overlappings",get:function(){return this.items.filter(function(e){return e.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(e){return e.alias})}},{key:"suffixes",get:function(){return this.items.map(function(e){var r;return null!==(r=e?.suffix)&&void 0!==r?r:""})}},{key:"findWithPredicate",value:function(e,r){var s,l,u=this.findByMap.get(e);return u||(u=null!==(l=this.items.find(r))&&void 0!==l?l:null,this.findByMap.set(e,u)),null!==(s=u)&&void 0!==s?s:null}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(uk))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Au="print",lk={alias:Au,mediaQuery:Au,priority:1e3},mc=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.breakpoints=t,this.layoutConfig=e,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new ck,this.deactivations=[]}return(0,v.Z)(n,[{key:"withPrintQuery",value:function(e){return[].concat((0,_.Z)(e),[Au])}},{key:"isPrintEvent",value:function(e){return e.mediaQuery.startsWith(Au)}},{key:"printAlias",get:function(){var e;return(0,_.Z)(null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[])}},{key:"printBreakPoints",get:function(){var e=this;return this.printAlias.map(function(r){return e.breakpoints.findByAlias(r)}).filter(function(r){return null!==r})}},{key:"getEventBreakpoints",value:function(e){var s=this.breakpoints.findByQuery(e.mediaQuery);return(s?[].concat((0,_.Z)(this.printBreakPoints),[s]):this.printBreakPoints).sort(pl)}},{key:"updateEvent",value:function(e){var s,u,r=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(r=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(s=null===(u=r)||void 0===u?void 0:u.mediaQuery)&&void 0!==s?s:""),I0(e,r)}},{key:"registerBeforeAfterPrintHooks",value:function(e){var r=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var s=function(){r.isPrinting||(r.isPrintingBeforeAfterEvent=!0,r.startPrinting(e,r.getEventBreakpoints(new dl(!0,Au))),e.updateStyles())},u=function(){r.isPrintingBeforeAfterEvent=!1,r.isPrinting&&(r.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",u),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(u)}}},{key:"interceptEvents",value:function(e){var r=this;return function(s){r.isPrintEvent(s)?s.matches&&!r.isPrinting?(r.startPrinting(e,r.getEventBreakpoints(s)),e.updateStyles()):!s.matches&&r.isPrinting&&!r.isPrintingBeforeAfterEvent&&(r.stopPrinting(e),e.updateStyles()):r.collectActivations(e,s)}}},{key:"blockPropagation",value:function(){var e=this;return function(r){return!(e.isPrinting||e.isPrintEvent(r))}}},{key:"startPrinting",value:function(e,r){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}},{key:"stopPrinting",value:function(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(e,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){var s=this.breakpoints.findByQuery(r.mediaQuery);if(s){var u=this.formerActivations&&this.formerActivations.includes(s),l=!this.formerActivations&&e.activatedBreakpoints.includes(s);(u||l)&&(this.deactivations.push(s),this.deactivations.sort(pl))}}}}},{key:"ngOnDestroy",value:function(){var e=this;this._document.defaultView&&(this.beforePrintEventListeners.forEach(function(r){return e._document.defaultView.removeEventListener("beforeprint",r)}),this.afterPrintEventListeners.forEach(function(r){return e._document.defaultView.removeEventListener("afterprint",r)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ep),o.\u0275\u0275inject(Bo),o.\u0275\u0275inject(w.DOCUMENT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),ck=function(){function a(){(0,h.Z)(this,a),this.printBreakpoints=[]}return(0,v.Z)(a,[{key:"addPrintBreakpoints",value:function(t){var e=this;return t.push(lk),t.sort(pl),t.forEach(function(r){return e.addBreakpoint(r)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(t){t&&void 0===this.printBreakpoints.find(function(r){return r.mediaQuery===t.mediaQuery})&&(this.printBreakpoints=function dk(a){var n;return null!==(n=a?.mediaQuery.startsWith(Au))&&void 0!==n&&n}(t)?[t].concat((0,_.Z)(this.printBreakpoints)):[].concat((0,_.Z)(this.printBreakpoints),[t]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}]),a}(),Jr=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.matchMedia=t,this.breakpoints=e,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new yn.x,this.observeActivations()}return(0,v.Z)(n,[{key:"activatedAlias",get:function(){var e,r;return null!==(e=null===(r=this.activatedBreakpoints[0])||void 0===r?void 0:r.alias)&&void 0!==e?e:""}},{key:"activatedBreakpoints",get:function(){return(0,_.Z)(this._activatedBreakpoints)},set:function(e){this._activatedBreakpoints=(0,_.Z)(e)}},{key:"useFallbacks",set:function(e){this._useFallbacks=e}},{key:"onMediaChange",value:function(e){var r=this.findByQuery(e.mediaQuery);if(r){e=I0(e,r);var s=this.activatedBreakpoints.indexOf(r);e.matches&&-1===s?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(pl),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(pl),this.updateStyles())}}},{key:"init",value:function(e,r,s,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];U0(this.updateMap,e,r,s),U0(this.clearMap,e,r,u),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,l)}},{key:"getValue",value:function(e,r,s){var u=this.elementMap.get(e);if(u){var l=void 0!==s?u.get(s):this.getActivatedValues(u,r);if(l)return l.get(r)}}},{key:"hasValue",value:function(e,r){var s=this.elementMap.get(e);if(s){var u=this.getActivatedValues(s,r);if(u)return void 0!==u.get(r)||!1}return!1}},{key:"setValue",value:function(e,r,s,u){var l=this.elementMap.get(e);if(l){var c,p=(null!==(c=l.get(u))&&void 0!==c?c:new Map).set(r,s);l.set(u,p),this.elementMap.set(e,l)}else l=(new Map).set(u,(new Map).set(r,s)),this.elementMap.set(e,l);var y=this.getValue(e,r);void 0!==y&&this.updateElement(e,r,y)}},{key:"trackValue",value:function(e,r){return this.subject.asObservable().pipe((0,sn.h)(function(s){return s.element===e&&s.key===r}))}},{key:"updateStyles",value:function(){var e=this;this.elementMap.forEach(function(r,s){var u=new Set(e.elementKeyMap.get(s)),l=e.getActivatedValues(r);l&&l.forEach(function(c,p){e.updateElement(s,p,c),u.delete(p)}),u.forEach(function(c){if(l=e.getActivatedValues(r,c)){var p=l.get(c);e.updateElement(s,c,p)}else e.clearElement(s,c)})})}},{key:"clearElement",value:function(e,r){var s=this.clearMap.get(e);if(s){var u=s.get(r);u&&(u(),this.subject.next({element:e,key:r,value:""}))}}},{key:"updateElement",value:function(e,r,s){var u=this.updateMap.get(e);if(u){var l=u.get(r);l&&(l(s),this.subject.next({element:e,key:r,value:s}))}}},{key:"releaseElement",value:function(e){var r=this.watcherMap.get(e);r&&(r.forEach(function(u){return u.unsubscribe()}),this.watcherMap.delete(e));var s=this.elementMap.get(e);s&&(s.forEach(function(u,l){return s.delete(l)}),this.elementMap.delete(e))}},{key:"triggerUpdate",value:function(e,r){var s=this,u=this.elementMap.get(e);if(u){var l=this.getActivatedValues(u,r);l&&(r?this.updateElement(e,r,l.get(r)):l.forEach(function(c,p){return s.updateElement(e,p,c)}))}}},{key:"buildElementKeyMap",value:function(e,r){var s=this.elementKeyMap.get(e);s||this.elementKeyMap.set(e,s=new Set),s.add(r)}},{key:"watchExtraTriggers",value:function(e,r,s){var u=this;if(s&&s.length){var l=this.watcherMap.get(e);if(l||this.watcherMap.set(e,l=new Map),!l.get(r)){var p=ho.T.apply(void 0,(0,_.Z)(s)).subscribe(function(){var y=u.getValue(e,r);u.updateElement(e,r,y)});l.set(r,p)}}}},{key:"findByQuery",value:function(e){return this.breakpoints.findByQuery(e)}},{key:"getActivatedValues",value:function(e,r){for(var s=0;s<this.activatedBreakpoints.length;s++){var l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===r||l.has(r)&&null!=l.get(r)))return l}if(this._useFallbacks){var c=e.get("");return void 0===r||c&&c.has(r)?c:void 0}}},{key:"observeActivations",value:function(){var e=this.breakpoints.items.map(function(r){return r.mediaQuery});this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,bt.b)(this.hook.interceptEvents(this)),(0,sn.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(hc),o.\u0275\u0275inject(ep),o.\u0275\u0275inject(mc))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function U0(a,n,t,e){if(void 0!==e){var r,s=null!==(r=a.get(n))&&void 0!==r?r:new Map;s.set(t,e),a.set(n,s)}}var ri=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.elementRef=t,this.styleBuilder=e,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new yn.x,this.styleCache=new Map}return(0,v.Z)(n,[{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}},{key:"ngOnChanges",value:function(e){var r=this;Object.keys(e).forEach(function(s){if(-1!==r.inputs.indexOf(s)){var u=s.split(".").slice(1).join(".");r.setValue(e[s].currentValue,u)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}},{key:"addStyles",value:function(e,r){var s=this.styleBuilder,u=s.shouldCache,l=this.styleCache.get(e);(!l||!u)&&(l=s.buildStyles(e,r),u&&this.styleCache.set(e,l)),this.mru=(0,ue.Z)({},l),this.applyStyleToElement(l),s.sideEffect(e,l,r)}},{key:"clearStyles",value:function(){var e=this;Object.keys(this.mru).forEach(function(r){e.mru[r]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var s=this.styler.getFlowDirection(e),u=(0,g.Z)(s,2),l=u[0];if(!u[1]&&r){var p=qf(l);this.styler.applyStyleToElements(p,[e])}return l.trim()}return"row"}},{key:"hasWrap",value:function(e){return this.styler.hasWrap(e)}},{key:"applyStyleToElement",value:function(e,r){this.styler.applyStyleToElement(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement,e,r)}},{key:"setValue",value:function(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}},{key:"updateWithValue",value:function(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(ui),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Jr))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,features:[o.\u0275\u0275NgOnChangesFeature]}),a}();function Ua(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",e=[n,t,a],r=a.indexOf("calc");if(r>0){e[2]=Gi(a.substring(r).trim());var s=a.substr(0,r).trim().split(" ");2==s.length&&(e[0]=s[0],e[1]=s[1])}else if(0==r)e[2]=Gi(a.trim());else{var u=a.split(" ");e=3===u.length?u:[n,t,a]}return e}function Gi(a){return a.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;var za=S(609),mo=(S(867),S(8951)),q0=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p,y){var E;return(0,h.Z)(this,e),(E=t.call(this,r,null,s,u)).ngClassInstance=y,E.DIRECTIVE_KEY="ngClass",E.ngClassInstance||(E.ngClassInstance=new w.NgClass(l,c,r,p)),E.init(),E.setValue("",""),E}return(0,v.Z)(e,[{key:"klass",set:function(s){this.ngClassInstance.klass=s,this.setValue(s,"")}},{key:"updateWithValue",value:function(s){this.ngClassInstance.ngClass=s,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}}]),e}(ri);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Jr),o.\u0275\u0275directiveInject(o.IterableDiffers),o.\u0275\u0275directiveInject(o.KeyValueDiffers),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(w.NgClass,10))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,inputs:{klass:["class","klass"]},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),K0=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],np=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){var r;return(0,h.Z)(this,e),(r=t.apply(this,arguments)).inputs=K0,r}return(0,v.Z)(e)}(q0);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),mk=(0,v.Z)(function a(n,t){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,h.Z)(this,a),this.key=n,this.value=t,this.key=e?n.replace(/['"]/g,"").trim():n.trim(),this.value=e?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")});function Y0(a){var n=typeof a;return"object"===n?a.constructor===Array?"array":a.constructor===Set?"set":"object":n}function rp(a){var n=a.split(":"),t=(0,za.Z)(n),e=t[0],r=t.slice(1);return new mk(e,r.join(":"))}function Zo(a,n){return n.key&&(a[n.key]=n.value),a}var bc=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p,y,E,D){var R,B;(0,h.Z)(this,e),(B=t.call(this,r,null,s,u)).sanitizer=l,B.ngStyleInstance=y,B.DIRECTIVE_KEY="ngStyle",B.ngStyleInstance||(B.ngStyleInstance=new w.NgStyle(r,c,p)),B.init();var te=null!==(R=B.nativeElement.getAttribute("style"))&&void 0!==R?R:"";return B.fallbackStyles=B.buildStyleMap(te),B.isServer=E&&(0,w.isPlatformServer)(D),B}return(0,v.Z)(e,[{key:"updateWithValue",value:function(s){var u=this.buildStyleMap(s);this.ngStyleInstance.ngStyle=(0,ue.Z)((0,ue.Z)({},this.fallbackStyles),u),this.isServer&&this.applyStyleToElement(u),this.ngStyleInstance.ngDoCheck()}},{key:"clearStyles",value:function(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}},{key:"buildStyleMap",value:function(s){var u=this,l=function(p){var y;return null!==(y=u.sanitizer.sanitize(o.SecurityContext.STYLE,p))&&void 0!==y?y:""};if(s)switch(Y0(s)){case"string":return op(function Va(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";return String(a).trim().split(n).map(function(t){return t.trim()}).filter(function(t){return""!==t})}(s),l);case"array":return op(s,l);default:return function xc(a,n){var t=[];return"set"===Y0(a)?a.forEach(function(e){return t.push(e)}):Object.keys(a).forEach(function(e){t.push("".concat(e,":").concat(a[e]))}),function _c(a,n){return a.map(rp).filter(function(e){return!!e}).map(function(r){return n&&(r.value=n(r.value)),r}).reduce(Zo,{})}(t,n)}(s,l)}return{}}},{key:"ngDoCheck",value:function(){this.ngStyleInstance.ngDoCheck()}}]),e}(ri);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Jr),o.\u0275\u0275directiveInject(j.H7),o.\u0275\u0275directiveInject(o.KeyValueDiffers),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(w.NgStyle,10),o.\u0275\u0275directiveInject(Ls),o.\u0275\u0275directiveInject(o.PLATFORM_ID))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),ex=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"],ip=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){var r;return(0,h.Z)(this,e),(r=t.apply(this,arguments)).inputs=ex,r}return(0,v.Z)(e)}(bc);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}();function op(a,n){return a.map(rp).filter(function(e){return!!e}).map(function(r){return n&&(r.value=n(r.value)),r}).reduce(Zo,{})}var ap=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[$s]}),a}(),f=S(7797),Fr=S(5488),fa=S(4089),pa=S(265),ds=S(4564),Cc=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){return(0,h.Z)(this,e),t.apply(this,arguments)}return(0,v.Z)(e,[{key:"buildStyles",value:function(s,u){var l=u.display,c=qf(s);return(0,ue.Z)((0,ue.Z)({},c),{},{display:"none"===l?l:c.display})}}]),e}(ui);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),sp=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],nx=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c){var p;return(0,h.Z)(this,e),(p=t.call(this,r,u,s,l))._config=c,p.DIRECTIVE_KEY="layout",p.init(),p}return(0,v.Z)(e,[{key:"updateWithValue",value:function(s){var u,c=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(u=jo.get(c))&&void 0!==u?u:new Map,jo.set(c,this.styleCache),this.currentValue!==s&&(this.addStyles(s,{display:c}),this.currentValue=s)}}]),e}(ri);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Cc),o.\u0275\u0275directiveInject(Jr),o.\u0275\u0275directiveInject(Bo))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),Ji=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){var r;return(0,h.Z)(this,e),(r=t.apply(this,arguments)).inputs=sp,r}return(0,v.Z)(e)}(nx);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),jo=new Map,dp=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this)).layoutConfig=r,s}return(0,v.Z)(e,[{key:"buildStyles",value:function(s,u){var l=s.split(" "),c=(0,za.Z)(l),p=c[0],y=c[1],D=c.slice(2).join(" "),R=u.direction.indexOf("column")>-1?"column":"row",B=ka(R)?"max-width":"max-height",te=ka(R)?"min-width":"min-height",ne=String(D).indexOf("calc")>-1,he=ne||"auto"===D,Se=String(D).indexOf("%")>-1&&!ne,we=String(D).indexOf("px")>-1||String(D).indexOf("rem")>-1||String(D).indexOf("em")>-1||String(D).indexOf("vw")>-1||String(D).indexOf("vh")>-1,$e=ne||we;y="0"==y?0:y;var Ye=!(p="0"==p?0:p)&&!y,lt={},Ft={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(D||""){case"":D="row"===R?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":p=0,D="auto";break;case"grow":D="100%";break;case"noshrink":y=0,D="auto";break;case"auto":break;case"none":p=0,y=0,D="auto";break;default:!$e&&!Se&&!isNaN(D)&&(D+="%"),"0%"===D&&($e=!0),"0px"===D&&(D="0%"),lt=$a(Ft,ne?{"flex-grow":p,"flex-shrink":y,"flex-basis":$e?D:"100%"}:{flex:"".concat(p," ").concat(y," ").concat($e?D:"100%")})}return lt.flex||lt["flex-grow"]||(lt=$a(Ft,ne?{"flex-grow":p,"flex-shrink":y,"flex-basis":D}:{flex:"".concat(p," ").concat(y," ").concat(D)})),"0%"!==D&&"0px"!==D&&"0.000000001px"!==D&&"auto"!==D&&(lt[te]=Ye||$e&&p?D:null,lt[B]=Ye||!he&&y?D:null),lt[te]||lt[B]?u.hasWrap&&(lt[ne?"flex-basis":"flex"]=lt[B]?ne?lt[B]:"".concat(p," ").concat(y," ").concat(lt[B]):ne?lt[te]:"".concat(p," ").concat(y," ").concat(lt[te])):lt=$a(Ft,ne?{"flex-grow":p,"flex-shrink":y,"flex-basis":D}:{flex:"".concat(p," ").concat(y," ").concat(D)}),$a(lt,{"box-sizing":"border-box"})}}]),e}(ui);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Bo))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Sc=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],kc=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c){var p;return(0,h.Z)(this,e),(p=t.call(this,r,l,s,c)).layoutConfig=u,p.marshal=c,p.DIRECTIVE_KEY="flex",p.direction=void 0,p.wrap=void 0,p.flexGrow="1",p.flexShrink="1",p.init(),p}return(0,v.Z)(e,[{key:"shrink",get:function(){return this.flexShrink},set:function(s){this.flexShrink=s||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(s){this.flexGrow=s||"1",this.triggerReflow()}},{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,mo.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,mo.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(s){var l=s.value.split(" ");this.direction=l[0],this.wrap=void 0!==l[1]&&"wrap"===l[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(s){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var l=this.direction,c=l.startsWith("row"),p=this.wrap;c&&p?this.styleCache=_l:c&&!p?this.styleCache=Ru:!c&&p?this.styleCache=Aa:!c&&!p&&(this.styleCache=fp);var E=Ua(String(s).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(E.join(" "),{direction:l,hasWrap:p})}},{key:"triggerReflow",value:function(){var s=this.activatedValue;if(void 0!==s){var u=Ua(s+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,u.join(" "))}}}]),e}(ri);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Bo),o.\u0275\u0275directiveInject(dp),o.\u0275\u0275directiveInject(Jr))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),Gs=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){var r;return(0,h.Z)(this,e),(r=t.apply(this,arguments)).inputs=Sc,r}return(0,v.Z)(e)}(kc);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),Ru=new Map,fp=new Map,_l=new Map,Aa=new Map,Ou={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},Hs=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){return(0,h.Z)(this,e),t.apply(this,arguments)}return(0,v.Z)(e,[{key:"buildStyles",value:function(s){return Ou}}]),e}(ui);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),hs=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l){var c;return(0,h.Z)(this,e),(c=t.call(this,r,u,s,l)).styleCache=Rc,c.addStyles(""),c}return(0,v.Z)(e)}(ri);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(Hr),o.\u0275\u0275directiveInject(Hs),o.\u0275\u0275directiveInject(Jr))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[o.\u0275\u0275InheritDefinitionFeature]}),a}(),Rc=new Map,Ic=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[$s,ds.vT]}),a}(),Hc=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[$s]}),a}(),go=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),(0,w.isPlatformServer)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return(0,v.Z)(n,null,[{key:"withConfig",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:n,providers:e.serverLoaded?[{provide:Bo,useValue:(0,ue.Z)((0,ue.Z)({},Wf),e)},{provide:pc,useValue:r,multi:!0},{provide:Ls,useValue:!0}]:[{provide:Bo,useValue:(0,ue.Z)((0,ue.Z)({},Wf),e)},{provide:pc,useValue:r,multi:!0}]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ls),o.\u0275\u0275inject(o.PLATFORM_ID))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[Ic,ap,Hc,Ic,ap,Hc]}),a}();function Js(a,n){1&a&&o.\u0275\u0275element(0,"div",9)}function gs(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"span",10),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.description)}}function qc(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"section",11),o.\u0275\u0275element(1,"ngx-json-viewer",12),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit,e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("json",t.value)("expanded",e.expanded)("depth",e.depth)("_currentDepth",e._currentDepth+1)}}var Kc=function(n){return["segment",n]},Uo=function(n,t){return{"segment-main":!0,expandable:n,expanded:t}};function Bx(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",2)(1,"section",3),o.\u0275\u0275listener("click",function(){var l=o.\u0275\u0275restoreView(t).$implicit,c=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(c.toggle(l))}),o.\u0275\u0275template(2,Js,1,0,"div",4),o.\u0275\u0275elementStart(3,"span",5),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"span",6),o.\u0275\u0275text(6,": "),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,gs,2,1,"span",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,qc,2,4,"section",8),o.\u0275\u0275elementEnd()}if(2&a){var e=n.$implicit,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(6,Kc,"segment-type-"+e.type)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction2(8,Uo,r.isExpandable(e),e.expanded)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",r.isExpandable(e)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.key),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",!e.expanded||!r.isExpandable(e)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.expanded&&r.isExpandable(e))}}var Hp=function(){var a=function(){function n(){(0,h.Z)(this,n),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}return(0,v.Z)(n,[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(r){e.segments.push(e.parseKeyValue(r,e.json[r]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,r){var s={key:e,value:r,type:void 0,description:""+r,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var r=new WeakMap;return function s(u,l){var c,p;return"object"!=typeof u||null===u||u instanceof Boolean||u instanceof Date||u instanceof Number||u instanceof RegExp||u instanceof String?u:void 0!==(c=r.get(u))?{$ref:c}:(r.set(u,l),Array.isArray(u)?(p=[],u.forEach(function(y,E){p[E]=s(y,l+"["+E+"]")})):(p={},Object.keys(u).forEach(function(y){p[y]=s(u[y],l+"["+JSON.stringify(y)+"]")})),p)}(e,"$")}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[o.\u0275\u0275NgOnChangesFeature],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"section",0),o.\u0275\u0275template(1,Bx,9,11,"section",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.segments))},dependencies:[w.NgClass,w.NgForOf,w.NgIf,a],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),a}(),Wc=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}(),We=S(1803);function qp(a,n,t,e,r,s,u){try{var l=a[s](u),c=l.value}catch(p){return void t(p)}l.done?n(c):Promise.resolve(c).then(e,r)}function zt(a){return function(){var n=this,t=arguments;return new Promise(function(e,r){var s=a.apply(n,t);function u(c){qp(s,e,r,u,l,"next",c)}function l(c){qp(s,e,r,u,l,"throw",c)}u(void 0)})}}var El,Vt=S(3896),ke=S(635),Xc=new Uint8Array(16);function Ik(){if(!El&&!(El=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return El(Xc)}const Ok=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ti=[],Xa=0;Xa<256;++Xa)Ti.push((Xa+256).toString(16).substr(1));const Mk=function Fk(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ti[a[n+0]]+Ti[a[n+1]]+Ti[a[n+2]]+Ti[a[n+3]]+"-"+Ti[a[n+4]]+Ti[a[n+5]]+"-"+Ti[a[n+6]]+Ti[a[n+7]]+"-"+Ti[a[n+8]]+Ti[a[n+9]]+"-"+Ti[a[n+10]]+Ti[a[n+11]]+Ti[a[n+12]]+Ti[a[n+13]]+Ti[a[n+14]]+Ti[a[n+15]]).toLowerCase();if(!function Zx(a){return"string"==typeof a&&Ok.test(a)}(t))throw TypeError("Stringified UUID is invalid");return t},Br=function Fu(a,n,t){var e=(a=a||{}).random||(a.rng||Ik)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,n){t=t||0;for(var r=0;r<16;++r)n[t+r]=e[r];return n}return Mk(e)};var Cr=S(9691),gr=S(6234),Kp=S(7580),Hi=S(3158),lo=S(9196),Vn=S(9295),Qa=S(9525),ma=S(538),Mu=S(3853),Di=S(5474),ze=S(745),kl=S(4987),Ys=Array.isArray,co=S(3945);function Jc(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];return n=function Qc(a){return 1===a.length&&Ys(a[0])?a[0]:a}(n),1===n.length?(0,kl.Xf)(n[0]):new hr.y(function Wp(a){return function(n){for(var t=[],e=function(u){t.push((0,kl.Xf)(a[u]).subscribe((0,co.x)(n,function(l){if(t){for(var c=0;c<t.length;c++)c!==u&&t[c].unsubscribe();t=null}n.next(l)})))},r=0;t&&!n.closed&&r<a.length;r++)e(r)}}(n))}var Yc=S(6936),Pn=function(){return(Pn=Pn||{})[Pn.EntitiesOnly=0]="EntitiesOnly",Pn[Pn.Both=1]="Both",Pn[Pn.None=2]="None",Pn}();function Zr(a){return function(t,e){var r={ids:(0,_.Z)(e.ids),entities:(0,ue.Z)({},e.entities)},s=a(t,r);return s===Pn.Both?Object.assign({},e,r):s===Pn.EntitiesOnly?(0,ue.Z)((0,ue.Z)({},e),{},{entities:r.entities}):e}}function ga(a,n){var t=n(a);return(0,o.isDevMode)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",a,"The `selectId` implementation:",n.toString()),t}function Xp(a){function n(ne,he){var Se=ga(ne,a);return Se in he.entities?Pn.None:(he.ids.push(Se),he.entities[Se]=ne,Pn.Both)}function t(ne,he){var $e,Se=!1,we=(0,z.Z)(ne);try{for(we.s();!($e=we.n()).done;)Se=n($e.value,he)!==Pn.None||Se}catch(lt){we.e(lt)}finally{we.f()}return Se?Pn.Both:Pn.None}function r(ne,he){var Se=ga(ne,a);return Se in he.entities?(he.entities[Se]=ne,Pn.EntitiesOnly):(he.ids.push(Se),he.entities[Se]=ne,Pn.Both)}function l(ne,he){var we=(ne instanceof Array?ne:he.ids.filter(function($e){return ne(he.entities[$e])})).filter(function($e){return $e in he.entities}).map(function($e){return delete he.entities[$e]}).length>0;return we&&(he.ids=he.ids.filter(function($e){return $e in he.entities})),we?Pn.Both:Pn.None}function y(ne,he){return E([ne],he)}function E(ne,he){var Se={};if((ne=ne.filter(function(Ye){return Ye.id in he.entities})).length>0){var $e=ne.filter(function(Ye){return function p(ne,he,Se){var $e=Object.assign({},Se.entities[he.id],he.changes),Ye=ga($e,a),lt=Ye!==he.id;return lt&&(ne[he.id]=Ye,delete Se.entities[he.id]),Se.entities[Ye]=$e,lt}(Se,Ye,he)}).length>0;return $e?(he.ids=he.ids.map(function(Ye){return Se[Ye]||Ye}),Pn.Both):Pn.EntitiesOnly}return Pn.None}function te(ne,he){var Ye,Se=[],we=[],$e=(0,z.Z)(ne);try{for($e.s();!(Ye=$e.n()).done;){var lt=Ye.value,Ft=ga(lt,a);Ft in he.entities?we.push({id:Ft,changes:lt}):Se.push(lt)}}catch(Gt){$e.e(Gt)}finally{$e.f()}var pt=E(we,he),Zt=t(Se,he);switch(!0){case Zt===Pn.None&&pt===Pn.None:return Pn.None;case Zt===Pn.Both||pt===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}return{removeAll:function c(ne){return Object.assign({},ne,{ids:[],entities:{}})},addOne:Zr(n),addMany:Zr(t),setAll:Zr(function e(ne,he){return he.ids=[],he.entities={},t(ne,he),Pn.Both}),setOne:Zr(r),setMany:Zr(function s(ne,he){var Se=ne.map(function(we){return r(we,he)});switch(!0){case Se.some(function(we){return we===Pn.Both}):return Pn.Both;case Se.some(function(we){return we===Pn.EntitiesOnly}):return Pn.EntitiesOnly;default:return Pn.None}}),updateOne:Zr(y),updateMany:Zr(E),upsertOne:Zr(function B(ne,he){return te([ne],he)}),upsertMany:Zr(te),removeOne:Zr(function u(ne,he){return l([ne],he)}),removeMany:Zr(l),map:Zr(function D(ne,he){return E(he.ids.reduce(function($e,Ye){var lt=ne(he.entities[Ye]);return lt!==he.entities[Ye]&&$e.push({id:Ye,changes:lt}),$e},[]).filter(function($e){return $e.id in he.entities}),he)}),mapOne:Zr(function R(ne,he){var we=ne.id,$e=he.entities[we];return $e?y({id:we,changes:(0,ne.map)($e)},he):Pn.None})}}function Jp(){var a,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={selectId:null!==(a=t.selectId)&&void 0!==a?a:function(p){return p.id},sortComparer:null!==(n=t.sortComparer)&&void 0!==n&&n},r=e.selectId,s=e.sortComparer,u=function eu(){return{getInitialState:function a(){return Object.assign({ids:[],entities:{}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}}(),l=function Lx(){return{getSelectors:function a(n){var t=function(l){return l.ids},e=function(l){return l.entities},r=(0,Vt.P1)(t,e,function(u,l){return u.map(function(c){return l[c]})}),s=(0,Vt.P1)(t,function(u){return u.length});return n?{selectIds:(0,Vt.P1)(n,t),selectEntities:(0,Vt.P1)(n,e),selectAll:(0,Vt.P1)(n,r),selectTotal:(0,Vt.P1)(n,s)}:{selectIds:t,selectEntities:e,selectAll:r,selectTotal:s}}}}(),c=s?function Qp(a,n){var t=Xp(a);function u(we,$e){return l([we],$e)}function l(we,$e){var Ye=we.filter(function(lt){return!(ga(lt,a)in $e.entities)});return 0===Ye.length?Pn.None:(Se(Ye,$e),Pn.Both)}function p(we,$e){var Ye=ga(we,a);return Ye in $e.entities?($e.ids=$e.ids.filter(function(lt){return lt!==Ye}),Se([we],$e),Pn.Both):u(we,$e)}function E(we,$e){return R([we],$e)}function R(we,$e){var Ye=[],lt=we.filter(function(Zt){return function D(we,$e,Ye){if(!($e.id in Ye.entities))return!1;var Ft=Object.assign({},Ye.entities[$e.id],$e.changes),pt=ga(Ft,a);return delete Ye.entities[$e.id],we.push(Ft),pt!==$e.id}(Ye,Zt,$e)}).length>0;if(0===Ye.length)return Pn.None;var Ft=$e.ids,pt=[];return $e.ids=$e.ids.filter(function(Zt,Gt){return Zt in $e.entities||(pt.push(Gt),!1)}),Se(Ye,$e),!lt&&pt.every(function(Zt){return $e.ids[Zt]===Ft[Zt]})?Pn.EntitiesOnly:Pn.Both}function he(we,$e){var pt,Ye=[],lt=[],Ft=(0,z.Z)(we);try{for(Ft.s();!(pt=Ft.n()).done;){var Zt=pt.value,Gt=ga(Zt,a);Gt in $e.entities?lt.push({id:Gt,changes:Zt}):Ye.push(Zt)}}catch(Ht){Ft.e(Ht)}finally{Ft.f()}var Yt=R(lt,$e),qt=l(Ye,$e);switch(!0){case qt===Pn.None&&Yt===Pn.None:return Pn.None;case qt===Pn.Both||Yt===Pn.Both:return Pn.Both;default:return Pn.EntitiesOnly}}function Se(we,$e){we.sort(n);for(var Ye=[],lt=0,Ft=0;lt<we.length&&Ft<$e.ids.length;){var pt=we[lt],Zt=ga(pt,a),Gt=$e.ids[Ft];n(pt,$e.entities[Gt])<=0?(Ye.push(Zt),lt++):(Ye.push(Gt),Ft++)}$e.ids=Ye.concat(lt<we.length?we.slice(lt).map(a):$e.ids.slice(Ft)),we.forEach(function(qt,Ht){$e.entities[a(qt)]=qt})}return{removeOne:t.removeOne,removeMany:t.removeMany,removeAll:t.removeAll,addOne:Zr(u),updateOne:Zr(E),upsertOne:Zr(function ne(we,$e){return he([we],$e)}),setAll:Zr(function c(we,$e){return $e.entities={},$e.ids=[],l(we,$e),Pn.Both}),setOne:Zr(p),setMany:Zr(function y(we,$e){var Ye=we.map(function(lt){return p(lt,$e)});switch(!0){case Ye.some(function(lt){return lt===Pn.Both}):return Pn.Both;case Ye.some(function(lt){return lt===Pn.EntitiesOnly}):return Pn.EntitiesOnly;default:return Pn.None}}),addMany:Zr(l),updateMany:Zr(R),upsertMany:Zr(he),map:Zr(function B(we,$e){return R($e.ids.reduce(function(lt,Ft){var pt=we($e.entities[Ft]);return pt!==$e.entities[Ft]&&lt.push({id:Ft,changes:pt}),lt},[]),$e)}),mapOne:Zr(function te(we,$e){var lt=we.id,Ft=$e.entities[lt];return Ft?E({id:lt,changes:(0,we.map)(Ft)},$e):Pn.None})}}(r,s):Xp(r);return(0,ue.Z)((0,ue.Z)((0,ue.Z)({selectId:r,sortComparer:s},u),l),c)}var Nk=S(23),td=S(591),Bk=S(2971),Pl=function(){function a(n,t,e){(0,h.Z)(this,a),this.kind=n,this.value=t,this.error=e,this.hasValue="N"===n}return(0,v.Z)(a,[{key:"observe",value:function(t){return d(this,t)}},{key:"do",value:function(t,e,r){var s=this.kind,u=this.value,l=this.error;return"N"===s?t?.(u):"E"===s?e?.(l):r?.()}},{key:"accept",value:function(t,e,r){var s;return(0,Bk.m)(null===(s=t)||void 0===s?void 0:s.next)?this.observe(t):this.do(t,e,r)}},{key:"toObservable",value:function(){var t=this.kind,r=this.error,s="N"===t?(0,ze.of)(this.value):"E"===t?(0,Di._)(function(){return r}):"C"===t?td.E:0;if(!s)throw new TypeError("Unexpected notification kind ".concat(t));return s}}],[{key:"createNext",value:function(t){return new a("N",t)}},{key:"createError",value:function(t){return new a("E",void 0,t)}},{key:"createComplete",value:function(){return a.completeNotification}}]),a}();function d(a,n){var t,e,r,s=a.kind,u=a.value,l=a.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=n.next)||void 0===t||t.call(n,u):"E"===s?null===(e=n.error)||void 0===e||e.call(n,l):null===(r=n.complete)||void 0===r||r.call(n)}Pl.completeNotification=new Pl("C");var m=S(1944);function V(a,n,t,e){return(0,m.e)(function(r,s){var u;n&&"function"!=typeof n?(t=n.duration,u=n.element,e=n.connector):u=n;var l=new Map,c=function(te){l.forEach(te),te(s)},p=function(te){return c(function(ne){return ne.error(te)})},y=0,E=!1,D=new co.Q(s,function(B){try{var te=a(B),ne=l.get(te);if(!ne){l.set(te,ne=e?e():new yn.x);var he=function R(B,te){var ne=new hr.y(function(he){y++;var Se=te.subscribe(he);return function(){Se.unsubscribe(),0==--y&&E&&D.unsubscribe()}});return ne.key=B,ne}(te,ne);if(s.next(he),t){var Se=(0,co.x)(ne,function(){ne.complete(),Se?.unsubscribe()},void 0,void 0,function(){return l.delete(te)});D.add((0,kl.Xf)(t(he)).subscribe(Se))}}ne.next(u?u(B):B)}catch(we){p(we)}},function(){return c(function(B){return B.complete()})},p,function(){return l.clear()},function(){return E=!0,0===y});r.subscribe(D)})}function ie(a,n){return n?function(t){return t.pipe(ie(function(e,r){return(0,kl.Xf)(a(e,r)).pipe((0,ke.U)(function(s,u){return n(e,s,r,u)}))}))}:(0,m.e)(function(t,e){var r=0,s=null,u=!1;t.subscribe((0,co.x)(e,function(l){s||(s=(0,co.x)(e,void 0,function(){s=null,u&&e.complete()}),(0,kl.Xf)(a(l,r++)).subscribe(s))},function(){u=!0,!s&&e.complete()}))})}var Te={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},He="__@ngrx/effects_create__";function gt(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.functional?a:a(),e=(0,ue.Z)((0,ue.Z)({},Te),n);return Object.defineProperty(t,He,{value:e}),t}function Rn(a){return Object.getPrototypeOf(a)}function vo(a){return"function"==typeof a}function Ii(a){return a.filter(vo)}function _t(a,n,t){var e=Rn(a).constructor.name,r=function En(a){return function $t(a){return Object.getOwnPropertyNames(a).filter(function(e){return!(!a[e]||!a[e].hasOwnProperty(He))&&a[e][He].hasOwnProperty("dispatch")}).map(function(e){return(0,ue.Z)({propertyName:e},a[e][He])})}(a)}(a).map(function(s){var u=s.propertyName,l=s.dispatch,c=s.useEffectsErrorHandler,p="function"==typeof a[u]?a[u]():a[u],y=c?t(p,n):p;if(!1===l)return y.pipe((0,Nk.l)());var E=y.pipe(function b(){return(0,m.e)(function(a,n){a.subscribe((0,co.x)(n,function(t){n.next(Pl.createNext(t))},function(){n.next(Pl.createComplete()),n.complete()},function(t){n.next(Pl.createError(t)),n.complete()}))})}());return E.pipe((0,ke.U)(function(D){return{effect:a[u],notification:D,propertyName:u,sourceName:e,sourceInstance:a}}))});return ho.T.apply(void 0,(0,_.Z)(r))}function Jt(a,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return a.pipe((0,Hi.K)(function(e){return n&&n.handleError(e),t<=1?a:Jt(a,n,t-1)}))}var on=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),s=t.call(this),r&&(s.source=r),s}return(0,v.Z)(e,[{key:"lift",value:function(s){var u=new e;return u.source=this,u.operator=s,u}}]),e}(hr.y);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.Y$))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function gn(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];return(0,sn.h)(function(e){return n.some(function(r){return"string"==typeof r?r===e.type:r.type===e.type})})}var On=new o.InjectionToken("@ngrx/effects Internal Root Guard"),ur=new o.InjectionToken("@ngrx/effects User Provided Effects"),qr=new o.InjectionToken("@ngrx/effects Internal Root Effects"),tr=new o.InjectionToken("@ngrx/effects Internal Root Effects Instances"),Ja=new o.InjectionToken("@ngrx/effects Internal Feature Effects"),Ux=new o.InjectionToken("@ngrx/effects Internal Feature Effects Instance Groups"),T5=new o.InjectionToken("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:function(){return Jt}}),QR="@ngrx/effects/init";(0,Vt.PH)(QR);function L5(a){return jk(a,"ngrxOnInitEffects")}function jk(a,n){return a&&n in a&&"function"==typeof a[n]}var zx=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){var u;return(0,h.Z)(this,e),(u=t.call(this)).errorHandler=r,u.effectsErrorHandler=s,u}return(0,v.Z)(e,[{key:"addEffects",value:function(s){this.next(s)}},{key:"toActions",value:function(){var s=this;return this.pipe(V(function(u){return function wr(a){return"Object"!==a.constructor.name&&"Function"!==a.constructor.name}(u)?Rn(u):u}),(0,Qa.z)(function(u){return u.pipe(V(U5))}),(0,Qa.z)(function(u){var l=u.pipe(ie(function(p){return function z5(a,n){return function(t){var e=_t(t,a,n);return function j5(a){return jk(a,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(e):e}}(s.errorHandler,s.effectsErrorHandler)(p)}),(0,ke.U)(function(p){return function I5(a,n){if("N"===a.notification.kind){var t=a.notification.value,e=!function O5(a){return"function"!=typeof a&&a&&a.type&&"string"==typeof a.type}(t);e&&n.handleError(new Error("Effect ".concat(function F5(a){var n=a.propertyName,r="function"==typeof a.sourceInstance[n];return'"'.concat(a.sourceName,".").concat(String(n)).concat(r?"()":"",'"')}(a)," dispatched an invalid action: ").concat(function M5(a){try{return JSON.stringify(a)}catch{return a}}(t))))}}(p,s.errorHandler),p.notification}),(0,sn.h)(function(p){return"N"===p.kind&&null!=p.value}),function xe(){return(0,m.e)(function(a,n){a.subscribe((0,co.x)(n,function(t){return d(t,n)}))})}()),c=u.pipe((0,Vn.q)(1),(0,sn.h)(L5),(0,ke.U)(function(p){return p.ngrxOnInitEffects()}));return(0,ho.T)(l,c)}))}}]),e}(yn.x);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.ErrorHandler),o.\u0275\u0275inject(T5))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function U5(a){return function B5(a){return jk(a,"ngrxOnIdentifyEffects")}(a)?a.ngrxOnIdentifyEffects():""}var $k=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.effectSources=t,this.store=e,this.effectsSubscription=null}return(0,v.Z)(n,[{key:"isStarted",get:function(){return!!this.effectsSubscription}},{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zx),o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),JR=function(){var a=function(){function n(t,e,r,s,u,l,c){(0,h.Z)(this,n),this.sources=t,e.start();var y,p=(0,z.Z)(s);try{for(p.s();!(y=p.n()).done;)t.addEffects(y.value)}catch(D){p.e(D)}finally{p.f()}r.dispatch({type:QR})}return(0,v.Z)(n,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zx),o.\u0275\u0275inject($k),o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(tr),o.\u0275\u0275inject(Vt.cr,8),o.\u0275\u0275inject(Vt.CK,8),o.\u0275\u0275inject(On,8))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}(),V5=function(){var a=(0,v.Z)(function n(t,e,r,s){(0,h.Z)(this,n);var c,u=e.flat(),l=(0,z.Z)(u);try{for(l.s();!(c=l.n()).done;)t.addEffects(c.value)}catch(y){l.e(y)}finally{l.f()}});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(JR),o.\u0275\u0275inject(Ux),o.\u0275\u0275inject(Vt.cr,8),o.\u0275\u0275inject(Vt.CK,8))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}(),Yp=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forFeature",value:function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var u=r.flat(),l=Ii(u);return{ngModule:V5,providers:[l,{provide:Ja,multi:!0,useValue:u},{provide:ur,multi:!0,useValue:[]},{provide:Ux,multi:!0,useFactory:YR,deps:[Ja,ur]}]}}},{key:"forRoot",value:function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var u=r.flat(),l=Ii(u);return{ngModule:JR,providers:[l,{provide:qr,useValue:[u]},{provide:On,useFactory:G5},{provide:ur,multi:!0,useValue:[]},{provide:tr,useFactory:YR,deps:[qr,ur]}]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}();function YR(a,n){var r,t=[],e=(0,z.Z)(a);try{for(e.s();!(r=e.n()).done;)t.push.apply(t,(0,_.Z)(r.value))}catch(p){e.e(p)}finally{e.f()}var l,u=(0,z.Z)(n);try{for(u.s();!(l=u.n()).done;)t.push.apply(t,(0,_.Z)(l.value))}catch(p){u.e(p)}finally{u.f()}return t.map(function(p){return function Pt(a){return a instanceof o.InjectionToken||vo(a)}(p)?(0,o.inject)(p):p})}function G5(){var a=(0,o.inject)($k,{optional:!0,skipSelf:!0}),n=(0,o.inject)(qr,{self:!0});if((1!==n.length||0!==n[0].length)&&a)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Al=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"create",value:function(e,r,s,u){var l="string"==typeof e?(0,ue.Z)((0,ue.Z)({},u||{}),{},{entityName:e,entityOp:r,data:s}):e;return this.createCore(l)}},{key:"createCore",value:function(e){var r=e.entityName,s=e.entityOp,u=e.tag;if(!r)throw new Error("Missing entity name for new action");if(null==s)throw new Error("Missing EntityOp for new action");return{type:this.formatActionType(s,u||r),payload:e}}},{key:"createFromAction",value:function(e,r){return this.create((0,ue.Z)((0,ue.Z)({},e.payload),r))}},{key:"formatActionType",value:function(e,r){return"[".concat(r,"] ").concat(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),eT=function(){function a(n,t){(0,h.Z)(this,a),this.entityName=n,this.selectId=t}return(0,v.Z)(a,[{key:"mustBeEntity",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should have a single entity.");var r=this.selectId(e);return this.isNotKeyType(r)&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeEntities",value:function(t){var e=this,r=this.extractData(t);return Array.isArray(r)?(r.forEach(function(s,u){var l=e.selectId(s);if(e.isNotKeyType(l)){var c=", item ".concat(u+1,", does not have a valid entity key (id)");e.throwError(t,c)}}),r):this.throwError(t,"should be an array of entities")}},{key:"mustBeKey",value:function(t){var e=this.extractData(t);if(void 0===e)throw new Error("should be a single entity key");if(this.isNotKeyType(e))throw new Error("is not a valid key (id)");return e}},{key:"mustBeKeys",value:function(t){var e=this,r=this.extractData(t);return Array.isArray(r)?(r.forEach(function(s,u){if(e.isNotKeyType(s)){var l="".concat(e.entityName," ', item ").concat(u+1,", is not a valid entity key (id)");e.throwError(t,l)}}),r):this.throwError(t,"should be an array of entity keys (id)")}},{key:"mustBeUpdate",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should be a single entity update");var r=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(r)||this.isNotKeyType(u))&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdates",value:function(t){var e=this,r=this.extractData(t);return Array.isArray(r)?(r.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(t,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),r):this.throwError(t,"should be an array of entity updates")}},{key:"mustBeUpdateResponse",value:function(t){var e=this.extractData(t);if(!e)return this.throwError(t,"should be a single entity update");var r=e.id,u=this.selectId(e.changes);return(this.isNotKeyType(r)||this.isNotKeyType(u))&&this.throwError(t,"has a missing or invalid entity key (id)"),e}},{key:"mustBeUpdateResponses",value:function(t){var e=this,r=this.extractData(t);return Array.isArray(r)?(r.forEach(function(s,u){var l=s.id,p=e.selectId(s.changes);(e.isNotKeyType(l)||e.isNotKeyType(p))&&e.throwError(t,", item ".concat(u+1,", has a missing or invalid entity key (id)"))}),r):this.throwError(t,"should be an array of entity updates")}},{key:"extractData",value:function(t){return t.payload&&t.payload.data}},{key:"isNotKeyType",value:function(t){return"string"!=typeof t&&"number"!=typeof t}},{key:"throwError",value:function(t,e){throw new Error("".concat(this.entityName,' EntityAction guard for "').concat(t.type,'": payload ').concat(e))}}]),a}();function eh(a){return a?.id}function tT(a){if(null==a)return[];if(Array.isArray(a[0])){var t=(0,za.Z)(a),e=t[0],r=t.slice(1);a=[].concat((0,_.Z)(e),(0,_.Z)(r))}return a}function nT(a){return a=a||eh,function(t){var e=a(t);if(null==e)throw new Error("Primary key may not be null/undefined.");return t&&{id:e,changes:t}}}function Vx(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];var e=tT(n);switch(e.length){case 0:return(0,sn.h)(function(s){return s.payload&&null!=s.payload.entityOp});case 1:var r=e[0];return(0,sn.h)(function(s){return s.payload&&r===s.payload.entityOp});default:return(0,sn.h)(function(s){var u=s.payload&&s.payload.entityOp;return u&&e.some(function(l){return l===u})})}}function Gx(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];var e=tT(n);switch(e.length){case 0:return(0,sn.h)(function(s){return s.payload&&null!=s.payload.entityName});case 1:var r=e[0];return(0,sn.h)(function(s){return s.payload&&r===s.payload.entityName});default:return(0,sn.h)(function(s){var u=s.payload&&s.payload.entityName;return!!u&&e.some(function(l){return l===u})})}}var ji=function(){return(ji=ji||{}).Add="Add",ji.Delete="Delete",ji.Update="Update",ji.Upsert="Upsert",ji}(),H5=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"add",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ji.Add,entities:e}}},{key:"delete",value:function(t,e){var r=Array.isArray(e)?e:e?[e]:[];return{entityName:t,op:ji.Delete,entities:r}}},{key:"update",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ji.Update,entities:e}}},{key:"upsert",value:function(t,e){return e=Array.isArray(e)?e:e?[e]:[],{entityName:t,op:ji.Upsert,entities:e}}}]),a}();function rT(a){var n=(a=a&&a.changes?a:{changes:[]}).changes.filter(function(t){return null!=t&&t.entities&&t.entities.length>0});return(0,ue.Z)((0,ue.Z)({},a),{},{changes:n})}new H5;var Ur=function(){return(Ur=Ur||{})[Ur.IgnoreChanges=0]="IgnoreChanges",Ur[Ur.PreserveChanges=1]="PreserveChanges",Ur[Ur.OverwriteChanges=2]="OverwriteChanges",Ur}(),dr=function(){return(dr=dr||{}).CLEAR_COLLECTIONS="@ngrx/data/entity-cache/clear-collections",dr.LOAD_COLLECTIONS="@ngrx/data/entity-cache/load-collections",dr.MERGE_QUERY_SET="@ngrx/data/entity-cache/merge-query-set",dr.SET_ENTITY_CACHE="@ngrx/data/entity-cache/set-cache",dr.SAVE_ENTITIES="@ngrx/data/entity-cache/save-entities",dr.SAVE_ENTITIES_CANCEL="@ngrx/data/entity-cache/save-entities-cancel",dr.SAVE_ENTITIES_CANCELED="@ngrx/data/entity-cache/save-entities-canceled",dr.SAVE_ENTITIES_ERROR="@ngrx/data/entity-cache/save-entities-error",dr.SAVE_ENTITIES_SUCCESS="@ngrx/data/entity-cache/save-entities-success",dr}(),q5=(0,v.Z)(function a(n,t){(0,h.Z)(this,a),this.type=dr.CLEAR_COLLECTIONS,this.payload={collections:n,tag:t}}),K5=(0,v.Z)(function a(n,t){(0,h.Z)(this,a),this.type=dr.LOAD_COLLECTIONS,this.payload={collections:n,tag:t}}),W5=(0,v.Z)(function a(n,t,e){(0,h.Z)(this,a),this.type=dr.MERGE_QUERY_SET,this.payload={querySet:n,mergeStrategy:null===t?Ur.PreserveChanges:t,tag:e}}),X5=(0,v.Z)(function a(n,t){(0,h.Z)(this,a),this.cache=n,this.type=dr.SET_ENTITY_CACHE,this.payload={cache:n,tag:t}}),Q5=(0,v.Z)(function a(n,t,e){(0,h.Z)(this,a),this.type=dr.SAVE_ENTITIES,e=e||{},n&&(n.tag=n.tag||e.tag),this.payload=(0,ue.Z)((0,ue.Z)({changeSet:n,url:t},e),{},{tag:n.tag})}),J5=(0,v.Z)(function a(n,t,e,r){(0,h.Z)(this,a),this.type=dr.SAVE_ENTITIES_CANCEL,this.payload={correlationId:n,reason:t,entityNames:e,tag:r}}),Y5=(0,v.Z)(function a(n,t,e){(0,h.Z)(this,a),this.type=dr.SAVE_ENTITIES_CANCELED,this.payload={correlationId:n,reason:t,tag:e}}),e4=(0,v.Z)(function a(n,t){(0,h.Z)(this,a),this.type=dr.SAVE_ENTITIES_ERROR,this.payload={error:n,originalAction:t,correlationId:t.payload.correlationId}}),Lk=(0,v.Z)(function a(n,t,e){(0,h.Z)(this,a),this.type=dr.SAVE_ENTITIES_SUCCESS,e=e||{},n&&(n.tag=n.tag||e.tag),this.payload=(0,ue.Z)((0,ue.Z)({changeSet:n,url:t},e),{},{tag:n.tag})}),vt=function(){return(vt=vt||{}).CANCEL_PERSIST="@ngrx/data/cancel-persist",vt.CANCELED_PERSIST="@ngrx/data/canceled-persist",vt.QUERY_ALL="@ngrx/data/query-all",vt.QUERY_ALL_SUCCESS="@ngrx/data/query-all/success",vt.QUERY_ALL_ERROR="@ngrx/data/query-all/error",vt.QUERY_LOAD="@ngrx/data/query-load",vt.QUERY_LOAD_SUCCESS="@ngrx/data/query-load/success",vt.QUERY_LOAD_ERROR="@ngrx/data/query-load/error",vt.QUERY_MANY="@ngrx/data/query-many",vt.QUERY_MANY_SUCCESS="@ngrx/data/query-many/success",vt.QUERY_MANY_ERROR="@ngrx/data/query-many/error",vt.QUERY_BY_KEY="@ngrx/data/query-by-key",vt.QUERY_BY_KEY_SUCCESS="@ngrx/data/query-by-key/success",vt.QUERY_BY_KEY_ERROR="@ngrx/data/query-by-key/error",vt.SAVE_ADD_MANY="@ngrx/data/save/add-many",vt.SAVE_ADD_MANY_ERROR="@ngrx/data/save/add-many/error",vt.SAVE_ADD_MANY_SUCCESS="@ngrx/data/save/add-many/success",vt.SAVE_ADD_ONE="@ngrx/data/save/add-one",vt.SAVE_ADD_ONE_ERROR="@ngrx/data/save/add-one/error",vt.SAVE_ADD_ONE_SUCCESS="@ngrx/data/save/add-one/success",vt.SAVE_DELETE_MANY="@ngrx/data/save/delete-many",vt.SAVE_DELETE_MANY_SUCCESS="@ngrx/data/save/delete-many/success",vt.SAVE_DELETE_MANY_ERROR="@ngrx/data/save/delete-many/error",vt.SAVE_DELETE_ONE="@ngrx/data/save/delete-one",vt.SAVE_DELETE_ONE_SUCCESS="@ngrx/data/save/delete-one/success",vt.SAVE_DELETE_ONE_ERROR="@ngrx/data/save/delete-one/error",vt.SAVE_UPDATE_MANY="@ngrx/data/save/update-many",vt.SAVE_UPDATE_MANY_SUCCESS="@ngrx/data/save/update-many/success",vt.SAVE_UPDATE_MANY_ERROR="@ngrx/data/save/update-many/error",vt.SAVE_UPDATE_ONE="@ngrx/data/save/update-one",vt.SAVE_UPDATE_ONE_SUCCESS="@ngrx/data/save/update-one/success",vt.SAVE_UPDATE_ONE_ERROR="@ngrx/data/save/update-one/error",vt.SAVE_UPSERT_MANY="@ngrx/data/save/upsert-many",vt.SAVE_UPSERT_MANY_SUCCESS="@ngrx/data/save/upsert-many/success",vt.SAVE_UPSERT_MANY_ERROR="@ngrx/data/save/upsert-many/error",vt.SAVE_UPSERT_ONE="@ngrx/data/save/upsert-one",vt.SAVE_UPSERT_ONE_SUCCESS="@ngrx/data/save/upsert-one/success",vt.SAVE_UPSERT_ONE_ERROR="@ngrx/data/save/upsert-one/error",vt.ADD_ALL="@ngrx/data/add-all",vt.ADD_MANY="@ngrx/data/add-many",vt.ADD_ONE="@ngrx/data/add-one",vt.REMOVE_ALL="@ngrx/data/remove-all",vt.REMOVE_MANY="@ngrx/data/remove-many",vt.REMOVE_ONE="@ngrx/data/remove-one",vt.UPDATE_MANY="@ngrx/data/update-many",vt.UPDATE_ONE="@ngrx/data/update-one",vt.UPSERT_MANY="@ngrx/data/upsert-many",vt.UPSERT_ONE="@ngrx/data/upsert-one",vt.COMMIT_ALL="@ngrx/data/commit-all",vt.COMMIT_MANY="@ngrx/data/commit-many",vt.COMMIT_ONE="@ngrx/data/commit-one",vt.UNDO_ALL="@ngrx/data/undo-all",vt.UNDO_MANY="@ngrx/data/undo-many",vt.UNDO_ONE="@ngrx/data/undo-one",vt.SET_CHANGE_STATE="@ngrx/data/set-change-state",vt.SET_COLLECTION="@ngrx/data/set-collection",vt.SET_FILTER="@ngrx/data/set-filter",vt.SET_LOADED="@ngrx/data/set-loaded",vt.SET_LOADING="@ngrx/data/set-loading",vt}(),Uk="/success",zk="/error";function iT(a){return a+Uk}var nd=(0,v.Z)(function a(n,t){(0,h.Z)(this,a),this.error=n,this.requestData=t,this.message="string"==typeof n?n:function n4(a){var n=a.error,t=a.body,e=a.message,r=null;return n?r="string"==typeof n?n:n.message:e?r=e:t&&(r="string"==typeof t?t:t.error),"string"==typeof r?r:r?JSON.stringify(r):null}(n)}),rd=(0,v.Z)(function a(){(0,h.Z)(this,a)}),Hx=(0,v.Z)(function a(){(0,h.Z)(this,a)}),oT=new o.InjectionToken("@ngrx/data Plural Names"),th=(0,v.Z)(function a(){(0,h.Z)(this,a)}),aT=(0,v.Z)(function a(){(0,h.Z)(this,a)}),sT=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.pluralizer=t,this.knownHttpResourceUrls={}}return(0,v.Z)(n,[{key:"getResourceUrls",value:function(e,r){var u=this.knownHttpResourceUrls[e];if(!u){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?r:uT(r);u={entityResourceUrl:"".concat(l,"/").concat(e,"/").toLowerCase(),collectionResourceUrl:"".concat(l,"/").concat(this.pluralizer.pluralize(e),"/").toLowerCase()},this.registerHttpResourceUrls((0,f.Z)({},e,u))}return u}},{key:"entityResource",value:function(e,r,s){return this.getResourceUrls(e,r,s).entityResourceUrl}},{key:"collectionResource",value:function(e,r){return this.getResourceUrls(e,r).collectionResourceUrl}},{key:"registerHttpResourceUrls",value:function(e){this.knownHttpResourceUrls=(0,ue.Z)((0,ue.Z)({},this.knownHttpResourceUrls),e||{})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(th))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}();function uT(a){return a.replace(/^[/\s]+|[/\s]+$/g,"")}var r4=function(){function a(n,t,e,r){(0,h.Z)(this,a),this.http=t,this.httpUrlGenerator=e,this.getDelay=0,this.saveDelay=0,this.timeout=0,this.trailingSlashEndpoints=!1,this._name="".concat(n," DefaultDataService"),this.entityName=n;var s=r||{},u=s.root,l=void 0===u?"api":u,c=s.delete404OK,y=s.getDelay,E=void 0===y?0:y,D=s.saveDelay,R=void 0===D?0:D,B=s.timeout,te=void 0===B?0:B,ne=s.trailingSlashEndpoints,he=void 0!==ne&&ne;this.delete404OK=void 0===c||c,this.entityUrl=e.entityResource(n,l,he),this.entitiesUrl=e.collectionResource(n,l),this.getDelay=E,this.saveDelay=R,this.timeout=te}return(0,v.Z)(a,[{key:"name",get:function(){return this._name}},{key:"add",value:function(t,e){var r=t||new Error('No "'.concat(this.entityName,'" entity to add'));return this.execute("POST",this.entityUrl,r,null,e)}},{key:"delete",value:function(t,e){var r;return null==t&&(r=new Error('No "'.concat(this.entityName,'" key to delete'))),this.execute("DELETE",this.entityUrl+t,r,null,e).pipe((0,ke.U)(function(s){return t}))}},{key:"getAll",value:function(t){return this.execute("GET",this.entitiesUrl,null,t)}},{key:"getById",value:function(t,e){var r;return null==t&&(r=new Error('No "'.concat(this.entityName,'" key to get'))),this.execute("GET",this.entityUrl+t,r,null,e)}},{key:"getWithQuery",value:function(t,e){var s=new O.HttpParams("string"==typeof t?{fromString:t}:{fromObject:t});return this.execute("GET",this.entitiesUrl,void 0,{params:s},e)}},{key:"update",value:function(t,e){var r=t&&t.id,s=null==r?new Error('No "'.concat(this.entityName,'" update data or id')):t.changes;return this.execute("PUT",this.entityUrl+r,s,null,e)}},{key:"upsert",value:function(t,e){var r=t||new Error('No "'.concat(this.entityName,'" entity to upsert'));return this.execute("POST",this.entityUrl,r,null,e)}},{key:"execute",value:function(t,e,r,s,u){var l=void 0;u&&(l={headers:null!=u&&u.httpHeaders?new O.HttpHeaders(u?.httpHeaders):void 0,params:null!=u&&u.httpParams?new O.HttpParams(u?.httpParams):void 0});var p,y,E,D,c=void 0;(s||l)&&((0,o.isDevMode)()&&s&&l&&console.warn("@ngrx/data: options.httpParams will be merged with queryParams when both are are provided to getWithQuery(). In the event of a conflict HttpOptions.httpParams will override queryParams`. The queryParams parameter of getWithQuery() will be removed in next major release."),c=(0,ue.Z)((0,ue.Z)({},s),{},{headers:null!==(p=null===(y=l)||void 0===y?void 0:y.headers)&&void 0!==p?p:s?.headers,params:null!==(E=null===(D=l)||void 0===D?void 0:D.params)&&void 0!==E?E:s?.params}));var B,R={method:t,url:e,data:r,options:c};if(r instanceof Error)return this.handleError(R)(r);switch(t){case"DELETE":B=this.http.delete(e,c),this.saveDelay&&(B=B.pipe((0,gr.g)(this.saveDelay)));break;case"GET":B=this.http.get(e,c),this.getDelay&&(B=B.pipe((0,gr.g)(this.getDelay)));break;case"POST":B=this.http.post(e,r,c),this.saveDelay&&(B=B.pipe((0,gr.g)(this.saveDelay)));break;case"PUT":B=this.http.put(e,r,c),this.saveDelay&&(B=B.pipe((0,gr.g)(this.saveDelay)));break;default:var te=new Error("Unimplemented HTTP method, "+t);B=(0,Di._)(te)}return this.timeout&&(B=B.pipe((0,Kp.V)(this.timeout+this.saveDelay))),B.pipe((0,Hi.K)(this.handleError(R)))}},{key:"handleError",value:function(t){var e=this;return function(r){var s=e.handleDelete404(r,t);if(s)return s;var u=new nd(r,t);return(0,Di._)(u)}}},{key:"handleDelete404",value:function(t,e){if(404===t.status&&"DELETE"===e.method&&this.delete404OK)return(0,ze.of)({})}}]),a}(),lT=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.http=t,this.httpUrlGenerator=e,this.config=r,e.registerHttpResourceUrls((r=r||{}).entityHttpResourceUrls)}return(0,v.Z)(n,[{key:"create",value:function(e){return new r4(e,this.http,this.httpUrlGenerator,this.config)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(aT),o.\u0275\u0275inject(rd,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),cT=new o.InjectionToken("@ngrx/data Entity Metadata"),na=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.definitions={},t&&t.forEach(function(r){return e.registerMetadataMap(r)})}return(0,v.Z)(n,[{key:"getDefinition",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=e.trim();var s=this.definitions[e];if(!s&&r)throw new Error('No EntityDefinition for entity type "'.concat(e,'".'));return s}},{key:"registerMetadata",value:function(e){if(e){var r=function o4(a){var n=a.entityName;if(!n)throw new Error("Missing required entityName");a.entityName=n=n.trim();var t=a.selectId||eh,e=a.sortComparer=a.sortComparer||!1,r=Jp({selectId:t,sortComparer:e}),s=a.entityDispatcherOptions||{},u=r.getInitialState((0,ue.Z)({entityName:n,filter:"",loaded:!1,loading:!1,changeState:{}},a.additionalCollectionState||{}));return{entityName:n,entityAdapter:r,entityDispatcherOptions:s,initialState:u,metadata:a,noChangeTracking:!0===a.noChangeTracking,selectId:t,sortComparer:e}}(e);this.registerDefinition(r)}}},{key:"registerMetadataMap",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(r||{}).forEach(function(s){return e.registerMetadata((0,ue.Z)({entityName:s},r[s]))})}},{key:"registerDefinition",value:function(e){this.definitions[e.entityName]=e}},{key:"registerDefinitions",value:function(e){Object.assign(this.definitions,e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(cT,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),dT=ji.Update,fT=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.entityDefinitionService=t,this.http=e,this.idSelectors={},this.saveDelay=0,this.timeout=0;var s=r||{},u=s.saveDelay,c=s.timeout,p=void 0===c?0:c;this.saveDelay=void 0===u?0:u,this.timeout=p}return(0,v.Z)(n,[{key:"saveEntities",value:function(e,r){var s=this;e=this.filterChangeSet(e),e=this.flattenUpdates(e);var u=this.http.post(r,e).pipe((0,ke.U)(function(l){return s.restoreUpdates(l)}),(0,Hi.K)(this.handleError({method:"POST",url:r,data:e})));return this.timeout&&(u=u.pipe((0,Kp.V)(this.timeout))),this.saveDelay&&(u=u.pipe((0,gr.g)(this.saveDelay))),u}},{key:"handleError",value:function(e){return function(r){var s=new nd(r,e);return(0,Di._)(s)}}},{key:"filterChangeSet",value:function(e){return rT(e)}},{key:"flattenUpdates",value:function(e){var r=e.changes;if(0===r.length)return e;var s=!1;return r=r.map(function(u){return u.op===dT&&u.entities.length>0?(s=!0,(0,ue.Z)((0,ue.Z)({},u),{},{entities:u.entities.map(function(l){return l.changes})})):u}),s?(0,ue.Z)((0,ue.Z)({},e),{},{changes:r}):e}},{key:"restoreUpdates",value:function(e){var r=this;if(null==e)return e;var s=e.changes;if(0===s.length)return e;var u=!1;return s=s.map(function(l){if(l.op===dT){u=!0;var c=r.getIdSelector(l.entityName);return(0,ue.Z)((0,ue.Z)({},l),{},{entities:l.entities.map(function(p){return{id:c(p),changes:p}})})}return l}),u?(0,ue.Z)((0,ue.Z)({},e),{},{changes:s}):e}},{key:"getIdSelector",value:function(e){var r=this.idSelectors[e];return r||(r=this.entityDefinitionService.getDefinition(e).selectId,this.idSelectors[e]=r),r}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(rd,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),nh=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.defaultDataServiceFactory=t,this.services={}}return(0,v.Z)(n,[{key:"getService",value:function(e){e=e.trim();var r=this.services[e];return r||(r=this.defaultDataServiceFactory.create(e),this.services[e]=r),r}},{key:"registerService",value:function(e,r){this.services[e.trim()]=r}},{key:"registerServices",value:function(e){this.services=(0,ue.Z)((0,ue.Z)({},this.services),e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(lT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),pT=(0,v.Z)(function a(){(0,h.Z)(this,a)}),a4=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.logger=t,this.entityActionFactory=e}return(0,v.Z)(n,[{key:"handleSuccess",value:function(e){var r=this,s=iT(e.payload.entityOp);return function(u){return r.entityActionFactory.createFromAction(e,{entityOp:s,data:u})}}},{key:"handleError",value:function(e){var r=this,s=function t4(a){return a+zk}(e.payload.entityOp);return function(u){var c={error:u instanceof nd?u:new nd(u,null),originalAction:e};return r.logger.error(c),r.entityActionFactory.createFromAction(e,{entityOp:s,data:c})}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Hx),o.\u0275\u0275inject(Al))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),hT=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.message=n,this.message=n||"Canceled by user"}),Vk=function(){var a=function(){function n(){(0,h.Z)(this,n),this.seed=0,this.prefix="CRID"}return(0,v.Z)(n,[{key:"next",value:function(){return this.seed+=1,this.prefix+this.seed}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Gk=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n),this.optimisticAdd=!1,this.optimisticDelete=!0,this.optimisticUpdate=!1,this.optimisticUpsert=!1,this.optimisticSaveEntities=!1});return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),s4=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.correlationIdGenerator=t,this.defaultDispatcherOptions=e,this.store=s,this.reducedActions$=r.pipe((0,lo.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}return(0,v.Z)(n,[{key:"dispatch",value:function(e){return this.store.dispatch(e),e}},{key:"cancelSaveEntities",value:function(e,r,s,u){if(!e)throw new Error("Missing correlationId");var l=new J5(e,r,s,u);this.dispatch(l)}},{key:"clearCollections",value:function(e,r){this.dispatch(new q5(e,r))}},{key:"loadCollections",value:function(e,r){this.dispatch(new K5(e,r))}},{key:"mergeQuerySet",value:function(e,r,s){this.dispatch(new W5(e,r,s))}},{key:"setEntityCache",value:function(e,r){this.dispatch(new X5(e,r))}},{key:"saveEntities",value:function(e,r,s){var u=Array.isArray(e)?{changes:e}:e,l=null==(s=s||{}).correlationId?this.correlationIdGenerator.next():s.correlationId,c=null==s.isOptimistic?this.defaultDispatcherOptions.optimisticSaveEntities||!1:!0===s.isOptimistic,p=s.tag||"Save Entities";s=(0,ue.Z)((0,ue.Z)({},s),{},{correlationId:l,isOptimistic:c,tag:p});var y=new Q5(u,r,s);return this.dispatch(y),this.getSaveEntitiesResponseData$(s.correlationId).pipe((0,lo.d)(1))}},{key:"getSaveEntitiesResponseData$",value:function(e){return this.reducedActions$.pipe((0,sn.h)(function(r){return r.type===dr.SAVE_ENTITIES_SUCCESS||r.type===dr.SAVE_ENTITIES_ERROR||r.type===dr.SAVE_ENTITIES_CANCEL}),(0,sn.h)(function(r){return e===r.payload.correlationId}),(0,Vn.q)(1),(0,Qa.z)(function(r){return r.type===dr.SAVE_ENTITIES_CANCEL?(0,Di._)(new hT(r.payload.reason)):r.type===dr.SAVE_ENTITIES_SUCCESS?(0,ze.of)(r.payload.changeSet):(0,Di._)(r.payload)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vk),o.\u0275\u0275inject(Gk),o.\u0275\u0275inject(Vt.Y$),o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),u4=function(){function a(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eh,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;(0,h.Z)(this,a),this.entityName=n,this.entityActionFactory=t,this.store=e,this.selectId=r,this.defaultDispatcherOptions=s,this.reducedActions$=u,this.correlationIdGenerator=c,this.guard=new eT(n,r),this.toUpdate=nT(r);var p=(0,Vt.P1)(l,function(y){return y[n]});this.entityCollection$=e.select(p)}return(0,v.Z)(a,[{key:"createEntityAction",value:function(t,e,r){return this.entityActionFactory.create((0,ue.Z)({entityName:this.entityName,entityOp:t,data:e},r))}},{key:"createAndDispatch",value:function(t,e,r){var s=this.createEntityAction(t,e,r);return this.dispatch(s),s}},{key:"dispatch",value:function(t){return this.store.dispatch(t),t}},{key:"add",value:function(t,e){var r=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticAdd);var s=this.createEntityAction(vt.SAVE_ADD_ONE,t,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,ma.M)(this.entityCollection$),(0,ke.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[r.selectId(l[0])]}),(0,lo.d)(1))}},{key:"cancel",value:function(t,e,r){if(!t)throw new Error("Missing correlationId");this.createAndDispatch(vt.CANCEL_PERSIST,e,{correlationId:t})}},{key:"delete",value:function(t,e){e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticDelete);var r=this.getKey(t),s=this.createEntityAction(vt.SAVE_DELETE_ONE,r,e);return this.guard.mustBeKey(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,ke.U)(function(){return r}),(0,lo.d)(1))}},{key:"getAll",value:function(t){var e=this;t=this.setQueryEntityActionOptions(t);var r=this.createEntityAction(vt.QUERY_ALL,null,t);return this.dispatch(r),this.getResponseData$(t.correlationId).pipe((0,ma.M)(this.entityCollection$),(0,ke.U)(function(s){var u=(0,g.Z)(s,2),c=u[1];return u[0].reduce(function(p,y){var E=c.entities[e.selectId(y)];return E&&p.push(E),p},[])}),(0,lo.d)(1))}},{key:"getByKey",value:function(t,e){var r=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(vt.QUERY_BY_KEY,t,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,ma.M)(this.entityCollection$),(0,ke.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[r.selectId(l[0])]}),(0,lo.d)(1))}},{key:"getWithQuery",value:function(t,e){var r=this;e=this.setQueryEntityActionOptions(e);var s=this.createEntityAction(vt.QUERY_MANY,t,e);return this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,ma.M)(this.entityCollection$),(0,ke.U)(function(u){var l=(0,g.Z)(u,2),p=l[1];return l[0].reduce(function(y,E){var D=p.entities[r.selectId(E)];return D&&y.push(D),y},[])}),(0,lo.d)(1))}},{key:"load",value:function(t){t=this.setQueryEntityActionOptions(t);var e=this.createEntityAction(vt.QUERY_LOAD,null,t);return this.dispatch(e),this.getResponseData$(t.correlationId).pipe((0,lo.d)(1))}},{key:"loadWithQuery",value:function(t,e){e=this.setQueryEntityActionOptions(e);var r=this.createEntityAction(vt.QUERY_MANY,t,e);return this.dispatch(r),this.getResponseData$(e.correlationId).pipe((0,lo.d)(1))}},{key:"update",value:function(t,e){var r=this,s=this.toUpdate(t);e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpdate);var u=this.createEntityAction(vt.SAVE_UPDATE_ONE,s,e);return e.isOptimistic&&this.guard.mustBeUpdate(u),this.dispatch(u),this.getResponseData$(e.correlationId).pipe((0,ke.U)(function(l){return l.changes}),(0,ma.M)(this.entityCollection$),(0,ke.U)(function(l){var c=(0,g.Z)(l,2);return c[1].entities[r.selectId(c[0])]}),(0,lo.d)(1))}},{key:"upsert",value:function(t,e){var r=this;e=this.setSaveEntityActionOptions(e,this.defaultDispatcherOptions.optimisticUpsert);var s=this.createEntityAction(vt.SAVE_UPSERT_ONE,t,e);return e.isOptimistic&&this.guard.mustBeEntity(s),this.dispatch(s),this.getResponseData$(e.correlationId).pipe((0,ma.M)(this.entityCollection$),(0,ke.U)(function(u){var l=(0,g.Z)(u,2);return l[1].entities[r.selectId(l[0])]}),(0,lo.d)(1))}},{key:"addAllToCache",value:function(t,e){this.createAndDispatch(vt.ADD_ALL,t,e)}},{key:"addOneToCache",value:function(t,e){this.createAndDispatch(vt.ADD_ONE,t,e)}},{key:"addManyToCache",value:function(t,e){this.createAndDispatch(vt.ADD_MANY,t,e)}},{key:"clearCache",value:function(t){this.createAndDispatch(vt.REMOVE_ALL,void 0,t)}},{key:"removeOneFromCache",value:function(t,e){this.createAndDispatch(vt.REMOVE_ONE,this.getKey(t),e)}},{key:"removeManyFromCache",value:function(t,e){var r=this;if(t&&0!==t.length){var s="object"==typeof t[0]?t.map(function(u){return r.getKey(u)}):t;this.createAndDispatch(vt.REMOVE_MANY,s,e)}}},{key:"updateOneInCache",value:function(t,e){var r=this.toUpdate(t);this.createAndDispatch(vt.UPDATE_ONE,r,e)}},{key:"updateManyInCache",value:function(t,e){var r=this;if(t&&0!==t.length){var s=t.map(function(u){return r.toUpdate(u)});this.createAndDispatch(vt.UPDATE_MANY,s,e)}}},{key:"upsertOneInCache",value:function(t,e){this.createAndDispatch(vt.UPSERT_ONE,t,e)}},{key:"upsertManyInCache",value:function(t,e){!t||0===t.length||this.createAndDispatch(vt.UPSERT_MANY,t,e)}},{key:"setFilter",value:function(t){this.createAndDispatch(vt.SET_FILTER,t)}},{key:"setLoaded",value:function(t){this.createAndDispatch(vt.SET_LOADED,!!t)}},{key:"setLoading",value:function(t){this.createAndDispatch(vt.SET_LOADING,!!t)}},{key:"getKey",value:function(t){return"object"==typeof t?this.selectId(t):t}},{key:"getResponseData$",value:function(t){var e=this;return this.reducedActions$.pipe((0,sn.h)(function(r){return!!r.payload}),(0,sn.h)(function(r){var s=r.payload,c=s.entityOp;return s.entityName===e.entityName&&s.correlationId===t&&(c.endsWith(Uk)||c.endsWith(zk)||c===vt.CANCEL_PERSIST)}),(0,Vn.q)(1),(0,Qa.z)(function(r){var s=r.payload.entityOp;return s===vt.CANCEL_PERSIST?(0,Di._)(new hT(r.payload.data)):s.endsWith(Uk)?(0,ze.of)(r.payload.data):(0,Di._)(r.payload.data.error)}))}},{key:"setQueryEntityActionOptions",value:function(t){var e=null==(t=t||{}).correlationId?this.correlationIdGenerator.next():t.correlationId;return(0,ue.Z)((0,ue.Z)({},t),{},{correlationId:e})}},{key:"setSaveEntityActionOptions",value:function(t,e){var r=null==(t=t||{}).correlationId?this.correlationIdGenerator.next():t.correlationId,s=null==t.isOptimistic?e||!1:!0===t.isOptimistic;return(0,ue.Z)((0,ue.Z)({},t),{},{correlationId:r,isOptimistic:s})}}]),a}(),qx="entityCache",Hk=new o.InjectionToken("@ngrx/data Entity Cache Name"),mT=new o.InjectionToken("@ngrx/data Entity Cache Meta Reducers"),gT=new o.InjectionToken("@ngrx/data Entity Collection Meta Reducers"),l4=new o.InjectionToken("@ngrx/data Initial Entity Cache State"),Kx=new o.InjectionToken("@ngrx/data Entity Cache Selector"),c4={provide:Kx,useFactory:vT,deps:[[new o.Optional,Hk]]};function vT(a){return(0,Vt.ZF)(a=a||qx)}var qk=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.entityActionFactory=t,this.store=e,this.entityDispatcherDefaultOptions=r,this.entityCacheSelector=u,this.correlationIdGenerator=l,this.reducedActions$=s.pipe((0,lo.d)(1)),this.raSubscription=this.reducedActions$.subscribe()}return(0,v.Z)(n,[{key:"create",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eh,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=(0,ue.Z)((0,ue.Z)({},this.entityDispatcherDefaultOptions),s);return new u4(e,this.entityActionFactory,this.store,r,u,this.reducedActions$,this.entityCacheSelector,this.correlationIdGenerator)}},{key:"ngOnDestroy",value:function(){this.raSubscription.unsubscribe()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Al),o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(Gk),o.\u0275\u0275inject(Vt.Y$),o.\u0275\u0275inject(Kx),o.\u0275\u0275inject(Vk))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),yT=new o.InjectionToken("@ngrx/data Entity Effects Scheduler"),_T=function(){var a=function(){function n(t,e,r,s,u){var l=this;(0,h.Z)(this,n),this.actions=t,this.dataService=e,this.entityActionFactory=r,this.logger=s,this.scheduler=u,this.responseDelay=10,this.saveEntitiesCancel$=gt(function(){return l.actions.pipe(gn(dr.SAVE_ENTITIES_CANCEL),(0,sn.h)(function(c){return null!=c.payload.correlationId}))},{dispatch:!1}),this.saveEntities$=gt(function(){return l.actions.pipe(gn(dr.SAVE_ENTITIES),(0,Qa.z)(function(c){return l.saveEntities(c)}))})}return(0,v.Z)(n,[{key:"saveEntities",value:function(e){var r=this,s=e.payload.error;if(s)return this.handleSaveEntitiesError$(e)(s);try{var u=rT(e.payload.changeSet),l=e.payload,c=l.correlationId,E=l.url;return 0===u.changes.length?(0,ze.of)(new Lk(u,E,{correlationId:c,mergeStrategy:l.mergeStrategy,tag:l.tag})):Jc(this.saveEntitiesCancel$.pipe((0,sn.h)(function(te){return c===te.payload.correlationId}),(0,ke.U)(function(te){return new Y5(c,te.payload.reason,te.payload.tag)})),this.dataService.saveEntities(u,E).pipe((0,Mu.b)(function(te){return r.handleSaveEntitiesSuccess$(e,r.entityActionFactory)(te)}),(0,Hi.K)(this.handleSaveEntitiesError$(e))))}catch(te){return this.handleSaveEntitiesError$(e)(te)}}},{key:"handleSaveEntitiesError$",value:function(e){var r=this;return function(s){var u=s instanceof nd?s:new nd(s,null);return(0,ze.of)(new e4(u,e)).pipe((0,gr.g)(r.responseDelay,r.scheduler||Yc.z))}}},{key:"handleSaveEntitiesSuccess$",value:function(e,r){var s=e.payload,u=s.url,y={correlationId:s.correlationId,mergeStrategy:s.mergeStrategy,tag:s.tag};return function(E){if(E)return(0,ze.of)(new Lk(E,u,y));if(E=e.payload.changeSet,!e.payload.isOptimistic)return(0,ze.of)(new Lk(E,u,y));var D=E.changes.reduce(function(R,B){return-1===R.indexOf(B.entityName)?R.concat(B.entityName):R},[]);return(0,ho.T)(D.map(function(R){return r.create(R,vt.SET_LOADING,!1)}))}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(fT),o.\u0275\u0275inject(Al),o.\u0275\u0275inject(Hx),o.\u0275\u0275inject(yT,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),d4=[vt.QUERY_ALL,vt.QUERY_LOAD,vt.QUERY_BY_KEY,vt.QUERY_MANY,vt.SAVE_ADD_ONE,vt.SAVE_DELETE_ONE,vt.SAVE_UPDATE_ONE,vt.SAVE_UPSERT_ONE],xT=function(){var a=function(){function n(t,e,r,s,u){var l=this;(0,h.Z)(this,n),this.actions=t,this.dataService=e,this.entityActionFactory=r,this.resultHandler=s,this.scheduler=u,this.responseDelay=10,this.cancel$=gt(function(){return l.actions.pipe(Vx(vt.CANCEL_PERSIST),(0,ke.U)(function(c){return c.payload.correlationId}),(0,sn.h)(function(c){return null!=c}))},{dispatch:!1}),this.persist$=gt(function(){return l.actions.pipe(Vx(d4),(0,Qa.z)(function(c){return l.persist(c)}))})}return(0,v.Z)(n,[{key:"persist",value:function(e){var r=this;if(e.payload.skip)return this.handleSkipSuccess$(e);if(e.payload.error)return this.handleError$(e)(e.payload.error);try{return Jc(this.cancel$.pipe((0,sn.h)(function(l){return e.payload.correlationId===l}),(0,ke.U)(function(l){return r.entityActionFactory.createFromAction(e,{entityOp:vt.CANCELED_PERSIST})})),this.callDataService(e).pipe((0,ke.U)(this.resultHandler.handleSuccess(e)),(0,Hi.K)(this.handleError$(e))))}catch(l){return this.handleError$(e)(l)}}},{key:"callDataService",value:function(e){var r=e.payload,u=r.entityOp,l=r.data,c=r.httpOptions,p=this.dataService.getService(r.entityName);switch(u){case vt.QUERY_ALL:case vt.QUERY_LOAD:return p.getAll(c);case vt.QUERY_BY_KEY:return p.getById(l,c);case vt.QUERY_MANY:return p.getWithQuery(l,c);case vt.SAVE_ADD_ONE:return p.add(l,c);case vt.SAVE_DELETE_ONE:return p.delete(l,c);case vt.SAVE_UPDATE_ONE:var y=l.id,E=l.changes;return p.update(l,c).pipe((0,ke.U)(function(D){return D&&Object.keys(D).length>0?{id:y,changes:(0,ue.Z)((0,ue.Z)({},E),D),changed:!0}:{id:y,changes:E,changed:!1}}));case vt.SAVE_UPSERT_ONE:return p.upsert(l,c).pipe((0,ke.U)(function(D){return D&&Object.keys(D).length>0?D:l}));default:throw new Error('Persistence action "'.concat(u,'" is not implemented.'))}}},{key:"handleError$",value:function(e){var r=this;return function(s){return(0,ze.of)(r.resultHandler.handleError(e)(s)).pipe((0,gr.g)(r.responseDelay,r.scheduler||Yc.z))}}},{key:"handleSkipSuccess$",value:function(e){var r=iT(e.payload.entityOp),s=this.entityActionFactory.createFromAction(e,{entityOp:r});return(0,ze.of)(s).pipe((0,gr.g)(this.responseDelay,this.scheduler||Yc.z))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(nh),o.\u0275\u0275inject(Al),o.\u0275\u0275inject(pT),o.\u0275\u0275inject(yT,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),f4=function(){function a(n,t){(0,h.Z)(this,a),this.entityName=n,n=n.trim();var e=t.create(n),r=e.dispatcher,s=e.selectors,u=e.selectors$;this.entityName=n,this.dispatcher=r,this.guard=r.guard,this.selectId=r.selectId,this.toUpdate=r.toUpdate,this.selectors=s,this.selectors$=u,this.collection$=u.collection$,this.count$=u.count$,this.entities$=u.entities$,this.entityActions$=u.entityActions$,this.entityMap$=u.entityMap$,this.errors$=u.errors$,this.filter$=u.filter$,this.filteredEntities$=u.filteredEntities$,this.keys$=u.keys$,this.loaded$=u.loaded$,this.loading$=u.loading$,this.changeState$=u.changeState$}return(0,v.Z)(a,[{key:"createEntityAction",value:function(t,e,r){return this.dispatcher.createEntityAction(t,e,r)}},{key:"createAndDispatch",value:function(t,e,r){return this.dispatcher.createAndDispatch(t,e,r)}},{key:"dispatch",value:function(t){return this.dispatcher.dispatch(t)}},{key:"store",get:function(){return this.dispatcher.store}},{key:"add",value:function(t,e){return this.dispatcher.add(t,e)}},{key:"cancel",value:function(t,e,r){this.dispatcher.cancel(t,e,r)}},{key:"delete",value:function(t,e){return this.dispatcher.delete(t,e)}},{key:"getAll",value:function(t){return this.dispatcher.getAll(t)}},{key:"getByKey",value:function(t,e){return this.dispatcher.getByKey(t,e)}},{key:"getWithQuery",value:function(t,e){return this.dispatcher.getWithQuery(t,e)}},{key:"load",value:function(t){return this.dispatcher.load(t)}},{key:"loadWithQuery",value:function(t,e){return this.dispatcher.loadWithQuery(t,e)}},{key:"update",value:function(t,e){return this.dispatcher.update(t,e)}},{key:"upsert",value:function(t,e){return this.dispatcher.upsert(t,e)}},{key:"addAllToCache",value:function(t,e){this.dispatcher.addAllToCache(t,e)}},{key:"addOneToCache",value:function(t,e){this.dispatcher.addOneToCache(t,e)}},{key:"addManyToCache",value:function(t,e){this.dispatcher.addManyToCache(t,e)}},{key:"clearCache",value:function(){this.dispatcher.clearCache()}},{key:"removeOneFromCache",value:function(t,e){this.dispatcher.removeOneFromCache(t,e)}},{key:"removeManyFromCache",value:function(t,e){this.dispatcher.removeManyFromCache(t,e)}},{key:"updateOneInCache",value:function(t,e){this.dispatcher.updateOneInCache(t,e)}},{key:"updateManyInCache",value:function(t,e){this.dispatcher.updateManyInCache(t,e)}},{key:"upsertOneInCache",value:function(t,e){this.dispatcher.upsertOneInCache(t,e)}},{key:"upsertManyInCache",value:function(t,e){this.dispatcher.upsertManyInCache(t,e)}},{key:"setFilter",value:function(t){this.dispatcher.setFilter(t)}},{key:"setLoaded",value:function(t){this.dispatcher.setLoaded(!!t)}},{key:"setLoading",value:function(t){this.dispatcher.setLoading(!!t)}}]),a}(),Wx=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.entityDefinitionService=t}return(0,v.Z)(n,[{key:"create",value:function(e){var r=this.entityDefinitionService&&this.entityDefinitionService.getDefinition(e,!1);return r&&r.initialState||function p4(a){return{entityName:a,ids:[],entities:{},filter:void 0,loaded:!1,loading:!1,changeState:{}}}(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),bT=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.entityCollectionCreator=t||new Wx,this.selectEntityCache=e||vT(qx)}return(0,v.Z)(n,[{key:"createCollectionSelector",value:function(e){var r=this;return(0,Vt.P1)(this.selectEntityCache,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[e]||r.entityCollectionCreator.create(e)})}},{key:"createCollectionSelectors",value:function(e){var r="string"==typeof e?{entityName:e}:e,s=function(Se){return Se.ids},u=function(Se){return Se.entities},l=(0,Vt.P1)(s,u,function(he,Se){return he.map(function(we){return Se[we]})}),c=(0,Vt.P1)(s,function(he){return he.length}),p=function(Se){return Se.filter},y=r.filterFn,E=y?(0,Vt.P1)(l,p,function(he,Se){return y(he,Se)}):l,ne={};return Object.keys(r.additionalCollectionState||{}).forEach(function(he){ne["select"+he[0].toUpperCase()+he.slice(1)]=function(Se){return Se[he]}}),(0,ue.Z)({selectCount:c,selectEntities:l,selectEntityMap:u,selectFilter:p,selectFilteredEntities:E,selectKeys:s,selectLoaded:function(Se){return Se.loaded},selectLoading:function(Se){return Se.loading},selectChangeState:function(Se){return Se.changeState}},ne)}},{key:"create",value:function(e){var r="string"==typeof e?{entityName:e}:e,s=r.entityName,u=this.createCollectionSelector(s),l=this.createCollectionSelectors(r),c={};return Object.keys(l).forEach(function(p){c[p]=(0,Vt.P1)(u,l[p])}),(0,ue.Z)({entityName:s,selectCollection:u,selectEntityCache:this.selectEntityCache},c)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Wx,8),o.\u0275\u0275inject(Kx,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Kk=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.store=t,this.actions=e,this.selectEntityCache=r,this.entityCache$=this.store.select(this.selectEntityCache),this.entityActionErrors$=e.pipe((0,sn.h)(function(s){return s.payload&&s.payload.entityOp&&s.payload.entityOp.endsWith(zk)}),(0,lo.d)(1))}return(0,v.Z)(n,[{key:"create",value:function(e,r){var s=this,u={entityName:e};return Object.keys(r).forEach(function(l){if(l.startsWith("select")){var c=l[6].toLowerCase()+l.substring(7)+"$";u[c]=s.store.select(r[l])}}),u.entityActions$=this.actions.pipe(Gx(e)),u.errors$=this.entityActionErrors$.pipe(Gx(e)),u}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(on),o.\u0275\u0275inject(Kx))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),CT=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.entityDispatcherFactory=t,this.entityDefinitionService=e,this.entitySelectorsFactory=r,this.entitySelectors$Factory=s}return(0,v.Z)(n,[{key:"create",value:function(e){e=e.trim();var r=this.entityDefinitionService.getDefinition(e),s=this.entityDispatcherFactory.create(e,r.selectId,r.entityDispatcherOptions),u=this.entitySelectorsFactory.create(r.metadata);return{dispatcher:s,entityName:e,selectors:u,selectors$:this.entitySelectors$Factory.create(e,u)}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(qk),o.\u0275\u0275inject(na),o.\u0275\u0275inject(bT),o.\u0275\u0275inject(Kk))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),wT=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.entityCollectionServiceElementsFactory=t}return(0,v.Z)(n,[{key:"create",value:function(e){return new f4(e,this.entityCollectionServiceElementsFactory)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(CT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),ST=function(){var a=(0,v.Z)(function n(t,e,r,s){(0,h.Z)(this,n),this.entityCollectionServiceFactory=t,this.store=s,this.entityActionErrors$=r.entityActionErrors$,this.entityCache$=r.entityCache$,this.reducedActions$=e.reducedActions$});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(wT),o.\u0275\u0275inject(qk),o.\u0275\u0275inject(Kk),o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),h4=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.entityServicesElements=t,this.EntityCollectionServices={}}return(0,v.Z)(n,[{key:"entityActionErrors$",get:function(){return this.entityServicesElements.entityActionErrors$}},{key:"entityCache$",get:function(){return this.entityServicesElements.entityCache$}},{key:"entityCollectionServiceFactory",get:function(){return this.entityServicesElements.entityCollectionServiceFactory}},{key:"reducedActions$",get:function(){return this.entityServicesElements.reducedActions$}},{key:"store",get:function(){return this.entityServicesElements.store}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"createEntityCollectionService",value:function(e){return this.entityCollectionServiceFactory.create(e)}},{key:"getEntityCollectionService",value:function(e){var r=this.EntityCollectionServices[e];return r||(r=this.createEntityCollectionService(e),this.EntityCollectionServices[e]=r),r}},{key:"registerEntityCollectionService",value:function(e,r){this.EntityCollectionServices[r||e.entityName]=e}},{key:"registerEntityCollectionServices",value:function(e){var r=this;Array.isArray(e)?e.forEach(function(s){return r.registerEntityCollectionService(s)}):Object.keys(e||{}).forEach(function(s){r.registerEntityCollectionService(e[s],s)})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ST))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),ci=(0,v.Z)(function a(){(0,h.Z)(this,a)}),Kr=function(){return(Kr=Kr||{})[Kr.Unchanged=0]="Unchanged",Kr[Kr.Added=1]="Added",Kr[Kr.Deleted=2]="Deleted",Kr[Kr.Updated=3]="Updated",Kr}(),m4=function(){function a(n,t){(0,h.Z)(this,a),this.adapter=n,this.selectId=t,this.selectId=t||eh}return(0,v.Z)(a,[{key:"commitAll",value:function(t){return 0===Object.keys(t.changeState).length?t:(0,ue.Z)((0,ue.Z)({},t),{},{changeState:{}})}},{key:"commitMany",value:function(t,e){var r=this;if(null==t||0===t.length)return e;var s=!1,u=t.reduce(function(l,c){var p="object"==typeof c?r.selectId(c):c;return l[p]&&(s||(l=(0,ue.Z)({},l),s=!0),delete l[p]),l},e.changeState);return s?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:u}):e}},{key:"commitOne",value:function(t,e){return null==t?e:this.commitMany([t],e)}},{key:"mergeQueryResults",value:function(t,e,r){return this.mergeServerUpserts(t,e,Ur.PreserveChanges,r)}},{key:"mergeSaveAdds",value:function(t,e,r){return this.mergeServerUpserts(t,e,Ur.OverwriteChanges,r)}},{key:"mergeSaveDeletes",value:function(t,e,r){var s=t;return e=(r=r??Ur.OverwriteChanges)===Ur.IgnoreChanges?e:this.commitMany(s,e),this.adapter.removeMany(s,e)}},{key:"mergeSaveUpdates",value:function(t,e,r){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t||0===t.length)return e;var p,l=!1,c=e.changeState;switch(r=r??Ur.OverwriteChanges){case Ur.IgnoreChanges:return p=E(t),this.adapter.updateMany(p,e);case Ur.OverwriteChanges:return c=t.reduce(function(D,R){var B=R.id;return D[B]&&(l||(D=(0,ue.Z)({},D),l=!0),delete D[B]),D},e.changeState),e=l?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:c}):e,p=E(t),this.adapter.updateMany(p,e);case Ur.PreserveChanges:var y=[];return c=t.reduce(function(D,R){var B=R.id,te=D[B];if(te){l||(D=(0,ue.Z)({},D),l=!0);var ne=s.selectId(R.changes),he=te;ne!==B&&delete D[B];var Se=(0,ue.Z)((0,ue.Z)({},he.originalValue),R.changes);D[ne]=(0,ue.Z)((0,ue.Z)({},he),{},{originalValue:Se})}else y.push(R);return D},e.changeState),e=l?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:c}):e,p=E(y),this.adapter.updateMany(p,e)}function E(D){return!0===u&&(D=D.filter(function(R){return!0===R.changed})),D.map(function(R){return{id:R.id,changes:R.changes}})}}},{key:"mergeSaveUpserts",value:function(t,e,r){return this.mergeServerUpserts(t,e,Ur.OverwriteChanges,r)}},{key:"mergeServerUpserts",value:function(t,e,r,s){var u=this;if(null==t||0===t.length)return e;var l=!1,c=e.changeState;switch(s=s??r){case Ur.IgnoreChanges:return this.adapter.upsertMany(t,e);case Ur.OverwriteChanges:return e=this.adapter.upsertMany(t,e),c=t.reduce(function(y,E){var D=u.selectId(E);return y[D]&&(l||(y=(0,ue.Z)({},y),l=!0),delete y[D]),y},e.changeState),l?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:c}):e;case Ur.PreserveChanges:var p=[];return c=t.reduce(function(y,E){var D=u.selectId(E);return y[D]?l||(y=(0,ue.Z)((0,ue.Z)({},y),{},(0,f.Z)({},D,(0,ue.Z)((0,ue.Z)({},y[D]),{},{originalValue:E}))),l=!0):p.push(E),y},e.changeState),e=this.adapter.upsertMany(p,e),l?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:c}):e}}},{key:"trackAddMany",value:function(t,e,r){var s=this;if(r===Ur.IgnoreChanges||null==t||0===t.length)return e;var u=!1,l=t.reduce(function(c,p){var y=s.selectId(p);if(null==y||""===y)throw new Error("".concat(e.entityName," entity add requires a key to be tracked"));return c[y]||(u||(u=!0,c=(0,ue.Z)({},c)),c[y]={changeType:Kr.Added}),c},e.changeState);return u?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:l}):e}},{key:"trackAddOne",value:function(t,e,r){return null==t?e:this.trackAddMany([t],e,r)}},{key:"trackDeleteMany",value:function(t,e,r){if(r===Ur.IgnoreChanges||null==t||0===t.length)return e;var s=!1,u=e.entities,l=t.reduce(function(c,p){var y=u[p];if(y){var E=c[p];E?E.changeType===Kr.Added?(D(),delete c[p]):E.changeType===Kr.Updated&&(D(),c[p]=(0,ue.Z)((0,ue.Z)({},c[p]),{},{changeType:Kr.Deleted})):(D(),c[p]={changeType:Kr.Deleted,originalValue:y})}return c;function D(){s||(s=!0,c=(0,ue.Z)({},c))}},e.changeState);return s?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:l}):e}},{key:"trackDeleteOne",value:function(t,e,r){return null==t?e:this.trackDeleteMany([t],e,r)}},{key:"trackUpdateMany",value:function(t,e,r){if(r===Ur.IgnoreChanges||null==t||0===t.length)return e;var s=!1,u=e.entities,l=t.reduce(function(c,p){var y=p.id;if(null==y||""===y)throw new Error("".concat(e.entityName," entity update requires a key to be tracked"));var D=u[y];return D&&(c[y]||(s||(s=!0,c=(0,ue.Z)({},c)),c[y]={changeType:Kr.Updated,originalValue:D})),c},e.changeState);return s?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:l}):e}},{key:"trackUpdateOne",value:function(t,e,r){return null==t?e:this.trackUpdateMany([t],e,r)}},{key:"trackUpsertMany",value:function(t,e,r){var s=this;if(r===Ur.IgnoreChanges||null==t||0===t.length)return e;var u=!1,l=e.entities,c=t.reduce(function(p,y){var E=s.selectId(y);if(null==E||""===E)throw new Error("".concat(e.entityName," entity upsert requires a key to be tracked"));if(!p[E]){u||(u=!0,p=(0,ue.Z)({},p));var R=l[E];p[E]=null==R?{changeType:Kr.Added}:{changeType:Kr.Updated,originalValue:R}}return p},e.changeState);return u?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:c}):e}},{key:"trackUpsertOne",value:function(t,e,r){return null==t?e:this.trackUpsertMany([t],e,r)}},{key:"undoAll",value:function(t){var r=Object.keys(t.changeState).reduce(function(l,c){var p=l.chgState[c];switch(p.changeType){case Kr.Added:l.remove.push(c);break;case Kr.Deleted:var y=p.originalValue;y&&l.upsert.push(y);break;case Kr.Updated:l.upsert.push(p.originalValue)}return l},{remove:[],upsert:[],chgState:t.changeState}),u=r.upsert;return t=this.adapter.removeMany(r.remove,t),t=this.adapter.upsertMany(u,t),(0,ue.Z)((0,ue.Z)({},t),{},{changeState:{}})}},{key:"undoMany",value:function(t,e){var r=this;if(null==t||0===t.length)return e;var s=!1,u=t.reduce(function(y,E){var D=y.changeState,R="object"==typeof E?r.selectId(E):E,B=D[R];if(B)switch(s||(D=(0,ue.Z)({},D),s=!0),delete D[R],y.changeState=D,B.changeType){case Kr.Added:y.remove.push(R);break;case Kr.Deleted:var te=B.originalValue;te&&y.upsert.push(te);break;case Kr.Updated:y.upsert.push(B.originalValue)}return y},{remove:[],upsert:[],changeState:e.changeState}),l=u.changeState,p=u.upsert;return e=this.adapter.removeMany(u.remove,e),e=this.adapter.upsertMany(p,e),s?(0,ue.Z)((0,ue.Z)({},e),{},{changeState:l}):e}},{key:"undoOne",value:function(t,e){return null==t?e:this.undoMany([t],e)}}]),a}(),g4=function(){function a(n,t,e){var r;(0,h.Z)(this,a),this.entityName=n,this.definition=t,this.methods=((0,f.Z)(r={},vt.CANCEL_PERSIST,this.cancelPersist.bind(this)),(0,f.Z)(r,vt.QUERY_ALL,this.queryAll.bind(this)),(0,f.Z)(r,vt.QUERY_ALL_ERROR,this.queryAllError.bind(this)),(0,f.Z)(r,vt.QUERY_ALL_SUCCESS,this.queryAllSuccess.bind(this)),(0,f.Z)(r,vt.QUERY_BY_KEY,this.queryByKey.bind(this)),(0,f.Z)(r,vt.QUERY_BY_KEY_ERROR,this.queryByKeyError.bind(this)),(0,f.Z)(r,vt.QUERY_BY_KEY_SUCCESS,this.queryByKeySuccess.bind(this)),(0,f.Z)(r,vt.QUERY_LOAD,this.queryLoad.bind(this)),(0,f.Z)(r,vt.QUERY_LOAD_ERROR,this.queryLoadError.bind(this)),(0,f.Z)(r,vt.QUERY_LOAD_SUCCESS,this.queryLoadSuccess.bind(this)),(0,f.Z)(r,vt.QUERY_MANY,this.queryMany.bind(this)),(0,f.Z)(r,vt.QUERY_MANY_ERROR,this.queryManyError.bind(this)),(0,f.Z)(r,vt.QUERY_MANY_SUCCESS,this.queryManySuccess.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_MANY,this.saveAddMany.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_MANY_ERROR,this.saveAddManyError.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_MANY_SUCCESS,this.saveAddManySuccess.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_ONE,this.saveAddOne.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_ONE_ERROR,this.saveAddOneError.bind(this)),(0,f.Z)(r,vt.SAVE_ADD_ONE_SUCCESS,this.saveAddOneSuccess.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_MANY,this.saveDeleteMany.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_MANY_ERROR,this.saveDeleteManyError.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_MANY_SUCCESS,this.saveDeleteManySuccess.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_ONE,this.saveDeleteOne.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_ONE_ERROR,this.saveDeleteOneError.bind(this)),(0,f.Z)(r,vt.SAVE_DELETE_ONE_SUCCESS,this.saveDeleteOneSuccess.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_MANY,this.saveUpdateMany.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_MANY_ERROR,this.saveUpdateManyError.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_MANY_SUCCESS,this.saveUpdateManySuccess.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_ONE,this.saveUpdateOne.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_ONE_ERROR,this.saveUpdateOneError.bind(this)),(0,f.Z)(r,vt.SAVE_UPDATE_ONE_SUCCESS,this.saveUpdateOneSuccess.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_MANY,this.saveUpsertMany.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_MANY_ERROR,this.saveUpsertManyError.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_MANY_SUCCESS,this.saveUpsertManySuccess.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_ONE,this.saveUpsertOne.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_ONE_ERROR,this.saveUpsertOneError.bind(this)),(0,f.Z)(r,vt.SAVE_UPSERT_ONE_SUCCESS,this.saveUpsertOneSuccess.bind(this)),(0,f.Z)(r,vt.ADD_ALL,this.addAll.bind(this)),(0,f.Z)(r,vt.ADD_MANY,this.addMany.bind(this)),(0,f.Z)(r,vt.ADD_ONE,this.addOne.bind(this)),(0,f.Z)(r,vt.REMOVE_ALL,this.removeAll.bind(this)),(0,f.Z)(r,vt.REMOVE_MANY,this.removeMany.bind(this)),(0,f.Z)(r,vt.REMOVE_ONE,this.removeOne.bind(this)),(0,f.Z)(r,vt.UPDATE_MANY,this.updateMany.bind(this)),(0,f.Z)(r,vt.UPDATE_ONE,this.updateOne.bind(this)),(0,f.Z)(r,vt.UPSERT_MANY,this.upsertMany.bind(this)),(0,f.Z)(r,vt.UPSERT_ONE,this.upsertOne.bind(this)),(0,f.Z)(r,vt.COMMIT_ALL,this.commitAll.bind(this)),(0,f.Z)(r,vt.COMMIT_MANY,this.commitMany.bind(this)),(0,f.Z)(r,vt.COMMIT_ONE,this.commitOne.bind(this)),(0,f.Z)(r,vt.UNDO_ALL,this.undoAll.bind(this)),(0,f.Z)(r,vt.UNDO_MANY,this.undoMany.bind(this)),(0,f.Z)(r,vt.UNDO_ONE,this.undoOne.bind(this)),(0,f.Z)(r,vt.SET_CHANGE_STATE,this.setChangeState.bind(this)),(0,f.Z)(r,vt.SET_COLLECTION,this.setCollection.bind(this)),(0,f.Z)(r,vt.SET_FILTER,this.setFilter.bind(this)),(0,f.Z)(r,vt.SET_LOADED,this.setLoaded.bind(this)),(0,f.Z)(r,vt.SET_LOADING,this.setLoading.bind(this)),r),this.adapter=t.entityAdapter,this.isChangeTracking=!0!==t.noChangeTracking,this.selectId=t.selectId,this.guard=new eT(n,this.selectId),this.toUpdate=nT(this.selectId),this.entityChangeTracker=e||new m4(this.adapter,this.selectId)}return(0,v.Z)(a,[{key:"cancelPersist",value:function(t){return this.setLoadingFalse(t)}},{key:"queryAll",value:function(t){return this.setLoadingTrue(t)}},{key:"queryAllError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryAllSuccess",value:function(t,e){var r=this.extractData(e),s=this.extractMergeStrategy(e);return(0,ue.Z)((0,ue.Z)({},this.entityChangeTracker.mergeQueryResults(r,t,s)),{},{loaded:!0,loading:!1})}},{key:"queryByKey",value:function(t,e){return this.setLoadingTrue(t)}},{key:"queryByKeyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryByKeySuccess",value:function(t,e){var r=this.extractData(e),s=this.extractMergeStrategy(e);return t=null==r?t:this.entityChangeTracker.mergeQueryResults([r],t,s),this.setLoadingFalse(t)}},{key:"queryLoad",value:function(t){return this.setLoadingTrue(t)}},{key:"queryLoadError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryLoadSuccess",value:function(t,e){var r=this.extractData(e);return(0,ue.Z)((0,ue.Z)({},this.adapter.setAll(r,t)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"queryMany",value:function(t,e){return this.setLoadingTrue(t)}},{key:"queryManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"queryManySuccess",value:function(t,e){var r=this.extractData(e),s=this.extractMergeStrategy(e);return(0,ue.Z)((0,ue.Z)({},this.entityChangeTracker.mergeQueryResults(r,t,s)),{},{loaded:!0,loading:!1})}},{key:"saveAddMany",value:function(t,e){if(this.isOptimistic(e)){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackAddMany(r,t,s),t=this.adapter.addMany(r,t)}return this.setLoadingTrue(t)}},{key:"saveAddManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveAddManySuccess",value:function(t,e){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.isOptimistic(e)?this.entityChangeTracker.mergeSaveUpserts(r,t,s):this.entityChangeTracker.mergeSaveAdds(r,t,s),this.setLoadingFalse(t)}},{key:"saveAddOne",value:function(t,e){if(this.isOptimistic(e)){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackAddOne(r,t,s),t=this.adapter.addOne(r,t)}return this.setLoadingTrue(t)}},{key:"saveAddOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveAddOneSuccess",value:function(t,e){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);if(this.isOptimistic(e)){var u=this.toUpdate(r);t=this.entityChangeTracker.mergeSaveUpdates([u],t,s,!1)}else t=this.entityChangeTracker.mergeSaveAdds([r],t,s);return this.setLoadingFalse(t)}},{key:"saveDeleteOne",value:function(t,e){var r=this.extractData(e),s="object"==typeof r?this.selectId(r):r,u=t.changeState[s];if(u&&(u.changeType===Kr.Added?(t=this.adapter.removeOne(s,t),t=this.entityChangeTracker.commitOne(s,t),e.payload.skip=!0):t=this.entityChangeTracker.trackDeleteOne(s,t)),this.isOptimistic(e)){var l=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackDeleteOne(s,t,l),t=this.adapter.removeOne(s,t)}return this.setLoadingTrue(t)}},{key:"saveDeleteOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveDeleteOneSuccess",value:function(t,e){var r=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.mergeSaveDeletes([r],t,s)}else t=this.adapter.removeOne(r,t),t=this.entityChangeTracker.commitOne(r,t);return this.setLoadingFalse(t)}},{key:"saveDeleteMany",value:function(t,e){var r=this,s=this.extractData(e).map(function(l){return"object"==typeof l?r.selectId(l):l});if(s.forEach(function(l){var c=t.changeState[l];c&&(c.changeType===Kr.Added?(t=r.adapter.removeOne(l,t),t=r.entityChangeTracker.commitOne(l,t),e.payload.skip=!0):t=r.entityChangeTracker.trackDeleteOne(l,t))}),this.isOptimistic(e)){var u=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackDeleteMany(s,t,u),t=this.adapter.removeMany(s,t)}return this.setLoadingTrue(t)}},{key:"saveDeleteManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveDeleteManySuccess",value:function(t,e){var r=this.extractData(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.mergeSaveDeletes(r,t,s)}else t=this.adapter.removeMany(r,t),t=this.entityChangeTracker.commitMany(r,t);return this.setLoadingFalse(t)}},{key:"saveUpdateOne",value:function(t,e){var r=this.guard.mustBeUpdate(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpdateOne(r,t,s),t=this.adapter.updateOne(r,t)}return this.setLoadingTrue(t)}},{key:"saveUpdateOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpdateOneSuccess",value:function(t,e){var r=this.guard.mustBeUpdateResponse(e),s=this.isOptimistic(e),u=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpdates([r],t,u,s),this.setLoadingFalse(t)}},{key:"saveUpdateMany",value:function(t,e){var r=this.guard.mustBeUpdates(e);if(this.isOptimistic(e)){var s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpdateMany(r,t,s),t=this.adapter.updateMany(r,t)}return this.setLoadingTrue(t)}},{key:"saveUpdateManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpdateManySuccess",value:function(t,e){var r=this.guard.mustBeUpdateResponses(e),u=(this.isOptimistic(e),this.extractMergeStrategy(e));return t=this.entityChangeTracker.mergeSaveUpdates(r,t,u,!1),this.setLoadingFalse(t)}},{key:"saveUpsertOne",value:function(t,e){if(this.isOptimistic(e)){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpsertOne(r,t,s),t=this.adapter.upsertOne(r,t)}return this.setLoadingTrue(t)}},{key:"saveUpsertOneError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpsertOneSuccess",value:function(t,e){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpserts([r],t,s),this.setLoadingFalse(t)}},{key:"saveUpsertMany",value:function(t,e){if(this.isOptimistic(e)){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);t=this.entityChangeTracker.trackUpsertMany(r,t,s),t=this.adapter.upsertMany(r,t)}return this.setLoadingTrue(t)}},{key:"saveUpsertManyError",value:function(t,e){return this.setLoadingFalse(t)}},{key:"saveUpsertManySuccess",value:function(t,e){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.mergeSaveUpserts(r,t,s),this.setLoadingFalse(t)}},{key:"addAll",value:function(t,e){var r=this.guard.mustBeEntities(e);return(0,ue.Z)((0,ue.Z)({},this.adapter.setAll(r,t)),{},{loading:!1,loaded:!0,changeState:{}})}},{key:"addMany",value:function(t,e){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackAddMany(r,t,s),this.adapter.addMany(r,t)}},{key:"addOne",value:function(t,e){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackAddOne(r,t,s),this.adapter.addOne(r,t)}},{key:"removeMany",value:function(t,e){var r=this.guard.mustBeKeys(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackDeleteMany(r,t,s),this.adapter.removeMany(r,t)}},{key:"removeOne",value:function(t,e){var r=this.guard.mustBeKey(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackDeleteOne(r,t,s),this.adapter.removeOne(r,t)}},{key:"removeAll",value:function(t,e){return(0,ue.Z)((0,ue.Z)({},this.adapter.removeAll(t)),{},{loaded:!1,loading:!1,changeState:{}})}},{key:"updateMany",value:function(t,e){var r=this.guard.mustBeUpdates(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpdateMany(r,t,s),this.adapter.updateMany(r,t)}},{key:"updateOne",value:function(t,e){var r=this.guard.mustBeUpdate(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpdateOne(r,t,s),this.adapter.updateOne(r,t)}},{key:"upsertMany",value:function(t,e){var r=this.guard.mustBeEntities(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpsertMany(r,t,s),this.adapter.upsertMany(r,t)}},{key:"upsertOne",value:function(t,e){var r=this.guard.mustBeEntity(e),s=this.extractMergeStrategy(e);return t=this.entityChangeTracker.trackUpsertOne(r,t,s),this.adapter.upsertOne(r,t)}},{key:"commitAll",value:function(t){return this.entityChangeTracker.commitAll(t)}},{key:"commitMany",value:function(t,e){return this.entityChangeTracker.commitMany(this.extractData(e),t)}},{key:"commitOne",value:function(t,e){return this.entityChangeTracker.commitOne(this.extractData(e),t)}},{key:"undoAll",value:function(t){return this.entityChangeTracker.undoAll(t)}},{key:"undoMany",value:function(t,e){return this.entityChangeTracker.undoMany(this.extractData(e),t)}},{key:"undoOne",value:function(t,e){return this.entityChangeTracker.undoOne(this.extractData(e),t)}},{key:"setChangeState",value:function(t,e){var r=this.extractData(e);return t.changeState===r?t:(0,ue.Z)((0,ue.Z)({},t),{},{changeState:r})}},{key:"setCollection",value:function(t,e){var r=this.extractData(e);return t===r?t:r}},{key:"setFilter",value:function(t,e){var r=this.extractData(e);return t.filter===r?t:(0,ue.Z)((0,ue.Z)({},t),{},{filter:r})}},{key:"setLoaded",value:function(t,e){var r=!0===this.extractData(e)||!1;return t.loaded===r?t:(0,ue.Z)((0,ue.Z)({},t),{},{loaded:r})}},{key:"setLoading",value:function(t,e){return this.setLoadingFlag(t,this.extractData(e))}},{key:"setLoadingFalse",value:function(t){return this.setLoadingFlag(t,!1)}},{key:"setLoadingTrue",value:function(t){return this.setLoadingFlag(t,!0)}},{key:"setLoadingFlag",value:function(t,e){return t.loading===(e=!0===e)?t:(0,ue.Z)((0,ue.Z)({},t),{},{loading:e})}},{key:"extractData",value:function(t){return t.payload&&t.payload.data}},{key:"extractMergeStrategy",value:function(t){return this.isChangeTracking?t.payload&&t.payload.mergeStrategy:Ur.IgnoreChanges}},{key:"isOptimistic",value:function(t){return t.payload&&!0===t.payload.isOptimistic}}]),a}(),ET=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.entityDefinitionService=t}return(0,v.Z)(n,[{key:"create",value:function(e){var r=this.entityDefinitionService.getDefinition(e);return new g4(e,r).methods}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),kT=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.methodsFactory=t}return(0,v.Z)(n,[{key:"create",value:function(e){var r=this.methodsFactory.create(e);return function(u,l){var c=r[l.payload.entityOp];return c?c(u,l):u}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ET))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),PT=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.entityCollectionReducerFactory=t,this.entityCollectionReducers={},this.entityCollectionMetaReducer=Vt.qC.apply(null,e||[])}return(0,v.Z)(n,[{key:"getOrCreateReducer",value:function(e){var r=this.entityCollectionReducers[e];return r||(r=this.entityCollectionReducerFactory.create(e),r=this.registerReducer(e,r),this.entityCollectionReducers[e]=r),r}},{key:"registerReducer",value:function(e,r){return r=this.entityCollectionMetaReducer(r),this.entityCollectionReducers[e.trim()]=r}},{key:"registerReducers",value:function(e){var r=this;(e?Object.keys(e):[]).forEach(function(u){return r.registerReducer(u,e[u])})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(kT),o.\u0275\u0275inject(gT,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),AT=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.entityCollectionCreator=t,this.entityCollectionReducerRegistry=e,this.logger=r}return(0,v.Z)(n,[{key:"create",value:function(){return function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case dr.CLEAR_COLLECTIONS:return this.clearCollectionsReducer(r,s);case dr.LOAD_COLLECTIONS:return this.loadCollectionsReducer(r,s);case dr.MERGE_QUERY_SET:return this.mergeQuerySetReducer(r,s);case dr.SAVE_ENTITIES:return this.saveEntitiesReducer(r,s);case dr.SAVE_ENTITIES_CANCEL:return this.saveEntitiesCancelReducer(r,s);case dr.SAVE_ENTITIES_ERROR:return this.saveEntitiesErrorReducer(r,s);case dr.SAVE_ENTITIES_SUCCESS:return this.saveEntitiesSuccessReducer(r,s);case dr.SET_ENTITY_CACHE:return s.payload.cache}var u=s.payload;return u&&u.entityName&&u.entityOp&&!u.error?this.applyCollectionReducer(r,s):r}.bind(this)}},{key:"clearCollectionsReducer",value:function(e,r){var s=this,l=r.payload.collections,p=vt.REMOVE_ALL;return l||(l=Object.keys(e)),l.reduce(function(y,E){var D={entityName:E,entityOp:p},R={type:"[".concat(E,"] ").concat(r.type),payload:D};return s.applyCollectionReducer(y,R)},e)}},{key:"loadCollectionsReducer",value:function(e,r){var s=this,l=r.payload.collections,p=vt.ADD_ALL;return Object.keys(l).reduce(function(E,D){var R={entityName:D,entityOp:p,data:l[D]},B={type:"[".concat(D,"] ").concat(r.type),payload:R};return s.applyCollectionReducer(E,B)},e)}},{key:"mergeQuerySetReducer",value:function(e,r){var s=this,u=r.payload,l=u.mergeStrategy,c=u.querySet;l=null===l?Ur.PreserveChanges:l;var y=vt.QUERY_MANY_SUCCESS;return Object.keys(c).reduce(function(D,R){var B={entityName:R,entityOp:y,data:c[R],mergeStrategy:l},te={type:"[".concat(R,"] ").concat(r.type),payload:B};return s.applyCollectionReducer(D,te)},e)}},{key:"saveEntitiesReducer",value:function(e,r){var s=this,u=r.payload,l=u.changeSet,c=u.correlationId,p=u.isOptimistic,y=u.mergeStrategy,E=u.tag;try{l.changes.forEach(function(R){var B=R.entityName,te={entityName:B,entityOp:D(R),data:R.entities,correlationId:c,isOptimistic:p,mergeStrategy:y,tag:E},ne={type:"[".concat(B,"] ").concat(r.type),payload:te};if(e=s.applyCollectionReducer(e,ne),ne.payload.error)throw ne.payload.error})}catch(R){r.payload.error=R}return e;function D(R){switch(R.op){case ji.Add:return vt.SAVE_ADD_MANY;case ji.Delete:return vt.SAVE_DELETE_MANY;case ji.Update:return vt.SAVE_UPDATE_MANY;case ji.Upsert:return vt.SAVE_UPSERT_MANY}}}},{key:"saveEntitiesCancelReducer",value:function(e,r){return this.clearLoadingFlags(e,r.payload.entityNames||[])}},{key:"saveEntitiesErrorReducer",value:function(e,r){var l=r.payload.originalAction.payload.changeSet.changes.map(function(c){return c.entityName});return this.clearLoadingFlags(e,l)}},{key:"saveEntitiesSuccessReducer",value:function(e,r){var s=this,u=r.payload,c=u.correlationId,p=u.isOptimistic,y=u.mergeStrategy,E=u.tag;return u.changeSet.changes.forEach(function(R){var B=R.entityName,te={entityName:B,entityOp:D(R),data:R.entities,correlationId:c,isOptimistic:p,mergeStrategy:y,tag:E},ne={type:"[".concat(B,"] ").concat(r.type),payload:te};e=s.applyCollectionReducer(e,ne)}),e;function D(R){switch(R.op){case ji.Add:return vt.SAVE_ADD_MANY_SUCCESS;case ji.Delete:return vt.SAVE_DELETE_MANY_SUCCESS;case ji.Update:return vt.SAVE_UPDATE_MANY_SUCCESS;case ji.Upsert:return vt.SAVE_UPSERT_MANY_SUCCESS}}}},{key:"applyCollectionReducer",value:function(){var c,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=r.payload.entityName,u=e[s],l=this.entityCollectionReducerRegistry.getOrCreateReducer(s);try{c=l(u||this.entityCollectionCreator.create(s),r)}catch(p){this.logger.error(p),r.payload.error=p}return r.payload.error||u===c?e:(0,ue.Z)((0,ue.Z)({},e),{},(0,f.Z)({},s,c))}},{key:"clearLoadingFlags",value:function(e,r){var s=!1;return r.forEach(function(u){var l=e[u];l.loading&&(s||(e=(0,ue.Z)({},e),s=!0),e[u]=(0,ue.Z)((0,ue.Z)({},l),{},{loading:!1}))}),e}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Wx),o.\u0275\u0275inject(PT),o.\u0275\u0275inject(Hx))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),y4=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"error",value:function(e,r){e&&(r?console.error(e,r):console.error(e))}},{key:"log",value:function(e,r){e&&(r?console.log(e,r):console.log(e))}},{key:"warn",value:function(e,r){e&&(r?console.warn(e,r):console.warn(e))}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),_4=["equipment","information","money","series"],RT=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.pluralNames={},t&&t.forEach(function(r){return e.registerPluralNames(r)})}return(0,v.Z)(n,[{key:"pluralize",value:function(e){return this.pluralNames[e]||(_4.indexOf(e.toLowerCase())>=0?e:/[aeiou]y$/.test(e)?e+"s":e.endsWith("y")?e.substring(0,e.length-1)+"ies":/[s|ss|sh|ch|x|z]$/.test(e)?e+"es":e+"s")}},{key:"registerPluralNames",value:function(e){this.pluralNames=(0,ue.Z)((0,ue.Z)({},this.pluralNames),e||{})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(oT,8))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),TT=[Vk,Gk,Al,s4,AT,c4,Wx,kT,ET,PT,CT,wT,na,qk,bT,Kk,ST,{provide:Hk,useValue:qx},{provide:ci,useClass:h4},{provide:Hx,useClass:y4},{provide:o.ENVIRONMENT_INITIALIZER,multi:!0,useValue:function(){return function b4(){var a=(0,o.inject)(Vt.PB),n=(0,o.inject)(AT),t=(0,o.inject)(Hk,{optional:!0}),e=(0,o.inject)(l4,{optional:!0}),r=(0,o.inject)(mT,{optional:!0}),s=t||qx,u=(r||[]).map(function(p){return p instanceof o.InjectionToken?(0,o.inject)(p):p}),l="function"==typeof e?e():e,c={key:s,reducers:n.create(),reducerFactory:Vt.UY,initialState:l||{},metaReducers:u};a.addFeature(c)}()}}],DT=[lT,fT,nh,_T,xT,{provide:aT,useClass:sT},{provide:pT,useClass:a4},{provide:th,useClass:RT},{provide:o.ENVIRONMENT_INITIALIZER,multi:!0,useValue:function(){return function C4(){var a=(0,o.inject)(zx),n=(0,o.inject)(_T),t=(0,o.inject)(xT);a.addEffects(n),a.addEffects(t)}()}}];function Wk(a){return[{provide:mT,useValue:a.entityCacheMetaReducers?a.entityCacheMetaReducers:[]},{provide:gT,useValue:a.entityCollectionMetaReducers?a.entityCollectionMetaReducers:[]},{provide:oT,multi:!0,useValue:a.pluralNames?a.pluralNames:{}},{provide:cT,multi:!0,useValue:a.entityMetadata?a.entityMetadata:[]}]}var S4=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[Wk(e)]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[TT]}),a}(),E4=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[Wk(e)]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[DT],imports:[S4]}),a}(),ra=function(){return(ra=ra||{}).Login="[Auth] Login",ra.Logout="[Auth] Logout",ra.CompleteAuthentication="[Auth] CompleteAuthentication",ra.SetUser="[Auth] SetUser",ra}(),Xk=(0,v.Z)(function a(){(0,h.Z)(this,a),this.type=ra.Login}),Qk=(0,v.Z)(function a(){(0,h.Z)(this,a),this.type=ra.Logout}),Jk=(0,v.Z)(function a(){(0,h.Z)(this,a),this.type=ra.CompleteAuthentication}),Yk=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.payload=n,this.type=ra.SetUser}),rh=Object.freeze({__proto__:null,get AuthActionTypes(){return ra},CompleteAuthentication:Jk,Login:Xk,Logout:Qk,SetUser:Yk,fromAuthActions:{Login:Xk,Logout:Qk,CompleteAuthentication:Jk,SetUser:Yk}}),IT={user:void 0,cookies:new Map};function OT(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IT,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ra.SetUser:a=(0,ue.Z)((0,ue.Z)({},a),{},{user:n.payload});break;case ra.Logout:a=(0,ue.Z)((0,ue.Z)({},a),{},{user:void 0})}return a}var P4=(0,Vt.ZF)("auth"),A4=(0,Vt.P1)(P4,function(a){return a.user}),Xx={getUser:A4},Da=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.store=t,this.getUser$=this.store.pipe((0,Vt.Ys)(Xx.getUser)),this.token$=this.store.pipe((0,Vt.Ys)(Xx.getUser),(0,ke.U)(function(e){return e?"".concat(e.token_type," ").concat(e.access_token):void 0})),this.idToken$=this.store.pipe((0,Vt.Ys)(Xx.getUser),(0,ke.U)(function(e){return e?"".concat(e.token_type," ").concat(e.id_token):void 0}))}return(0,v.Z)(n,[{key:"login",value:function(){this.store.dispatch(new Xk)}},{key:"logout",value:function(){this.store.dispatch(new Qk)}},{key:"setUser",value:function(e){this.store.dispatch(new Yk(e))}},{key:"completeAuthentication",value:function(){this.store.dispatch(new Jk)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),R4={PublicUserProfile:{entityName:"PublicUserProfile"}},T4=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.authFacade=t,this.router=e,this.route=r,this.platformId=s}return(0,v.Z)(n,[{key:"ngOnInit",value:(t=zt((0,We.Z)().mark(function r(){return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.authFacade.completeAuthentication(),this.router.navigate(["/pages/create-panel-page"],{queryParams:{cacheBuster:Br()}});case 2:case"end":return u.stop()}},r,this)})),function e(){return t.apply(this,arguments)})}]),n;var t}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Da),o.\u0275\u0275directiveInject(Cr.Router),o.\u0275\u0275directiveInject(Cr.ActivatedRoute),o.\u0275\u0275directiveInject(o.PLATFORM_ID))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-auth-callback"]],decls:2,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"auth-callback works!"),o.\u0275\u0275elementEnd())}}),a}(),ih=function(){var a=function(){function n(t){(0,h.Z)(this,n),t.registerMetadataMap(R4)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[Da]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,Vt.Aw.forFeature("auth",OT)]}),a}(),D4=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.authFacade=t,this.router=e}return(0,v.Z)(n,[{key:"intercept",value:function(e,r){return r.handle(e).pipe((0,bt.b)({error:function(u){}}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Da),o.\u0275\u0275inject(Cr.Router))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Qx=S(7478),I4=S(464),id=S(2578),O4=new o.InjectionToken("REQUEST"),ct=(new o.InjectionToken("RESPONSE"),S(2673)),tP=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.authority=n.authority,this.client_id=n.client_id,this.redirect_uri=n.redirect_uri,this.silent_redirect_uri=n.silent_redirect_uri,this.response_type=n.response_type,this.scope=n.scope,this.filterProtocolClaims=n.filterProtocolClaims,this.loadUserInfo=n.loadUserInfo,this.automaticSilentRenew=n.automaticSilentRenew,this.metadata=(0,ue.Z)({},n.metadata),this.userStore=n.userStore?n.userStore:void 0,this.stateStore=n.userStore?n.stateStore:void 0)}),nP=(0,j.Cb)("auth"),rP=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.clientSettings=t,this.platformId=e,this.transferState=r,this.data={},this.isBrowser=(0,w.isPlatformBrowser)(this.platformId),this.cookieMap={oa:"access_token",oi:"id_token",or:"refresh_token",os:"scope",oe:"expires_at",op:"profile"},this.tokenKey="oidc.user:".concat(this.clientSettings.authority,":").concat(this.clientSettings.client_id)}return(0,v.Z)(n,[{key:"request",set:function(e){this.req=e}},{key:"init",value:function(){var e=this;if(this.isBrowser)if(sessionStorage.getItem(this.tokenKey))this.setItem(this.tokenKey,sessionStorage.getItem(this.tokenKey));else if(this.transferState.hasKey(nP)){var r=this.transferState.get(nP,void 0);r&&this.setItem(this.tokenKey,r)}else for(var s=0;s<sessionStorage.length;s++){var u=sessionStorage.key(s);this.setItem(u,sessionStorage.getItem(u))}else{var c,l={token_type:"Bearer"};Object.getOwnPropertyNames(this.cookieMap).forEach(function(p){var y=e.getCookie(p);y&&""!==y&&(y=e.translateFromCookieValue(p,y),"oe"===p?c=y:l[e.cookieMap[p]]=y)}),l.access_token&&(this.data[this.tokenKey]=JSON.stringify(l),this.transferState.set(nP,JSON.stringify((0,ue.Z)((0,ue.Z)({},l),{},{expires_at:c}))))}}},{key:"getItem",value:function(e){return this.data[e]}},{key:"setItem",value:function(e,r){var s=this;if(e===this.tokenKey){var u=JSON.parse(r);Object.getOwnPropertyNames(this.cookieMap).forEach(function(l){s.setCookie(l,s.translateCookieValue(l,u[s.cookieMap[l]]))})}this.isBrowser&&sessionStorage.setItem(e,r),this.data[e]=r}},{key:"removeItem",value:function(e){this.removeCookie(e),this.isBrowser&&sessionStorage.removeItem(e),delete this.data[e]}},{key:"length",get:function(){return Object.getOwnPropertyNames(this.data).length}},{key:"key",value:function(e){return console.log("index()"),Object.getOwnPropertyNames(this.data)[e]}},{key:"getCookie",value:function(e){return this.isBrowser?Qx.get(e):this.req?null!==(r=this.req.cookies[e])&&void 0!==r?r:"":void 0;var r}},{key:"setCookie",value:function(e,r){this.isBrowser&&Qx.set(e,r)}},{key:"removeCookie",value:function(e){this.isBrowser&&Qx.remove(e)}},{key:"translateCookieValue",value:function(e,r){switch(e){case"os":return r.split(" ").join("|");case"oe":return"".concat(r);case"op":return JSON.stringify(r);default:return r}}},{key:"translateFromCookieValue",value:function(e,r){switch(e){case"os":return r.split("|").join(" ");case"oe":return(0,I4.He)(r);case"op":return JSON.parse(r);default:return r}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(tP),o.\u0275\u0275inject(Object),o.\u0275\u0275inject(j.ki))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),F4=function(n,t){return new id.UserManager(new tP((0,ue.Z)((0,ue.Z)({},n),{},{stateStore:new id.WebStorageStateStore({store:t}),userStore:new id.WebStorageStateStore({store:t})})))},M4=function(n,t,e){return function(){return new Promise(function(r){n.getUser().then(function(s){s?(t.setUser(s),setTimeout(function(){return r()})):r()})})}},N4=function(n,t,e,r){var s=new rP(n,t,r);if((0,w.isPlatformServer)(t))try{s.request=e.get(O4)}catch{}return s.init(),s},B4=function(){var a=(0,v.Z)(function n(t,e,r){var s=this;(0,h.Z)(this,n),this.actions$=t,this.userManager=e,this.entityActionFactory=r,this.login$=gt(function(){return s.actions$.pipe(gn(rh.AuthActionTypes.Login),(0,bt.b)(function(){s.userManager.signinRedirect()}))},{dispatch:!1}),this.logout$=gt(function(){return s.actions$.pipe(gn(rh.AuthActionTypes.Logout),(0,bt.b)(function(){s.userManager.signoutRedirect()}))},{dispatch:!1}),this.completeAuthentication$=gt(function(){return s.actions$.pipe(gn(rh.AuthActionTypes.CompleteAuthentication),(0,ct.w)(function(){return new hr.y(function(u){s.userManager.signinRedirectCallback().then(function(l){u.next(new rh.SetUser(l)),u.complete()})})}))}),this.loadCookies$=gt(function(){return s.actions$.pipe(Gx("Cookie"),Vx([vt.QUERY_ALL_SUCCESS]),(0,bt.b)(function(u){return console.log(u.payload.data)}),(0,bt.b)(function(u){}))},{dispatch:!1})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(id.UserManager),o.\u0275\u0275inject(Al))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Z4={Cookie:{entityName:"Cookie"}},iP=new o.InjectionToken("ClientSettings"),j4=function(){var a=function(){function n(t){(0,h.Z)(this,n),t.registerMetadataMap(Z4)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[{provide:rP,useFactory:N4,deps:[iP,o.PLATFORM_ID,o.Injector,j.ki]},{provide:id.UserManager,useFactory:F4,deps:[iP,rP]},{provide:o.APP_INITIALIZER,useFactory:M4,multi:!0,deps:[id.UserManager,Da,o.PLATFORM_ID]}]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[ih,Yp.forFeature([B4])]}),a}(),$4=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.authFacade=t}return(0,v.Z)(n,[{key:"intercept",value:function(e,r){return this.authFacade.idToken$.pipe((0,Vn.q)(1),(0,Mu.b)(function(s){var u=e.headers;if(e.url.indexOf("/awproxy"),s&&-1===e.url.indexOf("github")&&-1===e.url.indexOf("cloudfront")&&-1===e.url.indexOf("cloudinary")&&-1===e.url.indexOf("carquery")&&-1===e.url.indexOf("gateway.marvel.com")&&-1===e.url.indexOf("hereapi.com")&&-1===e.url.indexOf(".es.")&&-1===e.url.indexOf(".s3.")&&-1===e.url.indexOf("/awproxy")){u=u.set("Authorization",s);var l=e.clone({headers:u});return r.handle(l)}var c=e.clone({headers:u});return r.handle(c)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Da))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Sn=S(1348),nr=S(1640),L4=S(4423),U4=S(5463);function oP(a,n){var t="object"==typeof n;return new Promise(function(e,r){var s=new U4.Hp({next:function(l){e(l),s.unsubscribe()},error:r,complete:function(){t?e(n.defaultValue):r(new L4.K)}});a.subscribe(s)})}var z4=function(){var a=(0,v.Z)(function n(t,e){var r=this;(0,h.Z)(this,n),this.actions$=t,this.entityActionFactory=e,this.setUser=gt(function(){return r.actions$.pipe(gn(rh.AuthActionTypes.SetUser),(0,ke.U)(function(){return r.entityActionFactory.create("Cookie",vt.QUERY_ALL)}))}),this.loadCookies$=gt(function(){return r.actions$.pipe(Gx("Cookie"),Vx([vt.QUERY_ALL_SUCCESS]),(0,bt.b)(function(s){return console.log(s.payload.data)}),(0,bt.b)(function(s){s.payload.data.forEach(function(u){return Qx.set(u.name,u.value,{expires:new Date((new Date).getTime()+36e5)})})}))},{dispatch:!1})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(Al))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),V4=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[Yp.forFeature([z4])]}),a}(),G4=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.identityPoolId=n.identityPoolId,this.region=n.region,this.userPoolId=n.userPoolId)}),Jx=new o.InjectionToken("CognitoSettings");function Rl(a){var n,t,e,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,e=Symbol.iterator);r--;){if(t&&null!=(n=a[t]))return n.call(a);if(e&&null!=(n=a[e]))return new Yx(n.call(a));t="@@asyncIterator",e="@@iterator"}throw new TypeError("Object is not async iterable")}function Yx(a){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:e}})}return(Yx=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):n(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):n(r.apply(this.s,arguments))}},new Yx(a)}var H4=function(){function a(){(0,h.Z)(this,a),this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}return(0,v.Z)(a,[{key:"aborted",get:function(){return this._aborted}},{key:"abort",value:function(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}]),a}(),q4=function(){function a(){(0,h.Z)(this,a),this.signal=new H4}return(0,v.Z)(a,[{key:"abort",value:function(){this.signal.abort()}}]),a}(),K4=function(){var a=zt((0,We.Z)().mark(function n(t){var e;return(0,We.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t?.Bucket||"","string"==typeof t.Bucket&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!Y4(e)){s.next=7;break}if(!0!==t.ForcePathStyle){s.next=5;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 5:s.next=8;break;case 7:(!J4(e)||-1!==e.indexOf(".")&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);case 8:return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),s.abrupt("return",t);case 10:case"end":return s.stop()}},n)}));return function(t){return a.apply(this,arguments)}}(),W4=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,X4=/(\d+\.){3}\d+/,Q4=/\.\./,J4=function(n){return W4.test(n)&&!X4.test(n)&&!Q4.test(n)},Y4=function(n){var t=n.split(":"),e=(0,g.Z)(t,6),r=e[0],s=e[1],u=e[2],c=e[4],p=e[5],y="arn"===r&&n.split(":").length>=6,E=5===[r,s,u,c,p].filter(Boolean).length;if(y&&!E)throw new Error("Invalid ARN: ".concat(n," was an invalid ARN."));return!!("arn"===r&&s&&u&&c&&p)},eN=function(n,t,e){var r=function(){var s=zt((0,We.Z)().mark(function u(){var l,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if("function"!=typeof(c=null!==(l=e[n])&&void 0!==l?l:e[t])){y.next=3;break}return y.abrupt("return",c());case 3:return y.abrupt("return",c);case 4:case"end":return y.stop()}},u)}));return function(){return s.apply(this,arguments)}}();return"endpoint"===n||"endpoint"===t?zt((0,We.Z)().mark(function s(){var u,c,p,y;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,r();case 2:if(!(u=D.sent)||"object"!=typeof u){D.next=9;break}if(!("url"in u)){D.next=6;break}return D.abrupt("return",u.url.href);case 6:if(!("hostname"in u)){D.next=9;break}return c=u.hostname,p=u.port,y=u.path,D.abrupt("return","".concat(u.protocol,"//").concat(c).concat(p?":"+p:"").concat(y));case 9:return D.abrupt("return",u);case 10:case"end":return D.stop()}},s)})):r},FT=function(){var a=zt((0,We.Z)().mark(function n(t,e,r,s){var u,l;return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,tN(t,e,r);case 2:if(u=p.sent,"function"==typeof r.endpointProvider){p.next=5;break}throw new Error("config.endpointProvider is not set.");case 5:return l=r.endpointProvider(u,s),p.abrupt("return",l);case 7:case"end":return p.stop()}},n)}));return function(t,e,r,s){return a.apply(this,arguments)}}(),tN=function(){var a=zt((0,We.Z)().mark(function n(t,e,r){var s,u,l,c,p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:u={},l=(null==e||null===(s=e.getEndpointParameterInstructions)||void 0===s?void 0:s.call(e))||{},c=0,p=Object.entries(l);case 3:if(!(c<p.length)){B.next=20;break}y=(0,g.Z)(p[c],2),E=y[0],B.t0=(D=y[1]).type,B.next="staticContextParams"===B.t0?8:"contextParams"===B.t0?10:"clientContextParams"===B.t0||"builtInParams"===B.t0?12:16;break;case 8:return u[E]=D.value,B.abrupt("break",17);case 10:return u[E]=t[D.name],B.abrupt("break",17);case 12:return B.next=14,eN(D.name,E,r)();case 14:return u[E]=B.sent,B.abrupt("break",17);case 16:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(D));case 17:c++,B.next=3;break;case 20:if(0===Object.keys(l).length&&Object.assign(u,r),"s3"!==String(r.serviceId).toLowerCase()){B.next=24;break}return B.next=24,K4(u);case 24:return B.abrupt("return",u);case 25:case"end":return B.stop()}},n)}));return function(t,e,r){return a.apply(this,arguments)}}(),e1=function a(n){if("string"==typeof n)return a(new URL(n));var l,t=n.hostname,e=n.pathname,r=n.port,s=n.protocol,u=n.search;return u&&(l=function nN(a){var n={};if(a=a.replace(/^\?/,"")){var e,t=(0,z.Z)(a.split("&"));try{for(t.s();!(e=t.n()).done;){var s=e.value.split("="),u=(0,g.Z)(s,2),l=u[0],c=u[1],p=void 0===c?null:c;l=decodeURIComponent(l),p&&(p=decodeURIComponent(p)),l in n?Array.isArray(n[l])?n[l].push(p):n[l]=[n[l],p]:n[l]=p}}catch(y){t.e(y)}finally{t.f()}}return n}(u)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:e,query:l}},MT=function(n){return"object"==typeof n?"url"in n?e1(n.url):n:e1(n)},oN={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},NT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Tl(a,n,t){return{applyToStack:function(r){r.add(function(n,t){return function(e,r){return function(){var s=zt((0,We.Z)().mark(function u(l){var p;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,e(l);case 2:return p=R.sent.response,R.prev=4,R.next=7,t(p,n);case 7:return R.abrupt("return",{response:p,output:R.sent});case 11:throw R.prev=11,R.t0=R.catch(4),Object.defineProperty(R.t0,"$response",{value:p}),"$metadata"in R.t0||(R.t0.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object."),R.t0;case 16:case"end":return R.stop()}},u,null,[[4,11]])}));return function(u){return s.apply(this,arguments)}}()}}(a,t),oN),r.add(function(n,t){return function(e,r){return function(){var s=zt((0,We.Z)().mark(function u(l){var c,p,y;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(p=null!==(c=r.endpointV2)&&void 0!==c&&c.url&&n.urlParser?zt((0,We.Z)().mark(function R(){return(0,We.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.abrupt("return",n.urlParser(r.endpointV2.url));case 1:case"end":return te.stop()}},R)})):n.endpoint){D.next=3;break}throw new Error("No valid endpoint provider available.");case 3:return D.next=5,t(l.input,(0,ue.Z)((0,ue.Z)({},n),{},{endpoint:p}));case 5:return y=D.sent,D.abrupt("return",e((0,ue.Z)((0,ue.Z)({},l),{},{request:y})));case 7:case"end":return D.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()}}(a,n),NT)}}}var sN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:NT.name},Dl=function(n,t){return{applyToStack:function(r){r.addRelativeTo(function(n){var t=n.config,e=n.instructions;return function(r,s){return function(){var u=zt((0,We.Z)().mark(function l(c){var p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,FT(c.input,{getEndpointParameterInstructions:function(){return e}},(0,ue.Z)({},t),s);case 2:return s.endpointV2=E=B.sent,s.authSchemes=null===(p=E.properties)||void 0===p?void 0:p.authSchemes,(D=null===(y=s.authSchemes)||void 0===y?void 0:y[0])&&(s.signing_region=D.signingRegion,s.signing_service=D.signingName),B.abrupt("return",r((0,ue.Z)({},c)));case 8:case"end":return B.stop()}},l)}));return function(l){return u.apply(this,arguments)}}()}}({config:n,instructions:t}),sN)}}},Ya=function(n){if("function"==typeof n)return n;var t=Promise.resolve(n);return function(){return t}},BT=function(n){var t,e,r,s=null===(t=n.tls)||void 0===t||t,u=n.endpoint,l=null!=u?zt((0,We.Z)().mark(function p(){return(0,We.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.t0=MT,E.next=3,Ya(u)();case 3:return E.t1=E.sent,E.abrupt("return",(0,E.t0)(E.t1));case 5:case"end":return E.stop()}},p)})):void 0,c=!!u;return(0,ue.Z)((0,ue.Z)({},n),{},{endpoint:l,tls:s,isCustomEndpoint:c,useDualstackEndpoint:Ya(null!==(e=n.useDualstackEndpoint)&&void 0!==e&&e),useFipsEndpoint:Ya(null!==(r=n.useFipsEndpoint)&&void 0!==r&&r)})},Ia=function(){function a(n){(0,h.Z)(this,a),this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?"".concat(n.protocol,":"):n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?"/".concat(n.path):n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}return(0,v.Z)(a,[{key:"clone",value:function(){var t=new a((0,ue.Z)((0,ue.Z)({},this),{},{headers:(0,ue.Z)({},this.headers)}));return t.query&&(t.query=function uN(a){return Object.keys(a).reduce(function(n,t){var e=a[t];return(0,ue.Z)((0,ue.Z)({},n),{},(0,f.Z)({},t,Array.isArray(e)?(0,_.Z)(e):e))},{})}(t.query)),t}}],[{key:"isInstance",value:function(t){return!!t&&("method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers)}}]),a}(),gi=function(){return(gi=gi||{}).MD5="MD5",gi.CRC32="CRC32",gi.CRC32C="CRC32C",gi.SHA1="SHA1",gi.SHA256="SHA256",gi}(),aP=[gi.CRC32,gi.CRC32C,gi.SHA1,gi.SHA256],lN=[gi.CRC32,gi.CRC32C,gi.SHA1,gi.SHA256],cN=function(n,t){var r=t.requestAlgorithmMember;if(!r||!n[r])return t.requestChecksumRequired?gi.MD5:void 0;var s=n[r];if(!aP.includes(s))throw new Error('The checksum algorithm "'.concat(s,'" is not supported by the client.')+" Select one of ".concat(aP,"."));return s},ZT=function(n){return n===gi.MD5?"content-md5":"x-amz-checksum-".concat(n.toLowerCase())},dN=function(n,t){for(var e=n.toLowerCase(),r=0,s=Object.keys(t);r<s.length;r++)if(e===s[r].toLowerCase())return!0;return!1},jT=function(n){return"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(n)},$T=function(n){return void 0!==n&&"string"!=typeof n&&!ArrayBuffer.isView(n)&&!jT(n)},fN=S(2562),pN=S(5423),LT=function(n,t){var e;return(e={},(0,f.Z)(e,gi.MD5,t.md5),(0,f.Z)(e,gi.CRC32,fN.AwsCrc32),(0,f.Z)(e,gi.CRC32C,pN.AwsCrc32c),(0,f.Z)(e,gi.SHA1,t.sha1),(0,f.Z)(e,gi.SHA256,t.sha256),e)[n]},oh=function(n){return(new TextEncoder).encode(n)},od=function(n){return"string"==typeof n?oh(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)},UT=function(n,t){var e=new n;return e.update(od(t||"")),e.digest()},hN=function(){var a=zt(function(n,t){var e=t.streamHasher,r=t.checksumAlgorithmFn,s=t.base64Encoder;return(0,We.Z)().mark(function u(){var l;return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=$T(n)?e(r,n):UT(r,n),p.t0=s,p.next=4,l;case 4:return p.t1=p.sent,p.abrupt("return",(0,p.t0)(p.t1));case 6:case"end":return p.stop()}},u)})()});return function(t,e){return a.apply(this,arguments)}}(),mN=function(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],e=(0,z.Z)(lN);try{for(e.s();!(r=e.n()).done;){var s=r.value;!n.includes(s)||!aP.includes(s)||t.push(s)}}catch(u){e.e(u)}finally{e.f()}return t},gN=function(){var a=zt(function(n,t){var e=t.config,r=t.responseAlgorithms;return(0,We.Z)().mark(function s(){var u,l,c,p,y,E,D,R,B,te,ne,he;return(0,We.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:u=mN(r),l=n.body,c=n.headers,p=(0,z.Z)(u),we.prev=3,p.s();case 5:if((y=p.n()).done){we.next=20;break}if(D=ZT(E=y.value),!(R=c[D])){we.next=18;break}return B=LT(E,e),te=e.streamHasher,ne=e.base64Encoder,we.next=14,hN(l,{streamHasher:te,checksumAlgorithmFn:B,base64Encoder:ne});case 14:if((he=we.sent)!==R){we.next=17;break}return we.abrupt("break",20);case 17:throw new Error('Checksum mismatch: expected "'.concat(he,'" but received "').concat(R,'"')+' in response header "'.concat(D,'".'));case 18:we.next=5;break;case 20:we.next=25;break;case 22:we.prev=22,we.t0=we.catch(3),p.e(we.t0);case 25:return we.prev=25,p.f(),we.finish(25);case 28:case"end":return we.stop()}},s,null,[[3,22,25,28]])})()});return function(t,e){return a.apply(this,arguments)}}(),yN={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},sP=function(n,t){return{applyToStack:function(r){r.add(function(n,t){return function(e){return function(){var r=zt((0,We.Z)().mark(function s(u){var l,c,p,y,E,D,te,ne,he,Se,we,lt,Ft,pt,Zt;return(0,We.Z)().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:if(Ia.isInstance(u.request)){Yt.next=2;break}return Yt.abrupt("return",e(u));case 2:if(c=(l=u.request).body,p=l.headers,y=n.base64Encoder,E=n.streamHasher,te=cN(D=t.input,{requestChecksumRequired:t.requestChecksumRequired,requestAlgorithmMember:t.requestAlgorithmMember}),ne=c,he=p,!te){Yt.next=24;break}if(Se=ZT(te),we=LT(te,n),!$T(c)){Yt.next=19;break}ne=(0,n.getAwsChunkedEncodingStream)(c,{base64Encoder:y,bodyLengthChecker:n.bodyLengthChecker,checksumLocationName:Se,checksumAlgorithmFn:we,streamHasher:E}),delete(he=(0,ue.Z)((0,ue.Z)({},p),{},{"content-encoding":p["content-encoding"]?"".concat(p["content-encoding"],",aws-chunked"):"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":p["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Se}))["content-length"],Yt.next=24;break;case 19:if(dN(Se,p)){Yt.next=24;break}return Yt.next=22,UT(we,c);case 22:lt=Yt.sent,he=(0,ue.Z)((0,ue.Z)({},p),{},(0,f.Z)({},Se,y(lt)));case 24:return Yt.next=26,e((0,ue.Z)((0,ue.Z)({},u),{},{request:(0,ue.Z)((0,ue.Z)({},l),{},{headers:he,body:ne})}));case 26:return Ft=Yt.sent,Zt=t.responseAlgorithms,(pt=t.requestValidationModeMember)&&"ENABLED"===D[pt]&&gN(Ft.response,{config:n,responseAlgorithms:Zt}),Yt.abrupt("return",Ft);case 30:case"end":return Yt.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()}}(n,t),yN)}}},bN={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},ah=function(){function a(n){(0,h.Z)(this,a),this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}return(0,v.Z)(a,null,[{key:"isInstance",value:function(t){return!!t&&("number"==typeof t.statusCode&&"object"==typeof t.headers)}}]),a}(),zT=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)},EN=function(n,t){return zT(n,t).then(function(e){return t.utf8Encoder(e)})},kN={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},AN=function(n){return"string"==typeof n&&0===n.indexOf("arn:")&&n.split(":").length>=6},TN={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ON={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},t1=function(n){return{applyToStack:function(e){e.add(function IN(a){return function(n){return function(){var t=zt((0,We.Z)().mark(function e(r){var s,l,c,p,y,E,D,R,B;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:s=(0,ue.Z)({},r.input),l=0,c=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];case 3:if(!(l<c.length)){ne.next=30;break}if(!(y=s[(p=c[l]).target])){ne.next=27;break}return D=ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):"string"==typeof y?a.utf8Decoder(y):new Uint8Array(y),R=a.base64Encoder(D),(B=new a.md5).update(D),ne.t0=ue.Z,ne.t1=(0,ue.Z)({},s),ne.t2={},(0,f.Z)(E={},p.target,R),ne.t3=f.Z,ne.t4=E,ne.t5=p.hash,ne.t6=a,ne.next=22,B.digest();case 22:ne.t7=ne.sent,ne.t8=ne.t6.base64Encoder.call(ne.t6,ne.t7),(0,ne.t3)(ne.t4,ne.t5,ne.t8),ne.t9=E,s=(0,ne.t0)(ne.t1,ne.t2,ne.t9);case 27:l++,ne.next=3;break;case 30:return ne.abrupt("return",n((0,ue.Z)((0,ue.Z)({},r),{},{input:s})));case 31:case"end":return ne.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n),ON)}}},VT=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),a}(),GT=function a(){var n=[],t=[],e=new Set,l=function(D){return n.forEach(function(R){D.add(R.middleware,(0,ue.Z)({},R))}),t.forEach(function(R){D.addRelativeTo(R.middleware,(0,ue.Z)({},R))}),D},c=function E(D){var R=[];return D.before.forEach(function(B){0===B.before.length&&0===B.after.length?R.push(B):R.push.apply(R,(0,_.Z)(E(B)))}),R.push(D),D.after.reverse().forEach(function(B){0===B.before.length&&0===B.after.length?R.push(B):R.push.apply(R,(0,_.Z)(E(B)))}),R},p=function(){var D=arguments.length>0&&void 0!==arguments[0]&&arguments[0],R=[],B=[],te={};n.forEach(function(he){var Se=(0,ue.Z)((0,ue.Z)({},he),{},{before:[],after:[]});Se.name&&(te[Se.name]=Se),R.push(Se)}),t.forEach(function(he){var Se=(0,ue.Z)((0,ue.Z)({},he),{},{before:[],after:[]});Se.name&&(te[Se.name]=Se),B.push(Se)}),B.forEach(function(he){if(he.toMiddleware){var Se=te[he.toMiddleware];if(void 0===Se){if(D)return;throw new Error("".concat(he.toMiddleware," is not found when adding ").concat(he.name||"anonymous"," middleware ").concat(he.relation," ").concat(he.toMiddleware))}"after"===he.relation&&Se.after.push(he),"before"===he.relation&&Se.before.push(he)}});var ne=function(D){return D.sort(function(R,B){return HT[B.step]-HT[R.step]||qT[B.priority||"normal"]-qT[R.priority||"normal"]})}(R).map(c).reduce(function(he,Se){return he.push.apply(he,(0,_.Z)(Se)),he},[]);return ne},y={add:function(D){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=R.name,te=R.override,ne=(0,ue.Z)({step:"initialize",priority:"normal",middleware:D},R);if(B){if(e.has(B)){if(!te)throw new Error("Duplicate middleware name '".concat(B,"'"));var he=n.findIndex(function(we){return we.name===B}),Se=n[he];if(Se.step!==ne.step||Se.priority!==ne.priority)throw new Error('"'.concat(B,'" middleware with ').concat(Se.priority," priority in ").concat(Se.step," step cannot be ")+"overridden by same-name middleware with ".concat(ne.priority," priority in ").concat(ne.step," step."));n.splice(he,1)}e.add(B)}n.push(ne)},addRelativeTo:function(D,R){var B=R.name,te=R.override,ne=(0,ue.Z)({middleware:D},R);if(B){if(e.has(B)){if(!te)throw new Error("Duplicate middleware name '".concat(B,"'"));var he=t.findIndex(function(we){return we.name===B}),Se=t[he];if(Se.toMiddleware!==ne.toMiddleware||Se.relation!==ne.relation)throw new Error('"'.concat(B,'" middleware ').concat(Se.relation,' "').concat(Se.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(ne.relation,' "').concat(ne.toMiddleware,'" middleware.'));t.splice(he,1)}e.add(B)}t.push(ne)},clone:function(){return l(a())},use:function(D){D.applyToStack(y)},remove:function(D){return"string"==typeof D?function(D){var R=!1,B=function(ne){return!ne.name||ne.name!==D||(R=!0,e.delete(D),!1)};return n=n.filter(B),t=t.filter(B),R}(D):function(D){var R=!1,B=function(ne){return ne.middleware!==D||(R=!0,ne.name&&e.delete(ne.name),!1)};return n=n.filter(B),t=t.filter(B),R}(D)},removeByTag:function(D){var R=!1,B=function(ne){var he=ne.tags,Se=ne.name;return!he||!he.includes(D)||(Se&&e.delete(Se),R=!0,!1)};return n=n.filter(B),t=t.filter(B),R},concat:function(D){var R=l(a());return R.use(D),R},applyToStack:l,identify:function(){return p(!0).map(function(D){return D.name+": "+(D.tags||[]).join(",")})},resolve:function(D,R){var te,B=(0,z.Z)(p().map(function(he){return he.middleware}).reverse());try{for(B.s();!(te=B.n()).done;)D=(0,te.value)(D,R)}catch(he){B.e(he)}finally{B.f()}return D}};return y},HT={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},qT={high:3,normal:2,low:1},KT=function(){function a(n){(0,h.Z)(this,a),this.middlewareStack=GT(),this.config=n}return(0,v.Z)(a,[{key:"send",value:function(t,e,r){var u="function"==typeof e?e:r,l=t.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof e?e:void 0);if(!u)return l(t).then(function(c){return c.output});l(t).then(function(c){return u(null,c.output)},function(c){return u(c)}).catch(function(){})}},{key:"destroy",value:function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}]),a}(),Il=(0,v.Z)(function a(){(0,h.Z)(this,a),this.middlewareStack=GT()}),ia="***SensitiveInformation***",n1=function(n){switch(n){case"true":return!0;case"false":return!1;default:throw new Error('Unable to parse boolean value "'.concat(n,'"'))}},sh=function(n){if(null!=n){if("string"==typeof n){var t=parseFloat(n);if(!Number.isNaN(t))return String(t)!==String(n)&&o1.warn(r1("Expected number but observed string: ".concat(n))),t}if("number"==typeof n)return n;throw new TypeError("Expected number, got ".concat(typeof n,": ").concat(n))}},FN=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),cP=function(n,t){var e=function(n){if(null!=n){if(Number.isInteger(n)&&!Number.isNaN(n))return n;throw new TypeError("Expected integer, got ".concat(typeof n,": ").concat(n))}}(n);if(void 0!==e&&MN(e,t)!==e)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(n));return e},MN=function(n,t){switch(t){case 32:return Int32Array.of(n)[0];case 16:return Int16Array.of(n)[0];case 8:return Int8Array.of(n)[0]}},Ol=function(n,t){if(null==n)throw t?new TypeError("Expected a non-null value for ".concat(t)):new TypeError("Expected a non-null value");return n},dP=function(n){if(null!=n){if("object"==typeof n&&!Array.isArray(n))return n;var t=Array.isArray(n)?"array":typeof n;throw new TypeError("Expected object, got ".concat(t,": ").concat(n))}},zo=function(n){if(null!=n){if("string"==typeof n)return n;if(["boolean","number","bigint"].includes(typeof n))return o1.warn(r1("Expected string, got ".concat(typeof n,": ").concat(n))),String(n);throw new TypeError("Expected string, got ".concat(typeof n,": ").concat(n))}},ZN=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ad=function(n){var t=n.match(ZN);if(null===t||t[0].length!==n.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(n)},fP=function(n){return function(n){return cP(n,16)}("string"==typeof n?ad(n):n)},r1=function(n){return String(new TypeError(n).stack||n).split("\n").slice(0,5).filter(function(t){return!t.includes("stackTraceWarning")}).join("\n")},o1={warn:console.warn},$N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function YT(a){var n=a.getUTCFullYear(),t=a.getUTCMonth(),e=a.getUTCDay(),r=a.getUTCDate(),s=a.getUTCHours(),u=a.getUTCMinutes(),l=a.getUTCSeconds(),c=r<10?"0".concat(r):"".concat(r),p=s<10?"0".concat(s):"".concat(s),y=u<10?"0".concat(u):"".concat(u),E=l<10?"0".concat(l):"".concat(l);return"".concat($N[e],", ").concat(c," ").concat(pP[t]," ").concat(n," ").concat(p,":").concat(y,":").concat(E," GMT")}var zN=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VN=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),GN=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),HN=function(n){if(null!=n){if("string"!=typeof n)throw new TypeError("RFC-7231 date-times must be expressed as strings");var t=zN.exec(n);if(t){var r=(0,g.Z)(t,8),u=r[1],l=r[2],p=r[4],y=r[5],E=r[6],D=r[7];return uh(fP(sd(r[3])),hP(l),vs(u,"day",1,31),{hours:p,minutes:y,seconds:E,fractionalMilliseconds:D})}if(t=VN.exec(n)){var B=(0,g.Z)(t,8),ne=B[1],he=B[2],we=B[4],$e=B[5],Ye=B[6],lt=B[7];return XN(uh(KN(B[3]),hP(he),vs(ne,"day",1,31),{hours:we,minutes:$e,seconds:Ye,fractionalMilliseconds:lt}))}if(t=GN.exec(n)){var pt=(0,g.Z)(t,8),Gt=pt[1],Yt=pt[2],qt=pt[3],Ht=pt[4],Xt=pt[5],Zn=pt[6];return uh(fP(sd(pt[7])),hP(Gt),vs(Yt.trimLeft(),"day",1,31),{hours:qt,minutes:Ht,seconds:Xt,fractionalMilliseconds:Zn})}throw new TypeError("Invalid RFC-7231 date-time value")}},uh=function(n,t,e,r){var s=t-1;return JN(n,s,e),new Date(Date.UTC(n,s,e,vs(r.hours,"hour",0,23),vs(r.minutes,"minute",0,59),vs(r.seconds,"seconds",0,60),eB(r.fractionalMilliseconds)))},KN=function(n){var t=(new Date).getUTCFullYear(),e=100*Math.floor(t/100)+fP(sd(n));return e<t?e+100:e},XN=function(n){return n.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(n.getUTCFullYear()-100,n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())):n},hP=function(n){var t=pP.indexOf(n);if(t<0)throw new TypeError("Invalid month: ".concat(n));return t+1},QN=[31,28,31,30,31,30,31,31,30,31,30,31],JN=function(n,t,e){var r=QN[t];if(1===t&&YN(n)&&(r=29),e>r)throw new TypeError("Invalid day for ".concat(pP[t]," in ").concat(n,": ").concat(e))},YN=function(n){return n%4==0&&(n%100!=0||n%400==0)},vs=function(n,t,e,r){var s=function(n){return function(n){return cP(n,8)}("string"==typeof n?ad(n):n)}(sd(n));if(s<e||s>r)throw new TypeError("".concat(t," must be between ").concat(e," and ").concat(r,", inclusive"));return s},eB=function(n){return null==n?0:1e3*function(n){return function(n){var t=sh(n);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>FN)throw new TypeError("Expected 32-bit float, got ".concat(n));return t}("string"==typeof n?ad(n):n)}("0."+n)},sd=function(n){for(var t=0;t<n.length-1&&"0"===n.charAt(t);)t++;return 0===t?n:n.slice(t)},eD=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e.message),Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r.name=e.name,r.$fault=e.$fault,r.$metadata=e.$metadata,r}return(0,v.Z)(t)}((0,dc.Z)(Error)),ys=function(n){return Object.entries(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).filter(function(r){return void 0!==(0,g.Z)(r,2)[1]}).forEach(function(r){var s=(0,g.Z)(r,2),u=s[0];(null==n[u]||""===n[u])&&(n[u]=s[1])}),n.message=n.message||n.Message||"UnknownError",delete n.Message,n},tD=function(n){return function(t){!function(n){var e=n.parsedBody,r=n.exceptionCtor,s=n.errorCode,u=rB(n.output),l=u.httpStatusCode?u.httpStatusCode+"":void 0,c=new r({name:e?.code||e?.Code||s||l||"UnknownError",$fault:"client",$metadata:u});throw ys(c,e)}({output:t.output,parsedBody:t.parsedBody,exceptionCtor:n,errorCode:t.errorCode})}},rB=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},nD=function(n){switch(n){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function a1(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var iB=function a(n){var t="#text";for(var e in n)n.hasOwnProperty(e)&&void 0!==n[e][t]?n[e]=n[e][t]:"object"==typeof n[e]&&null!==n[e]&&(n[e]=a(n[e]));return n},mP=function(){var n=Object.getPrototypeOf(this).constructor,e=new(Function.bind.apply(String,[null].concat(Array.prototype.slice.call(arguments))));return Object.setPrototypeOf(e,n.prototype),e};function yo(a,n,t){var e,s;if(typeof n>"u"&&typeof t>"u")e={},s=a;else{if(e=a,"function"==typeof n)return oB(e,n,s=t);s=n}for(var u=0,l=Object.keys(s);u<l.length;u++){var c=l[u];Array.isArray(s[c])?iD(e,null,s,c):e[c]=s[c]}return e}mP.prototype=Object.create(String.prototype,{constructor:{value:mP,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(mP,String);var rD=function(n,t){var e={};for(var r in t)iD(e,n,t,r);return e},oB=function(n,t,e){return yo(n,Object.entries(e).reduce(function(r,s){var u=(0,g.Z)(s,2),c=u[1];return r[u[0]]=Array.isArray(c)?c:"function"==typeof c?[t,c()]:[t,c],r},{}))},iD=function(n,t,e,r){if(null===t){var B=(0,g.Z)(e[r],2),te=B[0],ne=B[1];if("function"==typeof ne){var he,Se=void 0===te&&null!=(he=ne()),we="function"==typeof te&&!!te(void 0)||"function"!=typeof te&&!!te;Se?n[r]=he:we&&(n[r]=ne())}else{var $e=void 0===te&&null!=ne,Ye="function"==typeof te&&!!te(ne)||"function"!=typeof te&&!!te;($e||Ye)&&(n[r]=ne)}}else{var s=e[r];"function"==typeof s&&(s=[,s]);var l=(0,g.Z)(s,3),c=l[0],p=void 0===c?aB:c,y=l[1],E=void 0===y?sB:y,D=l[2],R=void 0===D?r:D;("function"==typeof p&&p(t[R])||"function"!=typeof p&&p)&&(n[r]=E(t[R]))}},aB=function(n){return null!=n},sB=function(n){return n},_s=function(n,t,e,r,s,u){if(null==t||void 0===t[e])throw new Error("No value provided for input HTTP label: "+e+".");var l=r();if(l.length<=0)throw new Error("Empty value provided for input HTTP label: "+e+".");return n.replace(s,u?l.split("/").map(function(c){return a1(c)}).join("/"):a1(l))},Oa=function a(n){if(null==n)return{};if(Array.isArray(n))return n.filter(function(u){return null!=u});if("object"==typeof n){for(var t={},e=0,r=Object.keys(n);e<r.length;e++){var s=r[e];null!=n[s]&&(t[s]=a(n[s]))}return t}return n},uB=function(n){return(0,ue.Z)((0,ue.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ia})},lB=function(n){return(0,ue.Z)((0,ue.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:ia})},cB=function(n){return(0,ue.Z)((0,ue.Z)((0,ue.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ia})},dB=function(n){return(0,ue.Z)((0,ue.Z)((0,ue.Z)((0,ue.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:ia}),n.SSEKMSKeyId&&{SSEKMSKeyId:ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ia})},yB=function(n){return(0,ue.Z)((0,ue.Z)((0,ue.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ia})},_B=function(n){return(0,ue.Z)((0,ue.Z)((0,ue.Z)((0,ue.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:ia}),n.SSEKMSKeyId&&{SSEKMSKeyId:ia}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ia})};function xB(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var CB=function(){function a(n){(0,h.Z)(this,a),this.value=n}return(0,v.Z)(a,[{key:"toString",value:function(){return function bB(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}(""+this.value)}}]),a}(),va=function(){function a(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,h.Z)(this,a),this.name=n,this.children=t,this.attributes={}}return(0,v.Z)(a,[{key:"withName",value:function(t){return this.name=t,this}},{key:"addAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"addChildNode",value:function(t){return this.children.push(t),this}},{key:"removeAttribute",value:function(t){return delete this.attributes[t],this}},{key:"toString",value:function(){for(var t=!!this.children.length,e="<".concat(this.name),r=this.attributes,s=0,u=Object.keys(r);s<u.length;s++){var l=u[s],c=r[l];typeof c<"u"&&null!==c&&(e+=" ".concat(l,'="').concat(xB(""+c),'"'))}return e+(t?">".concat(this.children.map(function(p){return p.toString()}).join(""),"</").concat(this.name,">"):"/>")}}],[{key:"of",value:function(t,e,r){var s=new a(t);return void 0!==e&&s.addChildNode(new CB(e)),void 0!==r&&s.withName(r),s}}]),a}(),ud=function(){function a(n){(0,h.Z)(this,a),this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?"".concat(n.protocol,":"):n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?"/".concat(n.path):n.path:"/"}return(0,v.Z)(a,[{key:"clone",value:function(){var t=new a((0,ue.Z)((0,ue.Z)({},this),{},{headers:(0,ue.Z)({},this.headers)}));return t.query&&(t.query=function wB(a){return Object.keys(a).reduce(function(n,t){var e=a[t];return(0,ue.Z)((0,ue.Z)({},n),{},(0,f.Z)({},t,Array.isArray(e)?(0,_.Z)(e):e))},{})}(t.query)),t}}],[{key:"isInstance",value:function(t){return!!t&&("method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers)}}]),a}(),SB=S(3226),EB=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(eD),kB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u,l,c,p,y,E,D,R,B;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,e.endpoint();case 2:return s=(r=ne.sent).hostname,l=void 0===(u=r.protocol)?"https":u,c=r.port,p=r.path,y=yo({},ya,{"content-type":"application/xml","x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),E="".concat(null!=p&&p.endsWith("/")?p.slice(0,-1):p||"")+"/{Key+}",E=_s(E,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),E=_s(E,t,"Key",function(){return t.Key},"{Key+}",!0),D=yo({"x-id":[,"CompleteMultipartUpload"],uploadId:[,Ol(t.UploadId,"UploadId")]}),void 0!==t.MultipartUpload&&(R=aD(t.MultipartUpload,e)),void 0!==t.MultipartUpload&&(B=(B=aD(t.MultipartUpload,e)).withName("CompleteMultipartUpload"),R='<?xml version="1.0" encoding="UTF-8"?>',B.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),R+=B.toString()),ne.abrupt("return",new ud({protocol:l,hostname:s,port:c,method:"POST",headers:y,path:E,query:D,body:R}));case 16:case"end":return ne.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),PB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u,l,c,p,y,E,D;return(0,We.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,e.endpoint();case 2:return s=(r=te.sent).hostname,l=void 0===(u=r.protocol)?"https":u,c=r.port,p=r.path,y=yo({},ya,(0,ue.Z)({"x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-type":t.ContentType,expires:[function(){return ya(t.Expires)},function(){return YT(t.Expires).toString()}],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[function(){return ya(t.BucketKeyEnabled)},function(){return t.BucketKeyEnabled.toString()}],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[function(){return ya(t.ObjectLockRetainUntilDate)},function(){return(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-checksum-algorithm":t.ChecksumAlgorithm},void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(ne,he){return ne["x-amz-meta-".concat(he.toLowerCase())]=t.Metadata[he],ne},{}))),E="".concat(null!=p&&p.endsWith("/")?p.slice(0,-1):p||"")+"/{Key+}",E=_s(E,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),E=_s(E,t,"Key",function(){return t.Key},"{Key+}",!0),D=yo({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),te.abrupt("return",new ud({protocol:l,hostname:s,port:c,method:"POST",headers:y,path:E,query:D,body:void 0}));case 14:case"end":return te.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),AB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u,l,c,p,y,E,D,R;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,e.endpoint();case 2:return s=(r=ne.sent).hostname,l=void 0===(u=r.protocol)?"https":u,c=r.port,p=r.path,y=yo({},ya,(0,ue.Z)({"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[function(){return ya(t.ContentLength)},function(){return t.ContentLength.toString()}],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[function(){return ya(t.Expires)},function(){return YT(t.Expires).toString()}],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[function(){return ya(t.BucketKeyEnabled)},function(){return t.BucketKeyEnabled.toString()}],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[function(){return ya(t.ObjectLockRetainUntilDate)},function(){return(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner},void 0!==t.Metadata&&Object.keys(t.Metadata).reduce(function(he,Se){return he["x-amz-meta-".concat(Se.toLowerCase())]=t.Metadata[Se],he},{}))),E="".concat(null!=p&&p.endsWith("/")?p.slice(0,-1):p||"")+"/{Key+}",E=_s(E,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),E=_s(E,t,"Key",function(){return t.Key},"{Key+}",!0),D=yo({"x-id":[,"PutObject"]}),void 0!==t.Body&&(R=t.Body),void 0!==t.Body&&(R=t.Body),ne.abrupt("return",new ud({protocol:l,hostname:s,port:c,method:"PUT",headers:y,path:E,query:D,body:R}));case 16:case"end":return ne.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),RB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u,l,c,p,y,E,D,R,B;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,e.endpoint();case 2:return s=(r=ne.sent).hostname,l=void 0===(u=r.protocol)?"https":u,c=r.port,p=r.path,y=yo({},ya,{"content-type":"application/xml","content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-request-payer":t.RequestPayer}),E="".concat(null!=p&&p.endsWith("/")?p.slice(0,-1):p||"")+"/{Key+}",E=_s(E,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),E=_s(E,t,"Key",function(){return t.Key},"{Key+}",!0),D=yo({tagging:[,""],versionId:[,t.VersionId]}),void 0!==t.Tagging&&(R=_P(t.Tagging,e)),void 0!==t.Tagging&&(B=_P(t.Tagging,e),R='<?xml version="1.0" encoding="UTF-8"?>',B.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),R+=B.toString()),ne.abrupt("return",new ud({protocol:l,hostname:s,port:c,method:"PUT",headers:y,path:E,query:D,body:R}));case 16:case"end":return ne.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),TB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u,l,c,p,y,E,D,R;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,e.endpoint();case 2:return s=(r=ne.sent).hostname,l=void 0===(u=r.protocol)?"https":u,c=r.port,p=r.path,y=yo({},ya,{"content-type":"application/octet-stream","content-length":[function(){return ya(t.ContentLength)},function(){return t.ContentLength.toString()}],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),E="".concat(null!=p&&p.endsWith("/")?p.slice(0,-1):p||"")+"/{Key+}",E=_s(E,t,"Bucket",function(){return t.Bucket},"{Bucket}",!1),E=_s(E,t,"Key",function(){return t.Key},"{Key+}",!0),D=yo({"x-id":[,"UploadPart"],partNumber:[null!=Ol(t.PartNumber,"PartNumber"),function(){return t.PartNumber.toString()}],uploadId:[,Ol(t.UploadId,"UploadId")]}),void 0!==t.Body&&(R=t.Body),void 0!==t.Body&&(R=t.Body),ne.abrupt("return",new ud({protocol:l,hostname:s,port:c,method:"PUT",headers:y,path:E,query:D,body:R}));case 16:case"end":return ne.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),DB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){l.next=2;break}return l.abrupt("return",IB(t,e));case 2:return r=yo({$metadata:dh(t),Expiration:[,t.headers["x-amz-expiration"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return n1(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),l.t0=Ol,l.t1=dP,l.next=7,CP(t.body,e);case 7:return l.t2=l.sent,l.t3=(0,l.t1)(l.t2),void 0!==(s=(0,l.t0)(l.t3,"body")).Bucket&&(r.Bucket=zo(s.Bucket)),void 0!==s.ChecksumCRC32&&(r.ChecksumCRC32=zo(s.ChecksumCRC32)),void 0!==s.ChecksumCRC32C&&(r.ChecksumCRC32C=zo(s.ChecksumCRC32C)),void 0!==s.ChecksumSHA1&&(r.ChecksumSHA1=zo(s.ChecksumSHA1)),void 0!==s.ChecksumSHA256&&(r.ChecksumSHA256=zo(s.ChecksumSHA256)),void 0!==s.ETag&&(r.ETag=zo(s.ETag)),void 0!==s.Key&&(r.Key=zo(s.Key)),void 0!==s.Location&&(r.Location=zo(s.Location)),l.abrupt("return",r);case 19:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),IB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,fh(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=ph(t,r.body),c.abrupt("return",lh({output:t,parsedBody:r.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),OB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){l.next=2;break}return l.abrupt("return",FB(t,e));case 2:return r=yo({$metadata:dh(t),AbortDate:[function(){return void 0!==t.headers["x-amz-abort-date"]},function(){return Ol(HN(t.headers["x-amz-abort-date"]))}],AbortRuleId:[,t.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return n1(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,t.headers["x-amz-checksum-algorithm"]]}),l.t0=Ol,l.t1=dP,l.next=7,CP(t.body,e);case 7:return l.t2=l.sent,l.t3=(0,l.t1)(l.t2),void 0!==(s=(0,l.t0)(l.t3,"body")).Bucket&&(r.Bucket=zo(s.Bucket)),void 0!==s.Key&&(r.Key=zo(s.Key)),void 0!==s.UploadId&&(r.UploadId=zo(s.UploadId)),l.abrupt("return",r);case 14:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),FB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,fh(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=ph(t,r.body),c.abrupt("return",lh({output:t,parsedBody:r.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),MB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r;return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",NB(t,e));case 2:return r=yo({$metadata:dh(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return n1(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),u.next=5,u1(t.body,e);case 5:return u.abrupt("return",r);case 6:case"end":return u.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),NB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,fh(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=ph(t,r.body),c.abrupt("return",lh({output:t,parsedBody:r.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),BB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r;return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",ZB(t,e));case 2:return r=yo({$metadata:dh(t),VersionId:[,t.headers["x-amz-version-id"]]}),u.next=5,u1(t.body,e);case 5:return u.abrupt("return",r);case 6:case"end":return u.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),ZB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,fh(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=ph(t,r.body),c.abrupt("return",lh({output:t,parsedBody:r.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),jB=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r;return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){u.next=2;break}return u.abrupt("return",$B(t,e));case 2:return r=yo({$metadata:dh(t),ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[function(){return void 0!==t.headers["x-amz-server-side-encryption-bucket-key-enabled"]},function(){return n1(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])}],RequestCharged:[,t.headers["x-amz-request-charged"]]}),u.next=5,u1(t.body,e);case 5:return u.abrupt("return",r);case 6:case"end":return u.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),$B=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,fh(t.body,e);case 5:return c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=ph(t,r.body),c.abrupt("return",lh({output:t,parsedBody:r.body,errorCode:s}));case 11:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),lh=tD(EB),aD=function(n,t){var e=new va("CompletedMultipartUpload");return null!=n.Parts&&n6(n.Parts,t).map(function(s){s=s.withName("Part"),e.addChildNode(s)}),e},n6=function(n,t){return n.filter(function(e){return null!=e}).map(function(e){var r=function(n,t){var e=new va("CompletedPart");if(null!=n.ETag){var r=va.of("ETag",n.ETag).withName("ETag");e.addChildNode(r)}if(null!=n.ChecksumCRC32){var s=va.of("ChecksumCRC32",n.ChecksumCRC32).withName("ChecksumCRC32");e.addChildNode(s)}if(null!=n.ChecksumCRC32C){var u=va.of("ChecksumCRC32C",n.ChecksumCRC32C).withName("ChecksumCRC32C");e.addChildNode(u)}if(null!=n.ChecksumSHA1){var l=va.of("ChecksumSHA1",n.ChecksumSHA1).withName("ChecksumSHA1");e.addChildNode(l)}if(null!=n.ChecksumSHA256){var c=va.of("ChecksumSHA256",n.ChecksumSHA256).withName("ChecksumSHA256");e.addChildNode(c)}if(null!=n.PartNumber){var p=va.of("PartNumber",String(n.PartNumber)).withName("PartNumber");e.addChildNode(p)}return e}(e);return r.withName("member")})},_P=function(n,t){var e=new va("Tagging");if(null!=n.TagSet){var r=cd(n.TagSet,t),s=new va("TagSet");r.map(function(u){s.addChildNode(u)}),e.addChildNode(s)}return e},cd=function(n,t){return n.filter(function(e){return null!=e}).map(function(e){return function(n,t){var e=new va("Tag");if(null!=n.Key){var r=va.of("ObjectKey",n.Key).withName("Key");e.addChildNode(r)}if(null!=n.Value){var s=va.of("Value",n.Value).withName("Value");e.addChildNode(s)}return e}(e).withName("Tag")})},dh=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},u1=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)},ya=function(n){return!(null==n||""===n||Object.getOwnPropertyNames(n).includes("length")&&0==n.length||Object.getOwnPropertyNames(n).includes("size")&&0==n.size)},CP=function(n,t){return function(n,t){return u1(n,t).then(function(e){return t.utf8Encoder(e)})}(n,t).then(function(e){if(e.length){var r=new SB.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:function(y,E){return""===E.trim()&&E.includes("\n")?"":void 0}});r.addEntity("#xD","\r"),r.addEntity("#10","\n");var s=r.parse(e),u="#text",l=Object.keys(s)[0],c=s[l];return c[u]&&(c[l]=c[u],delete c[u]),iB(c)}return{}})},fh=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,CP(t,e);case 2:return(r=l.sent).Error&&(r.Error.message=null!==(s=r.Error.message)&&void 0!==s?s:r.Error.Message),l.abrupt("return",r);case 5:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),ph=function(n,t){return void 0!==t?.Code?t.Code:404==n.statusCode?"NotFound":void 0},pD=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions())),this.middlewareStack.use({applyToStack:function(e){e.add(function xN(){return function(a,n){return function(){var t=zt((0,We.Z)().mark(function e(r){var s,u,l;return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return Ia.isInstance(s=r.request)&&(s.headers["content-length"]||(l="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.","function"==typeof(null==n||null===(u=n.logger)||void 0===u?void 0:u.warn)?n.logger.warn(l):console.warn(l))),p.abrupt("return",a((0,ue.Z)({},r)));case 3:case"end":return p.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(),bN)}}),this.middlewareStack.use(t1(s)),this.middlewareStack.use(sP(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:_B,outputFilterSensitiveLog:yB})}},{key:"serialize",value:function(r,s){return AB(r,s)}},{key:"deserialize",value:function(r,s){return MB(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),h8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(t1(s));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:dB,outputFilterSensitiveLog:cB})}},{key:"serialize",value:function(r,s){return PB(r,s)}},{key:"deserialize",value:function(r,s){return OB(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),_8=function(n){return(0,ue.Z)((0,ue.Z)({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:ia})},x8=function(n){return(0,ue.Z)((0,ue.Z)({},n),n.SSECustomerKey&&{SSECustomerKey:ia})},b8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(t1(s)),this.middlewareStack.use(sP(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:x8,outputFilterSensitiveLog:_8})}},{key:"serialize",value:function(r,s){return TB(r,s)}},{key:"deserialize",value:function(r,s){return jB(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),C8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(function(n){return{applyToStack:function(e){e.addRelativeTo(function(n){return function(t){return function(){var e=zt((0,We.Z)().mark(function r(s){var u,l,c,p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,t(s);case 2:if(ah.isInstance(l=(u=B.sent).response)){B.next=6;break}return B.abrupt("return",u);case 6:if(p=l.body,!((c=l.statusCode)<200||c>=300)){B.next=9;break}return B.abrupt("return",u);case 9:return B.next=11,zT(p,n);case 11:return y=B.sent,B.next=14,EN(y,n);case 14:if(E=B.sent,0!==y.length){B.next=19;break}throw(D=new Error("S3 aborted request")).name="InternalError",D;case 19:return E&&E.match("<Error>")&&(l.statusCode=400),l.body=y,B.abrupt("return",u);case 22:case"end":return B.stop()}},r)}));return function(r){return e.apply(this,arguments)}}()}}(n),kN)}}}(s)),this.middlewareStack.use(t1(s));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:lB,outputFilterSensitiveLog:uB})}},{key:"serialize",value:function(r,s){return kB(r,s)}},{key:"deserialize",value:function(r,s){return DB(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),w8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions())),this.middlewareStack.use(sP(s,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:function(B){return B},outputFilterSensitiveLog:function(B){return B}})}},{key:"serialize",value:function(r,s){return RB(r,s)}},{key:"deserialize",value:function(r,s){return BB(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),wP=S(3358),E8=(0,ue.Z)((0,ue.Z)({},{lstatSync:function(){}}),{},{runtime:"browser"}),SP=function(n){if(null==n)return 0;if("string"==typeof n&&(n=Buffer.from(n)),"number"==typeof n.byteLength)return n.byteLength;if("number"==typeof n.length)return n.length;if("number"==typeof n.size)return n.size;if("string"==typeof n.path)try{return E8.lstatSync(n.path).size}catch{return}},fd=S(3195),k8=S(574);function hD(a,n){this.v=a,this.k=n}function hh(a){var n,t;function e(s,u){try{var l=a[s](u),c=l.value,p=c instanceof hD;Promise.resolve(p?c.v:c).then(function(y){if(p){var E="return"===s?"return":"next";if(!c.k||y.done)return e(E,y);y=a[E](y).value}r(l.done?"return":"normal",y)},function(y){e("throw",y)})}catch(y){r("throw",y)}}function r(s,u){switch(s){case"return":n.resolve({value:u,done:!0});break;case"throw":n.reject(u);break;default:n.resolve({value:u,done:!1})}(n=n.next)?e(n.key,n.arg):t=null}this._invoke=function(s,u){return new Promise(function(l,c){var p={key:s,arg:u,resolve:l,reject:c,next:null};t?t=t.next=p:(n=t=p,e(s,u))})},"function"!=typeof a.return&&(this.return=void 0)}function xs(a){return function(){return new hh(a.apply(this,arguments))}}function mD(a,n){return EP.apply(this,arguments)}function EP(){return(EP=xs((0,We.Z)().mark(function a(n,t){var e,r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=1,r=0,s=t;case 3:if(!(s<n.byteLength)){l.next=11;break}return l.next=6,{partNumber:e,data:n.slice(r,s)};case 6:e+=1,s=(r=s)+t,l.next=3;break;case 11:return l.next=13,{partNumber:e,data:n.slice(r),lastPart:!0};case 13:case"end":return l.stop()}},a)}))).apply(this,arguments)}function _o(a){return new hD(a,0)}function kP(a,n,t){return PP.apply(this,arguments)}function PP(){return(PP=xs((0,We.Z)().mark(function a(n,t,e){var r,s,u,l,c,p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:r=1,s={chunks:[],length:0},u=!1,l=!1,B.prev=4,p=Rl(e(n));case 6:return B.next=8,_o(p.next());case 8:if(!(u=!(y=B.sent).done)){B.next=24;break}s.chunks.push(E=y.value),s.length+=E.length;case 12:if(!(s.length>=t)){B.next=21;break}return D=s.chunks.length>1?fd.Buffer.concat(s.chunks):s.chunks[0],B.next=16,{partNumber:r,data:D.slice(0,t)};case 16:s.chunks=[D.slice(t)],s.length=s.chunks[0].length,r+=1,B.next=12;break;case 21:u=!1,B.next=6;break;case 24:B.next=30;break;case 26:B.prev=26,B.t0=B.catch(4),l=!0,c=B.t0;case 30:if(B.prev=30,B.prev=31,!u||null==p.return){B.next=35;break}return B.next=35,_o(p.return());case 35:if(B.prev=35,!l){B.next=38;break}throw c;case 38:return B.finish(35);case 39:return B.finish(30);case 40:return B.next=42,{partNumber:r,data:fd.Buffer.concat(s.chunks),lastPart:!0};case 42:case"end":return B.stop()}},a,null,[[4,26,30,40],[31,,35,39]])}))).apply(this,arguments)}function P8(a){return AP.apply(this,arguments)}function AP(){return(AP=xs((0,We.Z)().mark(function a(n){var t,e,r,s,u,l;return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:t=!1,e=!1,p.prev=2,s=Rl(n);case 4:return p.next=6,_o(s.next());case 6:if(!(t=!(u=p.sent).done)){p.next=13;break}return l=u.value,p.next=10,fd.Buffer.from(l);case 10:t=!1,p.next=4;break;case 13:p.next=19;break;case 15:p.prev=15,p.t0=p.catch(2),e=!0,r=p.t0;case 19:if(p.prev=19,p.prev=20,!t||null==s.return){p.next=24;break}return p.next=24,_o(s.return());case 24:if(p.prev=24,!e){p.next=27;break}throw r;case 27:return p.finish(24);case 28:return p.finish(19);case 29:case"end":return p.stop()}},a,null,[[2,15,19,29],[20,,24,28]])}))).apply(this,arguments)}function gD(a){return RP.apply(this,arguments)}function RP(){return(RP=xs((0,We.Z)().mark(function a(n){var t,e,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=n.getReader(),l.prev=1;case 2:return l.next=5,_o(t.read());case 5:if(s=(e=l.sent).value,!e.done){l.next=10;break}return l.abrupt("return");case 10:return l.next=12,fd.Buffer.from(s);case 12:l.next=2;break;case 14:l.next=19;break;case 16:throw l.prev=16,l.t0=l.catch(1),l.t0;case 19:return l.prev=19,t.releaseLock(),l.finish(19);case 22:case"end":return l.stop()}},a,null,[[1,16,19,22]])}))).apply(this,arguments)}hh.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},hh.prototype.next=function(a){return this._invoke("next",a)},hh.prototype.throw=function(a){return this._invoke("throw",a)},hh.prototype.return=function(a){return this._invoke("return",a)};var A8=function(n,t){if(n instanceof fd.Buffer)return mD(n,t);if(n instanceof k8.Readable)return kP(n,t,P8);if(n instanceof String||"string"==typeof n||n instanceof Uint8Array)return mD(fd.Buffer.from(n),t);if("function"==typeof n.stream)return kP(n.stream(),t,gD);if(n instanceof ReadableStream)return kP(n,t,gD);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},TP=5242880,R8=function(a){(0,F.Z)(t,a);var e,n=(0,L.Z)(t);function t(e){var r,s;return(0,h.Z)(this,t),(s=n.call(this)).MAX_PARTS=1e4,s.queueSize=4,s.partSize=TP,s.leavePartsOnError=!1,s.tags=[],s.concurrentUploaders=[],s.uploadedParts=[],s.isMultiPart=!0,s.queueSize=e.queueSize||s.queueSize,s.partSize=e.partSize||s.partSize,s.leavePartsOnError=e.leavePartsOnError||s.leavePartsOnError,s.tags=e.tags||s.tags,s.client=e.client,s.params=e.params,s.__validateInput(),s.totalBytes=SP(s.params.Body),s.bytesUploadedSoFar=0,s.abortController=null!==(r=e.abortController)&&void 0!==r?r:new q4,s}return(0,v.Z)(t,[{key:"abort",value:(e=zt((0,We.Z)().mark(function s(){return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:this.abortController.abort();case 1:case"end":return l.stop()}},s,this)})),function r(){return e.apply(this,arguments)})},{key:"done",value:function(){var e=zt((0,We.Z)().mark(function s(){return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)]);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},s,this)}));return function r(){return e.apply(this,arguments)}}()},{key:"on",value:function(r,s){return this.uploadEvent=r,(0,fa.Z)((0,pa.Z)(t.prototype),"on",this).call(this,r,s)}},{key:"__uploadUsingPut",value:function(){var e=zt((0,We.Z)().mark(function s(u){var c,p,y,E,D,R,B,te,ne,he,Se,we,$e,l=this;return(0,We.Z)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return this.isMultiPart=!1,p=(0,ue.Z)((0,ue.Z)({},this.params),{},{Body:u.data}),R=function(pt){l.bytesUploadedSoFar=pt.loaded,l.totalBytes=pt.total,l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:u.partNumber,Key:l.params.Key,Bucket:l.params.Bucket})},null!==(D=(E=(y=this.client.config).requestHandler)instanceof wP.EventEmitter?E:null)&&D.on("xhr.upload.progress",R),lt.next=9,Promise.all([this.client.send(new pD(p)),null==y||null===(c=y.endpoint)||void 0===c?void 0:c.call(y)]);case 9:if(te=(B=lt.sent)[0],ne=B[1]){lt.next=18;break}return lt.t0=MT,lt.next=16,FT(p,pD,(0,ue.Z)({},y));case 16:lt.t1=lt.sent,ne=(0,lt.t0)(lt.t1);case 18:if(ne){lt.next=20;break}throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');case 20:null!==D&&D.off("xhr.upload.progress",R),he=this.params.Key.split("/").map(function(Ft){return a1(Ft)}).join("/"),Se=a1(this.params.Bucket),void 0,Ft=ne.hostname.startsWith("".concat(Se,".")),we=l.client.config.forcePathStyle?"".concat(ne.protocol,"//").concat(ne.hostname,"/").concat(Se,"/").concat(he):Ft?"".concat(ne.protocol,"//").concat(ne.hostname,"/").concat(he):"".concat(ne.protocol,"//").concat(Se,".").concat(ne.hostname,"/").concat(he),this.singleUploadResult=(0,ue.Z)((0,ue.Z)({},te),{},{Bucket:this.params.Bucket,Key:this.params.Key,Location:we}),$e=SP(u.data),this.__notifyProgress({loaded:$e,total:$e,part:1,Key:this.params.Key,Bucket:this.params.Bucket});case 27:case"end":return lt.stop()}var Ft},s,this)}));return function r(s){return e.apply(this,arguments)}}()},{key:"__createMultipartUpload",value:function(){var e=zt((0,We.Z)().mark(function s(){var u;return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.createMultiPartPromise||(u=(0,ue.Z)((0,ue.Z)({},this.params),{},{Body:void 0}),this.createMultiPartPromise=this.client.send(new h8(u))),p.next=3,this.createMultiPartPromise;case 3:this.uploadId=p.sent.UploadId;case 5:case"end":return p.stop()}},s,this)}));return function r(){return e.apply(this,arguments)}}()},{key:"__doConcurrentUpload",value:function(){var e=zt((0,We.Z)().mark(function s(u){var c,p,y,E,D,R,B,l=this;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:c=!1,p=!1,ne.prev=2,E=(0,We.Z)().mark(function he(){var Se,we,$e,Ye,lt,Ft,pt;return(0,We.Z)().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(Se=R.value,!(l.uploadedParts.length>l.MAX_PARTS)){Gt.next=3;break}throw new Error("Exceeded ".concat(l.MAX_PARTS," as part of the upload to ").concat(l.params.Key," and ").concat(l.params.Bucket,"."));case 3:if(Gt.prev=3,!l.abortController.signal.aborted){Gt.next=6;break}return Gt.abrupt("return",{v:void 0});case 6:if(1!==Se.partNumber||!Se.lastPart){Gt.next=11;break}return Gt.next=9,l.__uploadUsingPut(Se);case 9:return Gt.t0=Gt.sent,Gt.abrupt("return",{v:Gt.t0});case 11:if(l.uploadId){Gt.next=16;break}return Gt.next=14,l.__createMultipartUpload();case 14:if(!l.abortController.signal.aborted){Gt.next=16;break}return Gt.abrupt("return",{v:void 0});case 16:return we=SP(Se.data)||0,lt=0,Ft=function(qt,Ht){(Number(Ht.query.partNumber)||-1)===Se.partNumber&&(qt.total&&we&&(l.bytesUploadedSoFar+=qt.loaded-lt,lt=qt.loaded),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:Se.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}))},null!==(Ye=($e=l.client.config.requestHandler)instanceof wP.EventEmitter?$e:null)&&Ye.on("xhr.upload.progress",Ft),Gt.next=24,l.client.send(new b8((0,ue.Z)((0,ue.Z)({},l.params),{},{UploadId:l.uploadId,Body:Se.data,PartNumber:Se.partNumber})));case 24:if(pt=Gt.sent,null!==Ye&&Ye.off("xhr.upload.progress",Ft),!l.abortController.signal.aborted){Gt.next=28;break}return Gt.abrupt("return",{v:void 0});case 28:if(pt.ETag){Gt.next=30;break}throw new Error("Part ".concat(Se.partNumber," is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?"));case 30:l.uploadedParts.push((0,ue.Z)((0,ue.Z)((0,ue.Z)((0,ue.Z)({PartNumber:Se.partNumber,ETag:pt.ETag},pt.ChecksumCRC32&&{ChecksumCRC32:pt.ChecksumCRC32}),pt.ChecksumCRC32C&&{ChecksumCRC32C:pt.ChecksumCRC32C}),pt.ChecksumSHA1&&{ChecksumSHA1:pt.ChecksumSHA1}),pt.ChecksumSHA256&&{ChecksumSHA256:pt.ChecksumSHA256})),null===Ye&&(l.bytesUploadedSoFar+=we),l.__notifyProgress({loaded:l.bytesUploadedSoFar,total:l.totalBytes,part:Se.partNumber,Key:l.params.Key,Bucket:l.params.Bucket}),Gt.next=41;break;case 35:if(Gt.prev=35,Gt.t1=Gt.catch(3),l.uploadId){Gt.next=39;break}throw Gt.t1;case 39:if(!l.leavePartsOnError){Gt.next=41;break}throw Gt.t1;case 41:case"end":return Gt.stop()}},he,null,[[3,35]])}),D=Rl(u);case 5:return ne.next=7,D.next();case 7:if(!(c=!(R=ne.sent).done)){ne.next=15;break}return ne.delegateYield(E(),"t0",9);case 9:if("object"!=typeof(B=ne.t0)){ne.next=12;break}return ne.abrupt("return",B.v);case 12:c=!1,ne.next=5;break;case 15:ne.next=21;break;case 17:ne.prev=17,ne.t1=ne.catch(2),p=!0,y=ne.t1;case 21:if(ne.prev=21,ne.prev=22,!c||null==D.return){ne.next=26;break}return ne.next=26,D.return();case 26:if(ne.prev=26,!p){ne.next=29;break}throw y;case 29:return ne.finish(26);case 30:return ne.finish(21);case 31:case"end":return ne.stop()}},s,null,[[2,17,21,31],[22,,26,30]])}));return function r(s){return e.apply(this,arguments)}}()},{key:"__doMultipartUpload",value:function(){var e=zt((0,We.Z)().mark(function s(){var u,l,c,p,y;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:for(u=A8(this.params.Body,this.partSize),l=0;l<this.queueSize;l++)c=this.__doConcurrentUpload(u),this.concurrentUploaders.push(c);return D.next=4,Promise.all(this.concurrentUploaders);case 4:if(!this.abortController.signal.aborted){D.next=6;break}throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});case 6:if(!this.isMultiPart){D.next=14;break}return this.uploadedParts.sort(function(R,B){return R.PartNumber-B.PartNumber}),y=(0,ue.Z)((0,ue.Z)({},this.params),{},{Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}}),D.next=11,this.client.send(new C8(y));case 11:p=D.sent,D.next=15;break;case 14:p=this.singleUploadResult;case 15:if(!this.tags.length){D.next=18;break}return D.next=18,this.client.send(new w8((0,ue.Z)((0,ue.Z)({},this.params),{},{Tagging:{TagSet:this.tags}})));case 18:return D.abrupt("return",p);case 19:case"end":return D.stop()}},s,this)}));return function r(){return e.apply(this,arguments)}}()},{key:"__notifyProgress",value:function(r){this.uploadEvent&&this.emit(this.uploadEvent,r)}},{key:"__abortTimeout",value:function(){var e=zt((0,We.Z)().mark(function s(u){return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(p,y){u.onabort=function(){var E=new Error("Upload aborted.");E.name="AbortError",y(E)}}));case 1:case"end":return c.stop()}},s)}));return function r(s){return e.apply(this,arguments)}}()},{key:"__validateInput",value:function(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<TP)throw new Error("EntityTooSmall: Your proposed upload partsize [".concat(this.partSize,"] is smaller than the minimum allowed size [").concat(TP,"] (5MB)"));if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}}]),t}(wP.EventEmitter),bs=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(eD),T8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"InternalErrorException",$fault:"server"},e))).name="InternalErrorException",r.$fault="server",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),D8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"InvalidParameterException",$fault:"client"},e))).name="InvalidParameterException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),I8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"LimitExceededException",$fault:"client"},e))).name="LimitExceededException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),O8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"NotAuthorizedException",$fault:"client"},e))).name="NotAuthorizedException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),F8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"ResourceConflictException",$fault:"client"},e))).name="ResourceConflictException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),M8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"TooManyRequestsException",$fault:"client"},e))).name="TooManyRequestsException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),N8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"ResourceNotFoundException",$fault:"client"},e))).name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),B8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"ExternalServiceException",$fault:"client"},e))).name="ExternalServiceException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),Z8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,(0,ue.Z)({name:"InvalidIdentityPoolConfigurationException",$fault:"client"},e))).name="InvalidIdentityPoolConfigurationException",r.$fault="client",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(bs),j8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=kD("GetCredentialsForIdentity"),s=JSON.stringify(Oa(t)),l.abrupt("return",ED(e,r,"/",void 0,s));case 3:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),$8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=kD("GetId"),s=JSON.stringify(Oa(t)),l.abrupt("return",ED(e,r,"/",void 0,s));case 3:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),L8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t.statusCode>=300)){c.next=2;break}return c.abrupt("return",U8(t,e));case 2:return c.next=4,DP(t.body,e);case 4:return s=K8(c.sent,e),u=(0,ue.Z)({$metadata:es(t)},s),c.abrupt("return",u);case 9:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),U8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,PD(t.body,e);case 5:c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=AD(t,r.body),c.t5=s,c.next="ExternalServiceException"===c.t5||"com.amazonaws.cognitoidentity#ExternalServiceException"===c.t5?12:"InternalErrorException"===c.t5||"com.amazonaws.cognitoidentity#InternalErrorException"===c.t5?15:"InvalidIdentityPoolConfigurationException"===c.t5||"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException"===c.t5?18:"InvalidParameterException"===c.t5||"com.amazonaws.cognitoidentity#InvalidParameterException"===c.t5?21:"NotAuthorizedException"===c.t5||"com.amazonaws.cognitoidentity#NotAuthorizedException"===c.t5?24:"ResourceConflictException"===c.t5||"com.amazonaws.cognitoidentity#ResourceConflictException"===c.t5?27:"ResourceNotFoundException"===c.t5||"com.amazonaws.cognitoidentity#ResourceNotFoundException"===c.t5?30:"TooManyRequestsException"===c.t5||"com.amazonaws.cognitoidentity#TooManyRequestsException"===c.t5?33:36;break;case 12:return c.next=14,vD(r,e);case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:throw c.sent;case 15:return c.next=17,yD(r,e);case 18:return c.next=20,G8(r,e);case 21:return c.next=23,_D(r,e);case 24:return c.next=26,xD(r,e);case 27:return c.next=29,bD(r,e);case 30:return c.next=32,CD(r,e);case 33:return c.next=35,wD(r,e);case 36:return c.abrupt("return",SD({output:t,parsedBody:r.body,errorCode:s}));case 38:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),z8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t.statusCode>=300)){c.next=2;break}return c.abrupt("return",V8(t,e));case 2:return c.next=4,DP(t.body,e);case 4:return s=Oa(c.sent),u=(0,ue.Z)({$metadata:es(t)},s),c.abrupt("return",u);case 9:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),V8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=ue.Z,c.t1=(0,ue.Z)({},t),c.t2={},c.next=5,PD(t.body,e);case 5:c.t3=c.sent,c.t4={body:c.t3},r=(0,c.t0)(c.t1,c.t2,c.t4),s=AD(t,r.body),c.t5=s,c.next="ExternalServiceException"===c.t5||"com.amazonaws.cognitoidentity#ExternalServiceException"===c.t5?12:"InternalErrorException"===c.t5||"com.amazonaws.cognitoidentity#InternalErrorException"===c.t5?15:"InvalidParameterException"===c.t5||"com.amazonaws.cognitoidentity#InvalidParameterException"===c.t5?18:"LimitExceededException"===c.t5||"com.amazonaws.cognitoidentity#LimitExceededException"===c.t5?21:"NotAuthorizedException"===c.t5||"com.amazonaws.cognitoidentity#NotAuthorizedException"===c.t5?24:"ResourceConflictException"===c.t5||"com.amazonaws.cognitoidentity#ResourceConflictException"===c.t5?27:"ResourceNotFoundException"===c.t5||"com.amazonaws.cognitoidentity#ResourceNotFoundException"===c.t5?30:"TooManyRequestsException"===c.t5||"com.amazonaws.cognitoidentity#TooManyRequestsException"===c.t5?33:36;break;case 12:return c.next=14,vD(r,e);case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:throw c.sent;case 15:return c.next=17,yD(r,e);case 18:return c.next=20,_D(r,e);case 21:return c.next=23,H8(r,e);case 24:return c.next=26,xD(r,e);case 27:return c.next=29,bD(r,e);case 30:return c.next=32,CD(r,e);case 33:return c.next=35,wD(r,e);case 36:return c.abrupt("return",SD({output:t,parsedBody:r.body,errorCode:s}));case 38:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),vD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new B8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),yD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new T8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),G8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new Z8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),_D=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new D8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),H8=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new I8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),xD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new O8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),bD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new F8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),CD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new N8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),wD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=Oa(r=t.body),u=new M8((0,ue.Z)({$metadata:es(t)},s)),c.abrupt("return",ys(u,r));case 4:case"end":return c.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),K8=function(n,t){return rD(n,{Credentials:function(r){return function(n,t){return rD(n,{AccessKeyId:zo,Expiration:function(r){return Ol(function(n){if(null!=n){var t;if("number"==typeof n)t=n;else{if("string"!=typeof n)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=function(n){return sh("string"==typeof n?ad(n):n)}(n)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}}(sh(r)))},SecretKey:zo,SessionToken:zo})}(r)},IdentityId:zo})},es=function(n){var t,e;return{httpStatusCode:n.statusCode,requestId:null!==(t=null!==(e=n.headers["x-amzn-requestid"])&&void 0!==e?e:n.headers["x-amzn-request-id"])&&void 0!==t?t:n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}},SD=tD(bs),ED=function(){var a=zt((0,We.Z)().mark(function n(t,e,r,s,u){var l,p,D,R;return(0,We.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,t.endpoint();case 2:return R={protocol:void 0===(p=(l=te.sent).protocol)?"https":p,hostname:l.hostname,port:l.port,method:"POST",path:(D=l.path).endsWith("/")?D.slice(0,-1)+r:D+r,headers:e},void 0!==s&&(R.hostname=s),void 0!==u&&(R.body=u),te.abrupt("return",new ud(R));case 12:case"end":return te.stop()}},n)}));return function(t,e,r,s,u){return a.apply(this,arguments)}}();function kD(a){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(a)}}var DP=function(n,t){return function(n,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return n instanceof Uint8Array?Promise.resolve(n):t.streamCollector(n)||Promise.resolve(new Uint8Array)}(n,t).then(function(e){return t.utf8Encoder(e)})}(n,t).then(function(e){return e.length?JSON.parse(e):{}})},PD=function(){var a=zt((0,We.Z)().mark(function n(t,e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,DP(t,e);case 2:return(s=l.sent).message=null!==(r=s.message)&&void 0!==r?r:s.Message,l.abrupt("return",s);case 5:case"end":return l.stop()}},n)}));return function(t,e){return a.apply(this,arguments)}}(),AD=function(n,t){var r=function(l){var c=l;return"number"==typeof c&&(c=c.toString()),c.indexOf(",")>=0&&(c=c.split(",")[0]),c.indexOf(":")>=0&&(c=c.split(":")[0]),c.indexOf("#")>=0&&(c=c.split("#")[1]),c},s=("x-amzn-errortype",Object.keys(n.headers).find(function(p){return p.toLowerCase()==="x-amzn-errortype".toLowerCase()}));return void 0!==s?r(n.headers[s]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},Y8=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions()));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:function(B){return B},outputFilterSensitiveLog:function(B){return B}})}},{key:"serialize",value:function(r,s){return $8(r,s)}},{key:"deserialize",value:function(r,s){return z8(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il),e$=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,h.Z)(this,t),(r=n.call(this,e)).tryNextLink=s,r.name="ProviderError",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t,null,[{key:"from",value:function(r){return Object.assign(new this(r.message,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),r)}}]),t}((0,dc.Z)(Error)),l1=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,h.Z)(this,t),(r=n.call(this,e,s)).tryNextLink=s,r.name="CredentialsProviderError",Object.setPrototypeOf((0,Fr.Z)(r),t.prototype),r}return(0,v.Z)(t)}(e$),RD=function(n,t,e){var r,s,u,l=!1,c=function(){var p=zt((0,We.Z)().mark(function y(){return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return s||(s=n()),D.prev=1,D.next=4,s;case 4:r=D.sent,u=!0,l=!1;case 7:return D.prev=7,s=void 0,D.finish(7);case 10:return D.abrupt("return",r);case 11:case"end":return D.stop()}},y,null,[[1,,7,10]])}));return function(){return p.apply(this,arguments)}}();return void 0===t?function(){var p=zt((0,We.Z)().mark(function y(E){return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(u&&(null==E||!E.forceRefresh)){R.next=4;break}return R.next=3,c();case 3:r=R.sent;case 4:return R.abrupt("return",r);case 5:case"end":return R.stop()}},y)}));return function(y){return p.apply(this,arguments)}}():function(){var p=zt((0,We.Z)().mark(function y(E){return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(u&&(null==E||!E.forceRefresh)){R.next=4;break}return R.next=3,c();case 3:r=R.sent;case 4:if(!l){R.next=6;break}return R.abrupt("return",r);case 6:if(!e||e(r)){R.next=9;break}return l=!0,R.abrupt("return",r);case 9:if(!t(r)){R.next=13;break}return R.next=12,c();case 12:case 13:return R.abrupt("return",r);case 14:case"end":return R.stop()}},y)}));return function(y){return p.apply(this,arguments)}}()},t$=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this)).input=e,r}return(0,v.Z)(t,[{key:"resolveMiddleware",value:function(r,s,u){this.middlewareStack.use(Tl(s,this.serialize,this.deserialize)),this.middlewareStack.use(Dl(s,t.getEndpointParameterInstructions()));var l=r.concat(this.middlewareStack),D=s.requestHandler;return l.resolve(function(R){return D.handle(R.request,u||{})},{logger:s.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:function(B){return B},outputFilterSensitiveLog:function(B){return B}})}},{key:"serialize",value:function(r,s){return j8(r,s)}},{key:"deserialize",value:function(r,s){return L8(r,s)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),t}(Il);function TD(a){return Promise.all(Object.keys(a).reduce(function(n,t){var e=a[t];return n.push("string"==typeof e?[t,e]:e().then(function(r){return[t,r]})),n},[])).then(function(n){return n.reduce(function(t,e){var r=(0,g.Z)(e,2);return t[r[0]]=r[1],t},{})})}function n$(a){return zt((0,We.Z)().mark(function n(){var e,r,s,u,l,c,p;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(D.t0=a.client,D.t1=t$,D.t2=a.customRoleArn,D.t3=a.identityId,!a.logins){D.next=10;break}return D.next=7,TD(a.logins);case 7:D.t4=D.sent,D.next=11;break;case 10:D.t4=void 0;case 11:return D.t5=D.t4,D.t6={CustomRoleArn:D.t2,IdentityId:D.t3,Logins:D.t5},D.t7=new D.t1(D.t6),D.next=16,D.t0.send.call(D.t0,D.t7);case 16:return r=void 0===(e=D.sent.Credentials)?i$():e,u=void 0===(s=r.AccessKeyId)?r$():s,l=r.Expiration,p=void 0===(c=r.SecretKey)?o$():c,D.abrupt("return",{identityId:a.identityId,accessKeyId:u,secretAccessKey:p,sessionToken:r.SessionToken,expiration:l});case 26:case"end":return D.stop()}},n)}))}function r$(){throw new l1("Response from Amazon Cognito contained no access key ID")}function i$(){throw new l1("Response from Amazon Cognito contained no credentials")}function o$(){throw new l1("Response from Amazon Cognito contained no secret key")}var IP="IdentityIds",a$=function(){function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"aws:cognito-identity-ids";(0,h.Z)(this,a),this.dbName=n}return(0,v.Z)(a,[{key:"getItem",value:function(t){return this.withObjectStore("readonly",function(e){var r=e.get(t);return new Promise(function(s){r.onerror=function(){return s(null)},r.onsuccess=function(){return s(r.result?r.result.value:null)}})}).catch(function(){return null})}},{key:"removeItem",value:function(t){return this.withObjectStore("readwrite",function(e){var r=e.delete(t);return new Promise(function(s,u){r.onerror=function(){return u(r.error)},r.onsuccess=function(){return s()}})})}},{key:"setItem",value:function(t,e){return this.withObjectStore("readwrite",function(r){var s=r.put({id:t,value:e});return new Promise(function(u,l){s.onerror=function(){return l(s.error)},s.onsuccess=function(){return u()}})})}},{key:"getDb",value:function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(e,r){t.onsuccess=function(){e(t.result)},t.onerror=function(){r(t.error)},t.onblocked=function(){r(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var s=t.result;s.onerror=function(){r(new Error("Failed to create object store"))},s.createObjectStore(IP,{keyPath:"id"})}})}},{key:"withObjectStore",value:function(t,e){return this.getDb().then(function(r){var s=r.transaction(IP,t);return s.oncomplete=function(){return r.close()},new Promise(function(u,l){s.onerror=function(){return l(s.error)},u(e(s.objectStore(IP)))}).catch(function(u){throw r.close(),u})})}}]),a}(),s$=function(){function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.Z)(this,a),this.store=n}return(0,v.Z)(a,[{key:"getItem",value:function(t){return t in this.store?this.store[t]:null}},{key:"removeItem",value:function(t){delete this.store[t]}},{key:"setItem",value:function(t,e){this.store[t]=e}}]),a}(),u$=new s$;function OP(a){var n=a.accountId,t=a.cache,e=void 0===t?function l$(){return"object"==typeof self&&self.indexedDB?new a$:"object"==typeof window&&window.localStorage?window.localStorage:u$}():t,r=a.client,s=a.customRoleArn,u=a.identityPoolId,l=a.logins,c=a.userIdentifier,p=void 0===c?l&&0!==Object.keys(l).length?void 0:"ANONYMOUS":c,y=p?"aws:cognito-identity-credentials:".concat(u,":").concat(p):void 0,E=function(){var D=zt((0,We.Z)().mark(function R(){var B,ne,he;return(0,We.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(we.t0=y,!we.t0){we.next=5;break}return we.next=4,e.getItem(y);case 4:we.t0=we.sent;case 5:if(B=we.t0){we.next=28;break}if(we.t1=r,we.t2=Y8,we.t3=n,we.t4=u,!l){we.next=17;break}return we.next=14,TD(l);case 14:we.t5=we.sent,we.next=18;break;case 17:we.t5=void 0;case 18:return we.t6=we.t5,we.t7={AccountId:we.t3,IdentityPoolId:we.t4,Logins:we.t6},we.t8=new we.t2(we.t7),we.next=23,we.t1.send.call(we.t1,we.t8);case 23:he=void 0===(ne=we.sent.IdentityId)?c$():ne,B=he,y&&Promise.resolve(e.setItem(y,B)).catch(function(){});case 28:return E=n$({client:r,customRoleArn:s,logins:l,identityId:B}),we.abrupt("return",E());case 30:case"end":return we.stop()}},R)}));return function(){return D.apply(this,arguments)}}();return function(){return E().catch(function(){var D=zt((0,We.Z)().mark(function R(B){return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:throw y&&Promise.resolve(e.removeItem(y)).catch(function(){}),B;case 2:case"end":return ne.stop()}},R)}));return function(R){return D.apply(this,arguments)}}())}}function c$(){throw new l1("Response from Amazon Cognito contained no identity ID")}var OD=function(n){return"string"==typeof n&&(n.startsWith("fips-")||n.endsWith("-fips"))},FD=function(n){return OD(n)?["fips-aws-global","aws-fips"].includes(n)?"us-east-1":n.replace(/fips-(dkr-|prod-)?|-fips/,""):n},MD=function(n){var r,t=n.region,e=n.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,ue.Z)((0,ue.Z)({},n),{},{region:(r=zt((0,We.Z)().mark(function u(){return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if("string"!=typeof t){p.next=2;break}return p.abrupt("return",FD(t));case 2:return p.next=4,t();case 4:return p.abrupt("return",FD(p.sent));case 6:case"end":return p.stop()}},u)})),function s(){return r.apply(this,arguments)}),useFipsEndpoint:function(){var r=zt((0,We.Z)().mark(function u(){return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if("string"!=typeof t){p.next=4;break}p.t0=t,p.next=7;break;case 4:return p.next=6,t();case 6:p.t0=p.sent;case 7:if(!OD(p.t0)){p.next=10;break}return p.abrupt("return",!0);case 10:return p.abrupt("return","function"!=typeof e?Promise.resolve(!!e):e());case 11:case"end":return p.stop()}},u)}));return function s(){return r.apply(this,arguments)}}()})},ND="content-length",y$={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},BD=function(n){return{applyToStack:function(e){e.add(function v$(a){return function(n){return function(){var t=zt((0,We.Z)().mark(function e(r){var s,u,l,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(Ia.isInstance(s=r.request)&&(l=s.headers,(u=s.body)&&-1===Object.keys(l).map(function(E){return E.toLowerCase()}).indexOf(ND)))try{c=a(u),s.headers=(0,ue.Z)((0,ue.Z)({},s.headers),{},(0,f.Z)({},ND,String(c)))}catch{}return y.abrupt("return",n((0,ue.Z)((0,ue.Z)({},r),{},{request:s})));case 3:case"end":return y.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n.bodyLengthChecker),y$)}}},x$={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZD=function(n){return{applyToStack:function(e){e.add(function(n){return function(t){return function(){var e=zt((0,We.Z)().mark(function r(s){var u,c,y;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(Ia.isInstance(s.request)){D.next=2;break}return D.abrupt("return",t(s));case 2:return u=s.request,(void 0===(c=(n.requestHandler.metadata||{}).handlerProtocol)?"":c).indexOf("h2")>=0&&!u.headers[":authority"]?(delete u.headers.host,u.headers[":authority"]=""):u.headers.host||(y=u.hostname,null!=u.port&&(y+=":".concat(u.port)),u.headers.host=y),D.abrupt("return",t(s));case 6:case"end":return D.stop()}},r)}));return function(r){return e.apply(this,arguments)}}()}}(n),x$)}}};function FP(a,n){if(null==a)return{};var e,r,t=function b$(a,n){if(null==a)return{};var r,s,t={},e=Object.keys(a);for(s=0;s<e.length;s++)!(n.indexOf(r=e[s])>=0)&&(t[r]=a[r]);return t}(a,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(r=0;r<s.length;r++)!(n.indexOf(e=s[r])>=0)&&Object.prototype.propertyIsEnumerable.call(a,e)&&(t[e]=a[e])}return t}for(var C$=["$metadata"],S$={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},jD=function(n){return{applyToStack:function(e){e.add(function(n,t){return function(){var e=zt((0,We.Z)().mark(function r(s){var u,l,c,p,y,E,D,te,ne,he,Se,we,$e,Ye,lt,Ft,pt,Yt;return(0,We.Z)().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.prev=0,Ht.next=3,n(s);case 3:return c=t.clientName,p=t.commandName,y=t.logger,te=(D=void 0===(E=t.dynamoDbDocumentClientOptions)?{}:E).overrideInputFilterSensitiveLog??t.inputFilterSensitiveLog,ne=D.overrideOutputFilterSensitiveLog??t.outputFilterSensitiveLog,Se=(he=(l=Ht.sent).output).$metadata,we=FP(he,C$),null==y||null===(u=y.info)||void 0===u||u.call(y,{clientName:c,commandName:p,input:te(s.input),output:ne(we),metadata:Se}),Ht.abrupt("return",l);case 13:throw Ht.prev=13,Ht.t0=Ht.catch(0),Ye=t.clientName,lt=t.commandName,Yt=(void 0===(pt=t.dynamoDbDocumentClientOptions)?{}:pt).overrideInputFilterSensitiveLog??t.inputFilterSensitiveLog,null==(Ft=t.logger)||null===($e=Ft.error)||void 0===$e||$e.call(Ft,{clientName:Ye,commandName:lt,input:Yt(s.input),error:Ht.t0,metadata:Ht.t0.$metadata}),Ht.t0;case 20:case"end":return Ht.stop()}},r,null,[[0,13]])}));return function(r){return e.apply(this,arguments)}}()},S$)}}},$D="X-Amzn-Trace-Id",A$={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},LD=function(n){return{applyToStack:function(e){e.add(function(n){return function(t){return function(){var e=zt((0,We.Z)().mark(function r(s){var u,l,c,p;return(0,We.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(Ia.isInstance(u=s.request)&&"node"===n.runtime&&!u.headers.hasOwnProperty($D)){E.next=3;break}return E.abrupt("return",t(s));case 3:return l=process.env.AWS_LAMBDA_FUNCTION_NAME,c=process.env._X_AMZN_TRACE_ID,(p=function(R){return"string"==typeof R&&R.length>0})(l)&&p(c)&&(u.headers[$D]=c),E.abrupt("return",t((0,ue.Z)((0,ue.Z)({},s),{},{request:u})));case 8:case"end":return E.stop()}},r)}));return function(r){return e.apply(this,arguments)}}()}}(n),A$)}}},nu=function(){return(nu=nu||{}).STANDARD="standard",nu.ADAPTIVE="adaptive",nu}(),MP=nu.STANDARD,R$=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],T$=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],D$=[500,502,503,504],I$=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],UD=function(n){var t,e;return 429===(null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)||R$.includes(n.name)||1==(null===(e=n.$retryable)||void 0===e?void 0:e.throttling)},zD=function(n){var t;return T$.includes(n.name)||I$.includes(n?.code||"")||D$.includes((null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},F$=function(){function a(n){var t,e,r,s,u;(0,h.Z)(this,a),this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=n?.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(e=n?.minCapacity)&&void 0!==e?e:1,this.minFillRate=null!==(r=n?.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(s=n?.scaleConstant)&&void 0!==s?s:.4,this.smooth=null!==(u=n?.smooth)&&void 0!==u?u:.8;var l=this.getCurrentTimeInSeconds();this.lastThrottleTime=l,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,v.Z)(a,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:(n=zt((0,We.Z)().mark(function e(){return(0,We.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.acquireTokenBucket(1));case 1:case"end":return s.stop()}},e,this)})),function t(){return n.apply(this,arguments)})},{key:"acquireTokenBucket",value:function(){var n=zt((0,We.Z)().mark(function e(r){var s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.enabled){l.next=2;break}return l.abrupt("return");case 2:if(this.refillTokenBucket(),!(r>this.currentCapacity)){l.next=7;break}return s=(r-this.currentCapacity)/this.fillRate*1e3,l.next=7,new Promise(function(c){return setTimeout(c,s)});case 7:this.currentCapacity=this.currentCapacity-r;case 8:case"end":return l.stop()}},e,this)}));return function t(e){return n.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var t=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(t-this.lastTimestamp)*this.fillRate),this.lastTimestamp=t):this.lastTimestamp=t}},{key:"updateClientSendingRate",value:function(t){var e;if(this.updateMeasuredRate(),UD(t)){var r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),e=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),e=this.cubicSuccess(this.getCurrentTimeInSeconds());var s=Math.min(e,2*this.measuredTxRate);this.updateTokenBucketRate(s)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(t){return this.getPrecise(t*this.beta)}},{key:"cubicSuccess",value:function(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var t=this.getCurrentTimeInSeconds(),e=Math.floor(2*t)/2;this.requestCount++,e>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(e-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e)}},{key:"getPrecise",value:function(t){return parseFloat(t.toFixed(8))}}]),a;var n}(),HD=function(n){var t=n.retryDelay,e=n.retryCount,r=n.retryCost;return{getRetryCount:function(){return e},getRetryDelay:function(){return Math.min(2e4,t)},getRetryCost:function(){return r}}},qD=function(){function a(n){(0,h.Z)(this,a),this.maxAttempts=n,this.mode=nu.STANDARD,this.capacity=500,this.retryBackoffStrategy=function(){var n=100;return{computeNextBackoffDelay:function(s){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,s)*n))},setDelayBase:function(s){n=s}}}(),this.maxAttemptsProvider="function"==typeof n?n:zt((0,We.Z)().mark(function t(){return(0,We.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n);case 1:case"end":return r.stop()}},t)}))}return(0,v.Z)(a,[{key:"acquireInitialRetryToken",value:(n=zt((0,We.Z)().mark(function e(r){return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",HD({retryDelay:100,retryCount:0}));case 1:case"end":return u.stop()}},e)})),function t(e){return n.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var n=zt((0,We.Z)().mark(function e(r,s){var l,c,p,y;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this.getMaxAttempts();case 2:if(!this.shouldRetry(r,s,D.sent)){D.next=11;break}return this.retryBackoffStrategy.setDelayBase("THROTTLING"===(l=s.errorType)?500:100),c=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),p=s.retryAfterHint?Math.max(s.retryAfterHint.getTime()-Date.now()||0,c):c,y=this.getCapacityCost(l),this.capacity-=y,D.abrupt("return",HD({retryDelay:p,retryCount:r.getRetryCount()+1,retryCost:y}));case 11:throw new Error("No retry token available");case 12:case"end":return D.stop()}},e,this)}));return function t(e,r){return n.apply(this,arguments)}}()},{key:"recordSuccess",value:function(t){var e;this.capacity=Math.max(500,this.capacity+(null!==(e=t.getRetryCost())&&void 0!==e?e:1))}},{key:"getCapacity",value:function(){return this.capacity}},{key:"getMaxAttempts",value:function(){var n=zt((0,We.Z)().mark(function e(){return(0,We.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,this.maxAttemptsProvider();case 3:return s.abrupt("return",s.sent);case 6:return s.prev=6,s.t0=s.catch(0),console.warn("Max attempts provider could not resolve. Using default of ".concat(3)),s.abrupt("return",3);case 10:case"end":return s.stop()}},e,this,[[0,6]])}));return function t(){return n.apply(this,arguments)}}()},{key:"shouldRetry",value:function(t,e,r){return t.getRetryCount()<r&&this.capacity>=this.getCapacityCost(e.errorType)&&this.isRetryableError(e.errorType)}},{key:"getCapacityCost",value:function(t){return"TRANSIENT"===t?10:5}},{key:"isRetryableError",value:function(t){return"THROTTLING"===t||"TRANSIENT"===t}}]),a;var n}(),U$=function(){function a(n,t){(0,h.Z)(this,a),this.maxAttemptsProvider=n,this.mode=nu.ADAPTIVE,this.rateLimiter=(t??{}).rateLimiter??new F$,this.standardRetryStrategy=new qD(n)}return(0,v.Z)(a,[{key:"acquireInitialRetryToken",value:(n=zt((0,We.Z)().mark(function e(r){return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.rateLimiter.getSendToken();case 2:return u.abrupt("return",this.standardRetryStrategy.acquireInitialRetryToken(r));case 3:case"end":return u.stop()}},e,this)})),function t(e){return n.apply(this,arguments)})},{key:"refreshRetryTokenForRetry",value:function(){var n=zt((0,We.Z)().mark(function e(r,s){return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.rateLimiter.updateClientSendingRate(s),l.abrupt("return",this.standardRetryStrategy.refreshRetryTokenForRetry(r,s));case 2:case"end":return l.stop()}},e,this)}));return function t(e,r){return n.apply(this,arguments)}}()},{key:"recordSuccess",value:function(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}]),a;var n}(),XD=function(n){var t,s,e=n.retryStrategy,r=Ya(null!==(t=n.maxAttempts)&&void 0!==t?t:3);return(0,ue.Z)((0,ue.Z)({},n),{},{maxAttempts:r,retryStrategy:(s=zt((0,We.Z)().mark(function l(){return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!e){y.next=2;break}return y.abrupt("return",e);case 2:return y.next=4,Ya(n.retryMode)();case 4:if(y.sent!==nu.ADAPTIVE){y.next=7;break}return y.abrupt("return",new U$(r));case 7:return y.abrupt("return",new qD(r));case 8:case"end":return y.stop()}},l)})),function u(){return s.apply(this,arguments)})})},q$=function(n){return n instanceof Error?n:n instanceof Object?Object.assign(new Error,n):"string"==typeof n?new Error(n):new Error("AWS SDK error wrapper for ".concat(n))},W$=function(n){return typeof n.acquireInitialRetryToken<"u"&&typeof n.refreshRetryTokenForRetry<"u"&&typeof n.recordSuccess<"u"},X$=function(n){var t={errorType:Q$(n)},e=Y$(n.$response);return e&&(t.retryAfterHint=e),t},Q$=function(n){return UD(n)?"THROTTLING":zD(n)?"TRANSIENT":function(n){var t;if(void 0!==(null===(t=n.$metadata)||void 0===t?void 0:t.httpStatusCode)){var e=n.$metadata.httpStatusCode;return 500<=e&&e<=599&&!zD(n)}return!1}(n)?"SERVER_ERROR":"CLIENT_ERROR"},J$={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},QD=function(n){return{applyToStack:function(e){e.add(function(n){return function(t,e){return function(){var r=zt((0,We.Z)().mark(function s(u){var l,c,p,y,E,D,R,B,te,ne;return(0,We.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,n.retryStrategy();case 2:return l=Se.sent,Se.next=5,n.maxAttempts();case 5:if(c=Se.sent,!W$(l)){Se.next=26;break}return Se.next=10,l.acquireInitialRetryToken(e.partition_id);case 10:p=Se.sent,y=new Error,E=0,D=0,Ia.isInstance(R=u.request)&&(R.headers["amz-sdk-invocation-id"]=Br()),B=(0,We.Z)().mark(function we(){var $e,Ye,lt,Ft,pt;return(0,We.Z)().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Gt.prev=0,Ia.isInstance(R)&&(R.headers["amz-sdk-request"]="attempt=".concat(E+1,"; max=").concat(c)),Gt.next=4,t(u);case 4:return Ye=($e=Gt.sent).response,lt=$e.output,l.recordSuccess(p),lt.$metadata.attempts=E+1,lt.$metadata.totalRetryDelay=D,Gt.abrupt("return",{v:{response:Ye,output:lt}});case 13:return Gt.prev=13,Gt.t0=Gt.catch(0),Ft=X$(Gt.t0),y=q$(Gt.t0),Gt.prev=17,Gt.next=20,l.refreshRetryTokenForRetry(p,Ft);case 20:p=Gt.sent,Gt.next=29;break;case 23:throw Gt.prev=23,Gt.t1=Gt.catch(17),y.$metadata||(y.$metadata={}),y.$metadata.attempts=E+1,y.$metadata.totalRetryDelay=D,y;case 29:return E=p.getRetryCount(),pt=p.getRetryDelay(),D+=pt,Gt.next=34,new Promise(function(Yt){return setTimeout(Yt,pt)});case 34:case"end":return Gt.stop()}},we,null,[[0,13],[17,23]])});case 17:return Se.delegateYield(B(),"t0",19);case 19:if("object"!=typeof(te=Se.t0)){Se.next=22;break}return Se.abrupt("return",te.v);case 22:Se.next=17;break;case 24:Se.next=29;break;case 26:return null!==(ne=l)&&void 0!==ne&&ne.mode&&(e.userAgent=[].concat((0,_.Z)(e.userAgent||[]),[["cfg/retry-mode",l.mode]])),Se.abrupt("return",l.retry(t,u));case 29:case"end":return Se.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()}}(n),J$)}}},Y$=function(n){if(ah.isInstance(n)){var t=Object.keys(n.headers).find(function(u){return"retry-after"===u.toLowerCase()});if(t){var e=n.headers[t],r=Number(e);return Number.isNaN(r)?new Date(e):new Date(1e3*r)}}},JD=S(8407),YD={},BP={},mh=0;mh<256;mh++){var gh=mh.toString(16).toLowerCase();1===gh.length&&(gh="0".concat(gh)),YD[mh]=gh,BP[gh]=mh}function _a(a){for(var n="",t=0;t<a.byteLength;t++)n+=YD[a[t]];return n}var ZP=function(){function a(n){if((0,h.Z)(this,a),this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return(0,v.Z)(a,[{key:"valueOf",value:function(){var t=this.bytes.slice(0),e=128&t[0];return e&&eI(t),parseInt(_a(t),16)*(e?-1:1)}},{key:"toString",value:function(){return String(this.valueOf())}}],[{key:"fromNumber",value:function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error("".concat(t," is too large (or, if negative, too small) to represent as an Int64"));for(var e=new Uint8Array(8),r=7,s=Math.abs(Math.round(t));r>-1&&s>0;r--,s/=256)e[r]=s;return t<0&&eI(e),new a(e)}}]),a}();function eI(a){for(var n=0;n<8;n++)a[n]^=255;for(var t=7;t>-1&&(a[t]++,0===a[t]);t--);}var tI=function(){function a(n,t){(0,h.Z)(this,a),this.toUtf8=n,this.fromUtf8=t}return(0,v.Z)(a,[{key:"format",value:function(t){for(var e=[],r=0,s=Object.keys(t);r<s.length;r++){var u=s[r],l=this.fromUtf8(u);e.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(t[u]))}for(var c=new Uint8Array(e.reduce(function(R,B){return R+B.byteLength},0)),p=0,y=0,E=e;y<E.length;y++){var D=E[y];c.set(D,p),p+=D.byteLength}return c}},{key:"formatHeaderValue",value:function(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":var e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,t.value,!1),new Uint8Array(e.buffer);case"integer":var r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":var s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":var u=new DataView(new ArrayBuffer(3+t.value.byteLength));u.setUint8(0,6),u.setUint16(1,t.value.byteLength,!1);var l=new Uint8Array(u.buffer);return l.set(t.value,3),l;case"string":var c=this.fromUtf8(t.value),p=new DataView(new ArrayBuffer(3+c.byteLength));p.setUint8(0,7),p.setUint16(1,c.byteLength,!1);var y=new Uint8Array(p.buffer);return y.set(c,3),y;case"timestamp":var E=new Uint8Array(9);return E[0]=8,E.set(ZP.fromNumber(t.value.valueOf()).bytes,1),E;case"uuid":if(!lL.test(t.value))throw new Error("Invalid UUID received: ".concat(t.value));var D=new Uint8Array(17);return D[0]=9,D.set(function eL(a){if(a.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(a.length/2),t=0;t<a.length;t+=2){var e=a.slice(t,t+2).toLowerCase();if(!(e in BP))throw new Error("Cannot decode unrecognized sequence ".concat(e," as hexadecimal"));n[t/2]=BP[e]}return n}(t.value.replace(/\-/g,"")),1),D}}},{key:"parse",value:function(t){for(var e={},r=0;r<t.byteLength;){var s=t.getUint8(r++),u=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,s));switch(r+=s,t.getUint8(r++)){case 0:e[u]={type:nI,value:!0};break;case 1:e[u]={type:nI,value:!1};break;case 2:e[u]={type:tL,value:t.getInt8(r++)};break;case 3:e[u]={type:nL,value:t.getInt16(r,!1)},r+=2;break;case 4:e[u]={type:rL,value:t.getInt32(r,!1)},r+=4;break;case 5:e[u]={type:iL,value:new ZP(new Uint8Array(t.buffer,t.byteOffset+r,8))},r+=8;break;case 6:var l=t.getUint16(r,!1);r+=2,e[u]={type:oL,value:new Uint8Array(t.buffer,t.byteOffset+r,l)},r+=l;break;case 7:var c=t.getUint16(r,!1);r+=2,e[u]={type:aL,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,c))},r+=c;break;case 8:e[u]={type:sL,value:new Date(new ZP(new Uint8Array(t.buffer,t.byteOffset+r,8)).valueOf())},r+=8;break;case 9:var p=new Uint8Array(t.buffer,t.byteOffset+r,16);r+=16,e[u]={type:uL,value:"".concat(_a(p.subarray(0,4)),"-").concat(_a(p.subarray(4,6)),"-").concat(_a(p.subarray(6,8)),"-").concat(_a(p.subarray(8,10)),"-").concat(_a(p.subarray(10)))};break;default:throw new Error("Unrecognized header type tag")}}return e}}]),a}(),nI="boolean",tL="byte",nL="short",rL="integer",iL="long",oL="binary",aL="string",sL="timestamp",uL="uuid",lL=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,fL=function(){function a(n,t){(0,h.Z)(this,a),this.headerMarshaller=new tI(n,t),this.messageBuffer=[],this.isEndOfStream=!1}return(0,v.Z)(a,[{key:"feed",value:function(t){this.messageBuffer.push(this.decode(t))}},{key:"endOfStream",value:function(){this.isEndOfStream=!0}},{key:"getMessage",value:function(){var t=this.messageBuffer.pop(),e=this.isEndOfStream;return{getMessage:function(){return t},isEndOfStream:function(){return e}}}},{key:"getAvailableMessages",value:function(){var t=this.messageBuffer;this.messageBuffer=[];var e=this.isEndOfStream;return{getMessages:function(){return t},isEndOfStream:function(){return e}}}},{key:"encode",value:function(t){var r=t.body,s=this.headerMarshaller.format(t.headers),u=s.byteLength+r.byteLength+16,l=new Uint8Array(u),c=new DataView(l.buffer,l.byteOffset,l.byteLength),p=new JD.Crc32;return c.setUint32(0,u,!1),c.setUint32(4,s.byteLength,!1),c.setUint32(8,p.update(l.subarray(0,8)).digest(),!1),l.set(s,12),l.set(r,s.byteLength+12),c.setUint32(u-4,p.update(l.subarray(8,u-4)).digest(),!1),l}},{key:"decode",value:function(t){var e=function dL(a){var n=a.byteLength,t=a.byteOffset,e=a.buffer;if(n<16)throw new Error("Provided message too short to accommodate event stream message overhead");var r=new DataView(e,t,n),s=r.getUint32(0,!1);if(n!==s)throw new Error("Reported message length does not match received message length");var u=r.getUint32(4,!1),l=r.getUint32(8,!1),c=r.getUint32(n-4,!1),p=(new JD.Crc32).update(new Uint8Array(e,t,8));if(l!==p.digest())throw new Error("The prelude checksum specified in the message (".concat(l,") does not match the calculated CRC32 checksum (").concat(p.digest(),")"));if(p.update(new Uint8Array(e,t+8,n-12)),c!==p.digest())throw new Error("The message checksum (".concat(p.digest(),") did not match the expected value of ").concat(c));return{headers:new DataView(e,t+8+4,u),body:new Uint8Array(e,t+8+4+u,s-u-16)}}(t),s=e.body;return{headers:this.headerMarshaller.parse(e.headers),body:s}}},{key:"formatHeaders",value:function(t){return this.headerMarshaller.format(t)}}]),a}(),pL=function(a){function n(t){(0,h.Z)(this,n),this.options=t}return(0,v.Z)(n,[{key:a,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return xs((0,We.Z)().mark(function r(){var s,u,l,c,p,E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:s=!1,u=!1,R.prev=2,c=Rl(e.options.inputStream);case 4:return R.next=6,_o(c.next());case 6:if(!(s=!(p=R.sent).done)){R.next=14;break}return E=e.options.decoder.decode(p.value),R.next=11,E;case 11:s=!1,R.next=4;break;case 14:R.next=20;break;case 16:R.prev=16,R.t0=R.catch(2),u=!0,l=R.t0;case 20:if(R.prev=20,R.prev=21,!s||null==c.return){R.next=25;break}return R.next=25,_o(c.return());case 25:if(R.prev=25,!u){R.next=28;break}throw l;case 28:return R.finish(25);case 29:return R.finish(20);case 30:case"end":return R.stop()}},r,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),hL=function(a){function n(t){(0,h.Z)(this,n),this.options=t}return(0,v.Z)(n,[{key:a,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return xs((0,We.Z)().mark(function r(){var s,u,l,c,p,E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:s=!1,u=!1,R.prev=2,c=Rl(e.options.messageStream);case 4:return R.next=6,_o(c.next());case 6:if(!(s=!(p=R.sent).done)){R.next=14;break}return E=e.options.encoder.encode(p.value),R.next=11,E;case 11:s=!1,R.next=4;break;case 14:R.next=20;break;case 16:R.prev=16,R.t0=R.catch(2),u=!0,l=R.t0;case 20:if(R.prev=20,R.prev=21,!s||null==c.return){R.next=25;break}return R.next=25,_o(c.return());case 25:if(R.prev=25,!u){R.next=28;break}throw l;case 28:return R.finish(25);case 29:return R.finish(20);case 30:if(!e.options.includeEndFrame){R.next=33;break}return R.next=33,new Uint8Array(0);case 33:case"end":return R.stop()}},r,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),mL=function(a){function n(t){(0,h.Z)(this,n),this.options=t}return(0,v.Z)(n,[{key:a,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return xs((0,We.Z)().mark(function r(){var s,u,l,c,p,y,E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:s=!1,u=!1,R.prev=2,c=Rl(e.options.messageStream);case 4:return R.next=6,_o(c.next());case 6:if(!(s=!(p=R.sent).done)){R.next=18;break}return y=p.value,R.next=10,_o(e.options.deserializer(y));case 10:if(void 0!==(E=R.sent)){R.next=13;break}return R.abrupt("continue",15);case 13:return R.next=15,E;case 15:s=!1,R.next=4;break;case 18:R.next=24;break;case 20:R.prev=20,R.t0=R.catch(2),u=!0,l=R.t0;case 24:if(R.prev=24,R.prev=25,!s||null==c.return){R.next=29;break}return R.next=29,_o(c.return());case 29:if(R.prev=29,!u){R.next=32;break}throw l;case 32:return R.finish(29);case 33:return R.finish(24);case 34:case"end":return R.stop()}},r,null,[[2,20,24,34],[25,,29,33]])}))()}}]),n}(Symbol.asyncIterator),gL=function(a){function n(t){(0,h.Z)(this,n),this.options=t}return(0,v.Z)(n,[{key:a,value:function(){return this.asyncIterator()}},{key:"asyncIterator",value:function(){var e=this;return xs((0,We.Z)().mark(function r(){var s,u,l,c,p,E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:s=!1,u=!1,R.prev=2,c=Rl(e.options.inputStream);case 4:return R.next=6,_o(c.next());case 6:if(!(s=!(p=R.sent).done)){R.next=14;break}return E=e.options.serializer(p.value),R.next=11,E;case 11:s=!1,R.next=4;break;case 14:R.next=20;break;case 16:R.prev=16,R.t0=R.catch(2),u=!0,l=R.t0;case 20:if(R.prev=20,R.prev=21,!s||null==c.return){R.next=25;break}return R.next=25,_o(c.return());case 25:if(R.prev=25,!u){R.next=28;break}throw l;case 28:return R.finish(25);case 29:return R.finish(20);case 30:case"end":return R.stop()}},r,null,[[2,16,20,30],[21,,25,29]])}))()}}]),n}(Symbol.asyncIterator),d1=function(n){return new TextDecoder("utf-8").decode(n)},iI="X-Amz-Date",oI="X-Amz-Signature",aI="X-Amz-Security-Token",sI="authorization",uI=iI.toLowerCase(),CL=[sI,uI,"date"],wL=oI.toLowerCase(),jP="x-amz-content-sha256",SL=aI.toLowerCase(),EL={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},kL=/^proxy-/,PL=/^sec-/,$P="AWS4-HMAC-SHA256",AL="AWS4-HMAC-SHA256-PAYLOAD",lI="aws4_request",hd={},f1=[],LP=function(n,t,e){return"".concat(n,"/").concat(t,"/").concat(e,"/").concat(lI)},IL=function(){var a=zt((0,We.Z)().mark(function n(t,e,r,s,u){var l,c,p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,cI(t,e.secretAccessKey,e.accessKeyId);case 2:if(l=B.sent,!((c="".concat(r,":").concat(s,":").concat(u,":").concat(_a(l),":").concat(e.sessionToken))in hd)){B.next=6;break}return B.abrupt("return",hd[c]);case 6:for(f1.push(c);f1.length>50;)delete hd[f1.shift()];p="AWS4".concat(e.secretAccessKey),y=0,E=[r,s,u,lI];case 10:if(!(y<E.length)){B.next=18;break}return D=E[y],B.next=14,cI(t,p,D);case 14:p=B.sent;case 15:y++,B.next=10;break;case 18:return B.abrupt("return",hd[c]=p);case 19:case"end":return B.stop()}},n)}));return function(t,e,r,s,u){return a.apply(this,arguments)}}(),cI=function(n,t,e){var r=new n(t);return r.update(od(e)),r.digest()},dI=function(n,t,e){var l,r=n.headers,s={},u=(0,z.Z)(Object.keys(r).sort());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null!=r[c]){var p=c.toLowerCase();(p in EL||null!=t&&t.has(p)||kL.test(p)||PL.test(p))&&(!e||e&&!e.has(p))||(s[p]=r[c].trim().replace(/\s+/g," "))}}}catch(y){u.e(y)}finally{u.f()}return s},Ml=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,OL)},OL=function(n){return"%".concat(n.charCodeAt(0).toString(16).toUpperCase())},UP=function(){var a=zt(function(n,t){var e=n.headers,r=n.body;return(0,We.Z)().mark(function s(){var u,l,c,p;return(0,We.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:u=0,l=Object.keys(e);case 1:if(!(u<l.length)){E.next=8;break}if((c=l[u]).toLowerCase()!==jP){E.next=5;break}return E.abrupt("return",e[c]);case 5:u++,E.next=1;break;case 8:if(null!=r){E.next=12;break}return E.abrupt("return","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 12:if("string"!=typeof r&&!ArrayBuffer.isView(r)&&!jT(r)){E.next=20;break}return(p=new t).update(od(r)),E.t0=_a,E.next=18,p.digest();case 18:return E.t1=E.sent,E.abrupt("return",(0,E.t0)(E.t1));case 20:return E.abrupt("return","UNSIGNED-PAYLOAD");case 21:case"end":return E.stop()}},s)})()});return function(t,e){return a.apply(this,arguments)}}(),ML=function(n,t){n=n.toLowerCase();for(var e=0,r=Object.keys(t);e<r.length;e++)if(n===r[e].toLowerCase())return!0;return!1},NL=["headers","query"],fI=function(n){var t=n.headers,e=n.query,r=FP(n,NL);return(0,ue.Z)((0,ue.Z)({},r),{},{headers:(0,ue.Z)({},t),query:e?BL(e):void 0})},BL=function(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return(0,ue.Z)((0,ue.Z)({},t),{},(0,f.Z)({},e,Array.isArray(r)?(0,_.Z)(r):r))},{})},ZL=function(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="function"==typeof n.clone?n.clone():fI(n),r=e.headers,s=e.query,u=void 0===s?{}:s,l=0,c=Object.keys(r);l<c.length;l++){var p,y=c[l],E=y.toLowerCase();"x-amz-"===E.slice(0,6)&&(null===(p=t.unhoistableHeaders)||void 0===p||!p.has(E))&&(u[y]=r[y],delete r[y])}return(0,ue.Z)((0,ue.Z)({},n),{},{headers:r,query:u})},pI=function(n){n="function"==typeof n.clone?n.clone():fI(n);for(var t=0,e=Object.keys(n.headers);t<e.length;t++){var r=e[t];CL.indexOf(r.toLowerCase())>-1&&delete n.headers[r]}return n},vh=function(){function a(n){var t=n.applyChecksum,e=n.credentials,r=n.region,s=n.service,u=n.sha256,l=n.uriEscapePath,c=void 0===l||l;(0,h.Z)(this,a),this.headerMarshaller=new tI(d1,oh),this.service=s,this.sha256=u,this.uriEscapePath=c,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Ya(r),this.credentialProvider=Ya(e)}return(0,v.Z)(a,[{key:"presign",value:(n=zt(function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,We.Z)().mark(function u(){var l,c,p,y,E,D,R,B,te,ne,he,Se,we,$e,Ye,lt,Ft;return(0,We.Z)().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return c=void 0===(l=s.signingDate)?new Date:l,y=void 0===(p=s.expiresIn)?3600:p,E=s.unsignableHeaders,D=s.unhoistableHeaders,R=s.signableHeaders,B=s.signingRegion,te=s.signingService,Zt.next=3,r.credentialProvider();case 3:if(r.validateResolvedCredentials(ne=Zt.sent),null==B){Zt.next=9;break}Zt.t0=B,Zt.next=12;break;case 9:return Zt.next=11,r.regionProvider();case 11:Zt.t0=Zt.sent;case 12:if(he=Zt.t0,Se=p1(c),we=Se.longDate,$e=Se.shortDate,!(y>604800)){Zt.next=16;break}return Zt.abrupt("return",Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 16:return Ye=LP($e,he,te??r.service),lt=ZL(pI(e),{unhoistableHeaders:D}),ne.sessionToken&&(lt.query[aI]=ne.sessionToken),lt.query["X-Amz-Algorithm"]=$P,lt.query["X-Amz-Credential"]="".concat(ne.accessKeyId,"/").concat(Ye),lt.query[iI]=we,lt.query["X-Amz-Expires"]=y.toString(10),Ft=dI(lt,E,R),lt.query["X-Amz-SignedHeaders"]=hI(Ft),Zt.t1=r,Zt.t2=we,Zt.t3=Ye,Zt.t4=r.getSigningKey(ne,he,$e,te),Zt.t5=r,Zt.t6=lt,Zt.t7=Ft,Zt.next=34,UP(e,r.sha256);case 34:return Zt.t8=Zt.sent,Zt.t9=Zt.t5.createCanonicalRequest.call(Zt.t5,Zt.t6,Zt.t7,Zt.t8),Zt.next=38,Zt.t1.getSignature.call(Zt.t1,Zt.t2,Zt.t3,Zt.t4,Zt.t9);case 38:return lt.query[oI]=Zt.sent,Zt.abrupt("return",lt);case 40:case"end":return Zt.stop()}},u)})()}),function t(e){return n.apply(this,arguments)})},{key:"sign",value:function(){var n=zt((0,We.Z)().mark(function e(r,s){return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof r){l.next=4;break}return l.abrupt("return",this.signString(r,s));case 4:if(!r.headers||!r.payload){l.next=8;break}return l.abrupt("return",this.signEvent(r,s));case 8:if(!r.message){l.next=12;break}return l.abrupt("return",this.signMessage(r,s));case 12:return l.abrupt("return",this.signRequest(r,s));case 13:case"end":return l.stop()}},e,this)}));return function t(e,r){return n.apply(this,arguments)}}()},{key:"signEvent",value:function(){var n=zt(function(e,r){var s=this,u=e.headers,l=e.payload,c=r.signingDate,p=void 0===c?new Date:c,y=r.priorSignature,E=r.signingRegion,D=r.signingService;return(0,We.Z)().mark(function R(){var B,te,he,Se,we,$e,Ye,lt;return(0,We.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(null==E){pt.next=4;break}pt.t0=E,pt.next=7;break;case 4:return pt.next=6,s.regionProvider();case 6:pt.t0=pt.sent;case 7:return B=pt.t0,te=p1(p),he=te.longDate,Se=LP(te.shortDate,B,D??s.service),pt.next=12,UP({headers:{},body:l},s.sha256);case 12:return we=pt.sent,($e=new s.sha256).update(u),pt.t1=_a,pt.next=18,$e.digest();case 18:return pt.t2=pt.sent,Ye=(0,pt.t1)(pt.t2),lt=[AL,he,Se,y,Ye,we].join("\n"),pt.abrupt("return",s.signString(lt,{signingDate:p,signingRegion:B,signingService:D}));case 22:case"end":return pt.stop()}},R)})()});return function t(e,r){return n.apply(this,arguments)}}()},{key:"signMessage",value:function(){var n=zt(function(e,r){var s=this,u=r.signingDate,l=void 0===u?new Date:u,c=r.signingRegion,p=r.signingService;return(0,We.Z)().mark(function y(){var E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return E=s.signEvent({headers:s.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:l,signingRegion:c,signingService:p,priorSignature:e.priorSignature}),R.abrupt("return",E.then(function(B){return{message:e.message,signature:B}}));case 2:case"end":return R.stop()}},y)})()});return function t(e,r){return n.apply(this,arguments)}}()},{key:"signString",value:function(){var n=zt(function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signingRegion,p=s.signingService;return(0,We.Z)().mark(function y(){var E,D,R,B,te;return(0,We.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,r.credentialProvider();case 2:if(r.validateResolvedCredentials(E=he.sent),null==c){he.next=8;break}he.t0=c,he.next=11;break;case 8:return he.next=10,r.regionProvider();case 10:he.t0=he.sent;case 11:return D=he.t0,R=p1(l),B=R.shortDate,he.t1=r.sha256,he.next=16,r.getSigningKey(E,D,B,p);case 16:return he.t2=he.sent,(te=new he.t1(he.t2)).update(od(e)),he.t3=_a,he.next=22,te.digest();case 22:return he.t4=he.sent,he.abrupt("return",(0,he.t3)(he.t4));case 24:case"end":return he.stop()}},y)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"signRequest",value:function(){var n=zt(function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.signingDate,l=void 0===u?new Date:u,c=s.signableHeaders,p=s.unsignableHeaders,y=s.signingRegion,E=s.signingService;return(0,We.Z)().mark(function D(){var R,B,te,ne,he,Se,we,$e,Ye,lt;return(0,We.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,r.credentialProvider();case 2:if(r.validateResolvedCredentials(R=pt.sent),null==y){pt.next=8;break}pt.t0=y,pt.next=11;break;case 8:return pt.next=10,r.regionProvider();case 10:pt.t0=pt.sent;case 11:return B=pt.t0,te=pI(e),ne=p1(l),he=ne.longDate,we=LP(Se=ne.shortDate,B,E??r.service),te.headers[uI]=he,R.sessionToken&&(te.headers[SL]=R.sessionToken),pt.next=19,UP(te,r.sha256);case 19:return $e=pt.sent,!ML(jP,te.headers)&&r.applyChecksum&&(te.headers[jP]=$e),Ye=dI(te,p,c),pt.next=24,r.getSignature(he,we,r.getSigningKey(R,B,Se,E),r.createCanonicalRequest(te,Ye,$e));case 24:return lt=pt.sent,te.headers[sI]="".concat($P," ")+"Credential=".concat(R.accessKeyId,"/").concat(we,", ")+"SignedHeaders=".concat(hI(Ye),", ")+"Signature=".concat(lt),pt.abrupt("return",te);case 27:case"end":return pt.stop()}},D)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(t,e,r){var s=Object.keys(e).sort();return"".concat(t.method,"\n").concat(this.getCanonicalPath(t),"\n").concat(function(n){var l,t=n.query,e=void 0===t?{}:t,r=[],s={},u=(0,z.Z)(Object.keys(e).sort());try{var c=function(){var E=l.value;if(E.toLowerCase()===wL)return"continue";r.push(E);var D=e[E];"string"==typeof D?s[E]="".concat(Ml(E),"=").concat(Ml(D)):Array.isArray(D)&&(s[E]=D.slice(0).sort().reduce(function(R,B){return R.concat(["".concat(Ml(E),"=").concat(Ml(B))])},[]).join("&"))};for(u.s();!(l=u.n()).done;)c()}catch(y){u.e(y)}finally{u.f()}return r.map(function(y){return s[y]}).filter(function(y){return y}).join("&")}(t),"\n").concat(s.map(function(u){return"".concat(u,":").concat(e[u])}).join("\n"),"\n\n").concat(s.join(";"),"\n").concat(r)}},{key:"createStringToSign",value:function(){var n=zt((0,We.Z)().mark(function e(r,s,u){var l,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return(l=new this.sha256).update(od(u)),y.next=4,l.digest();case 4:return c=y.sent,y.abrupt("return","".concat($P,"\n").concat(r,"\n").concat(s,"\n").concat(_a(c)));case 6:case"end":return y.stop()}},e,this)}));return function t(e,r,s){return n.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(t){var e=t.path;if(this.uriEscapePath){var u,r=[],s=(0,z.Z)(e.split("/"));try{for(s.s();!(u=s.n()).done;){var l=u.value;0!==l?.length&&"."!==l&&(".."===l?r.pop():r.push(l))}}catch(y){s.e(y)}finally{s.f()}var c="".concat(null!=e&&e.startsWith("/")?"/":"").concat(r.join("/")).concat(r.length>0&&null!=e&&e.endsWith("/")?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return e}},{key:"getSignature",value:function(){var n=zt((0,We.Z)().mark(function e(r,s,u,l){var c,p;return(0,We.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.createStringToSign(r,s,l);case 2:return c=E.sent,E.t0=this.sha256,E.next=6,u;case 6:return E.t1=E.sent,(p=new E.t0(E.t1)).update(od(c)),E.t2=_a,E.next=12,p.digest();case 12:return E.t3=E.sent,E.abrupt("return",(0,E.t2)(E.t3));case 14:case"end":return E.stop()}},e,this)}));return function t(e,r,s,u){return n.apply(this,arguments)}}()},{key:"getSigningKey",value:function(t,e,r,s){return IL(this.sha256,t,r,e,s||this.service)}},{key:"validateResolvedCredentials",value:function(t){if("object"!=typeof t||"string"!=typeof t.accessKeyId||"string"!=typeof t.secretAccessKey)throw new Error("Resolved credential object is not valid")}}]),a;var n}(),p1=function(n){var t=function(n){return function(n){return"number"==typeof n?new Date(1e3*n):"string"==typeof n?Number(n)?new Date(1e3*Number(n)):new Date(n):n}(n).toISOString().replace(/\.\d{3}Z$/,"Z")}(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},hI=function(n){return Object.keys(n).sort().join(";")},mI=function(n){var c,t=n.credentials?gI(n.credentials):n.credentialDefaultProvider(n),e=n.signingEscapePath,r=void 0===e||e,s=n.systemClockOffset,u=void 0===s?n.systemClockOffset||0:s,l=n.sha256;return c=n.signer?Ya(n.signer):n.regionInfoProvider?function(){return Ya(n.region)().then(function(){var y=zt((0,We.Z)().mark(function E(D){return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.t1=n,B.t2=D,B.next=4,n.useFipsEndpoint();case 4:return B.t3=B.sent,B.next=7,n.useDualstackEndpoint();case 7:return B.t4=B.sent,B.t5={useFipsEndpoint:B.t3,useDualstackEndpoint:B.t4},B.next=11,B.t1.regionInfoProvider.call(B.t1,B.t2,B.t5);case 11:if(B.t0=B.sent,B.t0){B.next=14;break}B.t0={};case 14:return B.t6=B.t0,B.t7=D,B.abrupt("return",[B.t6,B.t7]);case 17:case"end":return B.stop()}},E)}));return function(E){return y.apply(this,arguments)}}()).then(function(y){var E=(0,g.Z)(y,2),D=E[0],te=D.signingService;n.signingRegion=n.signingRegion||D.signingRegion||E[1],n.signingName=n.signingName||te||n.serviceId;var ne=(0,ue.Z)((0,ue.Z)({},n),{},{credentials:t,region:n.signingRegion,service:n.signingName,sha256:l,uriEscapePath:r});return new(n.signerConstructor||vh)(ne)})}:function(){var p=zt((0,We.Z)().mark(function y(E){var D,R,B;return(0,We.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.t0=Object,he.t1={},he.t2=n.signingName||n.defaultSigningName,he.next=5,Ya(n.region)();case 5:return he.t3=he.sent,he.t4={},he.t5={name:"sigv4",signingName:he.t2,signingRegion:he.t3,properties:he.t4},he.t6=E,E=he.t0.assign.call(he.t0,he.t1,he.t5,he.t6),D=E.signingRegion,R=E.signingName,n.signingRegion=n.signingRegion||D,n.signingName=n.signingName||R||n.serviceId,B=(0,ue.Z)((0,ue.Z)({},n),{},{credentials:t,region:n.signingRegion,service:n.signingName,sha256:l,uriEscapePath:r}),he.abrupt("return",new(n.signerConstructor||vh)(B));case 17:case"end":return he.stop()}},y)}));return function(E){return p.apply(this,arguments)}}(),(0,ue.Z)((0,ue.Z)({},n),{},{systemClockOffset:u,signingEscapePath:r,credentials:t,signer:c})},gI=function(n){return"function"==typeof n?RD(n,function(t){return void 0!==t.expiration&&t.expiration.getTime()-Date.now()<3e5},function(t){return void 0!==t.expiration}):Ya(n)},vI=function(n){return new Date(Date.now()+n)},yI=function(n,t){var e=Date.parse(n);return function(n,t){return Math.abs(vI(t).getTime()-n)>=3e5}(e,t)?e-Date.now():t},_I=function(n){var t,e,r;return ah.isInstance(n)?null!==(t=null===(e=n.headers)||void 0===e?void 0:e.date)&&void 0!==t?t:null===(r=n.headers)||void 0===r?void 0:r.Date:void 0},VL={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function xI(a){return(0,ue.Z)((0,ue.Z)({},a),{},{customUserAgent:"string"==typeof a.customUserAgent?[[a.customUserAgent]]:a.customUserAgent})}const bI=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');var CI=bI,wI="",HL=function(n){var s,e=CI.partitions,r=(0,z.Z)(e);try{for(r.s();!(s=r.n()).done;)for(var u=s.value,c=u.outputs,p=0,y=Object.entries(u.regions);p<y.length;p++){var E=(0,g.Z)(y[p],2),R=E[1];if(E[0]===n)return(0,ue.Z)((0,ue.Z)({},c),R)}}catch($e){r.e($e)}finally{r.f()}var te,B=(0,z.Z)(e);try{for(B.s();!(te=B.n()).done;){var ne=te.value,Se=ne.outputs;if(new RegExp(ne.regionRegex).test(n))return(0,ue.Z)({},Se)}}catch($e){B.e($e)}finally{B.f()}var we=e.find(function($e){return"aws"===$e.id});if(!we)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,ue.Z)({},we.outputs)},SI=function(n){CI=n,wI=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""},qL=function(){SI(bI,"")},EI=function(){return wI},yh="endpoints";function Bu(a){return"object"!=typeof a||null==a?a:"ref"in a?"$".concat(Bu(a.ref)):"fn"in a?"".concat(a.fn,"(").concat((a.argv||[]).map(Bu).join(", "),")"):JSON.stringify(a,null,2)}var h1,xa=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,e)).name="EndpointError",r}return(0,v.Z)(t)}((0,dc.Z)(Error)),KL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),kI=function(n){return KL.test(n)||n.startsWith("[")&&n.endsWith("]")},WL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),PI=function a(n){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return WL.test(n);var s,e=n.split("."),r=(0,z.Z)(e);try{for(r.s();!(s=r.n()).done;)if(!a(s.value))return!1}catch(l){r.e(l)}finally{r.f()}return!0},XL=function a(n){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var r,e=(0,z.Z)(n.split("."));try{for(e.s();!(r=e.n()).done;)if(!a(r.value))return!1}catch(u){e.e(u)}finally{e.f()}return!0}return!(!PI(n)||n.length<3||n.length>63||n!==n.toLowerCase()||kI(n))},QL=function(n){var t=n.split(":");if(t.length<6)return null;var e=(0,za.Z)(t),r=e[0],s=e[1],u=e[2],l=e[3],c=e[4],p=e.slice(5);return"arn"!==r||""===s||""===u||""===p[0]?null:{partition:s,service:u,region:l,accountId:c,resourceId:p[0].includes("/")?p[0].split("/"):p}},JL=function(n,t){return n===t},AI=function(n,t){return function(n){var s,t=n.split("."),e=[],r=(0,z.Z)(t);try{for(r.s();!(s=r.n()).done;){var u=s.value,l=u.indexOf("[");if(-1!==l){if(u.indexOf("]")!==u.length-1)throw new xa("Path: '".concat(n,"' does not end with ']'"));var c=u.slice(l+1,-1);if(Number.isNaN(parseInt(c)))throw new xa("Invalid array index: '".concat(c,"' in path: '").concat(n,"'"));0!==l&&e.push(u.slice(0,l)),e.push(c)}else e.push(u)}}catch(p){r.e(p)}finally{r.f()}return e}(t).reduce(function(e,r){if("object"!=typeof e)throw new xa("Index '".concat(r,"' in '").concat(t,"' not found in '").concat(JSON.stringify(n),"'"));return Array.isArray(e)?e[parseInt(r)]:e[r]},n)},e7=function(n){return null!=n},t7=function(n){return!n},Zu=function(){return(Zu=Zu||{}).HTTP="http",Zu.HTTPS="https",Zu}(),zP=((0,f.Z)(h1={},Zu.HTTP,80),(0,f.Z)(h1,Zu.HTTPS,443),h1),n7=function(n){var t=function(){try{if(n instanceof URL)return n;if("object"==typeof n&&"hostname"in n){var R=n.hostname,B=n.port,te=n.protocol,he=n.path,Se=void 0===he?"":he,we=n.query,$e=void 0===we?{}:we,Ye=new URL("".concat(void 0===te?"":te,"//").concat(R).concat(B?":".concat(B):"").concat(Se));return Ye.search=Object.entries($e).map(function(lt){var Ft=(0,g.Z)(lt,2),Zt=Ft[1];return"".concat(Ft[0],"=").concat(Zt)}).join("&"),Ye}return new URL(n)}catch{return null}}();if(!t)return console.error("Unable to parse ".concat(JSON.stringify(n)," as a whatwg URL.")),null;var e=t.href,r=t.host,s=t.hostname,u=t.pathname;if(t.search)return null;var p=t.protocol.slice(0,-1);if(!Object.values(Zu).includes(p))return null;var y=kI(s),E=e.includes("".concat(r,":").concat(zP[p]))||"string"==typeof n&&n.includes("".concat(r,":").concat(zP[p]));return{scheme:p,authority:"".concat(r).concat(E?":".concat(zP[p]):""),path:u,normalizedPath:u.endsWith("/")?u:"".concat(u,"/"),isIp:y}},r7=function(n,t){return n===t},o7=function(n,t,e,r){return t>=e||n.length<e?null:r?n.substring(n.length-e,n.length-t):n.substring(t,e)},a7=function(n){return encodeURIComponent(n).replace(/[!*'()]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())})},RI=function(n,t){for(var e=[],r=(0,ue.Z)((0,ue.Z)({},t.endpointParams),t.referenceRecord),s=0;s<n.length;){var u=n.indexOf("{",s);if(-1===u){e.push(n.slice(s));break}e.push(n.slice(s,u));var l=n.indexOf("}",u);if(-1===l){e.push(n.slice(u));break}"{"===n[u+1]&&"}"===n[l+1]&&(e.push(n.slice(u+1,l)),s=l+2);var c=n.substring(u+1,l);if(c.includes("#")){var p=c.split("#"),y=(0,g.Z)(p,2);e.push(AI(r[y[0]],y[1]))}else e.push(r[c]);s=l+1}return e.join("")},m1=function(n,t,e){if("string"==typeof n)return RI(n,e);if(n.fn)return TI(n,e);if(n.ref)return function(n,t){var e=n.ref;return(0,ue.Z)((0,ue.Z)({},t.endpointParams),t.referenceRecord)[e]}(n,e);throw new xa("'".concat(t,"': ").concat(String(n)," is not a string, function or reference."))},TI=function(n,t){var e=n.fn,s=n.argv.map(function(u){return["boolean","number"].includes(typeof u)?u:m1(u,"arg",t)});return e.split(".").reduce(function(u,l){return u[l]},H).apply(void 0,(0,_.Z)(s))},u7=["assign"],l7=function(n,t){var e,r,s=n.assign,u=FP(n,u7);if(s&&s in t.referenceRecord)throw new xa("'".concat(s,"' is already defined in Reference Record."));var l=TI(u,t);return null===(e=t.logger)||void 0===e||null===(r=e.debug)||void 0===r||r.call(e,yh,"evaluateCondition: ".concat(Bu(u)," = ").concat(Bu(l))),(0,ue.Z)({result:""===l||!!l},null!=s&&{toAssign:{name:s,value:l}})},VP=function(){var s,t=arguments.length>1?arguments[1]:void 0,e={},r=(0,z.Z)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(s=r.n()).done;){var y,E,D,l=l7(s.value,(0,ue.Z)((0,ue.Z)({},t),{},{referenceRecord:(0,ue.Z)((0,ue.Z)({},t.referenceRecord),e)})),c=l.result,p=l.toAssign;if(!c)return{result:c};p&&(e[p.name]=p.value,null===(y=t.logger)||void 0===y||null===(E=(D=y).debug)||void 0===E||E.call(D,yh,"assign: ".concat(p.name," := ").concat(Bu(p.value))))}}catch(R){r.e(R)}finally{r.f()}return{result:!0,referenceRecord:e}},c7=function(n,t){return Object.entries(n).reduce(function(e,r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];return(0,ue.Z)((0,ue.Z)({},e),{},(0,f.Z)({},u,l.map(function(c){var p=m1(c,"Header value entry",t);if("string"!=typeof p)throw new xa("Header '".concat(u,"' value '").concat(p,"' is not a string"));return p})))},{})},d7=function a(n,t){if(Array.isArray(n))return n.map(function(e){return a(e,t)});switch(typeof n){case"string":return RI(n,t);case"object":if(null===n)throw new xa("Unexpected endpoint property: ".concat(n));return DI(n,t);case"boolean":return n;default:throw new xa("Unexpected endpoint property type: ".concat(typeof n))}},DI=function(n,t){return Object.entries(n).reduce(function(e,r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];return(0,ue.Z)((0,ue.Z)({},e),{},(0,f.Z)({},u,d7(l,t)))},{})},f7=function(n,t){var e=m1(n,"Endpoint URL",t);if("string"==typeof e)try{return new URL(e)}catch(r){throw console.error("Failed to construct URL with ".concat(e),r),r}throw new xa("Endpoint URL must be a string, got ".concat(typeof e))},p7=function(n,t){var e,r,u=n.endpoint,l=VP(n.conditions,t),p=l.referenceRecord;if(l.result){var y=(0,ue.Z)((0,ue.Z)({},t),{},{referenceRecord:(0,ue.Z)((0,ue.Z)({},t.referenceRecord),p)}),E=u.url,D=u.properties,R=u.headers;return null===(e=t.logger)||void 0===e||null===(r=e.debug)||void 0===r||r.call(e,yh,"Resolving endpoint from template: ".concat(Bu(u))),(0,ue.Z)((0,ue.Z)((0,ue.Z)({},null!=R&&{headers:c7(R,y)}),null!=D&&{properties:DI(D,y)}),{},{url:f7(E,y)})}},h7=function(n,t){var r=n.error,s=VP(n.conditions,t),l=s.referenceRecord;if(s.result)throw new xa(m1(r,"Error",(0,ue.Z)((0,ue.Z)({},t),{},{referenceRecord:(0,ue.Z)((0,ue.Z)({},t.referenceRecord),l)})))},m7=function(n,t){var r=n.rules,s=VP(n.conditions,t),l=s.referenceRecord;if(s.result)return II(r,(0,ue.Z)((0,ue.Z)({},t),{},{referenceRecord:(0,ue.Z)((0,ue.Z)({},t.referenceRecord),l)}))},II=function(n,t){var r,e=(0,z.Z)(n);try{for(e.s();!(r=e.n()).done;){var s=r.value;if("endpoint"===s.type){var u=p7(s,t);if(u)return u}else if("error"===s.type)h7(s,t);else{if("tree"!==s.type)throw new xa("Unknown endpoint rule: ".concat(s));var l=m7(s,t);if(l)return l}}}catch(c){e.e(c)}finally{e.f()}throw new xa("Rules evaluation failed")},OI=function(n,t){var e,r,s,u,l,c=t.endpointParams,p=t.logger,y=n.parameters,E=n.rules;null===(e=t.logger)||void 0===e||null===(r=e.debug)||void 0===r||r.call(e,"".concat(yh," Initial EndpointParams: ").concat(Bu(c)));var D=Object.entries(y).filter(function(Yt){return null!=(0,g.Z)(Yt,2)[1].default}).map(function(Yt){var qt=(0,g.Z)(Yt,2);return[qt[0],qt[1].default]});if(D.length>0){var B,R=(0,z.Z)(D);try{for(R.s();!(B=R.n()).done;){var te,ne=(0,g.Z)(B.value,2),he=ne[0];c[he]=null!==(te=c[he])&&void 0!==te?te:ne[1]}}catch(Yt){R.e(Yt)}finally{R.f()}}var Ye,we=Object.entries(y).filter(function(Yt){return(0,g.Z)(Yt,2)[1].required}).map(function(Yt){return(0,g.Z)(Yt,1)[0]}),$e=(0,z.Z)(we);try{for($e.s();!(Ye=$e.n()).done;){var lt=Ye.value;if(null==c[lt])throw new xa("Missing required parameter: '".concat(lt,"'"))}}catch(Yt){$e.e(Yt)}finally{$e.f()}var Ft=II(E,{endpointParams:c,logger:p,referenceRecord:{}});if(null!==(s=t.endpointParams)&&void 0!==s&&s.Endpoint)try{var pt=new URL(t.endpointParams.Endpoint),Gt=pt.port;Ft.url.protocol=pt.protocol,Ft.url.port=Gt}catch{}return null===(u=t.logger)||void 0===u||null===(l=u.debug)||void 0===l||l.call(u,"".concat(yh," Resolved endpoint: ").concat(Bu(Ft))),Ft},FI="user-agent",GP="x-amz-user-agent",g7=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,v7=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,qP=function(n){var t,e=n[0].split("/").map(function(c){return c.replace(g7,"-")}).join("/"),r=null===(t=n[1])||void 0===t?void 0:t.replace(v7,"-"),s=e.indexOf("/"),u=e.substring(0,s),l=e.substring(s+1);return"api"===u&&(l=l.toLowerCase()),[u,l,r].filter(function(c){return c&&c.length>0}).reduce(function(c,p,y){switch(y){case 0:return p;case 1:return"".concat(c,"/").concat(p);default:return"".concat(c,"#").concat(p)}},"")},_7={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},BI=function(n){return{applyToStack:function(e){e.add(function(n){return function(t,e){return function(){var r=zt((0,We.Z)().mark(function s(u){var l,c,p,y,E,D,R,B,te,ne;return(0,We.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(Ia.isInstance(p=u.request)){Se.next=3;break}return Se.abrupt("return",t(u));case 3:return y=p.headers,E=(null==e||null===(l=e.userAgent)||void 0===l?void 0:l.map(qP))||[],Se.next=7,n.defaultUserAgentProvider();case 7:return D=Se.sent.map(qP),R=(null==n||null===(c=n.customUserAgent)||void 0===c?void 0:c.map(qP))||[],B=EI(),te=(B?[B]:[]).concat([].concat((0,_.Z)(D),(0,_.Z)(E),(0,_.Z)(R))).join(" "),ne=[].concat((0,_.Z)(D.filter(function(we){return we.startsWith("aws-sdk-")})),(0,_.Z)(R)).join(" "),"browser"!==n.runtime?(ne&&(y[GP]=y[GP]?"".concat(y[FI]," ").concat(ne):ne),y[FI]=te):y[GP]=te,Se.abrupt("return",t((0,ue.Z)((0,ue.Z)({},u),{},{request:p})));case 14:case"end":return Se.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()}}(n),_7)}}};var C7=S(6513);function w7(a){var e,n=[],t=(0,z.Z)(Object.keys(a).sort());try{for(t.s();!(e=t.n()).done;){var r=e.value,s=a[r];if(r=Ml(r),Array.isArray(s))for(var u=0,l=s.length;u<l;u++)n.push("".concat(r,"=").concat(Ml(s[u])));else{var c=r;(s||"string"==typeof s)&&(c+="=".concat(Ml(s))),n.push(c)}}}catch(p){t.e(p)}finally{t.f()}return n.join("&")}function S7(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(n,t){a&&setTimeout(function(){var e=new Error("Request did not complete within ".concat(a," ms"));e.name="TimeoutError",t(e)},a)})}for(var ZI=function(){function a(n){(0,h.Z)(this,a),"function"==typeof n?this.configProvider=n().then(function(t){return t||{}}):(this.config=n??{},this.configProvider=Promise.resolve(this.config))}return(0,v.Z)(a,[{key:"destroy",value:function(){}},{key:"handle",value:(n=zt(function(e){var r=this,u=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).abortSignal;return(0,We.Z)().mark(function l(){var c,p,y,E,D,R,B,te,ne,he,Se,we,Ye,lt,Ft;return(0,We.Z)().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:if(r.config){Zt.next=4;break}return Zt.next=3,r.configProvider;case 3:r.config=Zt.sent;case 4:if(c=r.config.requestTimeout,null==u||!u.aborted){Zt.next=9;break}return(p=new Error("Request aborted")).name="AbortError",Zt.abrupt("return",Promise.reject(p));case 9:return y=e.path,(E=w7(e.query||{}))&&(y+="?".concat(E)),e.fragment&&(y+="#".concat(e.fragment)),D="",(null!=e.username||null!=e.password)&&(te=null!==(R=e.username)&&void 0!==R?R:"",ne=null!==(B=e.password)&&void 0!==B?B:"",D="".concat(te,":").concat(ne,"@")),he=e.port,Se=e.method,we="".concat(e.protocol,"//").concat(D).concat(e.hostname).concat(he?":".concat(he):"").concat(y),Ye={body:"GET"===Se||"HEAD"===Se?void 0:e.body,headers:new Headers(e.headers),method:Se},typeof AbortController<"u"&&(Ye.signal=u),lt=new Request(we,Ye),Ft=[fetch(lt).then(function(Gt){var Xt,qt={},Ht=(0,z.Z)(Gt.headers.entries());try{for(Ht.s();!(Xt=Ht.n()).done;){var Zn=Xt.value;qt[Zn[0]]=Zn[1]}}catch(Wi){Ht.e(Wi)}finally{Ht.f()}return null!=Gt.body?{response:new ah({headers:qt,reason:Gt.statusText,statusCode:Gt.status,body:Gt.body})}:Gt.blob().then(function(Wi){return{response:new ah({headers:qt,reason:Gt.statusText,statusCode:Gt.status,body:Wi})}})}),S7(c)],u&&Ft.push(new Promise(function(Gt,Yt){u.onabort=function(){var qt=new Error("Request aborted");qt.name="AbortError",Yt(qt)}})),Zt.abrupt("return",Promise.race(Ft));case 24:case"end":return Zt.stop()}},l)})()}),function t(e){return n.apply(this,arguments)})}]),a;var n}(),ju={},md=new Array(64),_h=0,jI="A".charCodeAt(0),E7="Z".charCodeAt(0);_h+jI<=E7;_h++){var $I=String.fromCharCode(_h+jI);ju[$I]=_h,md[_h]=$I}for(var g1=0,LI="a".charCodeAt(0),k7="z".charCodeAt(0);g1+LI<=k7;g1++){var UI=String.fromCharCode(g1+LI),zI=g1+26;ju[UI]=zI,md[zI]=UI}for(var gd=0;gd<10;gd++){ju[gd.toString(10)]=gd+52;var VI=gd.toString(10),GI=gd+52;ju[VI]=GI,md[GI]=VI}ju["+"]=62,md[62]="+",ju["/"]=63,md[63]="/";var KP=function(n){var t=n.length/4*3;"=="===n.slice(-2)?t-=2:"="===n.slice(-1)&&t--;for(var e=new ArrayBuffer(t),r=new DataView(e),s=0;s<n.length;s+=4){for(var u=0,l=0,c=s,p=s+3;c<=p;c++)if("="!==n[c]){if(!(n[c]in ju))throw new TypeError("Invalid character ".concat(n[c]," in base64 string."));u|=ju[n[c]]<<6*(p-c),l+=6}else u>>=6;var y=s/4*3;u>>=l%8;for(var E=Math.floor(l/8),D=0;D<E;D++){var R=8*(E-D-1);r.setUint8(y+D,(u&255<<R)>>R)}}return new Uint8Array(e)};function WP(a){for(var n="",t=0;t<a.length;t+=3){for(var e=0,r=0,s=t,u=Math.min(t+3,a.length);s<u;s++)e|=a[s]<<8*(u-s-1),r+=8;var l=Math.ceil(r/6);e<<=6*l-r;for(var c=1;c<=l;c++){var p=6*(l-c);n+=md[(e&63<<p)>>p]}n+="==".slice(0,4-l)}return n}var XP=function(n){return"function"==typeof Blob&&n instanceof Blob?function A7(a){return QP.apply(this,arguments)}(n):function R7(a){return JP.apply(this,arguments)}(n)};function QP(){return(QP=zt((0,We.Z)().mark(function a(n){var e;return(0,We.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,T7(n);case 2:return e=KP(s.sent),s.abrupt("return",new Uint8Array(e));case 5:case"end":return s.stop()}},a)}))).apply(this,arguments)}function JP(){return(JP=zt((0,We.Z)().mark(function a(n){var t,e,r,s,u,l,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:t=new Uint8Array(0),e=n.getReader(),r=!1;case 3:if(r){y.next=13;break}return y.next=6,e.read();case 6:u=(s=y.sent).done,(l=s.value)&&(c=t,(t=new Uint8Array(c.length+l.length)).set(c),t.set(l,c.length)),r=u,y.next=3;break;case 13:return y.abrupt("return",t);case 14:case"end":return y.stop()}},a)}))).apply(this,arguments)}function T7(a){return new Promise(function(n,t){var e=new FileReader;e.onloadend=function(){var r;if(2!==e.readyState)return t(new Error("Reader aborted too early"));var s=null!==(r=e.result)&&void 0!==r?r:"",u=s.indexOf(",");n(s.substring(u>-1?u+1:s.length))},e.onabort=function(){return t(new Error("Read aborted"))},e.onerror=function(){return t(e.error)},e.readAsDataURL(a)})}var v1,bh,y1,_1,x1,b1,C1,w1,Ch,S1,wh,HI=function(n){return function(){return Promise.reject(n)}},qI=function(n){if("string"==typeof n){for(var t=n.length,e=t-1;e>=0;e--){var r=n.charCodeAt(e);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&e--}return t}if("number"==typeof n.byteLength)return n.byteLength;if("number"==typeof n.size)return n.size;throw new Error("Body Length computation failed for ".concat(n))},D7=S(3962),KI=S.n(D7),WI=function(n){var t=n.serviceId,e=n.clientVersion;return zt((0,We.Z)().mark(function r(){var s,u,l,c,p,y,E,D,R,B;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return R=typeof window<"u"&&null!==(s=window)&&void 0!==s&&null!==(u=s.navigator)&&void 0!==u&&u.userAgent?KI().parse(window.navigator.userAgent):void 0,B=[["aws-sdk-js",e],["ua","2.0"],["os/".concat((null==R||null===(l=R.os)||void 0===l?void 0:l.name)||"other"),null==R||null===(c=R.os)||void 0===c?void 0:c.version],["lang/js"],["md/browser","".concat(null!==(p=null==R||null===(y=R.browser)||void 0===y?void 0:y.name)&&void 0!==p?p:"unknown","_").concat(null!==(E=null==R||null===(D=R.browser)||void 0===D?void 0:D.version)&&void 0!==E?E:"unknown")]],t&&B.push(["api/".concat(t),e]),ne.abrupt("return",B);case 4:case"end":return ne.stop()}},r)}))},XI="required",ru="fn",iu="argv",yd="ref",YP="PartitionResult",Cs="tree",Sh="error",Eh="endpoint",QI=((0,f.Z)(v1={},XI,!1),(0,f.Z)(v1,"type","String"),v1),JI=((0,f.Z)(bh={},XI,!0),(0,f.Z)(bh,"default",!1),(0,f.Z)(bh,"type","Boolean"),bh),YI=(0,f.Z)({},yd,"Endpoint"),e3=((0,f.Z)(y1={},ru,"booleanEquals"),(0,f.Z)(y1,iu,[(0,f.Z)({},yd,"UseFIPS"),!0]),y1),t3=((0,f.Z)(_1={},ru,"booleanEquals"),(0,f.Z)(_1,iu,[(0,f.Z)({},yd,"UseDualStack"),!0]),_1),ws={},n3=((0,f.Z)(b1={},ru,"booleanEquals"),(0,f.Z)(b1,iu,[!0,(x1={},(0,f.Z)(x1,ru,"getAttr"),(0,f.Z)(x1,iu,[(0,f.Z)({},yd,YP),"supportsFIPS"]),x1)]),b1),r3=((0,f.Z)(w1={},ru,"booleanEquals"),(0,f.Z)(w1,iu,[!0,(C1={},(0,f.Z)(C1,ru,"getAttr"),(0,f.Z)(C1,iu,[(0,f.Z)({},yd,YP),"supportsDualStack"]),C1)]),w1),o3=[YI],a3=[e3],s3=[t3],O7={version:"1.0",parameters:{Region:QI,UseDualStack:JI,UseFIPS:JI,Endpoint:QI},rules:[{conditions:[(Ch={},(0,f.Z)(Ch,ru,"aws.partition"),(0,f.Z)(Ch,iu,[(0,f.Z)({},yd,"Region")]),(0,f.Z)(Ch,"assign",YP),Ch)],type:Cs,rules:[{conditions:[(S1={},(0,f.Z)(S1,ru,"isSet"),(0,f.Z)(S1,iu,o3),S1),(wh={},(0,f.Z)(wh,ru,"parseURL"),(0,f.Z)(wh,iu,o3),(0,f.Z)(wh,"assign","url"),wh)],type:Cs,rules:[{conditions:a3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Sh},{type:Cs,rules:[{conditions:s3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Sh},{endpoint:{url:YI,properties:ws,headers:ws},type:Eh}]}]},{conditions:[e3,t3],type:Cs,rules:[{conditions:[n3,r3],type:Cs,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ws,headers:ws},type:Eh}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Sh}]},{conditions:a3,type:Cs,rules:[{conditions:[n3],type:Cs,rules:[{type:Cs,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ws,headers:ws},type:Eh}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Sh}]},{conditions:s3,type:Cs,rules:[{conditions:[r3],type:Cs,rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ws,headers:ws},type:Eh}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Sh}]},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:ws,headers:ws},type:Eh}]}]},F7=function(n){return OI(O7,{endpointParams:n,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},N7=["in-region","cross-region","mobile","standard","legacy"],u3=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return RD(zt((0,We.Z)().mark(function e(){var r;return(0,We.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if("function"!=typeof t){u.next=6;break}return u.next=3,t();case 3:u.t0=u.sent,u.next=7;break;case 6:u.t0=t;case 7:r=u.t0,u.t1=r?.toLowerCase(),u.next="auto"===u.t1?11:"mobile"===u.t1||"in-region"===u.t1||"cross-region"===u.t1||"standard"===u.t1||"legacy"===u.t1?12:void 0===u.t1?13:14;break;case 11:return u.abrupt("return",Promise.resolve(B7()?"mobile":"standard"));case 12:return u.abrupt("return",Promise.resolve(r?.toLocaleLowerCase()));case 13:return u.abrupt("return",Promise.resolve("legacy"));case 14:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(N7.join(", "),", got ").concat(r));case 15:case"end":return u.stop()}},e)})))},B7=function(){var n,t,e,r=typeof window<"u"&&null!==(n=window)&&void 0!==n&&null!==(t=n.navigator)&&void 0!==t&&t.userAgent?KI().parse(window.navigator.userAgent):void 0,s=null==r||null===(e=r.platform)||void 0===e?void 0:e.type;return"tablet"===s||"mobile"===s},eA=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;(0,h.Z)(this,t);var u=function(n){var t,e;return(0,ue.Z)((0,ue.Z)({},n),{},{useDualstackEndpoint:null!==(t=n.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(e=n.useFipsEndpoint)&&void 0!==e&&e,defaultSigningName:"cognito-identity"})}(function(n){var t,e,r,s,u,l,c,p,y,E,D,R=u3(n),B=function(){return R().then(nD)},te=function(n){var t,e,r,s,u,l,c,p,y;return{apiVersion:"2014-06-30",base64Decoder:null!==(t=n?.base64Decoder)&&void 0!==t?t:KP,base64Encoder:null!==(e=n?.base64Encoder)&&void 0!==e?e:WP,disableHostPrefix:null!==(r=n?.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(s=n?.endpointProvider)&&void 0!==s?s:F7,logger:null!==(u=n?.logger)&&void 0!==u?u:new VT,serviceId:null!==(l=n?.serviceId)&&void 0!==l?l:"Cognito Identity",urlParser:null!==(c=n?.urlParser)&&void 0!==c?c:e1,utf8Decoder:null!==(p=n?.utf8Decoder)&&void 0!==p?p:oh,utf8Encoder:null!==(y=n?.utf8Encoder)&&void 0!==y?y:d1}}(n);return(0,ue.Z)((0,ue.Z)((0,ue.Z)({},te),n),{},{runtime:"browser",defaultsMode:R,bodyLengthChecker:null!==(t=n?.bodyLengthChecker)&&void 0!==t?t:qI,credentialDefaultProvider:null!==(e=n?.credentialDefaultProvider)&&void 0!==e?e:function(ne){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(r=n?.defaultUserAgentProvider)&&void 0!==r?r:WI({serviceId:te.serviceId,clientVersion:"3.350.0"}),maxAttempts:null!==(s=n?.maxAttempts)&&void 0!==s?s:3,region:null!==(u=n?.region)&&void 0!==u?u:HI("Region is missing"),requestHandler:null!==(l=n?.requestHandler)&&void 0!==l?l:new ZI(B),retryMode:null!==(c=n?.retryMode)&&void 0!==c?c:zt((0,We.Z)().mark(function ne(){return(0,We.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,B();case 2:if(Se.t0=Se.sent.retryMode,Se.t0){Se.next=5;break}Se.t0=MP;case 5:return Se.abrupt("return",Se.t0);case 6:case"end":return Se.stop()}},ne)})),sha256:null!==(p=n?.sha256)&&void 0!==p?p:C7.Sha256,streamCollector:null!==(y=n?.streamCollector)&&void 0!==y?y:XP,useDualstackEndpoint:null!==(E=n?.useDualstackEndpoint)&&void 0!==E?E:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(D=n?.useFipsEndpoint)&&void 0!==D?D:function(){return Promise.resolve(!1)}})}(e)),l=MD(u),c=BT(l),p=XD(c),D=xI(mI(p));return(r=n.call(this,D)).config=D,r.middlewareStack.use(QD(r.config)),r.middlewareStack.use(BD(r.config)),r.middlewareStack.use(ZD(r.config)),r.middlewareStack.use(jD()),r.middlewareStack.use(LD(r.config)),r.middlewareStack.use(BI(r.config)),r}return(0,v.Z)(t,[{key:"destroy",value:function(){(0,fa.Z)((0,pa.Z)(t.prototype),"destroy",this).call(this)}}]),t}(KT),L7={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0};var G7=S(6982),H7=S(4907);function l3(a,n){return function(){var t=zt((0,We.Z)().mark(function e(r){var s,u,l,c,p,y,E,D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if("error"!==(s=r.headers[":message-type"].value)){B.next=7;break}throw(u=new Error(r.headers[":error-message"].value||"UnknownError")).name=r.headers[":error-code"].value,u;case 7:if("exception"!==s){B.next=20;break}return c=(0,f.Z)({},l=r.headers[":exception-type"].value,r),B.next=12,a(c);case 12:if(!(p=B.sent).$unknown){B.next=17;break}throw(y=new Error(n(r.body))).name=l,y;case 17:throw p[l];case 20:if("event"!==s){B.next=30;break}return E=(0,f.Z)({},r.headers[":event-type"].value,r),B.next=24,a(E);case 24:if(!(D=B.sent).$unknown){B.next=27;break}return B.abrupt("return");case 27:return B.abrupt("return",D);case 30:throw Error("Unrecognizable event type: ".concat(r.headers[":event-type"].value));case 31:case"end":return B.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}var K7=function(){function a(n){var t=n.utf8Encoder,e=n.utf8Decoder;(0,h.Z)(this,a),this.eventStreamCodec=new fL(t,e),this.utfEncoder=t}return(0,v.Z)(a,[{key:"deserialize",value:function(t,e){var r=function q7(a){var n=0,t=0,e=null,r=null,s=function(c){if("number"!=typeof c)throw new Error("Attempted to allocate an event message where size was not a number: "+c);n=c,t=4,e=new Uint8Array(c),new DataView(e.buffer).setUint32(0,c,!1)},u=function(){var l=xs((0,We.Z)().mark(function c(){var p,y,E,R,B,te,ne,he;return(0,We.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:p=a[Symbol.asyncIterator]();case 1:return we.next=4,_o(p.next());case 4:if(E=(y=we.sent).value,!y.done){we.next=19;break}if(n){we.next=12;break}return we.abrupt("return");case 12:if(n!==t){we.next=17;break}return we.next=15,e;case 15:we.next=18;break;case 17:throw new Error("Truncated event message received.");case 18:return we.abrupt("return");case 19:R=E.length,B=0;case 21:if(!(B<R)){we.next=45;break}if(e){we.next=33;break}if(te=R-B,r||(r=new Uint8Array(4)),ne=Math.min(4-t,te),r.set(E.slice(B,B+ne),t),B+=ne,!((t+=ne)<4)){we.next=31;break}return we.abrupt("break",45);case 31:s(new DataView(r.buffer).getUint32(0,!1)),r=null;case 33:if(he=Math.min(n-t,R-B),e.set(E.slice(B,B+he),t),t+=he,B+=he,!n||n!==t){we.next=43;break}return we.next=40,e;case 40:e=null,n=0,t=0;case 43:we.next=21;break;case 45:we.next=1;break;case 47:case"end":return we.stop()}},c)}));return function(){return l.apply(this,arguments)}}();return(0,f.Z)({},Symbol.asyncIterator,u)}(t);return new mL({messageStream:new pL({inputStream:r,decoder:this.eventStreamCodec}),deserializer:l3(e,this.utfEncoder)})}},{key:"serialize",value:function(t,e){return new hL({messageStream:new gL({inputStream:t,serializer:e}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}]),a}(),Q7=function(){function a(n){var t=n.utf8Encoder,e=n.utf8Decoder;(0,h.Z)(this,a),this.universalMarshaller=new K7({utf8Decoder:e,utf8Encoder:t})}return(0,v.Z)(a,[{key:"deserialize",value:function(t,e){var n,r=J7(t)?(n=t,(0,f.Z)({},Symbol.asyncIterator,xs((0,We.Z)().mark(function t(){var e,r,u;return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=n.getReader(),c.prev=1;case 2:return c.next=5,_o(e.read());case 5:if(u=(r=c.sent).value,!r.done){c.next=10;break}return c.abrupt("return");case 10:return c.next=12,u;case 12:c.next=2;break;case 14:return c.prev=14,e.releaseLock(),c.finish(14);case 17:case"end":return c.stop()}},t,null,[[1,,14,17]])})))):t;return this.universalMarshaller.deserialize(r,e)}},{key:"serialize",value:function(t,e){var r=this.universalMarshaller.serialize(t,e);return"function"==typeof ReadableStream?function(n){var t=n[Symbol.asyncIterator]();return new ReadableStream({pull:function(r){return zt((0,We.Z)().mark(function s(){var u,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,t.next();case 2:if(c=(u=y.sent).value,!u.done){y.next=7;break}return y.abrupt("return",r.close());case 7:r.enqueue(c);case 8:case"end":return y.stop()}},s)}))()}})}(r):r}}]),a}(),J7=function(n){return"function"==typeof ReadableStream&&n instanceof ReadableStream},Y7=function(n){return new Q7(n)};function e9(a,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1048576;return new Promise(function(e,r){var s=new FileReader;s.addEventListener("error",r),s.addEventListener("abort",r);var u=a.size,l=0;function c(){l>=u?e():s.readAsArrayBuffer(a.slice(l,Math.min(u,l+t)))}s.addEventListener("load",function(p){var y=p.target.result;n(new Uint8Array(y)),l+=y.byteLength,c()}),c()})}var t9=function(){var a=zt((0,We.Z)().mark(function t(e,r){var s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=new e,l.next=3,e9(r,function(c){s.update(c)});case 3:return l.abrupt("return",s.digest());case 4:case"end":return l.stop()}},t)}));return function n(t,e){return a.apply(this,arguments)}}(),r9=[1732584193,4023233417,2562383102,271733878],i9=function(){function a(){(0,h.Z)(this,a),this.reset()}return(0,v.Z)(a,[{key:"update",value:function(t){if(!function o9(a){return"string"==typeof a?0===a.length:0===a.byteLength}(t)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=function a9(a){return"string"==typeof a?oh(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}(t),r=0,s=e.byteLength;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,e[r++]),s--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}}},{key:"digest",value:(n=zt((0,We.Z)().mark(function e(){var r,s,l,c,p,y,E;return(0,We.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!this.finished){if(s=this.bufferLength,l=8*this.bytesHashed,(r=this.buffer).setUint8(this.bufferLength++,128),s%64>=56){for(c=this.bufferLength;c<64;c++)r.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(p=this.bufferLength;p<56;p++)r.setUint8(p,0);r.setUint32(56,l>>>0,!0),r.setUint32(60,Math.floor(l/4294967296),!0),this.hashBuffer(),this.finished=!0}for(y=new DataView(new ArrayBuffer(16)),E=0;E<4;E++)y.setUint32(4*E,this.state[E],!0);return R.abrupt("return",new Uint8Array(y.buffer,y.byteOffset,y.byteLength));case 4:case"end":return R.stop()}},e,this)})),function t(){return n.apply(this,arguments)})},{key:"hashBuffer",value:function(){var t=this.buffer,e=this.state,r=e[0],s=e[1],u=e[2],l=e[3];r=xo(r,s,u,l,t.getUint32(0,!0),7,3614090360),l=xo(l,r,s,u,t.getUint32(4,!0),12,3905402710),u=xo(u,l,r,s,t.getUint32(8,!0),17,606105819),s=xo(s,u,l,r,t.getUint32(12,!0),22,3250441966),r=xo(r,s,u,l,t.getUint32(16,!0),7,4118548399),l=xo(l,r,s,u,t.getUint32(20,!0),12,1200080426),u=xo(u,l,r,s,t.getUint32(24,!0),17,2821735955),s=xo(s,u,l,r,t.getUint32(28,!0),22,4249261313),r=xo(r,s,u,l,t.getUint32(32,!0),7,1770035416),l=xo(l,r,s,u,t.getUint32(36,!0),12,2336552879),u=xo(u,l,r,s,t.getUint32(40,!0),17,4294925233),s=xo(s,u,l,r,t.getUint32(44,!0),22,2304563134),r=xo(r,s,u,l,t.getUint32(48,!0),7,1804603682),l=xo(l,r,s,u,t.getUint32(52,!0),12,4254626195),u=xo(u,l,r,s,t.getUint32(56,!0),17,2792965006),r=bo(r,s=xo(s,u,l,r,t.getUint32(60,!0),22,1236535329),u,l,t.getUint32(4,!0),5,4129170786),l=bo(l,r,s,u,t.getUint32(24,!0),9,3225465664),u=bo(u,l,r,s,t.getUint32(44,!0),14,643717713),s=bo(s,u,l,r,t.getUint32(0,!0),20,3921069994),r=bo(r,s,u,l,t.getUint32(20,!0),5,3593408605),l=bo(l,r,s,u,t.getUint32(40,!0),9,38016083),u=bo(u,l,r,s,t.getUint32(60,!0),14,3634488961),s=bo(s,u,l,r,t.getUint32(16,!0),20,3889429448),r=bo(r,s,u,l,t.getUint32(36,!0),5,568446438),l=bo(l,r,s,u,t.getUint32(56,!0),9,3275163606),u=bo(u,l,r,s,t.getUint32(12,!0),14,4107603335),s=bo(s,u,l,r,t.getUint32(32,!0),20,1163531501),r=bo(r,s,u,l,t.getUint32(52,!0),5,2850285829),l=bo(l,r,s,u,t.getUint32(8,!0),9,4243563512),u=bo(u,l,r,s,t.getUint32(28,!0),14,1735328473),r=Co(r,s=bo(s,u,l,r,t.getUint32(48,!0),20,2368359562),u,l,t.getUint32(20,!0),4,4294588738),l=Co(l,r,s,u,t.getUint32(32,!0),11,2272392833),u=Co(u,l,r,s,t.getUint32(44,!0),16,1839030562),s=Co(s,u,l,r,t.getUint32(56,!0),23,4259657740),r=Co(r,s,u,l,t.getUint32(4,!0),4,2763975236),l=Co(l,r,s,u,t.getUint32(16,!0),11,1272893353),u=Co(u,l,r,s,t.getUint32(28,!0),16,4139469664),s=Co(s,u,l,r,t.getUint32(40,!0),23,3200236656),r=Co(r,s,u,l,t.getUint32(52,!0),4,681279174),l=Co(l,r,s,u,t.getUint32(0,!0),11,3936430074),u=Co(u,l,r,s,t.getUint32(12,!0),16,3572445317),s=Co(s,u,l,r,t.getUint32(24,!0),23,76029189),r=Co(r,s,u,l,t.getUint32(36,!0),4,3654602809),l=Co(l,r,s,u,t.getUint32(48,!0),11,3873151461),u=Co(u,l,r,s,t.getUint32(60,!0),16,530742520),r=wo(r,s=Co(s,u,l,r,t.getUint32(8,!0),23,3299628645),u,l,t.getUint32(0,!0),6,4096336452),l=wo(l,r,s,u,t.getUint32(28,!0),10,1126891415),u=wo(u,l,r,s,t.getUint32(56,!0),15,2878612391),s=wo(s,u,l,r,t.getUint32(20,!0),21,4237533241),r=wo(r,s,u,l,t.getUint32(48,!0),6,1700485571),l=wo(l,r,s,u,t.getUint32(12,!0),10,2399980690),u=wo(u,l,r,s,t.getUint32(40,!0),15,4293915773),s=wo(s,u,l,r,t.getUint32(4,!0),21,2240044497),r=wo(r,s,u,l,t.getUint32(32,!0),6,1873313359),l=wo(l,r,s,u,t.getUint32(60,!0),10,4264355552),u=wo(u,l,r,s,t.getUint32(24,!0),15,2734768916),s=wo(s,u,l,r,t.getUint32(52,!0),21,1309151649),r=wo(r,s,u,l,t.getUint32(16,!0),6,4149444226),l=wo(l,r,s,u,t.getUint32(44,!0),10,3174756917),u=wo(u,l,r,s,t.getUint32(8,!0),15,718787259),s=wo(s,u,l,r,t.getUint32(36,!0),21,3951481745),e[0]=r+e[0]&4294967295,e[1]=s+e[1]&4294967295,e[2]=u+e[2]&4294967295,e[3]=l+e[3]&4294967295}},{key:"reset",value:function(){this.state=Uint32Array.from(r9),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}]),a;var n}();function E1(a,n,t,e,r,s){return((n=(n+a&4294967295)+(e+s&4294967295)&4294967295)<<r|n>>>32-r)+t&4294967295}function xo(a,n,t,e,r,s,u){return E1(n&t|~n&e,a,n,r,s,u)}function bo(a,n,t,e,r,s,u){return E1(n&e|t&~e,a,n,r,s,u)}function Co(a,n,t,e,r,s,u){return E1(n^t^e,a,n,r,s,u)}function wo(a,n,t,e,r,s,u){return E1(t^(n|~e),a,n,r,s,u)}var k1,kh,P1,A1,R1,T1,Ph,D1,I1,O1,Ah,_d,Rh,F1,Th,Dh,M1,N1,B1,Z1,xd,Ih,Oh,j1,$1,L1,bd,Fh,Mh,U1,z1,V1,G1,H1,Cd,Nh,q1,Bh,K1,W1,X1,Q1,J1,wd,Zh,jh,Y1,eb,tb,Sd,$h,Lh,nb,rb,ib,Ed,Uh,zh,ob,ab,sb,ub,lb,kd,Vh,cb,Gh,db,fb,pb,hb,mb,Pd,Hh,qh,gb,vb,yb,Ad,Kh,Wh,_b,xb,bb,Rd,Xh,Qh,Cb,wb,Sb,Eb,kb,Td,Jh,Pb,Yh,Ab,Rb,Tb,Db,Ib,Dd,em,tm,Ob,Fb,Mb,Id,nm,rm,Nb,Bb,Zb,Od,im,om,jb,$b,Lb,Ub,zb,Fd,am,Vb,sm,Gb,Hb,qb,Kb,Wb,Md,um,lm,Xb,Qb,Jb,Nd,cm,dm,Yb,eC,tC,Bd,fm,pm,nC,rC,iC,oC,aC,sC,Zd,hm,mm,jd,gm,uC,vm,lC,cC,dC,fC,pC,$d,ym,_m,hC,mC,gC,Ld,xm,bm,vC,yC,_C,Ud,Cm,wm,xC,bC,CC,wC,SC,EC,zd,Sm,Em,Vd,km,kC,Pm,PC,AC,RC,TC,DC,Gd,Am,Rm,IC,Tm,OC,FC,Dm,MC,NC,Im,BC,ZC,jC,$C,LC,UC,Hd,zC,VC,GC,HC,qC,KC,Om,WC,XC,QC,JC,qd,Fm,Mm,Nm,YC,Kd,Bm,Zm,jm,ew,Wd,$m,Lm,Um,tw,Xd,zm,Vm,Gm,nw,rw,iw,Qd,Hm,qm,ow,aw,sw,uw,lw,Jd,Km,Wm,cw,dw,Xm,Qm,fw,pw,Yd,Jm,Ym,eg,hw,ef,tg,ng,rg,mw,gw,ig,og,vw,yw,ag,_w,xw,bw,Cw,ww,sg,Sw,Ew,kw,ug,tf,Pw,Aw,Rw,Tw,Dw,Iw,Ow,Fw,nf,rf,af,Mw,sf,lg,cg,dg,Nw,fg,Bw,uf,pg,hg,mg,Zw,lf,gg,vg,jw,cf,yg,_g,xg,$w,df,bg,Cg,Lw,ff,wg,Sg,Eg,Uw,pf,kg,Pg,zw,hf,Ag,Rg,Tg,Vw,Gw,Hw,Dg,qw,Kw,Ww,Ig,Xw,Qw,Jw,Yw,eS,tS,nS,rS,iS,Og,oS,aS,sS,uS,lS,cS,dS,fS,Fg,Mg,Ng,Bg,Zg,pS,hS,jg,$g,Lg,Ug,zg,mS,Vg,Gg,Hg,qg,Kg,gS,Wg,Xg,vS,yS,_S,Qg,xS,bS,Jg,CS,Yg,wS,ev,tv,nv,rv,iv,ov,av,sv,uv,lv,cv,dv,fv,pv,hv,mv,gv,vv,yv,_v,xv,bv,Cv,wv,Sv,Ev,SS,ES,kS,PS,AS,RS,TS,kv,DS,Pv,Av,IS,OS,FS,Rv,MS,Tv,Dv,Iv,Ov,NS,BS,ZS,jS,Fv,Mv,Nv,Bv,Zv,jv,$S,LS,$v,US,Lv,zS,VS,Uv,GS,zv,HS,Vv,qS,Gv,KS,WS,Hv,XS,QS,qv,JS,YS,eE,Kv,tE,Wv,Xv,nE,rE,Qv,Jv,Yv,ey,ty,ny,ry,iy,oy,ay,sy,uy,iE,oE,aE,sE,ly,uE,cy,lE,dy,cE,fy,dE,py,fE,hy,pE,my,hE,mE,gy,gE,vE,vy,yy,_y,yE,xy,by,Cy,_E,wy,Sy,xE,bE,CE,mf,Ey,ky,wE,Py,SE,EE,kE,PE,AE,Ay,RE,TE,Ry,Ty,DE,Dy,Iy,Oy,IE,OE,Fy,My,Ny,By,FE,Zy,jy,$y,ME,Ly,NE,Uy,BE,zy,ZE,Vy,jE,Gy,$E,Hy,LE,qy,UE,Ky,zE,VE,Wy,GE,Xy,HE,qE,KE,WE,Qy,XE,Jy,Yy,e_,QE,JE,YE,t_,e2,n_,t2,n2,r_,i_,o_,a_,s_,r2,o2,a2,s2,u_,u2,l_,c_,l2,d_,f_,p_,h_,m_,g_,v_,y_,__,x_,b_,C_,w_,S_,E_,k_,P_,A_,R_,c2,d2,T_,f2,D_,I_,p2,O_,h2,s9=function(n,t){var e=t.base64Encoder,r=t.bodyLengthChecker,s=t.checksumAlgorithmFn,u=t.checksumLocationName,l=t.streamHasher,c=void 0!==e&&void 0!==r&&void 0!==s&&void 0!==u&&void 0!==l,p=c?l(s,n):void 0,y=n.getReader();return new ReadableStream({pull:function(D){return zt((0,We.Z)().mark(function R(){var B,te,he;return(0,We.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,y.read();case 2:if(te=(B=we.sent).value,!B.done){we.next=18;break}if(D.enqueue("0\r\n"),!c){we.next=15;break}return we.t0=e,we.next=11,p;case 11:we.t1=we.sent,he=(0,we.t0)(we.t1),D.enqueue("".concat(u,":").concat(he,"\r\n")),D.enqueue("\r\n");case 15:D.close(),we.next=19;break;case 18:D.enqueue("".concat((r(te)||0).toString(16),"\r\n").concat(te,"\r\n"));case 19:case"end":return we.stop()}},R)}))()}})},c3="The stream has already been transformed.",u9=function(n){if(!d3(n)&&!f3(n)){var t,e,r=(null==n||null===(t=n.__proto__)||void 0===t||null===(e=t.constructor)||void 0===e?void 0:e.name)||n;throw new Error("Unexpected stream implementation, expect Blob or ReadableStream, got ".concat(r))}var c,s=!1,u=function(){var c=zt((0,We.Z)().mark(function p(){return(0,We.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!s){E.next=2;break}throw new Error(c3);case 2:return s=!0,E.next=5,XP(n);case 5:return E.abrupt("return",E.sent);case 6:case"end":return E.stop()}},p)}));return function(){return c.apply(this,arguments)}}();return Object.assign(n,{transformToByteArray:u,transformToString:(c=zt((0,We.Z)().mark(function y(E){var D;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,u();case 2:if(D=B.sent,"base64"!==E){B.next=7;break}return B.abrupt("return",WP(D));case 7:if("hex"!==E){B.next=11;break}return B.abrupt("return",_a(D));case 11:if(void 0!==E&&"utf8"!==E&&"utf-8"!==E){B.next=15;break}return B.abrupt("return",d1(D));case 15:if("function"!=typeof TextDecoder){B.next=19;break}return B.abrupt("return",new TextDecoder(E).decode(D));case 19:throw new Error("TextDecoder is not available, please make sure polyfill is provided.");case 20:case"end":return B.stop()}},y)})),function p(y){return c.apply(this,arguments)}),transformToWebStream:function(){if(s)throw new Error(c3);if(s=!0,d3(n))return function(p){if("function"!=typeof p.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return p.stream()}(n);if(f3(n))return n;throw new Error("Cannot transform payload to web stream, got ".concat(n))}})},d3=function(n){return"function"==typeof Blob&&n instanceof Blob},f3=function(n){return"function"==typeof ReadableStream&&n instanceof ReadableStream},l9=function(){function a(n){(0,h.Z)(this,a),this.sigv4Signer=new vh(n),this.signerOptions=n}return(0,v.Z)(a,[{key:"sign",value:(n=zt(function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,We.Z)().mark(function u(){return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("*"!==s.signingRegion){c.next=4;break}if("node"===r.signerOptions.runtime){c.next=3;break}throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");case 3:return c.abrupt("return",r.getSigv4aSigner().sign(e,s));case 4:return c.abrupt("return",r.sigv4Signer.sign(e,s));case 5:case"end":return c.stop()}},u)})()}),function t(e){return n.apply(this,arguments)})},{key:"presign",value:function(){var n=zt(function(e){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,We.Z)().mark(function u(){return(0,We.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("*"!==s.signingRegion){c.next=4;break}if("node"===r.signerOptions.runtime){c.next=3;break}throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");case 3:return c.abrupt("return",r.getSigv4aSigner().presign(e,s));case 4:return c.abrupt("return",r.sigv4Signer.presign(e,s));case 5:case"end":return c.stop()}},u)})()});return function t(e){return n.apply(this,arguments)}}()},{key:"getSigv4aSigner",value:function(){if(!this.sigv4aSigner){var t;try{if("function"!=typeof(t=S(4287).CrtSignerV4))throw new Error}catch(e){throw e.message="".concat(e.message,'\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \n')+"For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt",e}this.sigv4aSigner=new t((0,ue.Z)((0,ue.Z)({},this.signerOptions),{},{signingAlgorithm:1}))}return this.sigv4aSigner}}]),a;var n}(),tA="required",Me="type",wt="rules",mt="conditions",tt="fn",nt="argv",It="ref",to="assign",dn="url",fn="properties",$n="authSchemes",Ln="disableDoubleEncoding",Un="signingName",Gn="signingRegion",pn="headers",Ss=!0,Et="tree",ba="isSet",F_="substring",h3="hardwareType",m3="regionPrefix",g3="abbaSuffix",nA="outpostId",M_="aws.partition",xn="stringEquals",Nl="isValidHostLabel",vi="not",hn="error",v3="parseURL",rA="s3-outposts",Bt="endpoint",cn="booleanEquals",y3="aws.parseArn",Wn="s3",_3="aws.isVirtualHostableS3Bucket",di="getAttr",Fn="name",iA="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",x3="https://{Bucket}.s3.{partitionResult#dnsSuffix}",b3="bucketArn",C3="arnType",oA="s3-object-lambda",w3="accesspoint",aA="accessPointName",S3="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",E3="mrapPartition",k3="outpostType",P3="arnPrefix",Bl="{url#scheme}://{url#authority}{url#path}",A3="https://s3.{partitionResult#dnsSuffix}",sA=((0,f.Z)(k1={},tA,!1),(0,f.Z)(k1,Me,"String"),k1),N_=((0,f.Z)(kh={},tA,!0),(0,f.Z)(kh,"default",!1),(0,f.Z)(kh,Me,"Boolean"),kh),g2=((0,f.Z)(P1={},tA,!1),(0,f.Z)(P1,Me,"Boolean"),P1),R3=((0,f.Z)(A1={},tt,ba),(0,f.Z)(A1,nt,[(0,f.Z)({},It,"Bucket")]),A1),Es=(0,f.Z)({},It,"Bucket"),T3=(0,f.Z)({},It,h3),D3=((0,f.Z)(Ph={},mt,[(T1={},(0,f.Z)(T1,tt,vi),(0,f.Z)(T1,nt,[(R1={},(0,f.Z)(R1,tt,ba),(0,f.Z)(R1,nt,[(0,f.Z)({},It,"Endpoint")]),R1)]),T1)]),(0,f.Z)(Ph,hn,"Expected a endpoint to be specified but no endpoint was found"),(0,f.Z)(Ph,Me,hn),Ph),Xn=((0,f.Z)(I1={},tt,vi),(0,f.Z)(I1,nt,[(D1={},(0,f.Z)(D1,tt,ba),(0,f.Z)(D1,nt,[(0,f.Z)({},It,"Endpoint")]),D1)]),I1),mr=((0,f.Z)(O1={},tt,ba),(0,f.Z)(O1,nt,[(0,f.Z)({},It,"Endpoint")]),O1),jr=((0,f.Z)(Ah={},tt,v3),(0,f.Z)(Ah,nt,[(0,f.Z)({},It,"Endpoint")]),(0,f.Z)(Ah,to,"url"),Ah),v2=(0,f.Z)({},$n,[(_d={},(0,f.Z)(_d,Ln,!0),(0,f.Z)(_d,Fn,"sigv4"),(0,f.Z)(_d,Un,rA),(0,f.Z)(_d,Gn,"{Region}"),_d)]),$i={},I3=(0,f.Z)({},It,"ForcePathStyle"),O3=((0,f.Z)(Im={},mt,[(Rh={},(0,f.Z)(Rh,tt,"uriEncode"),(0,f.Z)(Rh,nt,[Es]),(0,f.Z)(Rh,to,"uri_encoded_bucket"),Rh)]),(0,f.Z)(Im,Me,Et),(0,f.Z)(Im,wt,[(Th={},(0,f.Z)(Th,mt,[(F1={},(0,f.Z)(F1,tt,cn),(0,f.Z)(F1,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),F1),mr]),(0,f.Z)(Th,hn,"Cannot set dual-stack in combination with a custom endpoint."),(0,f.Z)(Th,Me,hn),Th),(NC={},(0,f.Z)(NC,Me,Et),(0,f.Z)(NC,wt,[(Dm={},(0,f.Z)(Dm,mt,[(Dh={},(0,f.Z)(Dh,tt,M_),(0,f.Z)(Dh,nt,[(0,f.Z)({},It,"Region")]),(0,f.Z)(Dh,to,"partitionResult"),Dh)]),(0,f.Z)(Dm,Me,Et),(0,f.Z)(Dm,wt,[(FC={},(0,f.Z)(FC,Me,Et),(0,f.Z)(FC,wt,[(Tm={},(0,f.Z)(Tm,mt,[(M1={},(0,f.Z)(M1,tt,cn),(0,f.Z)(M1,nt,[(0,f.Z)({},It,"Accelerate"),!1]),M1)]),(0,f.Z)(Tm,Me,Et),(0,f.Z)(Tm,wt,[(IC={},(0,f.Z)(IC,Me,Et),(0,f.Z)(IC,wt,[(Oh={},(0,f.Z)(Oh,mt,[(N1={},(0,f.Z)(N1,tt,cn),(0,f.Z)(N1,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),N1),Xn,(B1={},(0,f.Z)(B1,tt,cn),(0,f.Z)(B1,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),B1),(Z1={},(0,f.Z)(Z1,tt,xn),(0,f.Z)(Z1,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Z1)]),(0,f.Z)(Oh,Bt,(Ih={},(0,f.Z)(Ih,dn,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Ih,fn,(0,f.Z)({},$n,[(xd={},(0,f.Z)(xd,Ln,!0),(0,f.Z)(xd,Fn,"sigv4"),(0,f.Z)(xd,Un,Wn),(0,f.Z)(xd,Gn,"us-east-1"),xd)])),(0,f.Z)(Ih,pn,{}),Ih)),(0,f.Z)(Oh,Me,Bt),Oh),(Mh={},(0,f.Z)(Mh,mt,[(j1={},(0,f.Z)(j1,tt,cn),(0,f.Z)(j1,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),j1),Xn,($1={},(0,f.Z)($1,tt,cn),(0,f.Z)($1,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),$1),(L1={},(0,f.Z)(L1,tt,xn),(0,f.Z)(L1,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),L1)]),(0,f.Z)(Mh,Bt,(Fh={},(0,f.Z)(Fh,dn,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Fh,fn,(0,f.Z)({},$n,[(bd={},(0,f.Z)(bd,Ln,!0),(0,f.Z)(bd,Fn,"sigv4"),(0,f.Z)(bd,Un,Wn),(0,f.Z)(bd,Gn,"us-east-1"),bd)])),(0,f.Z)(Fh,pn,{}),Fh)),(0,f.Z)(Mh,Me,Bt),Mh),(Bh={},(0,f.Z)(Bh,mt,[(U1={},(0,f.Z)(U1,tt,cn),(0,f.Z)(U1,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),U1),Xn,(z1={},(0,f.Z)(z1,tt,cn),(0,f.Z)(z1,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),z1),(G1={},(0,f.Z)(G1,tt,vi),(0,f.Z)(G1,nt,[(V1={},(0,f.Z)(V1,tt,xn),(0,f.Z)(V1,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),V1)]),G1),(H1={},(0,f.Z)(H1,tt,cn),(0,f.Z)(H1,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),H1)]),(0,f.Z)(Bh,Me,Et),(0,f.Z)(Bh,wt,[(q1={},(0,f.Z)(q1,Bt,(Nh={},(0,f.Z)(Nh,dn,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Nh,fn,(0,f.Z)({},$n,[(Cd={},(0,f.Z)(Cd,Ln,!0),(0,f.Z)(Cd,Fn,"sigv4"),(0,f.Z)(Cd,Un,Wn),(0,f.Z)(Cd,Gn,"{Region}"),Cd)])),(0,f.Z)(Nh,pn,{}),Nh)),(0,f.Z)(q1,Me,Bt),q1)]),Bh),(jh={},(0,f.Z)(jh,mt,[(K1={},(0,f.Z)(K1,tt,cn),(0,f.Z)(K1,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),K1),Xn,(W1={},(0,f.Z)(W1,tt,cn),(0,f.Z)(W1,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),W1),(Q1={},(0,f.Z)(Q1,tt,vi),(0,f.Z)(Q1,nt,[(X1={},(0,f.Z)(X1,tt,xn),(0,f.Z)(X1,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),X1)]),Q1),(J1={},(0,f.Z)(J1,tt,cn),(0,f.Z)(J1,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),J1)]),(0,f.Z)(jh,Bt,(Zh={},(0,f.Z)(Zh,dn,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Zh,fn,(0,f.Z)({},$n,[(wd={},(0,f.Z)(wd,Ln,!0),(0,f.Z)(wd,Fn,"sigv4"),(0,f.Z)(wd,Un,Wn),(0,f.Z)(wd,Gn,"{Region}"),wd)])),(0,f.Z)(Zh,pn,{}),Zh)),(0,f.Z)(jh,Me,Bt),jh),(Lh={},(0,f.Z)(Lh,mt,[(Y1={},(0,f.Z)(Y1,tt,cn),(0,f.Z)(Y1,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),Y1),mr,jr,(eb={},(0,f.Z)(eb,tt,cn),(0,f.Z)(eb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),eb),(tb={},(0,f.Z)(tb,tt,xn),(0,f.Z)(tb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),tb)]),(0,f.Z)(Lh,Bt,($h={},(0,f.Z)($h,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)($h,fn,(0,f.Z)({},$n,[(Sd={},(0,f.Z)(Sd,Ln,!0),(0,f.Z)(Sd,Fn,"sigv4"),(0,f.Z)(Sd,Un,Wn),(0,f.Z)(Sd,Gn,"us-east-1"),Sd)])),(0,f.Z)($h,pn,{}),$h)),(0,f.Z)(Lh,Me,Bt),Lh),(zh={},(0,f.Z)(zh,mt,[(nb={},(0,f.Z)(nb,tt,cn),(0,f.Z)(nb,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),nb),mr,jr,(rb={},(0,f.Z)(rb,tt,cn),(0,f.Z)(rb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),rb),(ib={},(0,f.Z)(ib,tt,xn),(0,f.Z)(ib,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),ib)]),(0,f.Z)(zh,Bt,(Uh={},(0,f.Z)(Uh,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(Uh,fn,(0,f.Z)({},$n,[(Ed={},(0,f.Z)(Ed,Ln,!0),(0,f.Z)(Ed,Fn,"sigv4"),(0,f.Z)(Ed,Un,Wn),(0,f.Z)(Ed,Gn,"us-east-1"),Ed)])),(0,f.Z)(Uh,pn,{}),Uh)),(0,f.Z)(zh,Me,Bt),zh),(Gh={},(0,f.Z)(Gh,mt,[(ob={},(0,f.Z)(ob,tt,cn),(0,f.Z)(ob,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),ob),mr,jr,(ab={},(0,f.Z)(ab,tt,cn),(0,f.Z)(ab,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),ab),(ub={},(0,f.Z)(ub,tt,vi),(0,f.Z)(ub,nt,[(sb={},(0,f.Z)(sb,tt,xn),(0,f.Z)(sb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),sb)]),ub),(lb={},(0,f.Z)(lb,tt,cn),(0,f.Z)(lb,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),lb)]),(0,f.Z)(Gh,Me,Et),(0,f.Z)(Gh,wt,[(cb={},(0,f.Z)(cb,Bt,(Vh={},(0,f.Z)(Vh,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(Vh,fn,(0,f.Z)({},$n,[(kd={},(0,f.Z)(kd,Ln,!0),(0,f.Z)(kd,Fn,"sigv4"),(0,f.Z)(kd,Un,Wn),(0,f.Z)(kd,Gn,"{Region}"),kd)])),(0,f.Z)(Vh,pn,{}),Vh)),(0,f.Z)(cb,Me,Bt),cb)]),Gh),(qh={},(0,f.Z)(qh,mt,[(db={},(0,f.Z)(db,tt,cn),(0,f.Z)(db,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),db),mr,jr,(fb={},(0,f.Z)(fb,tt,cn),(0,f.Z)(fb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),fb),(hb={},(0,f.Z)(hb,tt,vi),(0,f.Z)(hb,nt,[(pb={},(0,f.Z)(pb,tt,xn),(0,f.Z)(pb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),pb)]),hb),(mb={},(0,f.Z)(mb,tt,cn),(0,f.Z)(mb,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),mb)]),(0,f.Z)(qh,Bt,(Hh={},(0,f.Z)(Hh,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(Hh,fn,(0,f.Z)({},$n,[(Pd={},(0,f.Z)(Pd,Ln,!0),(0,f.Z)(Pd,Fn,"sigv4"),(0,f.Z)(Pd,Un,Wn),(0,f.Z)(Pd,Gn,"{Region}"),Pd)])),(0,f.Z)(Hh,pn,{}),Hh)),(0,f.Z)(qh,Me,Bt),qh),(Wh={},(0,f.Z)(Wh,mt,[(gb={},(0,f.Z)(gb,tt,cn),(0,f.Z)(gb,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),gb),Xn,(vb={},(0,f.Z)(vb,tt,cn),(0,f.Z)(vb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),vb),(yb={},(0,f.Z)(yb,tt,xn),(0,f.Z)(yb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),yb)]),(0,f.Z)(Wh,Bt,(Kh={},(0,f.Z)(Kh,dn,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Kh,fn,(0,f.Z)({},$n,[(Ad={},(0,f.Z)(Ad,Ln,!0),(0,f.Z)(Ad,Fn,"sigv4"),(0,f.Z)(Ad,Un,Wn),(0,f.Z)(Ad,Gn,"us-east-1"),Ad)])),(0,f.Z)(Kh,pn,{}),Kh)),(0,f.Z)(Wh,Me,Bt),Wh),(Qh={},(0,f.Z)(Qh,mt,[(_b={},(0,f.Z)(_b,tt,cn),(0,f.Z)(_b,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),_b),Xn,(xb={},(0,f.Z)(xb,tt,cn),(0,f.Z)(xb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),xb),(bb={},(0,f.Z)(bb,tt,xn),(0,f.Z)(bb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),bb)]),(0,f.Z)(Qh,Bt,(Xh={},(0,f.Z)(Xh,dn,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Xh,fn,(0,f.Z)({},$n,[(Rd={},(0,f.Z)(Rd,Ln,!0),(0,f.Z)(Rd,Fn,"sigv4"),(0,f.Z)(Rd,Un,Wn),(0,f.Z)(Rd,Gn,"us-east-1"),Rd)])),(0,f.Z)(Xh,pn,{}),Xh)),(0,f.Z)(Qh,Me,Bt),Qh),(Yh={},(0,f.Z)(Yh,mt,[(Cb={},(0,f.Z)(Cb,tt,cn),(0,f.Z)(Cb,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),Cb),Xn,(wb={},(0,f.Z)(wb,tt,cn),(0,f.Z)(wb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),wb),(Eb={},(0,f.Z)(Eb,tt,vi),(0,f.Z)(Eb,nt,[(Sb={},(0,f.Z)(Sb,tt,xn),(0,f.Z)(Sb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Sb)]),Eb),(kb={},(0,f.Z)(kb,tt,cn),(0,f.Z)(kb,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),kb)]),(0,f.Z)(Yh,Me,Et),(0,f.Z)(Yh,wt,[(Pb={},(0,f.Z)(Pb,Bt,(Jh={},(0,f.Z)(Jh,dn,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Jh,fn,(0,f.Z)({},$n,[(Td={},(0,f.Z)(Td,Ln,!0),(0,f.Z)(Td,Fn,"sigv4"),(0,f.Z)(Td,Un,Wn),(0,f.Z)(Td,Gn,"{Region}"),Td)])),(0,f.Z)(Jh,pn,{}),Jh)),(0,f.Z)(Pb,Me,Bt),Pb)]),Yh),(tm={},(0,f.Z)(tm,mt,[(Ab={},(0,f.Z)(Ab,tt,cn),(0,f.Z)(Ab,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),Ab),Xn,(Rb={},(0,f.Z)(Rb,tt,cn),(0,f.Z)(Rb,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),Rb),(Db={},(0,f.Z)(Db,tt,vi),(0,f.Z)(Db,nt,[(Tb={},(0,f.Z)(Tb,tt,xn),(0,f.Z)(Tb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Tb)]),Db),(Ib={},(0,f.Z)(Ib,tt,cn),(0,f.Z)(Ib,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),Ib)]),(0,f.Z)(tm,Bt,(em={},(0,f.Z)(em,dn,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(em,fn,(0,f.Z)({},$n,[(Dd={},(0,f.Z)(Dd,Ln,!0),(0,f.Z)(Dd,Fn,"sigv4"),(0,f.Z)(Dd,Un,Wn),(0,f.Z)(Dd,Gn,"{Region}"),Dd)])),(0,f.Z)(em,pn,{}),em)),(0,f.Z)(tm,Me,Bt),tm),(rm={},(0,f.Z)(rm,mt,[(Ob={},(0,f.Z)(Ob,tt,cn),(0,f.Z)(Ob,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),Ob),Xn,(Fb={},(0,f.Z)(Fb,tt,cn),(0,f.Z)(Fb,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),Fb),(Mb={},(0,f.Z)(Mb,tt,xn),(0,f.Z)(Mb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Mb)]),(0,f.Z)(rm,Bt,(nm={},(0,f.Z)(nm,dn,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(nm,fn,(0,f.Z)({},$n,[(Id={},(0,f.Z)(Id,Ln,!0),(0,f.Z)(Id,Fn,"sigv4"),(0,f.Z)(Id,Un,Wn),(0,f.Z)(Id,Gn,"us-east-1"),Id)])),(0,f.Z)(nm,pn,{}),nm)),(0,f.Z)(rm,Me,Bt),rm),(om={},(0,f.Z)(om,mt,[(Nb={},(0,f.Z)(Nb,tt,cn),(0,f.Z)(Nb,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),Nb),Xn,(Bb={},(0,f.Z)(Bb,tt,cn),(0,f.Z)(Bb,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),Bb),(Zb={},(0,f.Z)(Zb,tt,xn),(0,f.Z)(Zb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Zb)]),(0,f.Z)(om,Bt,(im={},(0,f.Z)(im,dn,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(im,fn,(0,f.Z)({},$n,[(Od={},(0,f.Z)(Od,Ln,!0),(0,f.Z)(Od,Fn,"sigv4"),(0,f.Z)(Od,Un,Wn),(0,f.Z)(Od,Gn,"us-east-1"),Od)])),(0,f.Z)(im,pn,{}),im)),(0,f.Z)(om,Me,Bt),om),(sm={},(0,f.Z)(sm,mt,[(jb={},(0,f.Z)(jb,tt,cn),(0,f.Z)(jb,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),jb),Xn,($b={},(0,f.Z)($b,tt,cn),(0,f.Z)($b,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),$b),(Ub={},(0,f.Z)(Ub,tt,vi),(0,f.Z)(Ub,nt,[(Lb={},(0,f.Z)(Lb,tt,xn),(0,f.Z)(Lb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Lb)]),Ub),(zb={},(0,f.Z)(zb,tt,cn),(0,f.Z)(zb,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),zb)]),(0,f.Z)(sm,Me,Et),(0,f.Z)(sm,wt,[(Vb={},(0,f.Z)(Vb,Bt,(am={},(0,f.Z)(am,dn,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(am,fn,(0,f.Z)({},$n,[(Fd={},(0,f.Z)(Fd,Ln,!0),(0,f.Z)(Fd,Fn,"sigv4"),(0,f.Z)(Fd,Un,Wn),(0,f.Z)(Fd,Gn,"{Region}"),Fd)])),(0,f.Z)(am,pn,{}),am)),(0,f.Z)(Vb,Me,Bt),Vb)]),sm),(lm={},(0,f.Z)(lm,mt,[(Gb={},(0,f.Z)(Gb,tt,cn),(0,f.Z)(Gb,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),Gb),Xn,(Hb={},(0,f.Z)(Hb,tt,cn),(0,f.Z)(Hb,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),Hb),(Kb={},(0,f.Z)(Kb,tt,vi),(0,f.Z)(Kb,nt,[(qb={},(0,f.Z)(qb,tt,xn),(0,f.Z)(qb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),qb)]),Kb),(Wb={},(0,f.Z)(Wb,tt,cn),(0,f.Z)(Wb,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),Wb)]),(0,f.Z)(lm,Bt,(um={},(0,f.Z)(um,dn,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(um,fn,(0,f.Z)({},$n,[(Md={},(0,f.Z)(Md,Ln,!0),(0,f.Z)(Md,Fn,"sigv4"),(0,f.Z)(Md,Un,Wn),(0,f.Z)(Md,Gn,"{Region}"),Md)])),(0,f.Z)(um,pn,{}),um)),(0,f.Z)(lm,Me,Bt),lm),(dm={},(0,f.Z)(dm,mt,[(Xb={},(0,f.Z)(Xb,tt,cn),(0,f.Z)(Xb,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),Xb),mr,jr,(Qb={},(0,f.Z)(Qb,tt,cn),(0,f.Z)(Qb,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),Qb),(Jb={},(0,f.Z)(Jb,tt,xn),(0,f.Z)(Jb,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Jb)]),(0,f.Z)(dm,Bt,(cm={},(0,f.Z)(cm,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(cm,fn,(0,f.Z)({},$n,[(Nd={},(0,f.Z)(Nd,Ln,!0),(0,f.Z)(Nd,Fn,"sigv4"),(0,f.Z)(Nd,Un,Wn),(0,f.Z)(Nd,Gn,"us-east-1"),Nd)])),(0,f.Z)(cm,pn,{}),cm)),(0,f.Z)(dm,Me,Bt),dm),(pm={},(0,f.Z)(pm,mt,[(Yb={},(0,f.Z)(Yb,tt,cn),(0,f.Z)(Yb,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),Yb),mr,jr,(eC={},(0,f.Z)(eC,tt,cn),(0,f.Z)(eC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),eC),(tC={},(0,f.Z)(tC,tt,xn),(0,f.Z)(tC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),tC)]),(0,f.Z)(pm,Bt,(fm={},(0,f.Z)(fm,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(fm,fn,(0,f.Z)({},$n,[(Bd={},(0,f.Z)(Bd,Ln,!0),(0,f.Z)(Bd,Fn,"sigv4"),(0,f.Z)(Bd,Un,Wn),(0,f.Z)(Bd,Gn,"us-east-1"),Bd)])),(0,f.Z)(fm,pn,{}),fm)),(0,f.Z)(pm,Me,Bt),pm),(vm={},(0,f.Z)(vm,mt,[(nC={},(0,f.Z)(nC,tt,cn),(0,f.Z)(nC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),nC),mr,jr,(rC={},(0,f.Z)(rC,tt,cn),(0,f.Z)(rC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),rC),(oC={},(0,f.Z)(oC,tt,vi),(0,f.Z)(oC,nt,[(iC={},(0,f.Z)(iC,tt,xn),(0,f.Z)(iC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),iC)]),oC),(aC={},(0,f.Z)(aC,tt,cn),(0,f.Z)(aC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),aC)]),(0,f.Z)(vm,Me,Et),(0,f.Z)(vm,wt,[(mm={},(0,f.Z)(mm,mt,[(sC={},(0,f.Z)(sC,tt,xn),(0,f.Z)(sC,nt,[(0,f.Z)({},It,"Region"),"us-east-1"]),sC)]),(0,f.Z)(mm,Bt,(hm={},(0,f.Z)(hm,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(hm,fn,(0,f.Z)({},$n,[(Zd={},(0,f.Z)(Zd,Ln,!0),(0,f.Z)(Zd,Fn,"sigv4"),(0,f.Z)(Zd,Un,Wn),(0,f.Z)(Zd,Gn,"{Region}"),Zd)])),(0,f.Z)(hm,pn,{}),hm)),(0,f.Z)(mm,Me,Bt),mm),(uC={},(0,f.Z)(uC,Bt,(gm={},(0,f.Z)(gm,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(gm,fn,(0,f.Z)({},$n,[(jd={},(0,f.Z)(jd,Ln,!0),(0,f.Z)(jd,Fn,"sigv4"),(0,f.Z)(jd,Un,Wn),(0,f.Z)(jd,Gn,"{Region}"),jd)])),(0,f.Z)(gm,pn,{}),gm)),(0,f.Z)(uC,Me,Bt),uC)]),vm),(_m={},(0,f.Z)(_m,mt,[(lC={},(0,f.Z)(lC,tt,cn),(0,f.Z)(lC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),lC),mr,jr,(cC={},(0,f.Z)(cC,tt,cn),(0,f.Z)(cC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),cC),(fC={},(0,f.Z)(fC,tt,vi),(0,f.Z)(fC,nt,[(dC={},(0,f.Z)(dC,tt,xn),(0,f.Z)(dC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),dC)]),fC),(pC={},(0,f.Z)(pC,tt,cn),(0,f.Z)(pC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),pC)]),(0,f.Z)(_m,Bt,(ym={},(0,f.Z)(ym,dn,"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}"),(0,f.Z)(ym,fn,(0,f.Z)({},$n,[($d={},(0,f.Z)($d,Ln,!0),(0,f.Z)($d,Fn,"sigv4"),(0,f.Z)($d,Un,Wn),(0,f.Z)($d,Gn,"{Region}"),$d)])),(0,f.Z)(ym,pn,{}),ym)),(0,f.Z)(_m,Me,Bt),_m),(bm={},(0,f.Z)(bm,mt,[(hC={},(0,f.Z)(hC,tt,cn),(0,f.Z)(hC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),hC),Xn,(mC={},(0,f.Z)(mC,tt,cn),(0,f.Z)(mC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),mC),(gC={},(0,f.Z)(gC,tt,xn),(0,f.Z)(gC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),gC)]),(0,f.Z)(bm,Bt,(xm={},(0,f.Z)(xm,dn,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(xm,fn,(0,f.Z)({},$n,[(Ld={},(0,f.Z)(Ld,Ln,!0),(0,f.Z)(Ld,Fn,"sigv4"),(0,f.Z)(Ld,Un,Wn),(0,f.Z)(Ld,Gn,"us-east-1"),Ld)])),(0,f.Z)(xm,pn,{}),xm)),(0,f.Z)(bm,Me,Bt),bm),(wm={},(0,f.Z)(wm,mt,[(vC={},(0,f.Z)(vC,tt,cn),(0,f.Z)(vC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),vC),Xn,(yC={},(0,f.Z)(yC,tt,cn),(0,f.Z)(yC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),yC),(_C={},(0,f.Z)(_C,tt,xn),(0,f.Z)(_C,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),_C)]),(0,f.Z)(wm,Bt,(Cm={},(0,f.Z)(Cm,dn,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Cm,fn,(0,f.Z)({},$n,[(Ud={},(0,f.Z)(Ud,Ln,!0),(0,f.Z)(Ud,Fn,"sigv4"),(0,f.Z)(Ud,Un,Wn),(0,f.Z)(Ud,Gn,"us-east-1"),Ud)])),(0,f.Z)(Cm,pn,{}),Cm)),(0,f.Z)(wm,Me,Bt),wm),(Pm={},(0,f.Z)(Pm,mt,[(xC={},(0,f.Z)(xC,tt,cn),(0,f.Z)(xC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),xC),Xn,(bC={},(0,f.Z)(bC,tt,cn),(0,f.Z)(bC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),bC),(wC={},(0,f.Z)(wC,tt,vi),(0,f.Z)(wC,nt,[(CC={},(0,f.Z)(CC,tt,xn),(0,f.Z)(CC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),CC)]),wC),(SC={},(0,f.Z)(SC,tt,cn),(0,f.Z)(SC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),SC)]),(0,f.Z)(Pm,Me,Et),(0,f.Z)(Pm,wt,[(Em={},(0,f.Z)(Em,mt,[(EC={},(0,f.Z)(EC,tt,xn),(0,f.Z)(EC,nt,[(0,f.Z)({},It,"Region"),"us-east-1"]),EC)]),(0,f.Z)(Em,Bt,(Sm={},(0,f.Z)(Sm,dn,"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Sm,fn,(0,f.Z)({},$n,[(zd={},(0,f.Z)(zd,Ln,!0),(0,f.Z)(zd,Fn,"sigv4"),(0,f.Z)(zd,Un,Wn),(0,f.Z)(zd,Gn,"{Region}"),zd)])),(0,f.Z)(Sm,pn,{}),Sm)),(0,f.Z)(Em,Me,Bt),Em),(kC={},(0,f.Z)(kC,Bt,(km={},(0,f.Z)(km,dn,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(km,fn,(0,f.Z)({},$n,[(Vd={},(0,f.Z)(Vd,Ln,!0),(0,f.Z)(Vd,Fn,"sigv4"),(0,f.Z)(Vd,Un,Wn),(0,f.Z)(Vd,Gn,"{Region}"),Vd)])),(0,f.Z)(km,pn,{}),km)),(0,f.Z)(kC,Me,Bt),kC)]),Pm),(Rm={},(0,f.Z)(Rm,mt,[(PC={},(0,f.Z)(PC,tt,cn),(0,f.Z)(PC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),PC),Xn,(AC={},(0,f.Z)(AC,tt,cn),(0,f.Z)(AC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),AC),(TC={},(0,f.Z)(TC,tt,vi),(0,f.Z)(TC,nt,[(RC={},(0,f.Z)(RC,tt,xn),(0,f.Z)(RC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),RC)]),TC),(DC={},(0,f.Z)(DC,tt,cn),(0,f.Z)(DC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),DC)]),(0,f.Z)(Rm,Bt,(Am={},(0,f.Z)(Am,dn,"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}"),(0,f.Z)(Am,fn,(0,f.Z)({},$n,[(Gd={},(0,f.Z)(Gd,Ln,!0),(0,f.Z)(Gd,Fn,"sigv4"),(0,f.Z)(Gd,Un,Wn),(0,f.Z)(Gd,Gn,"{Region}"),Gd)])),(0,f.Z)(Am,pn,{}),Am)),(0,f.Z)(Rm,Me,Bt),Rm)]),IC)]),Tm),(OC={},(0,f.Z)(OC,hn,"Path-style addressing cannot be used with S3 Accelerate"),(0,f.Z)(OC,Me,hn),OC)]),FC)]),Dm),(MC={},(0,f.Z)(MC,hn,"A valid partition could not be determined"),(0,f.Z)(MC,Me,hn),MC)]),NC)]),Im),Wr=((0,f.Z)(BC={},tt,cn),(0,f.Z)(BC,nt,[(0,f.Z)({},It,"UseDualStack"),!0]),BC),qi=((0,f.Z)(ZC={},tt,cn),(0,f.Z)(ZC,nt,[(0,f.Z)({},It,"Accelerate"),!1]),ZC),oi=((0,f.Z)(jC={},tt,cn),(0,f.Z)(jC,nt,[(0,f.Z)({},It,"UseFIPS"),!0]),jC),kr=((0,f.Z)(LC={},tt,vi),(0,f.Z)(LC,nt,[($C={},(0,f.Z)($C,tt,xn),(0,f.Z)($C,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),$C)]),LC),So=((0,f.Z)(UC={},tt,cn),(0,f.Z)(UC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!0]),UC),Eo=(0,f.Z)({},$n,[(Hd={},(0,f.Z)(Hd,Ln,!0),(0,f.Z)(Hd,Fn,"sigv4"),(0,f.Z)(Hd,Un,Wn),(0,f.Z)(Hd,Gn,"{Region}"),Hd)]),ko=((0,f.Z)(zC={},tt,cn),(0,f.Z)(zC,nt,[(0,f.Z)({},It,"UseGlobalEndpoint"),!1]),zC),Ir=((0,f.Z)(VC={},tt,cn),(0,f.Z)(VC,nt,[(0,f.Z)({},It,"UseDualStack"),!1]),VC),vr=((0,f.Z)(GC={},tt,cn),(0,f.Z)(GC,nt,[(0,f.Z)({},It,"UseFIPS"),!1]),GC),Zl=((0,f.Z)(HC={},hn,"A valid partition could not be determined"),(0,f.Z)(HC,Me,hn),HC),uA=((0,f.Z)(Om={},mt,[oi,(KC={},(0,f.Z)(KC,tt,xn),(0,f.Z)(KC,nt,[(qC={},(0,f.Z)(qC,tt,di),(0,f.Z)(qC,nt,[(0,f.Z)({},It,"partitionResult"),Fn]),qC),"aws-cn"]),KC)]),(0,f.Z)(Om,hn,"Partition does not support FIPS"),(0,f.Z)(Om,Me,hn),Om),c9=((0,f.Z)(XC={},tt,xn),(0,f.Z)(XC,nt,[(WC={},(0,f.Z)(WC,tt,di),(0,f.Z)(WC,nt,[(0,f.Z)({},It,"partitionResult"),Fn]),WC),"aws-cn"]),XC),ts=((0,f.Z)(QC={},tt,cn),(0,f.Z)(QC,nt,[(0,f.Z)({},It,"Accelerate"),!0]),QC),F3=((0,f.Z)(Mm={},mt,[Wr,oi,qi,Xn,(JC={},(0,f.Z)(JC,tt,xn),(0,f.Z)(JC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),JC)]),(0,f.Z)(Mm,Bt,((0,f.Z)(Fm={},dn,"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(Fm,fn,(0,f.Z)({},$n,[(qd={},(0,f.Z)(qd,Ln,!0),(0,f.Z)(qd,Fn,"sigv4"),(0,f.Z)(qd,Un,Wn),(0,f.Z)(qd,Gn,"us-east-1"),qd)])),(0,f.Z)(Fm,pn,{}),Fm)),(0,f.Z)(Mm,Me,Bt),Mm),M3=((0,f.Z)(Nm={},dn,"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(Nm,fn,Eo),(0,f.Z)(Nm,pn,{}),Nm),N3=((0,f.Z)(Zm={},mt,[Ir,oi,qi,Xn,(YC={},(0,f.Z)(YC,tt,xn),(0,f.Z)(YC,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),YC)]),(0,f.Z)(Zm,Bt,((0,f.Z)(Bm={},dn,"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(Bm,fn,(0,f.Z)({},$n,[(Kd={},(0,f.Z)(Kd,Ln,!0),(0,f.Z)(Kd,Fn,"sigv4"),(0,f.Z)(Kd,Un,Wn),(0,f.Z)(Kd,Gn,"us-east-1"),Kd)])),(0,f.Z)(Bm,pn,{}),Bm)),(0,f.Z)(Zm,Me,Bt),Zm),B3=((0,f.Z)(jm={},dn,"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(jm,fn,Eo),(0,f.Z)(jm,pn,{}),jm),Z3=((0,f.Z)(Lm={},mt,[Wr,vr,ts,Xn,(ew={},(0,f.Z)(ew,tt,xn),(0,f.Z)(ew,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),ew)]),(0,f.Z)(Lm,Bt,((0,f.Z)($m={},dn,"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)($m,fn,(0,f.Z)({},$n,[(Wd={},(0,f.Z)(Wd,Ln,!0),(0,f.Z)(Wd,Fn,"sigv4"),(0,f.Z)(Wd,Un,Wn),(0,f.Z)(Wd,Gn,"us-east-1"),Wd)])),(0,f.Z)($m,pn,{}),$m)),(0,f.Z)(Lm,Me,Bt),Lm),j3=((0,f.Z)(Um={},dn,"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}"),(0,f.Z)(Um,fn,Eo),(0,f.Z)(Um,pn,{}),Um),$3=((0,f.Z)(Vm={},mt,[Wr,vr,qi,Xn,(tw={},(0,f.Z)(tw,tt,xn),(0,f.Z)(tw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),tw)]),(0,f.Z)(Vm,Bt,((0,f.Z)(zm={},dn,"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(zm,fn,(0,f.Z)({},$n,[(Xd={},(0,f.Z)(Xd,Ln,!0),(0,f.Z)(Xd,Fn,"sigv4"),(0,f.Z)(Xd,Un,Wn),(0,f.Z)(Xd,Gn,"us-east-1"),Xd)])),(0,f.Z)(zm,pn,{}),zm)),(0,f.Z)(Vm,Me,Bt),Vm),L3=((0,f.Z)(Gm={},dn,"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(Gm,fn,Eo),(0,f.Z)(Gm,pn,{}),Gm),U3=((0,f.Z)(qm={},mt,[Ir,vr,qi,mr,jr,(rw={},(0,f.Z)(rw,tt,cn),(0,f.Z)(rw,nt,[(nw={},(0,f.Z)(nw,tt,di),(0,f.Z)(nw,nt,[(0,f.Z)({},It,"url"),"isIp"]),nw),!0]),rw),(iw={},(0,f.Z)(iw,tt,xn),(0,f.Z)(iw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),iw)]),(0,f.Z)(qm,Bt,((0,f.Z)(Hm={},dn,"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}"),(0,f.Z)(Hm,fn,(0,f.Z)({},$n,[(Qd={},(0,f.Z)(Qd,Ln,!0),(0,f.Z)(Qd,Fn,"sigv4"),(0,f.Z)(Qd,Un,Wn),(0,f.Z)(Qd,Gn,"us-east-1"),Qd)])),(0,f.Z)(Hm,pn,{}),Hm)),(0,f.Z)(qm,Me,Bt),qm),z3=((0,f.Z)(aw={},tt,cn),(0,f.Z)(aw,nt,[(ow={},(0,f.Z)(ow,tt,di),(0,f.Z)(ow,nt,[(0,f.Z)({},It,"url"),"isIp"]),ow),!0]),aw),lA=(0,f.Z)({},It,"url"),V3=((0,f.Z)(Wm={},mt,[Ir,vr,qi,mr,jr,(uw={},(0,f.Z)(uw,tt,cn),(0,f.Z)(uw,nt,[(sw={},(0,f.Z)(sw,tt,di),(0,f.Z)(sw,nt,[lA,"isIp"]),sw),!1]),uw),(lw={},(0,f.Z)(lw,tt,xn),(0,f.Z)(lw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),lw)]),(0,f.Z)(Wm,Bt,((0,f.Z)(Km={},dn,"{url#scheme}://{Bucket}.{url#authority}{url#path}"),(0,f.Z)(Km,fn,(0,f.Z)({},$n,[(Jd={},(0,f.Z)(Jd,Ln,!0),(0,f.Z)(Jd,Fn,"sigv4"),(0,f.Z)(Jd,Un,Wn),(0,f.Z)(Jd,Gn,"us-east-1"),Jd)])),(0,f.Z)(Km,pn,{}),Km)),(0,f.Z)(Wm,Me,Bt),Wm),G3=((0,f.Z)(dw={},tt,cn),(0,f.Z)(dw,nt,[(cw={},(0,f.Z)(cw,tt,di),(0,f.Z)(cw,nt,[lA,"isIp"]),cw),!1]),dw),cA=((0,f.Z)(Xm={},dn,"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}"),(0,f.Z)(Xm,fn,Eo),(0,f.Z)(Xm,pn,{}),Xm),dA=((0,f.Z)(Qm={},dn,"{url#scheme}://{Bucket}.{url#authority}{url#path}"),(0,f.Z)(Qm,fn,Eo),(0,f.Z)(Qm,pn,{}),Qm),H3=((0,f.Z)(fw={},Bt,dA),(0,f.Z)(fw,Me,Bt),fw),q3=((0,f.Z)(Ym={},mt,[Ir,vr,ts,Xn,(pw={},(0,f.Z)(pw,tt,xn),(0,f.Z)(pw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),pw)]),(0,f.Z)(Ym,Bt,((0,f.Z)(Jm={},dn,"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}"),(0,f.Z)(Jm,fn,(0,f.Z)({},$n,[(Yd={},(0,f.Z)(Yd,Ln,!0),(0,f.Z)(Yd,Fn,"sigv4"),(0,f.Z)(Yd,Un,Wn),(0,f.Z)(Yd,Gn,"us-east-1"),Yd)])),(0,f.Z)(Jm,pn,{}),Jm)),(0,f.Z)(Ym,Me,Bt),Ym),fA=((0,f.Z)(eg={},dn,"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}"),(0,f.Z)(eg,fn,Eo),(0,f.Z)(eg,pn,{}),eg),K3=((0,f.Z)(ng={},mt,[Ir,vr,qi,Xn,(hw={},(0,f.Z)(hw,tt,xn),(0,f.Z)(hw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),hw)]),(0,f.Z)(ng,Bt,((0,f.Z)(tg={},dn,x3),(0,f.Z)(tg,fn,(0,f.Z)({},$n,[(ef={},(0,f.Z)(ef,Ln,!0),(0,f.Z)(ef,Fn,"sigv4"),(0,f.Z)(ef,Un,Wn),(0,f.Z)(ef,Gn,"us-east-1"),ef)])),(0,f.Z)(tg,pn,{}),tg)),(0,f.Z)(ng,Me,Bt),ng),W3=((0,f.Z)(rg={},dn,"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(rg,fn,Eo),(0,f.Z)(rg,pn,{}),rg),y2=((0,f.Z)(mw={},hn,"Invalid region: region was not a valid DNS name."),(0,f.Z)(mw,Me,hn),mw),oa=(0,f.Z)({},It,b3),X3=(0,f.Z)({},It,C3),pA=((0,f.Z)(gw={},tt,di),(0,f.Z)(gw,nt,[oa,"service"]),gw),hA=(0,f.Z)({},It,aA),Q3=((0,f.Z)(ig={},mt,[Wr]),(0,f.Z)(ig,hn,"S3 Object Lambda does not support Dual-stack"),(0,f.Z)(ig,Me,hn),ig),J3=((0,f.Z)(og={},mt,[ts]),(0,f.Z)(og,hn,"S3 Object Lambda does not support S3 Accelerate"),(0,f.Z)(og,Me,hn),og),Y3=((0,f.Z)(ag={},mt,[(vw={},(0,f.Z)(vw,tt,ba),(0,f.Z)(vw,nt,[(0,f.Z)({},It,"DisableAccessPoints")]),vw),(yw={},(0,f.Z)(yw,tt,cn),(0,f.Z)(yw,nt,[(0,f.Z)({},It,"DisableAccessPoints"),!0]),yw)]),(0,f.Z)(ag,hn,"Access points are not supported for this operation"),(0,f.Z)(ag,Me,hn),ag),mA=((0,f.Z)(sg={},mt,[(_w={},(0,f.Z)(_w,tt,ba),(0,f.Z)(_w,nt,[(0,f.Z)({},It,"UseArnRegion")]),_w),(xw={},(0,f.Z)(xw,tt,cn),(0,f.Z)(xw,nt,[(0,f.Z)({},It,"UseArnRegion"),!1]),xw),(ww={},(0,f.Z)(ww,tt,vi),(0,f.Z)(ww,nt,[(Cw={},(0,f.Z)(Cw,tt,xn),(0,f.Z)(Cw,nt,[(bw={},(0,f.Z)(bw,tt,di),(0,f.Z)(bw,nt,[oa,"region"]),bw),"{Region}"]),Cw)]),ww)]),(0,f.Z)(sg,hn,"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`"),(0,f.Z)(sg,Me,hn),sg),gA=((0,f.Z)(Sw={},tt,di),(0,f.Z)(Sw,nt,[(0,f.Z)({},It,"bucketPartition"),Fn]),Sw),eO=((0,f.Z)(Ew={},tt,di),(0,f.Z)(Ew,nt,[oa,"accountId"]),Ew),tO=((0,f.Z)(ug={},mt,[oi,(kw={},(0,f.Z)(kw,tt,xn),(0,f.Z)(kw,nt,[gA,"aws-cn"]),kw)]),(0,f.Z)(ug,hn,"Partition does not support FIPS"),(0,f.Z)(ug,Me,hn),ug),vA=(0,f.Z)({},$n,[(tf={},(0,f.Z)(tf,Ln,!0),(0,f.Z)(tf,Fn,"sigv4"),(0,f.Z)(tf,Un,oA),(0,f.Z)(tf,Gn,"{bucketArn#region}"),tf)]),nO=((0,f.Z)(Pw={},hn,"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`"),(0,f.Z)(Pw,Me,hn),Pw),yA=((0,f.Z)(Aw={},hn,"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`"),(0,f.Z)(Aw,Me,hn),Aw),_A=((0,f.Z)(Rw={},hn,"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)"),(0,f.Z)(Rw,Me,hn),Rw),xA=((0,f.Z)(Tw={},hn,"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`"),(0,f.Z)(Tw,Me,hn),Tw),rO=((0,f.Z)(Dw={},hn,"Could not load partition for ARN region `{bucketArn#region}`"),(0,f.Z)(Dw,Me,hn),Dw),iO=((0,f.Z)(Iw={},hn,"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`."),(0,f.Z)(Iw,Me,hn),Iw),oO=((0,f.Z)(Ow={},hn,"Invalid ARN: bucket ARN is missing a region"),(0,f.Z)(Ow,Me,hn),Ow),aO=((0,f.Z)(Fw={},hn,"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided"),(0,f.Z)(Fw,Me,hn),Fw),B_=(0,f.Z)({},$n,[(nf={},(0,f.Z)(nf,Ln,!0),(0,f.Z)(nf,Fn,"sigv4"),(0,f.Z)(nf,Un,Wn),(0,f.Z)(nf,Gn,"{bucketArn#region}"),nf)]),sO=(0,f.Z)({},$n,[(rf={},(0,f.Z)(rf,Ln,!0),(0,f.Z)(rf,Fn,"sigv4"),(0,f.Z)(rf,Un,rA),(0,f.Z)(rf,Gn,"{bucketArn#region}"),rf)]),uO=(0,f.Z)({},It,"UseObjectLambdaEndpoint"),bA=(0,f.Z)({},$n,[(af={},(0,f.Z)(af,Ln,!0),(0,f.Z)(af,Fn,"sigv4"),(0,f.Z)(af,Un,oA),(0,f.Z)(af,Gn,"{Region}"),af)]),lO=((0,f.Z)(cg={},mt,[oi,Wr,mr,jr,(Mw={},(0,f.Z)(Mw,tt,xn),(0,f.Z)(Mw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Mw)]),(0,f.Z)(cg,Bt,((0,f.Z)(lg={},dn,Bl),(0,f.Z)(lg,fn,(0,f.Z)({},$n,[(sf={},(0,f.Z)(sf,Ln,!0),(0,f.Z)(sf,Fn,"sigv4"),(0,f.Z)(sf,Un,Wn),(0,f.Z)(sf,Gn,"us-east-1"),sf)])),(0,f.Z)(lg,pn,{}),lg)),(0,f.Z)(cg,Me,Bt),cg),cO=((0,f.Z)(Nw={},Bt,((0,f.Z)(dg={},dn,Bl),(0,f.Z)(dg,fn,Eo),(0,f.Z)(dg,pn,{}),dg)),(0,f.Z)(Nw,Me,Bt),Nw),Z_=((0,f.Z)(fg={},dn,Bl),(0,f.Z)(fg,fn,Eo),(0,f.Z)(fg,pn,{}),fg),dO=((0,f.Z)(hg={},mt,[oi,Wr,Xn,(Bw={},(0,f.Z)(Bw,tt,xn),(0,f.Z)(Bw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Bw)]),(0,f.Z)(hg,Bt,((0,f.Z)(pg={},dn,"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(pg,fn,(0,f.Z)({},$n,[(uf={},(0,f.Z)(uf,Ln,!0),(0,f.Z)(uf,Fn,"sigv4"),(0,f.Z)(uf,Un,Wn),(0,f.Z)(uf,Gn,"us-east-1"),uf)])),(0,f.Z)(pg,pn,{}),pg)),(0,f.Z)(hg,Me,Bt),hg),fO=((0,f.Z)(mg={},dn,"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(mg,fn,Eo),(0,f.Z)(mg,pn,{}),mg),pO=((0,f.Z)(vg={},mt,[oi,Ir,mr,jr,(Zw={},(0,f.Z)(Zw,tt,xn),(0,f.Z)(Zw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Zw)]),(0,f.Z)(vg,Bt,((0,f.Z)(gg={},dn,Bl),(0,f.Z)(gg,fn,(0,f.Z)({},$n,[(lf={},(0,f.Z)(lf,Ln,!0),(0,f.Z)(lf,Fn,"sigv4"),(0,f.Z)(lf,Un,Wn),(0,f.Z)(lf,Gn,"us-east-1"),lf)])),(0,f.Z)(gg,pn,{}),gg)),(0,f.Z)(vg,Me,Bt),vg),hO=((0,f.Z)(_g={},mt,[oi,Ir,Xn,(jw={},(0,f.Z)(jw,tt,xn),(0,f.Z)(jw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),jw)]),(0,f.Z)(_g,Bt,((0,f.Z)(yg={},dn,"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(yg,fn,(0,f.Z)({},$n,[(cf={},(0,f.Z)(cf,Ln,!0),(0,f.Z)(cf,Fn,"sigv4"),(0,f.Z)(cf,Un,Wn),(0,f.Z)(cf,Gn,"us-east-1"),cf)])),(0,f.Z)(yg,pn,{}),yg)),(0,f.Z)(_g,Me,Bt),_g),mO=((0,f.Z)(xg={},dn,"https://s3-fips.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(xg,fn,Eo),(0,f.Z)(xg,pn,{}),xg),gO=((0,f.Z)(Cg={},mt,[vr,Wr,mr,jr,($w={},(0,f.Z)($w,tt,xn),(0,f.Z)($w,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),$w)]),(0,f.Z)(Cg,Bt,((0,f.Z)(bg={},dn,Bl),(0,f.Z)(bg,fn,(0,f.Z)({},$n,[(df={},(0,f.Z)(df,Ln,!0),(0,f.Z)(df,Fn,"sigv4"),(0,f.Z)(df,Un,Wn),(0,f.Z)(df,Gn,"us-east-1"),df)])),(0,f.Z)(bg,pn,{}),bg)),(0,f.Z)(Cg,Me,Bt),Cg),vO=((0,f.Z)(Sg={},mt,[vr,Wr,Xn,(Lw={},(0,f.Z)(Lw,tt,xn),(0,f.Z)(Lw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Lw)]),(0,f.Z)(Sg,Bt,((0,f.Z)(wg={},dn,"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}"),(0,f.Z)(wg,fn,(0,f.Z)({},$n,[(ff={},(0,f.Z)(ff,Ln,!0),(0,f.Z)(ff,Fn,"sigv4"),(0,f.Z)(ff,Un,Wn),(0,f.Z)(ff,Gn,"us-east-1"),ff)])),(0,f.Z)(wg,pn,{}),wg)),(0,f.Z)(Sg,Me,Bt),Sg),yO=((0,f.Z)(Eg={},dn,"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(Eg,fn,Eo),(0,f.Z)(Eg,pn,{}),Eg),_O=((0,f.Z)(Pg={},mt,[vr,Ir,mr,jr,(Uw={},(0,f.Z)(Uw,tt,xn),(0,f.Z)(Uw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),Uw)]),(0,f.Z)(Pg,Bt,((0,f.Z)(kg={},dn,Bl),(0,f.Z)(kg,fn,(0,f.Z)({},$n,[(pf={},(0,f.Z)(pf,Ln,!0),(0,f.Z)(pf,Fn,"sigv4"),(0,f.Z)(pf,Un,Wn),(0,f.Z)(pf,Gn,"us-east-1"),pf)])),(0,f.Z)(kg,pn,{}),kg)),(0,f.Z)(Pg,Me,Bt),Pg),xO=((0,f.Z)(Rg={},mt,[vr,Ir,Xn,(zw={},(0,f.Z)(zw,tt,xn),(0,f.Z)(zw,nt,[(0,f.Z)({},It,"Region"),"aws-global"]),zw)]),(0,f.Z)(Rg,Bt,((0,f.Z)(Ag={},dn,A3),(0,f.Z)(Ag,fn,(0,f.Z)({},$n,[(hf={},(0,f.Z)(hf,Ln,!0),(0,f.Z)(hf,Fn,"sigv4"),(0,f.Z)(hf,Un,Wn),(0,f.Z)(hf,Gn,"us-east-1"),hf)])),(0,f.Z)(Ag,pn,{}),Ag)),(0,f.Z)(Rg,Me,Bt),Rg),bO=((0,f.Z)(Tg={},dn,"https://s3.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(Tg,fn,Eo),(0,f.Z)(Tg,pn,{}),Tg),_2=[(0,f.Z)({},It,"Region")],d9=[Es],CO=[(Vw={},(0,f.Z)(Vw,tt,Nl),(0,f.Z)(Vw,nt,[(0,f.Z)({},It,nA),!1]),Vw)],wO=[(Gw={},(0,f.Z)(Gw,tt,xn),(0,f.Z)(Gw,nt,[(0,f.Z)({},It,m3),"beta"]),Gw)],f9=[(0,f.Z)({},It,"Endpoint")],j_=[mr,jr],SO=[R3],EO=[(Hw={},(0,f.Z)(Hw,tt,y3),(0,f.Z)(Hw,nt,[Es]),Hw)],p9=[Wr,mr],jl=[(Dg={},(0,f.Z)(Dg,tt,M_),(0,f.Z)(Dg,nt,_2),(0,f.Z)(Dg,to,"partitionResult"),Dg)],gf=[(qw={},(0,f.Z)(qw,tt,xn),(0,f.Z)(qw,nt,[(0,f.Z)({},It,"Region"),"us-east-1"]),qw)],kO=[(Kw={},(0,f.Z)(Kw,tt,Nl),(0,f.Z)(Kw,nt,[(0,f.Z)({},It,"Region"),!1]),Kw)],CA=[(Ww={},(0,f.Z)(Ww,tt,xn),(0,f.Z)(Ww,nt,[X3,w3]),Ww)],PO=[(Ig={},(0,f.Z)(Ig,tt,di),(0,f.Z)(Ig,nt,[oa,"resourceId[1]"]),(0,f.Z)(Ig,to,aA),Ig),(Qw={},(0,f.Z)(Qw,tt,vi),(0,f.Z)(Qw,nt,[(Xw={},(0,f.Z)(Xw,tt,xn),(0,f.Z)(Xw,nt,[hA,""]),Xw)]),Qw)],h9=[oa,"resourceId[1]"],AO=[Wr],wA=[ts],SA=[(eS={},(0,f.Z)(eS,tt,vi),(0,f.Z)(eS,nt,[(Yw={},(0,f.Z)(Yw,tt,xn),(0,f.Z)(Yw,nt,[(Jw={},(0,f.Z)(Jw,tt,di),(0,f.Z)(Jw,nt,[oa,"region"]),Jw),""]),Yw)]),eS)],RO=[(rS={},(0,f.Z)(rS,tt,vi),(0,f.Z)(rS,nt,[(nS={},(0,f.Z)(nS,tt,ba),(0,f.Z)(nS,nt,[(tS={},(0,f.Z)(tS,tt,di),(0,f.Z)(tS,nt,[oa,"resourceId[2]"]),tS)]),nS)]),rS)],m9=[oa,"resourceId[2]"],EA=[(Og={},(0,f.Z)(Og,tt,M_),(0,f.Z)(Og,nt,[(iS={},(0,f.Z)(iS,tt,di),(0,f.Z)(iS,nt,[oa,"region"]),iS)]),(0,f.Z)(Og,to,"bucketPartition"),Og)],TO=[(aS={},(0,f.Z)(aS,tt,xn),(0,f.Z)(aS,nt,[gA,(oS={},(0,f.Z)(oS,tt,di),(0,f.Z)(oS,nt,[(0,f.Z)({},It,"partitionResult"),Fn]),oS)]),aS)],kA=[(uS={},(0,f.Z)(uS,tt,Nl),(0,f.Z)(uS,nt,[(sS={},(0,f.Z)(sS,tt,di),(0,f.Z)(sS,nt,[oa,"region"]),sS),!0]),uS)],PA=[(lS={},(0,f.Z)(lS,tt,Nl),(0,f.Z)(lS,nt,[eO,!1]),lS)],DO=[(cS={},(0,f.Z)(cS,tt,Nl),(0,f.Z)(cS,nt,[hA,!1]),cS)],x2=[oi],IO=[(dS={},(0,f.Z)(dS,tt,Nl),(0,f.Z)(dS,nt,[(0,f.Z)({},It,"Region"),!0]),dS)],AA=[cO],v9=(0,f.Z)({version:"1.0",parameters:{Bucket:sA,Region:sA,UseFIPS:N_,UseDualStack:N_,Endpoint:sA,ForcePathStyle:g2,Accelerate:N_,UseGlobalEndpoint:N_,UseObjectLambdaEndpoint:g2,DisableAccessPoints:g2,DisableMultiRegionAccessPoints:N_,UseArnRegion:g2}},wt,[(h2={},(0,f.Z)(h2,Me,Et),(0,f.Z)(h2,wt,[(O_={},(0,f.Z)(O_,mt,[(fS={},(0,f.Z)(fS,tt,ba),(0,f.Z)(fS,nt,_2),fS)]),(0,f.Z)(O_,Me,Et),(0,f.Z)(O_,wt,[(p2={},(0,f.Z)(p2,Me,Et),(0,f.Z)(p2,wt,[(Xg={},(0,f.Z)(Xg,mt,[R3,(Fg={},(0,f.Z)(Fg,tt,F_),(0,f.Z)(Fg,nt,[Es,49,50,Ss]),(0,f.Z)(Fg,to,h3),Fg),(Mg={},(0,f.Z)(Mg,tt,F_),(0,f.Z)(Mg,nt,[Es,8,12,Ss]),(0,f.Z)(Mg,to,m3),Mg),(Ng={},(0,f.Z)(Ng,tt,F_),(0,f.Z)(Ng,nt,[Es,0,7,Ss]),(0,f.Z)(Ng,to,g3),Ng),(Bg={},(0,f.Z)(Bg,tt,F_),(0,f.Z)(Bg,nt,[Es,32,49,Ss]),(0,f.Z)(Bg,to,nA),Bg),(Zg={},(0,f.Z)(Zg,tt,M_),(0,f.Z)(Zg,nt,_2),(0,f.Z)(Zg,to,"regionPartition"),Zg),(pS={},(0,f.Z)(pS,tt,xn),(0,f.Z)(pS,nt,[(0,f.Z)({},It,g3),"--op-s3"]),pS)]),(0,f.Z)(Xg,Me,Et),(0,f.Z)(Xg,wt,[(Wg={},(0,f.Z)(Wg,mt,CO),(0,f.Z)(Wg,Me,Et),(0,f.Z)(Wg,wt,[(gS={},(0,f.Z)(gS,Me,Et),(0,f.Z)(gS,wt,[(zg={},(0,f.Z)(zg,mt,[(hS={},(0,f.Z)(hS,tt,xn),(0,f.Z)(hS,nt,[T3,"e"]),hS)]),(0,f.Z)(zg,Me,Et),(0,f.Z)(zg,wt,[(Lg={},(0,f.Z)(Lg,mt,wO),(0,f.Z)(Lg,Me,Et),(0,f.Z)(Lg,wt,[D3,($g={},(0,f.Z)($g,mt,j_),(0,f.Z)($g,"endpoint",(jg={},(0,f.Z)(jg,dn,"https://{Bucket}.ec2.{url#authority}"),(0,f.Z)(jg,fn,v2),(0,f.Z)(jg,pn,$i),jg)),(0,f.Z)($g,Me,Bt),$g)]),Lg),(0,f.Z)({endpoint:(Ug={},(0,f.Z)(Ug,dn,"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),(0,f.Z)(Ug,fn,v2),(0,f.Z)(Ug,pn,$i),Ug)},Me,Bt)]),zg),(Kg={},(0,f.Z)(Kg,mt,[(mS={},(0,f.Z)(mS,tt,xn),(0,f.Z)(mS,nt,[T3,"o"]),mS)]),(0,f.Z)(Kg,Me,Et),(0,f.Z)(Kg,wt,[(Hg={},(0,f.Z)(Hg,mt,wO),(0,f.Z)(Hg,Me,Et),(0,f.Z)(Hg,wt,[D3,(Gg={},(0,f.Z)(Gg,mt,j_),(0,f.Z)(Gg,"endpoint",(Vg={},(0,f.Z)(Vg,dn,"https://{Bucket}.op-{outpostId}.{url#authority}"),(0,f.Z)(Vg,fn,v2),(0,f.Z)(Vg,pn,$i),Vg)),(0,f.Z)(Gg,Me,Bt),Gg)]),Hg),(0,f.Z)({endpoint:(qg={},(0,f.Z)(qg,dn,"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}"),(0,f.Z)(qg,fn,v2),(0,f.Z)(qg,pn,$i),qg)},Me,Bt)]),Kg),(0,f.Z)({error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"'},Me,hn)]),gS)]),Wg),(0,f.Z)({error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`."},Me,hn)]),Xg),(n_={},(0,f.Z)(n_,mt,SO),(0,f.Z)(n_,Me,Et),(0,f.Z)(n_,wt,[(Qg={},(0,f.Z)(Qg,mt,[mr,(_S={},(0,f.Z)(_S,tt,vi),(0,f.Z)(_S,nt,[(yS={},(0,f.Z)(yS,tt,ba),(0,f.Z)(yS,nt,[(vS={},(0,f.Z)(vS,tt,v3),(0,f.Z)(vS,nt,f9),vS)]),yS)]),_S)]),(0,f.Z)(Qg,"error","Custom endpoint `{Endpoint}` was not a valid URI"),(0,f.Z)(Qg,Me,hn),Qg),(e2={},(0,f.Z)(e2,Me,Et),(0,f.Z)(e2,wt,[(Yg={},(0,f.Z)(Yg,mt,[(xS={},(0,f.Z)(xS,tt,ba),(0,f.Z)(xS,nt,[I3]),xS),(bS={},(0,f.Z)(bS,tt,cn),(0,f.Z)(bS,nt,[I3,Ss]),bS)]),(0,f.Z)(Yg,Me,Et),(0,f.Z)(Yg,wt,[(CS={},(0,f.Z)(CS,Me,Et),(0,f.Z)(CS,wt,[(Jg={},(0,f.Z)(Jg,mt,EO),(0,f.Z)(Jg,"error","Path-style addressing cannot be used with ARN buckets"),(0,f.Z)(Jg,Me,hn),Jg),O3]),CS)]),Yg),(Av={},(0,f.Z)(Av,mt,[(wS={},(0,f.Z)(wS,tt,_3),(0,f.Z)(wS,nt,[Es,!1]),wS)]),(0,f.Z)(Av,Me,Et),(0,f.Z)(Av,wt,[(Pv={},(0,f.Z)(Pv,mt,jl),(0,f.Z)(Pv,Me,Et),(0,f.Z)(Pv,wt,[(DS={},(0,f.Z)(DS,Me,Et),(0,f.Z)(DS,wt,[(kv={},(0,f.Z)(kv,mt,kO),(0,f.Z)(kv,Me,Et),(0,f.Z)(kv,wt,[(TS={},(0,f.Z)(TS,Me,Et),(0,f.Z)(TS,wt,[uA,(RS={},(0,f.Z)(RS,Me,Et),(0,f.Z)(RS,wt,[(ev={},(0,f.Z)(ev,mt,[ts,oi]),(0,f.Z)(ev,"error","Accelerate cannot be used with FIPS"),(0,f.Z)(ev,Me,hn),ev),(AS={},(0,f.Z)(AS,Me,Et),(0,f.Z)(AS,wt,[(tv={},(0,f.Z)(tv,mt,[ts,c9]),(0,f.Z)(tv,"error","S3 Accelerate cannot be used in this region"),(0,f.Z)(tv,Me,hn),tv),(PS={},(0,f.Z)(PS,Me,Et),(0,f.Z)(PS,wt,[(nv={},(0,f.Z)(nv,mt,[mr,Wr]),(0,f.Z)(nv,"error",iA),(0,f.Z)(nv,Me,hn),nv),(kS={},(0,f.Z)(kS,Me,Et),(0,f.Z)(kS,wt,[(rv={},(0,f.Z)(rv,mt,[mr,oi]),(0,f.Z)(rv,"error",iA),(0,f.Z)(rv,Me,hn),rv),(ES={},(0,f.Z)(ES,Me,Et),(0,f.Z)(ES,wt,[(iv={},(0,f.Z)(iv,mt,[mr,ts]),(0,f.Z)(iv,"error",iA),(0,f.Z)(iv,Me,hn),iv),(SS={},(0,f.Z)(SS,Me,Et),(0,f.Z)(SS,wt,[F3,F3,(ov={},(0,f.Z)(ov,mt,[Wr,oi,qi,Xn,kr,So]),(0,f.Z)(ov,Me,Et),(0,f.Z)(ov,wt,[(0,f.Z)({endpoint:M3},Me,Bt)]),ov),(av={},(0,f.Z)(av,mt,[Wr,oi,qi,Xn,kr,ko]),(0,f.Z)(av,"endpoint",M3),(0,f.Z)(av,Me,Bt),av),N3,N3,(sv={},(0,f.Z)(sv,mt,[Ir,oi,qi,Xn,kr,So]),(0,f.Z)(sv,Me,Et),(0,f.Z)(sv,wt,[(0,f.Z)({endpoint:B3},Me,Bt)]),sv),(uv={},(0,f.Z)(uv,mt,[Ir,oi,qi,Xn,kr,ko]),(0,f.Z)(uv,"endpoint",B3),(0,f.Z)(uv,Me,Bt),uv),Z3,Z3,(lv={},(0,f.Z)(lv,mt,[Wr,vr,ts,Xn,kr,So]),(0,f.Z)(lv,Me,Et),(0,f.Z)(lv,wt,[(0,f.Z)({endpoint:j3},Me,Bt)]),lv),(cv={},(0,f.Z)(cv,mt,[Wr,vr,ts,Xn,kr,ko]),(0,f.Z)(cv,"endpoint",j3),(0,f.Z)(cv,Me,Bt),cv),$3,$3,(dv={},(0,f.Z)(dv,mt,[Wr,vr,qi,Xn,kr,So]),(0,f.Z)(dv,Me,Et),(0,f.Z)(dv,wt,[(0,f.Z)({endpoint:L3},Me,Bt)]),dv),(fv={},(0,f.Z)(fv,mt,[Wr,vr,qi,Xn,kr,ko]),(0,f.Z)(fv,"endpoint",L3),(0,f.Z)(fv,Me,Bt),fv),U3,V3,U3,V3,(hv={},(0,f.Z)(hv,mt,[Ir,vr,qi,mr,jr,z3,kr,So]),(0,f.Z)(hv,Me,Et),(0,f.Z)(hv,wt,[(pv={},(0,f.Z)(pv,mt,gf),(0,f.Z)(pv,"endpoint",cA),(0,f.Z)(pv,Me,Bt),pv),(0,f.Z)({endpoint:cA},Me,Bt)]),hv),(gv={},(0,f.Z)(gv,mt,[Ir,vr,qi,mr,jr,G3,kr,So]),(0,f.Z)(gv,Me,Et),(0,f.Z)(gv,wt,[(mv={},(0,f.Z)(mv,mt,gf),(0,f.Z)(mv,"endpoint",dA),(0,f.Z)(mv,Me,Bt),mv),H3]),gv),(vv={},(0,f.Z)(vv,mt,[Ir,vr,qi,mr,jr,z3,kr,ko]),(0,f.Z)(vv,"endpoint",cA),(0,f.Z)(vv,Me,Bt),vv),(yv={},(0,f.Z)(yv,mt,[Ir,vr,qi,mr,jr,G3,kr,ko]),(0,f.Z)(yv,"endpoint",dA),(0,f.Z)(yv,Me,Bt),yv),q3,q3,(xv={},(0,f.Z)(xv,mt,[Ir,vr,ts,Xn,kr,So]),(0,f.Z)(xv,Me,Et),(0,f.Z)(xv,wt,[(_v={},(0,f.Z)(_v,mt,gf),(0,f.Z)(_v,"endpoint",fA),(0,f.Z)(_v,Me,Bt),_v),(0,f.Z)({endpoint:fA},Me,Bt)]),xv),(bv={},(0,f.Z)(bv,mt,[Ir,vr,ts,Xn,kr,ko]),(0,f.Z)(bv,"endpoint",fA),(0,f.Z)(bv,Me,Bt),bv),K3,K3,(Sv={},(0,f.Z)(Sv,mt,[Ir,vr,qi,Xn,kr,So]),(0,f.Z)(Sv,Me,Et),(0,f.Z)(Sv,wt,[(wv={},(0,f.Z)(wv,mt,gf),(0,f.Z)(wv,"endpoint",(Cv={},(0,f.Z)(Cv,dn,x3),(0,f.Z)(Cv,fn,Eo),(0,f.Z)(Cv,pn,$i),Cv)),(0,f.Z)(wv,Me,Bt),wv),(0,f.Z)({endpoint:W3},Me,Bt)]),Sv),(Ev={},(0,f.Z)(Ev,mt,[Ir,vr,qi,Xn,kr,ko]),(0,f.Z)(Ev,"endpoint",W3),(0,f.Z)(Ev,Me,Bt),Ev)]),SS)]),ES)]),kS)]),PS)]),AS)]),RS)]),TS)]),kv),y2]),DS)]),Pv),Zl]),Av),(Dv={},(0,f.Z)(Dv,mt,[mr,jr,(OS={},(0,f.Z)(OS,tt,xn),(0,f.Z)(OS,nt,[(IS={},(0,f.Z)(IS,tt,di),(0,f.Z)(IS,nt,[lA,"scheme"]),IS),"http"]),OS),(FS={},(0,f.Z)(FS,tt,_3),(0,f.Z)(FS,nt,[Es,Ss]),FS),vr,Ir,qi]),(0,f.Z)(Dv,Me,Et),(0,f.Z)(Dv,wt,[(Tv={},(0,f.Z)(Tv,mt,jl),(0,f.Z)(Tv,Me,Et),(0,f.Z)(Tv,wt,[(MS={},(0,f.Z)(MS,Me,Et),(0,f.Z)(MS,wt,[(Rv={},(0,f.Z)(Rv,mt,kO),(0,f.Z)(Rv,Me,Et),(0,f.Z)(Rv,wt,[H3]),Rv),y2]),MS)]),Tv),Zl]),Dv),(Yy={},(0,f.Z)(Yy,mt,[(Iv={},(0,f.Z)(Iv,tt,y3),(0,f.Z)(Iv,nt,d9),(0,f.Z)(Iv,to,b3),Iv)]),(0,f.Z)(Yy,Me,Et),(0,f.Z)(Yy,wt,[(Jy={},(0,f.Z)(Jy,mt,[(Ov={},(0,f.Z)(Ov,tt,di),(0,f.Z)(Ov,nt,[oa,"resourceId[0]"]),(0,f.Z)(Ov,to,C3),Ov),(BS={},(0,f.Z)(BS,tt,vi),(0,f.Z)(BS,nt,[(NS={},(0,f.Z)(NS,tt,xn),(0,f.Z)(NS,nt,[X3,""]),NS)]),BS)]),(0,f.Z)(Jy,Me,Et),(0,f.Z)(Jy,wt,[(XE={},(0,f.Z)(XE,Me,Et),(0,f.Z)(XE,wt,[(Xv={},(0,f.Z)(Xv,mt,[(ZS={},(0,f.Z)(ZS,tt,xn),(0,f.Z)(ZS,nt,[pA,oA]),ZS)]),(0,f.Z)(Xv,Me,Et),(0,f.Z)(Xv,wt,[(Wv={},(0,f.Z)(Wv,mt,CA),(0,f.Z)(Wv,Me,Et),(0,f.Z)(Wv,wt,[(tE={},(0,f.Z)(tE,Me,Et),(0,f.Z)(tE,wt,[(Kv={},(0,f.Z)(Kv,mt,PO),(0,f.Z)(Kv,Me,Et),(0,f.Z)(Kv,wt,[(eE={},(0,f.Z)(eE,Me,Et),(0,f.Z)(eE,wt,[Q3,(YS={},(0,f.Z)(YS,Me,Et),(0,f.Z)(YS,wt,[J3,(JS={},(0,f.Z)(JS,Me,Et),(0,f.Z)(JS,wt,[(qv={},(0,f.Z)(qv,mt,SA),(0,f.Z)(qv,Me,Et),(0,f.Z)(qv,wt,[(QS={},(0,f.Z)(QS,Me,Et),(0,f.Z)(QS,wt,[Y3,(XS={},(0,f.Z)(XS,Me,Et),(0,f.Z)(XS,wt,[(Hv={},(0,f.Z)(Hv,mt,RO),(0,f.Z)(Hv,Me,Et),(0,f.Z)(Hv,wt,[(WS={},(0,f.Z)(WS,Me,Et),(0,f.Z)(WS,wt,[mA,(KS={},(0,f.Z)(KS,Me,Et),(0,f.Z)(KS,wt,[(Gv={},(0,f.Z)(Gv,mt,EA),(0,f.Z)(Gv,Me,Et),(0,f.Z)(Gv,wt,[(qS={},(0,f.Z)(qS,Me,Et),(0,f.Z)(qS,wt,[(Vv={},(0,f.Z)(Vv,mt,jl),(0,f.Z)(Vv,Me,Et),(0,f.Z)(Vv,wt,[(HS={},(0,f.Z)(HS,Me,Et),(0,f.Z)(HS,wt,[(zv={},(0,f.Z)(zv,mt,TO),(0,f.Z)(zv,Me,Et),(0,f.Z)(zv,wt,[(GS={},(0,f.Z)(GS,Me,Et),(0,f.Z)(GS,wt,[(Uv={},(0,f.Z)(Uv,mt,kA),(0,f.Z)(Uv,Me,Et),(0,f.Z)(Uv,wt,[(VS={},(0,f.Z)(VS,Me,Et),(0,f.Z)(VS,wt,[(Fv={},(0,f.Z)(Fv,mt,[(jS={},(0,f.Z)(jS,tt,xn),(0,f.Z)(jS,nt,[eO,""]),jS)]),(0,f.Z)(Fv,"error","Invalid ARN: Missing account id"),(0,f.Z)(Fv,Me,hn),Fv),(zS={},(0,f.Z)(zS,Me,Et),(0,f.Z)(zS,wt,[(Lv={},(0,f.Z)(Lv,mt,PA),(0,f.Z)(Lv,Me,Et),(0,f.Z)(Lv,wt,[(US={},(0,f.Z)(US,Me,Et),(0,f.Z)(US,wt,[($v={},(0,f.Z)($v,mt,DO),(0,f.Z)($v,Me,Et),(0,f.Z)($v,wt,[(LS={},(0,f.Z)(LS,Me,Et),(0,f.Z)(LS,wt,[tO,($S={},(0,f.Z)($S,Me,Et),(0,f.Z)($S,wt,[(Nv={},(0,f.Z)(Nv,mt,j_),(0,f.Z)(Nv,"endpoint",(Mv={},(0,f.Z)(Mv,dn,S3),(0,f.Z)(Mv,fn,vA),(0,f.Z)(Mv,pn,$i),Mv)),(0,f.Z)(Nv,Me,Bt),Nv),(Zv={},(0,f.Z)(Zv,mt,x2),(0,f.Z)(Zv,"endpoint",(Bv={},(0,f.Z)(Bv,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(Bv,fn,vA),(0,f.Z)(Bv,pn,$i),Bv)),(0,f.Z)(Zv,Me,Bt),Zv),(0,f.Z)({endpoint:(jv={},(0,f.Z)(jv,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(jv,fn,vA),(0,f.Z)(jv,pn,$i),jv)},Me,Bt)]),$S)]),LS)]),$v),nO]),US)]),Lv),yA]),zS)]),VS)]),Uv),_A]),GS)]),zv),xA]),HS)]),Vv),Zl]),qS)]),Gv),rO]),KS)]),WS)]),Hv),iO]),XS)]),QS)]),qv),oO]),JS)]),YS)]),eE)]),Kv),aO]),tE)]),Wv),(0,f.Z)({error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`"},Me,hn)]),Xv),(Ty={},(0,f.Z)(Ty,mt,CA),(0,f.Z)(Ty,Me,Et),(0,f.Z)(Ty,wt,[(Ry={},(0,f.Z)(Ry,mt,PO),(0,f.Z)(Ry,Me,Et),(0,f.Z)(Ry,wt,[(TE={},(0,f.Z)(TE,Me,Et),(0,f.Z)(TE,wt,[(_y={},(0,f.Z)(_y,mt,SA),(0,f.Z)(_y,Me,Et),(0,f.Z)(_y,wt,[(yy={},(0,f.Z)(yy,mt,CA),(0,f.Z)(yy,Me,Et),(0,f.Z)(yy,wt,[(vy={},(0,f.Z)(vy,mt,SA),(0,f.Z)(vy,Me,Et),(0,f.Z)(vy,wt,[(vE={},(0,f.Z)(vE,Me,Et),(0,f.Z)(vE,wt,[Y3,(gE={},(0,f.Z)(gE,Me,Et),(0,f.Z)(gE,wt,[(gy={},(0,f.Z)(gy,mt,RO),(0,f.Z)(gy,Me,Et),(0,f.Z)(gy,wt,[(mE={},(0,f.Z)(mE,Me,Et),(0,f.Z)(mE,wt,[mA,(hE={},(0,f.Z)(hE,Me,Et),(0,f.Z)(hE,wt,[(my={},(0,f.Z)(my,mt,EA),(0,f.Z)(my,Me,Et),(0,f.Z)(my,wt,[(pE={},(0,f.Z)(pE,Me,Et),(0,f.Z)(pE,wt,[(hy={},(0,f.Z)(hy,mt,jl),(0,f.Z)(hy,Me,Et),(0,f.Z)(hy,wt,[(fE={},(0,f.Z)(fE,Me,Et),(0,f.Z)(fE,wt,[(py={},(0,f.Z)(py,mt,[(nE={},(0,f.Z)(nE,tt,xn),(0,f.Z)(nE,nt,[gA,"{partitionResult#name}"]),nE)]),(0,f.Z)(py,Me,Et),(0,f.Z)(py,wt,[(dE={},(0,f.Z)(dE,Me,Et),(0,f.Z)(dE,wt,[(fy={},(0,f.Z)(fy,mt,kA),(0,f.Z)(fy,Me,Et),(0,f.Z)(fy,wt,[(cE={},(0,f.Z)(cE,Me,Et),(0,f.Z)(cE,wt,[(dy={},(0,f.Z)(dy,mt,[(rE={},(0,f.Z)(rE,tt,xn),(0,f.Z)(rE,nt,[pA,Wn]),rE)]),(0,f.Z)(dy,Me,Et),(0,f.Z)(dy,wt,[(lE={},(0,f.Z)(lE,Me,Et),(0,f.Z)(lE,wt,[(cy={},(0,f.Z)(cy,mt,PA),(0,f.Z)(cy,Me,Et),(0,f.Z)(cy,wt,[(uE={},(0,f.Z)(uE,Me,Et),(0,f.Z)(uE,wt,[(ly={},(0,f.Z)(ly,mt,DO),(0,f.Z)(ly,Me,Et),(0,f.Z)(ly,wt,[(sE={},(0,f.Z)(sE,Me,Et),(0,f.Z)(sE,wt,[(Qv={},(0,f.Z)(Qv,mt,wA),(0,f.Z)(Qv,"error","Access Points do not support S3 Accelerate"),(0,f.Z)(Qv,Me,hn),Qv),(aE={},(0,f.Z)(aE,Me,Et),(0,f.Z)(aE,wt,[tO,(oE={},(0,f.Z)(oE,Me,Et),(0,f.Z)(oE,wt,[(Jv={},(0,f.Z)(Jv,mt,p9),(0,f.Z)(Jv,"error","DualStack cannot be combined with a Host override (PrivateLink)"),(0,f.Z)(Jv,Me,hn),Jv),(iE={},(0,f.Z)(iE,Me,Et),(0,f.Z)(iE,wt,[(ey={},(0,f.Z)(ey,mt,[oi,Wr]),(0,f.Z)(ey,"endpoint",(Yv={},(0,f.Z)(Yv,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(Yv,fn,B_),(0,f.Z)(Yv,pn,$i),Yv)),(0,f.Z)(ey,Me,Bt),ey),(ny={},(0,f.Z)(ny,mt,[oi,Ir]),(0,f.Z)(ny,"endpoint",(ty={},(0,f.Z)(ty,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(ty,fn,B_),(0,f.Z)(ty,pn,$i),ty)),(0,f.Z)(ny,Me,Bt),ny),(iy={},(0,f.Z)(iy,mt,[vr,Wr]),(0,f.Z)(iy,"endpoint",(ry={},(0,f.Z)(ry,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(ry,fn,B_),(0,f.Z)(ry,pn,$i),ry)),(0,f.Z)(iy,Me,Bt),iy),(ay={},(0,f.Z)(ay,mt,[vr,Ir,mr,jr]),(0,f.Z)(ay,"endpoint",(oy={},(0,f.Z)(oy,dn,S3),(0,f.Z)(oy,fn,B_),(0,f.Z)(oy,pn,$i),oy)),(0,f.Z)(ay,Me,Bt),ay),(uy={},(0,f.Z)(uy,mt,[vr,Ir]),(0,f.Z)(uy,"endpoint",(sy={},(0,f.Z)(sy,dn,"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)(sy,fn,B_),(0,f.Z)(sy,pn,$i),sy)),(0,f.Z)(uy,Me,Bt),uy)]),iE)]),oE)]),aE)]),sE)]),ly),nO]),uE)]),cy),yA]),lE)]),dy),(0,f.Z)({error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}"},Me,hn)]),cE)]),fy),_A]),dE)]),py),xA]),fE)]),hy),Zl]),pE)]),my),rO]),hE)]),mE)]),gy),iO]),gE)]),vE)]),vy),oO]),yy)]),_y),(RE={},(0,f.Z)(RE,Me,Et),(0,f.Z)(RE,wt,[(Ay={},(0,f.Z)(Ay,mt,[(yE={},(0,f.Z)(yE,tt,Nl),(0,f.Z)(yE,nt,[hA,Ss]),yE)]),(0,f.Z)(Ay,Me,Et),(0,f.Z)(Ay,wt,[(AE={},(0,f.Z)(AE,Me,Et),(0,f.Z)(AE,wt,[(xy={},(0,f.Z)(xy,mt,AO),(0,f.Z)(xy,"error","S3 MRAP does not support dual-stack"),(0,f.Z)(xy,Me,hn),xy),(PE={},(0,f.Z)(PE,Me,Et),(0,f.Z)(PE,wt,[(by={},(0,f.Z)(by,mt,x2),(0,f.Z)(by,"error","S3 MRAP does not support FIPS"),(0,f.Z)(by,Me,hn),by),(kE={},(0,f.Z)(kE,Me,Et),(0,f.Z)(kE,wt,[(Cy={},(0,f.Z)(Cy,mt,wA),(0,f.Z)(Cy,"error","S3 MRAP does not support S3 Accelerate"),(0,f.Z)(Cy,Me,hn),Cy),(EE={},(0,f.Z)(EE,Me,Et),(0,f.Z)(EE,wt,[(wy={},(0,f.Z)(wy,mt,[(_E={},(0,f.Z)(_E,tt,cn),(0,f.Z)(_E,nt,[(0,f.Z)({},It,"DisableMultiRegionAccessPoints"),Ss]),_E)]),(0,f.Z)(wy,"error","Invalid configuration: Multi-Region Access Point ARNs are disabled."),(0,f.Z)(wy,Me,hn),wy),(SE={},(0,f.Z)(SE,Me,Et),(0,f.Z)(SE,wt,[(Py={},(0,f.Z)(Py,mt,[(Sy={},(0,f.Z)(Sy,tt,M_),(0,f.Z)(Sy,nt,_2),(0,f.Z)(Sy,to,E3),Sy)]),(0,f.Z)(Py,Me,Et),(0,f.Z)(Py,wt,[(wE={},(0,f.Z)(wE,Me,Et),(0,f.Z)(wE,wt,[(ky={},(0,f.Z)(ky,mt,[(CE={},(0,f.Z)(CE,tt,xn),(0,f.Z)(CE,nt,[(xE={},(0,f.Z)(xE,tt,di),(0,f.Z)(xE,nt,[(0,f.Z)({},It,E3),Fn]),xE),(bE={},(0,f.Z)(bE,tt,di),(0,f.Z)(bE,nt,[oa,"partition"]),bE)]),CE)]),(0,f.Z)(ky,Me,Et),(0,f.Z)(ky,wt,[(0,f.Z)({endpoint:(Ey={},(0,f.Z)(Ey,dn,"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}"),(0,f.Z)(Ey,fn,(0,f.Z)({},$n,[(mf={},(0,f.Z)(mf,Ln,Ss),(0,f.Z)(mf,"name","sigv4a"),(0,f.Z)(mf,Un,Wn),(0,f.Z)(mf,"signingRegionSet",["*"]),mf)])),(0,f.Z)(Ey,pn,$i),Ey)},Me,Bt)]),ky),(0,f.Z)({error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`"},Me,hn)]),wE)]),Py),(0,f.Z)({error:"{Region} was not a valid region"},Me,hn)]),SE)]),EE)]),kE)]),PE)]),AE)]),Ay),(0,f.Z)({error:"Invalid Access Point Name"},Me,hn)]),RE)]),TE)]),Ry),aO]),Ty),(Qy={},(0,f.Z)(Qy,mt,[(DE={},(0,f.Z)(DE,tt,xn),(0,f.Z)(DE,nt,[pA,rA]),DE)]),(0,f.Z)(Qy,Me,Et),(0,f.Z)(Qy,wt,[(Dy={},(0,f.Z)(Dy,mt,AO),(0,f.Z)(Dy,"error","S3 Outposts does not support Dual-stack"),(0,f.Z)(Dy,Me,hn),Dy),(WE={},(0,f.Z)(WE,Me,Et),(0,f.Z)(WE,wt,[(Iy={},(0,f.Z)(Iy,mt,x2),(0,f.Z)(Iy,"error","S3 Outposts does not support FIPS"),(0,f.Z)(Iy,Me,hn),Iy),(KE={},(0,f.Z)(KE,Me,Et),(0,f.Z)(KE,wt,[(Oy={},(0,f.Z)(Oy,mt,wA),(0,f.Z)(Oy,"error","S3 Outposts does not support S3 Accelerate"),(0,f.Z)(Oy,Me,hn),Oy),(qE={},(0,f.Z)(qE,Me,Et),(0,f.Z)(qE,wt,[(Fy={},(0,f.Z)(Fy,mt,[(OE={},(0,f.Z)(OE,tt,ba),(0,f.Z)(OE,nt,[(IE={},(0,f.Z)(IE,tt,di),(0,f.Z)(IE,nt,[oa,"resourceId[4]"]),IE)]),OE)]),(0,f.Z)(Fy,"error","Invalid Arn: Outpost Access Point ARN contains sub resources"),(0,f.Z)(Fy,Me,hn),Fy),(HE={},(0,f.Z)(HE,Me,Et),(0,f.Z)(HE,wt,[(Xy={},(0,f.Z)(Xy,mt,[(My={},(0,f.Z)(My,tt,di),(0,f.Z)(My,nt,h9),(0,f.Z)(My,to,nA),My)]),(0,f.Z)(Xy,Me,Et),(0,f.Z)(Xy,wt,[(GE={},(0,f.Z)(GE,Me,Et),(0,f.Z)(GE,wt,[(Wy={},(0,f.Z)(Wy,mt,CO),(0,f.Z)(Wy,Me,Et),(0,f.Z)(Wy,wt,[(VE={},(0,f.Z)(VE,Me,Et),(0,f.Z)(VE,wt,[mA,(zE={},(0,f.Z)(zE,Me,Et),(0,f.Z)(zE,wt,[(Ky={},(0,f.Z)(Ky,mt,EA),(0,f.Z)(Ky,Me,Et),(0,f.Z)(Ky,wt,[(UE={},(0,f.Z)(UE,Me,Et),(0,f.Z)(UE,wt,[(qy={},(0,f.Z)(qy,mt,jl),(0,f.Z)(qy,Me,Et),(0,f.Z)(qy,wt,[(LE={},(0,f.Z)(LE,Me,Et),(0,f.Z)(LE,wt,[(Hy={},(0,f.Z)(Hy,mt,TO),(0,f.Z)(Hy,Me,Et),(0,f.Z)(Hy,wt,[($E={},(0,f.Z)($E,Me,Et),(0,f.Z)($E,wt,[(Gy={},(0,f.Z)(Gy,mt,kA),(0,f.Z)(Gy,Me,Et),(0,f.Z)(Gy,wt,[(jE={},(0,f.Z)(jE,Me,Et),(0,f.Z)(jE,wt,[(Vy={},(0,f.Z)(Vy,mt,PA),(0,f.Z)(Vy,Me,Et),(0,f.Z)(Vy,wt,[(ZE={},(0,f.Z)(ZE,Me,Et),(0,f.Z)(ZE,wt,[(zy={},(0,f.Z)(zy,mt,[(Ny={},(0,f.Z)(Ny,tt,di),(0,f.Z)(Ny,nt,m9),(0,f.Z)(Ny,to,k3),Ny)]),(0,f.Z)(zy,Me,Et),(0,f.Z)(zy,wt,[(BE={},(0,f.Z)(BE,Me,Et),(0,f.Z)(BE,wt,[(Uy={},(0,f.Z)(Uy,mt,[(By={},(0,f.Z)(By,tt,di),(0,f.Z)(By,nt,[oa,"resourceId[3]"]),(0,f.Z)(By,to,aA),By)]),(0,f.Z)(Uy,Me,Et),(0,f.Z)(Uy,wt,[(NE={},(0,f.Z)(NE,Me,Et),(0,f.Z)(NE,wt,[(Ly={},(0,f.Z)(Ly,mt,[(FE={},(0,f.Z)(FE,tt,xn),(0,f.Z)(FE,nt,[(0,f.Z)({},It,k3),w3]),FE)]),(0,f.Z)(Ly,Me,Et),(0,f.Z)(Ly,wt,[(ME={},(0,f.Z)(ME,Me,Et),(0,f.Z)(ME,wt,[(jy={},(0,f.Z)(jy,mt,j_),(0,f.Z)(jy,"endpoint",(Zy={},(0,f.Z)(Zy,dn,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}"),(0,f.Z)(Zy,fn,sO),(0,f.Z)(Zy,pn,$i),Zy)),(0,f.Z)(jy,Me,Bt),jy),(0,f.Z)({endpoint:($y={},(0,f.Z)($y,dn,"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}"),(0,f.Z)($y,fn,sO),(0,f.Z)($y,pn,$i),$y)},Me,Bt)]),ME)]),Ly),(0,f.Z)({error:"Expected an outpost type `accesspoint`, found {outpostType}"},Me,hn)]),NE)]),Uy),(0,f.Z)({error:"Invalid ARN: expected an access point name"},Me,hn)]),BE)]),zy),(0,f.Z)({error:"Invalid ARN: Expected a 4-component resource"},Me,hn)]),ZE)]),Vy),yA]),jE)]),Gy),_A]),$E)]),Hy),xA]),LE)]),qy),Zl]),UE)]),Ky),(0,f.Z)({error:"Could not load partition for ARN region {bucketArn#region}"},Me,hn)]),zE)]),VE)]),Wy),(0,f.Z)({error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`"},Me,hn)]),GE)]),Xy),(0,f.Z)({error:"Invalid ARN: The Outpost Id was not set"},Me,hn)]),HE)]),qE)]),KE)]),WE)]),Qy),(0,f.Z)({error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})"},Me,hn)]),XE)]),Jy),(0,f.Z)({error:"Invalid ARN: No ARN type specified"},Me,hn)]),Yy),(t_={},(0,f.Z)(t_,mt,[(e_={},(0,f.Z)(e_,tt,F_),(0,f.Z)(e_,nt,[Es,0,4,!1]),(0,f.Z)(e_,to,P3),e_),(QE={},(0,f.Z)(QE,tt,xn),(0,f.Z)(QE,nt,[(0,f.Z)({},It,P3),"arn:"]),QE),(YE={},(0,f.Z)(YE,tt,vi),(0,f.Z)(YE,nt,[(JE={},(0,f.Z)(JE,tt,ba),(0,f.Z)(JE,nt,EO),JE)]),YE)]),(0,f.Z)(t_,"error","Invalid ARN: `{Bucket}` was not a valid ARN"),(0,f.Z)(t_,Me,hn),t_),O3]),e2)]),n_),(c_={},(0,f.Z)(c_,mt,[(t2={},(0,f.Z)(t2,tt,ba),(0,f.Z)(t2,nt,[uO]),t2),(n2={},(0,f.Z)(n2,tt,cn),(0,f.Z)(n2,nt,[uO,Ss]),n2)]),(0,f.Z)(c_,Me,Et),(0,f.Z)(c_,wt,[(l_={},(0,f.Z)(l_,mt,jl),(0,f.Z)(l_,Me,Et),(0,f.Z)(l_,wt,[(u2={},(0,f.Z)(u2,Me,Et),(0,f.Z)(u2,wt,[(u_={},(0,f.Z)(u_,mt,IO),(0,f.Z)(u_,Me,Et),(0,f.Z)(u_,wt,[(s2={},(0,f.Z)(s2,Me,Et),(0,f.Z)(s2,wt,[Q3,(a2={},(0,f.Z)(a2,Me,Et),(0,f.Z)(a2,wt,[J3,(o2={},(0,f.Z)(o2,Me,Et),(0,f.Z)(o2,wt,[uA,(r2={},(0,f.Z)(r2,Me,Et),(0,f.Z)(r2,wt,[(i_={},(0,f.Z)(i_,mt,j_),(0,f.Z)(i_,"endpoint",(r_={},(0,f.Z)(r_,dn,Bl),(0,f.Z)(r_,fn,bA),(0,f.Z)(r_,pn,$i),r_)),(0,f.Z)(i_,Me,Bt),i_),(a_={},(0,f.Z)(a_,mt,x2),(0,f.Z)(a_,"endpoint",(o_={},(0,f.Z)(o_,dn,"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(o_,fn,bA),(0,f.Z)(o_,pn,$i),o_)),(0,f.Z)(a_,Me,Bt),a_),(0,f.Z)({endpoint:(s_={},(0,f.Z)(s_,dn,"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}"),(0,f.Z)(s_,fn,bA),(0,f.Z)(s_,pn,$i),s_)},Me,Bt)]),r2)]),o2)]),a2)]),s2)]),u_),y2]),u2)]),l_),Zl]),c_),(I_={},(0,f.Z)(I_,mt,[(l2={},(0,f.Z)(l2,tt,vi),(0,f.Z)(l2,nt,SO),l2)]),(0,f.Z)(I_,Me,Et),(0,f.Z)(I_,wt,[(D_={},(0,f.Z)(D_,mt,jl),(0,f.Z)(D_,Me,Et),(0,f.Z)(D_,wt,[(f2={},(0,f.Z)(f2,Me,Et),(0,f.Z)(f2,wt,[(T_={},(0,f.Z)(T_,mt,IO),(0,f.Z)(T_,Me,Et),(0,f.Z)(T_,wt,[(d2={},(0,f.Z)(d2,Me,Et),(0,f.Z)(d2,wt,[uA,(c2={},(0,f.Z)(c2,Me,Et),(0,f.Z)(c2,wt,[lO,lO,(d_={},(0,f.Z)(d_,mt,[oi,Wr,mr,jr,kr,So]),(0,f.Z)(d_,Me,Et),(0,f.Z)(d_,wt,AA),d_),(f_={},(0,f.Z)(f_,mt,[oi,Wr,mr,jr,kr,ko]),(0,f.Z)(f_,"endpoint",Z_),(0,f.Z)(f_,Me,Bt),f_),dO,dO,(p_={},(0,f.Z)(p_,mt,[oi,Wr,Xn,kr,So]),(0,f.Z)(p_,Me,Et),(0,f.Z)(p_,wt,[(0,f.Z)({endpoint:fO},Me,Bt)]),p_),(h_={},(0,f.Z)(h_,mt,[oi,Wr,Xn,kr,ko]),(0,f.Z)(h_,"endpoint",fO),(0,f.Z)(h_,Me,Bt),h_),pO,pO,(m_={},(0,f.Z)(m_,mt,[oi,Ir,mr,jr,kr,So]),(0,f.Z)(m_,Me,Et),(0,f.Z)(m_,wt,AA),m_),(g_={},(0,f.Z)(g_,mt,[oi,Ir,mr,jr,kr,ko]),(0,f.Z)(g_,"endpoint",Z_),(0,f.Z)(g_,Me,Bt),g_),hO,hO,(v_={},(0,f.Z)(v_,mt,[oi,Ir,Xn,kr,So]),(0,f.Z)(v_,Me,Et),(0,f.Z)(v_,wt,[(0,f.Z)({endpoint:mO},Me,Bt)]),v_),(y_={},(0,f.Z)(y_,mt,[oi,Ir,Xn,kr,ko]),(0,f.Z)(y_,"endpoint",mO),(0,f.Z)(y_,Me,Bt),y_),gO,gO,(__={},(0,f.Z)(__,mt,[vr,Wr,mr,jr,kr,So]),(0,f.Z)(__,Me,Et),(0,f.Z)(__,wt,AA),__),(x_={},(0,f.Z)(x_,mt,[vr,Wr,mr,jr,kr,ko]),(0,f.Z)(x_,"endpoint",Z_),(0,f.Z)(x_,Me,Bt),x_),vO,vO,(b_={},(0,f.Z)(b_,mt,[vr,Wr,Xn,kr,So]),(0,f.Z)(b_,Me,Et),(0,f.Z)(b_,wt,[(0,f.Z)({endpoint:yO},Me,Bt)]),b_),(C_={},(0,f.Z)(C_,mt,[vr,Wr,Xn,kr,ko]),(0,f.Z)(C_,"endpoint",yO),(0,f.Z)(C_,Me,Bt),C_),_O,_O,(S_={},(0,f.Z)(S_,mt,[vr,Ir,mr,jr,kr,So]),(0,f.Z)(S_,Me,Et),(0,f.Z)(S_,wt,[(w_={},(0,f.Z)(w_,mt,gf),(0,f.Z)(w_,"endpoint",Z_),(0,f.Z)(w_,Me,Bt),w_),cO]),S_),(E_={},(0,f.Z)(E_,mt,[vr,Ir,mr,jr,kr,ko]),(0,f.Z)(E_,"endpoint",Z_),(0,f.Z)(E_,Me,Bt),E_),xO,xO,(A_={},(0,f.Z)(A_,mt,[vr,Ir,Xn,kr,So]),(0,f.Z)(A_,Me,Et),(0,f.Z)(A_,wt,[(P_={},(0,f.Z)(P_,mt,gf),(0,f.Z)(P_,"endpoint",(k_={},(0,f.Z)(k_,dn,A3),(0,f.Z)(k_,fn,Eo),(0,f.Z)(k_,pn,$i),k_)),(0,f.Z)(P_,Me,Bt),P_),(0,f.Z)({endpoint:bO},Me,Bt)]),A_),(R_={},(0,f.Z)(R_,mt,[vr,Ir,Xn,kr,ko]),(0,f.Z)(R_,"endpoint",bO),(0,f.Z)(R_,Me,Bt),R_)]),c2)]),d2)]),T_),y2]),f2)]),D_),Zl]),I_)]),p2)]),O_),(0,f.Z)({error:"A region must be set when sending requests to S3."},Me,hn)]),h2)]),y9=function(n){return OI(v9,{endpointParams:n,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},b9=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;(0,h.Z)(this,t);var u=function(n){var t,e,r,s,u;return(0,ue.Z)((0,ue.Z)({},n),{},{useFipsEndpoint:null!==(t=n.useFipsEndpoint)&&void 0!==t&&t,useDualstackEndpoint:null!==(e=n.useDualstackEndpoint)&&void 0!==e&&e,useAccelerateEndpoint:null!==(r=n.useAccelerateEndpoint)&&void 0!==r&&r,useGlobalEndpoint:null!==(s=n.useGlobalEndpoint)&&void 0!==s&&s,disableMultiregionAccessPoints:null!==(u=n.disableMultiregionAccessPoints)&&void 0!==u&&u,defaultSigningName:"s3"})}(function(n){var t,e,r,s,u,l,c,p,y,E,D,R,B,te,ne,he,Se,we=u3(n),$e=function(){return we().then(nD)},Ye=function(n){var t,e,r,s,u,l,c,p,y,E,D,R;return{apiVersion:"2006-03-01",base64Decoder:null!==(t=n?.base64Decoder)&&void 0!==t?t:KP,base64Encoder:null!==(e=n?.base64Encoder)&&void 0!==e?e:WP,disableHostPrefix:null!==(r=n?.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(s=n?.endpointProvider)&&void 0!==s?s:y9,logger:null!==(u=n?.logger)&&void 0!==u?u:new VT,serviceId:null!==(l=n?.serviceId)&&void 0!==l?l:"S3",signerConstructor:null!==(c=n?.signerConstructor)&&void 0!==c?c:l9,signingEscapePath:null!==(p=n?.signingEscapePath)&&void 0!==p&&p,urlParser:null!==(y=n?.urlParser)&&void 0!==y?y:e1,useArnRegion:null!==(E=n?.useArnRegion)&&void 0!==E&&E,utf8Decoder:null!==(D=n?.utf8Decoder)&&void 0!==D?D:oh,utf8Encoder:null!==(R=n?.utf8Encoder)&&void 0!==R?R:d1}}(n);return(0,ue.Z)((0,ue.Z)((0,ue.Z)({},Ye),n),{},{runtime:"browser",defaultsMode:we,bodyLengthChecker:null!==(t=n?.bodyLengthChecker)&&void 0!==t?t:qI,credentialDefaultProvider:null!==(e=n?.credentialDefaultProvider)&&void 0!==e?e:function(lt){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(r=n?.defaultUserAgentProvider)&&void 0!==r?r:WI({serviceId:Ye.serviceId,clientVersion:"3.350.0"}),eventStreamSerdeProvider:null!==(s=n?.eventStreamSerdeProvider)&&void 0!==s?s:Y7,getAwsChunkedEncodingStream:null!==(u=n?.getAwsChunkedEncodingStream)&&void 0!==u?u:s9,maxAttempts:null!==(l=n?.maxAttempts)&&void 0!==l?l:3,md5:null!==(c=n?.md5)&&void 0!==c?c:i9,region:null!==(p=n?.region)&&void 0!==p?p:HI("Region is missing"),requestHandler:null!==(y=n?.requestHandler)&&void 0!==y?y:new ZI($e),retryMode:null!==(E=n?.retryMode)&&void 0!==E?E:zt((0,We.Z)().mark(function lt(){return(0,We.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,$e();case 2:if(pt.t0=pt.sent.retryMode,pt.t0){pt.next=5;break}pt.t0=MP;case 5:return pt.abrupt("return",pt.t0);case 6:case"end":return pt.stop()}},lt)})),sdkStreamMixin:null!==(D=n?.sdkStreamMixin)&&void 0!==D?D:u9,sha1:null!==(R=n?.sha1)&&void 0!==R?R:G7.Sha1,sha256:null!==(B=n?.sha256)&&void 0!==B?B:H7.Sha256,streamCollector:null!==(te=n?.streamCollector)&&void 0!==te?te:XP,streamHasher:null!==(ne=n?.streamHasher)&&void 0!==ne?ne:t9,useDualstackEndpoint:null!==(he=n?.useDualstackEndpoint)&&void 0!==he?he:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(Se=n?.useFipsEndpoint)&&void 0!==Se?Se:function(){return Promise.resolve(!1)}})}(e)),l=MD(u),c=BT(l),p=XD(c),D=function(n){var t,e,r;return(0,ue.Z)((0,ue.Z)({},n),{},{forcePathStyle:null!==(t=n.forcePathStyle)&&void 0!==t&&t,useAccelerateEndpoint:null!==(e=n.useAccelerateEndpoint)&&void 0!==e&&e,disableMultiregionAccessPoints:null!==(r=n.disableMultiregionAccessPoints)&&void 0!==r&&r})}(mI(p)),B=function(n){return(0,ue.Z)((0,ue.Z)({},n),{},{eventStreamMarshaller:n.eventStreamSerdeProvider(n)})}(xI(D));return(r=n.call(this,B)).config=B,r.middlewareStack.use(QD(r.config)),r.middlewareStack.use(BD(r.config)),r.middlewareStack.use(ZD(r.config)),r.middlewareStack.use(jD()),r.middlewareStack.use(LD(r.config)),r.middlewareStack.use(function(n){return{applyToStack:function(e){e.addRelativeTo(function(n){return function(t,e){return function(){var r=zt((0,We.Z)().mark(function s(u){var l,c,p,y,E,D,R,B,te;return(0,We.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(Ia.isInstance(u.request)){he.next=2;break}return he.abrupt("return",t(u));case 2:return E=null===(l=e.endpointV2)||void 0===l||null===(c=l.properties)||void 0===c||null===(p=c.authSchemes)||void 0===p?void 0:p[0],D="sigv4a"===E?.name?null==E||null===(y=E.signingRegionSet)||void 0===y?void 0:y.join(","):void 0,he.next=6,n.signer(E);case 6:return R=he.sent,he.t0=t,he.t1=ue.Z,he.t2=(0,ue.Z)({},u),he.t3={},he.next=13,R.sign(u.request,{signingDate:vI(n.systemClockOffset),signingRegion:D||e.signing_region,signingService:e.signing_service});case 13:return he.t4=he.sent,he.t5={request:he.t4},he.t6=(0,he.t1)(he.t2,he.t3,he.t5),he.next=18,(0,he.t0)(he.t6).catch(function(Se){var we,$e=null!==(we=Se.ServerTime)&&void 0!==we?we:_I(Se.$response);throw $e&&(n.systemClockOffset=yI($e,n.systemClockOffset)),Se});case 18:return(te=_I((B=he.sent).response))&&(n.systemClockOffset=yI(te,n.systemClockOffset)),he.abrupt("return",B);case 22:case"end":return he.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()}}(n),VL)}}}(r.config)),r.middlewareStack.use({applyToStack:function(e){e.add(function RN(){return function(a){return function(){var n=zt((0,We.Z)().mark(function t(e){var r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof(r=e.input.Bucket)||AN(r)||!(r.indexOf("/")>=0)){l.next=5;break}throw(s=new Error("Bucket name shouldn't contain '/', received '".concat(r,"'"))).name="InvalidBucketName",s;case 5:return l.abrupt("return",a((0,ue.Z)({},e)));case 6:case"end":return l.stop()}},t)}));return function(t){return n.apply(this,arguments)}}()}}(),TN)}}),r.middlewareStack.use(function(n){return{applyToStack:function(e){e.add(function $7(a){return function(n){return function(){var t=zt((0,We.Z)().mark(function e(r){var s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return Ia.isInstance(s=r.request)&&s.body&&"node"===a.runtime&&(s.headers=(0,ue.Z)((0,ue.Z)({},s.headers),{},{Expect:"100-continue"})),l.abrupt("return",n((0,ue.Z)((0,ue.Z)({},r),{},{request:s})));case 3:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}}(n),L7)}}}(r.config)),r.middlewareStack.use(BI(r.config)),r}return(0,v.Z)(t,[{key:"destroy",value:function(){(0,fa.Z)((0,pa.Z)(t.prototype),"destroy",this).call(this)}}]),t}(KT),C9=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-mediafile-pane-renderer"]],decls:1,vars:0,template:function(t,e){1&t&&o.\u0275\u0275text(0,"Media File")}}),a}(),OO=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),t.register(new Sn.ContentPlugin({id:"media_file",title:"Media File",selectionComponent:void 0,editorComponent:void 0,renderComponent:C9,handler:void 0}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sn.ContentPluginManager))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}(),b2=new o.InjectionToken("Media Settings"),S9=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.endpointUrl=n.endpointUrl,this.cloudinaryUrl=n.cloudinaryUrl,this.uploadPreset=n.uploadPreset,this.imageUrl=n.imageUrl,this.bucket=n.bucket,this.prefix=n.prefix)}),RA=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.id=n.id,this.contentType=n.contentType,this.contentDisposition=n.contentDisposition,this.path=n.path,this.fileName=n.fileName,this.length=n.length,this.extension=n.extension?n.extension:void 0,this.realPath=n.realPath&&""!==n.realPath?n.realPath:void 0)}),C2=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.settings=t,this.cognitoSettings=e,this.http=r,this.authFacade=s}return(0,v.Z)(n,[{key:"bulkUpload",value:function(e){var r=this,u=e.fileNameOverride,c=[];return e.files.forEach(function(p){if(p){var y=new FormData;y.append("File",p,u||p.name),c.push(r.http.post(r.settings.endpointUrl,y).pipe((0,Hi.K)(function(E){return(0,Di._)(new Error("Error uploading images."))})))}}),c.length>0?(0,nr.D)(c):(0,ze.of)([])}},{key:"bulkUploadS3",value:function(e){var r=this,u=e.fileNameOverride,l=e.nocache,c=[];return e.files.forEach(function(p){p&&c.push(new hr.y(function(y){var E=u||Br(),D=p.name.split(".",2),te=(0,g.Z)(D,2)[1],ne=E+(te?"."+te:"");new R8({client:r.buildClient(),params:(0,ue.Z)({Bucket:r.settings.bucket,Key:r.settings.prefix+ne,Body:p,ContentType:p.type},l?{CacheControl:"no-cache"}:{})}).done().then(function(){y.next(new RA({id:E,contentType:p.type,contentDisposition:"",path:ne,realPath:r.settings.prefix+ne,length:p.size,fileName:p.name,extension:te&&""!==te?te:void 0})),y.complete()})}))}),c.length>0?(0,nr.D)(c):(0,ze.of)([])}},{key:"convertToFiles",value:function(e){var r=this,s=e.map(function(u){return new hr.y(function(l){fetch("".concat(r.settings.imageUrl,"/").concat(u.path)).then(function(c){c.blob().then(function(p){new Promise(function(y){var E=new FileReader;E.onload=function(){return y(E.result)},E.readAsDataURL(p)}).then(function(y){var E=r.convertDataURIToBinary(y),D=new File([E],u.fileName,{type:u.contentType});l.next(D),l.complete()})})})})});return(0,nr.D)(s)}},{key:"convertDataURIToBinary",value:function(e){for(var s=e.indexOf(";base64,")+8,u=e.substring(s),l=window.atob(u),c=l.length,p=new Uint8Array(new ArrayBuffer(c)),y=0;y<c;y++)p[y]=l.charCodeAt(y);return p}},{key:"buildClient",value:function(){var e=this;return new b9({region:this.cognitoSettings.region,credentials:OP({client:new eA({region:this.cognitoSettings.region}),identityPoolId:this.cognitoSettings.identityPoolId,logins:(0,f.Z)({},"cognito-idp.".concat(this.cognitoSettings.region,".amazonaws.com/").concat(this.cognitoSettings.userPoolId),function(){return oP(e.authFacade.getUser$.pipe((0,ke.U)(function(s){return s?s.id_token:void 0})))})})})}},{key:"isImage",value:function(e){var r=e.file;return r.type&&0===r.type.indexOf("image/")}},{key:"isVideo",value:function(e){var r=e.file;return r.type&&0===r.type.indexOf("video/")}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(b2),o.\u0275\u0275inject(Jx),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(Da))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),zn=S(8154),Ut=S(8488),$_=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}(),Mr=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"generateTokens",value:function(e){var r=new Map;return this.attributeTokens(e,r,"",0),r}},{key:"generateGenericTokens",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=new Map;return this.genericTokens(e,s,r,0),s}},{key:"attributeTokens",value:function(e,r,s,u){var l=this;e.forEach(function(c,p){if("widget"!==c.name)for(var y in c)c.type===Ut.AttributeTypes.Complex||"attributes"===y&&c.attributes&&c.attributes.length>0?l.attributeTokens(c.attributes,r,c.type===Ut.AttributeTypes.Complex?"".concat(s):"".concat(s,".").concat(c.name),u+1):"attributes"!==y&&r.set(y===c.name?"".concat(s,".").concat(y):"".concat(s,".").concat(c.name,".").concat(y),c[y])})}},{key:"genericTokens",value:function(e,r,s,u){for(var l in e)if("object"!=typeof e[l])r.set("".concat(s,".").concat(l),e[l]);else if(Array.isArray(e[l])&&"attributes"===l)this.attributeTokens(e[l],r,"".concat(s,".").concat(l),u+1);else if(Array.isArray(e[l]))for(var p=e[l].length,y=0;y<p;y++)this.genericTokens(e[l][y],r,"".concat(s,".").concat(l,".").concat(y),u+1);else this.genericTokens(e[l],r,"".concat(s,".").concat(l),u+1)}},{key:"replaceTokens",value:function(e,r){return r&&r.forEach(function(s,u){e=e.replace("[".concat(u,"]"),"".concat(s))}),e}},{key:"matchTokens",value:function(e,r){for(var s=[],u=r.length,l=0;l<u;l++)e.indexOf("[".concat(r[l],"]"))>-1&&s.push(r[l]);return s}},{key:"discoverTokens",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.match(/(\[(?:\[??[^\[]*?\]))/g);return null===s?[]:s.reduce(function(l,c){if(-1!==c.indexOf(" ")||-1===c.indexOf("."))return l;var p=1===c.indexOf(".")?["."]:c.substr(1,c.length-2).split("."),E=(0,g.Z)(p,1)[0];return-1!==l.findIndex(function(D){return D===E})?l:[].concat((0,_.Z)(l),[r?c.substr(1,c.length-2):E])},[])}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),no=S(9490),Nr=S(1989),E9=["gutterEls"];function k9(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",2,3),o.\u0275\u0275listener("keydown",function(c){o.\u0275\u0275restoreView(t);var p=o.\u0275\u0275nextContext().index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.startKeyboardDrag(c,2*p+1,p+1))})("mousedown",function(c){o.\u0275\u0275restoreView(t);var p=o.\u0275\u0275nextContext().index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.startMouseDrag(c,2*p+1,p+1))})("touchstart",function(c){o.\u0275\u0275restoreView(t);var p=o.\u0275\u0275nextContext().index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.startMouseDrag(c,2*p+1,p+1))})("mouseup",function(c){o.\u0275\u0275restoreView(t);var p=o.\u0275\u0275nextContext().index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.clickGutter(c,p+1))})("touchend",function(c){o.\u0275\u0275restoreView(t);var p=o.\u0275\u0275nextContext().index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.clickGutter(c,p+1))}),o.\u0275\u0275element(2,"div",4),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(),r=e.index,s=e.$implicit,u=o.\u0275\u0275nextContext();o.\u0275\u0275styleProp("flex-basis",u.gutterSize,"px")("order",2*r+1),o.\u0275\u0275attribute("aria-label",u.gutterAriaLabel)("aria-orientation",u.direction)("aria-valuemin",s.minSize)("aria-valuemax",s.maxSize)("aria-valuenow",s.size)("aria-valuetext",u.getAriaAreaSizeText(s.size))}}function P9(a,n){1&a&&o.\u0275\u0275template(0,k9,3,10,"div",1),2&a&&o.\u0275\u0275property("ngIf",!1===n.last)}var A9=["*"];function L_(a){if(void 0!==a.changedTouches&&a.changedTouches.length>0)return{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(void 0!==a.clientX&&void 0!==a.clientY)return{x:a.clientX,y:a.clientY};if(void 0!==a.currentTarget){var n=a.currentTarget;return{x:n.offsetLeft,y:n.offsetTop}}return null}function FO(a,n,t){return Math.abs(a.x-n.x)<=t&&Math.abs(a.y-n.y)<=t}function MO(a,n){var t=a.nativeElement.getBoundingClientRect();return"horizontal"===n?t.width:t.height}function U_(a){return"boolean"==typeof a?a:"false"!==a}function Lu(a,n){return null==a?n:(a=Number(a),!isNaN(a)&&a>=0?a:n)}function NO(a,n){if("percent"===a){var t=n.reduce(function(e,r){return null!==r?e+r:e},0);return n.every(function(e){return null!==e})&&t>99.9&&t<100.1}if("pixel"===a)return 1===n.filter(function(e){return null===e}).length}function w2(a){return null===a.size?null:!0===a.component.lockSize?a.size:null===a.component.minSize?null:a.component.minSize>a.size?a.size:a.component.minSize}function S2(a){return null===a.size?null:!0===a.component.lockSize?a.size:null===a.component.maxSize?null:a.component.maxSize<a.size?a.size:a.component.maxSize}function vf(a,n,t,e){return n.reduce(function(r,s){var u=function T9(a,n,t,e){return 0===t?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:n.sizePercentAtStart,pixelRemain:0}:0===n.sizePixelAtStart&&t<0?{areaSnapshot:n,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:t}:"percent"===a?function D9(a,n,t){var r=(a.sizePixelAtStart+n)/t*100;if(n>0){if(null!==a.area.maxSize&&r>a.area.maxSize){var s=a.area.maxSize/100*t;return{areaSnapshot:a,pixelAbsorb:s,percentAfterAbsorption:a.area.maxSize,pixelRemain:a.sizePixelAtStart+n-s}}return{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:r>100?100:r,pixelRemain:0}}if(n<0){if(null!==a.area.minSize&&r<a.area.minSize){var u=a.area.minSize/100*t;return{areaSnapshot:a,pixelAbsorb:u,percentAfterAbsorption:a.area.minSize,pixelRemain:a.sizePixelAtStart+n-u}}return r<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:n+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:r,pixelRemain:0}}}(n,t,e):"pixel"===a?function I9(a,n,t){var e=a.sizePixelAtStart+n;return n>0?null!==a.area.maxSize&&e>a.area.maxSize?{areaSnapshot:a,pixelAbsorb:a.area.maxSize-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:e-a.area.maxSize}:{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:n<0?null!==a.area.minSize&&e<a.area.minSize?{areaSnapshot:a,pixelAbsorb:a.area.minSize+n-e,percentAfterAbsorption:-1,pixelRemain:e-a.area.minSize}:e<0?{areaSnapshot:a,pixelAbsorb:-a.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:n+a.sizePixelAtStart}:{areaSnapshot:a,pixelAbsorb:n,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(n,t):void 0}(a,s,r.remain,e);return r.list.push(u),r.remain=u.pixelRemain,r},{remain:t,list:[]})}function BO(a,n){"percent"===a?n.areaSnapshot.area.size=n.percentAfterAbsorption:"pixel"===a&&null!==n.areaSnapshot.area.size&&(n.areaSnapshot.area.size=n.areaSnapshot.sizePixelAtStart+n.pixelAbsorb)}var O9=new o.InjectionToken("angular-split-global-config"),z_=function(){var a=function(){function n(t,e,r,s,u){var l=this;(0,h.Z)(this,n),this.ngZone=t,this.elRef=e,this.cdRef=r,this.renderer=s,this.gutterClickDeltaPx=2,this._config={direction:"horizontal",unit:"percent",gutterSize:11,gutterStep:1,restrictMove:!1,useTransition:!1,disabled:!1,dir:"ltr",gutterDblClickDuration:0},this.dragStart=new o.EventEmitter(!1),this.dragEnd=new o.EventEmitter(!1),this.gutterClick=new o.EventEmitter(!1),this.gutterDblClick=new o.EventEmitter(!1),this.dragProgressSubject=new yn.x,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.isWaitingInitialMove=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hiddenAreas=[],this._clickTimeout=null,this.direction=this._direction,this._config=u?Object.assign(this._config,u):this._config,Object.keys(this._config).forEach(function(c){l[c]=l._config[c]})}return(0,v.Z)(n,[{key:"direction",get:function(){return this._direction},set:function(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)}},{key:"unit",get:function(){return this._unit},set:function(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)}},{key:"gutterSize",get:function(){return this._gutterSize},set:function(e){this._gutterSize=Lu(e,11),this.build(!1,!1)}},{key:"gutterStep",get:function(){return this._gutterStep},set:function(e){this._gutterStep=Lu(e,1)}},{key:"restrictMove",get:function(){return this._restrictMove},set:function(e){this._restrictMove=U_(e)}},{key:"useTransition",get:function(){return this._useTransition},set:function(e){this._useTransition=U_(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=U_(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")}},{key:"dir",get:function(){return this._dir},set:function(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)}},{key:"gutterDblClickDuration",get:function(){return this._gutterDblClickDuration},set:function(e){this._gutterDblClickDuration=Lu(e,0)}},{key:"transitionEnd",get:function(){var e=this;return new hr.y(function(r){return e.transitionEndSubscriber=r}).pipe((0,Nr.b)(20))}},{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){setTimeout(function(){return e.renderer.addClass(e.elRef.nativeElement,"as-init")})})}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(e){var r={component:e,order:0,size:0,minSize:null,maxSize:null,sizeBeforeCollapse:null,gutterBeforeCollapse:0};!0===e.visible?(this.displayedAreas.push(r),this.build(!0,!0)):this.hiddenAreas.push(r)}},{key:"removeArea",value:function(e){if(this.displayedAreas.some(function(u){return u.component===e})){var r=this.displayedAreas.find(function(u){return u.component===e});this.displayedAreas.splice(this.displayedAreas.indexOf(r),1),this.build(!0,!0)}else if(this.hiddenAreas.some(function(u){return u.component===e})){var s=this.hiddenAreas.find(function(u){return u.component===e});this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1)}}},{key:"updateArea",value:function(e,r,s){!0===e.visible&&this.build(r,s)}},{key:"showArea",value:function(e){var r,s=this.hiddenAreas.find(function(l){return l.component===e});if(void 0!==s){var u=this.hiddenAreas.splice(this.hiddenAreas.indexOf(s),1);(r=this.displayedAreas).push.apply(r,(0,_.Z)(u)),this.build(!0,!0)}}},{key:"hideArea",value:function(e){var r,s=this.displayedAreas.find(function(l){return l.component===e});if(void 0!==s){var u=this.displayedAreas.splice(this.displayedAreas.indexOf(s),1);u.forEach(function(l){l.order=0,l.size=0}),(r=this.hiddenAreas).push.apply(r,(0,_.Z)(u)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map(function(e){return null===e.size?"*":e.size})}},{key:"setVisibleAreaSizes",value:function(e){if(e.length!==this.displayedAreas.length)return!1;var r=e.map(function(u){return Lu(u,null)});return!1!==NO(this.unit,r)&&(this.displayedAreas.forEach(function(u,l){return u.component._size=r[l]}),this.build(!1,!0),!0)}},{key:"build",value:function(e,r){if(this.stopDragging(),!0===e&&(this.displayedAreas.every(function(p){return null!==p.component.order})&&this.displayedAreas.sort(function(p,y){return p.component.order-y.component.order}),this.displayedAreas.forEach(function(p,y){p.order=2*y,p.component.setStyleOrder(p.order)})),!0===r){var s=NO(this.unit,this.displayedAreas.map(function(p){return p.component.size}));switch(this.unit){case"percent":var u=100/this.displayedAreas.length;this.displayedAreas.forEach(function(p){p.size=s?p.component.size:u,p.minSize=w2(p),p.maxSize=S2(p)});break;case"pixel":if(s)this.displayedAreas.forEach(function(p){p.size=p.component.size,p.minSize=w2(p),p.maxSize=S2(p)});else{var l=this.displayedAreas.filter(function(p){return null===p.component.size});if(0===l.length&&this.displayedAreas.length>0)this.displayedAreas.forEach(function(p,y){p.size=0===y?null:p.component.size,p.minSize=0===y?null:w2(p),p.maxSize=0===y?null:S2(p)});else if(l.length>1){var c=!1;this.displayedAreas.forEach(function(p){null===p.component.size?!1===c?(p.size=null,p.minSize=null,p.maxSize=null,c=!0):(p.size=100,p.minSize=null,p.maxSize=null):(p.size=p.component.size,p.minSize=w2(p),p.maxSize=S2(p))})}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var r=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach(function(s){s.component.setStyleFlex(0,0,"calc( ".concat(s.size,"% - ").concat(s.size/100*r,"px )"),null!==s.minSize&&s.minSize===s.size,null!==s.maxSize&&s.maxSize===s.size)})}else"pixel"===this.unit&&this.displayedAreas.forEach(function(s){null===s.size?s.component.setStyleFlex(1,1,1===e.displayedAreas.length?"100%":"auto",!1,!1):1===e.displayedAreas.length?s.component.setStyleFlex(0,0,"100%",!1,!1):s.component.setStyleFlex(0,0,"".concat(s.size,"px"),null!==s.minSize&&s.minSize===s.size,null!==s.maxSize&&s.maxSize===s.size)})}},{key:"clickGutter",value:function(e,r){var s=this,u=L_(e);this.startPoint&&FO(this.startPoint,u,this.gutterClickDeltaPx)&&(!this.isDragging||this.isWaitingInitialMove)&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",r),this.stopDragging()):this._clickTimeout=window.setTimeout(function(){s._clickTimeout=null,s.notify("click",r),s.stopDragging()},this.gutterDblClickDuration))}},{key:"startKeyboardDrag",value:function(e,r,s){if(!0!==this.disabled&&!0!==this.isWaitingClear){var u=function R9(a,n){if("horizontal"===n)switch(a.key){case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":break;default:return null}if("vertical"===n)switch(a.key){case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":break;default:return null}var t=a.currentTarget,e="PageUp"===a.key||"PageDown"===a.key?500:50,r=t.offsetLeft,s=t.offsetTop;switch(a.key){case"ArrowLeft":r-=e;break;case"ArrowRight":r+=e;break;case"ArrowUp":s-=e;break;case"ArrowDown":s+=e;break;case"PageUp":"vertical"===n?s-=e:r+=e;break;case"PageDown":"vertical"===n?s+=e:r-=e;break;default:return null}return{x:r,y:s}}(e,this.direction);null!==u&&(this.endPoint=u,this.startPoint=L_(e),e.preventDefault(),e.stopPropagation(),this.setupForDragEvent(r,s),this.startDragging(),this.drag(),this.stopDragging())}}},{key:"startMouseDrag",value:function(e,r,s){var u=this;e.preventDefault(),e.stopPropagation(),this.startPoint=L_(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.setupForDragEvent(r,s),this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular(function(){u.dragListeners.push(u.renderer.listen("document","mousemove",u.mouseDragEvent.bind(u))),u.dragListeners.push(u.renderer.listen("document","touchmove",u.mouseDragEvent.bind(u)))}),this.startDragging())}},{key:"setupForDragEvent",value:function(e,r){var s=this;this.snapshot={gutterNum:r,lastSteppedOffset:0,allAreasSizePixel:MO(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach(function(u){var l={area:u,sizePixelAtStart:MO(u.component.elRef,s.direction),sizePercentAtStart:"percent"===s.unit?u.size:-1};u.order<e?!0===s.restrictMove?s.snapshot.areasBeforeGutter=[l]:s.snapshot.areasBeforeGutter.unshift(l):u.order>e&&(!0===s.restrictMove?0===s.snapshot.areasAfterGutter.length&&(s.snapshot.areasAfterGutter=[l]):s.snapshot.areasAfterGutter.push(l))}),this.snapshot.allInvolvedAreasSizePercent=[].concat((0,_.Z)(this.snapshot.areasBeforeGutter),(0,_.Z)(this.snapshot.areasAfterGutter)).reduce(function(u,l){return u+l.sizePercentAtStart},0)}},{key:"startDragging",value:function(){this.displayedAreas.forEach(function(e){return e.component.lockEvents()}),this.isDragging=!0,this.isWaitingInitialMove=!0}},{key:"mouseDragEvent",value:function(e){e.preventDefault(),e.stopPropagation();var r=L_(e);null!==this._clickTimeout&&!FO(this.startPoint,r,this.gutterClickDeltaPx)&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=L_(e),null!==this.endPoint&&this.drag())}},{key:"drag",value:function(){var e=this;if(this.isWaitingInitialMove){if(this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y)return;this.ngZone.run(function(){e.isWaitingInitialMove=!1,e.renderer.addClass(e.elRef.nativeElement,"as-dragging"),e.renderer.addClass(e.gutterEls.toArray()[e.snapshot.gutterNum-1].nativeElement,"as-dragged"),e.notify("start",e.snapshot.gutterNum)})}var r="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&"horizontal"===this.direction&&(r=-r);var s=Math.round(r/this.gutterStep)*this.gutterStep;if(s!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=s;var u=vf(this.unit,this.snapshot.areasBeforeGutter,-s,this.snapshot.allAreasSizePixel),l=vf(this.unit,this.snapshot.areasAfterGutter,s,this.snapshot.allAreasSizePixel);if(0!==u.remain&&0!==l.remain?Math.abs(u.remain)===Math.abs(l.remain)||(Math.abs(u.remain)>Math.abs(l.remain)?l=vf(this.unit,this.snapshot.areasAfterGutter,s+u.remain,this.snapshot.allAreasSizePixel):u=vf(this.unit,this.snapshot.areasBeforeGutter,-(s-l.remain),this.snapshot.allAreasSizePixel)):0!==u.remain?l=vf(this.unit,this.snapshot.areasAfterGutter,s+u.remain,this.snapshot.allAreasSizePixel):0!==l.remain&&(u=vf(this.unit,this.snapshot.areasBeforeGutter,-(s-l.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var c=[].concat((0,_.Z)(u.list),(0,_.Z)(l.list)),p=c.find(function(y){return 0!==y.percentAfterAbsorption&&y.percentAfterAbsorption!==y.areaSnapshot.area.minSize&&y.percentAfterAbsorption!==y.areaSnapshot.area.maxSize});p&&(p.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-c.filter(function(y){return y!==p}).reduce(function(y,E){return y+E.percentAfterAbsorption},0))}u.list.forEach(function(y){return BO(e.unit,y)}),l.list.forEach(function(y){return BO(e.unit,y)}),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}},{key:"stopDragging",value:function(e){var r=this;if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach(function(u){return u.component.unlockEvents()});this.dragListeners.length>0;){var s=this.dragListeners.pop();s&&s()}this.isDragging=!1,!1===this.isWaitingInitialMove&&this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular(function(){setTimeout(function(){r.startPoint=null,r.endPoint=null,r.isWaitingClear=!1})})}}},{key:"notify",value:function(e,r){var s=this,u=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:r,sizes:u}):"end"===e?this.dragEnd.emit({gutterNum:r,sizes:u}):"click"===e?this.gutterClick.emit({gutterNum:r,sizes:u}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:r,sizes:u}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run(function(){return s.transitionEndSubscriber.next(u)}):"progress"===e&&this.dragProgressSubject.next({gutterNum:r,sizes:u})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"collapseArea",value:function(e,r,s){var u=this.displayedAreas.find(function(p){return p.component===e});if(void 0!==u){var l="right"===s?1:-1;u.sizeBeforeCollapse||(u.sizeBeforeCollapse=u.size,u.gutterBeforeCollapse=l),u.size=r;var c=this.gutterEls.find(function(p){return p.nativeElement.style.order==="".concat(u.order+l)});c&&this.renderer.addClass(c.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}}},{key:"expandArea",value:function(e){var r=this.displayedAreas.find(function(u){return u.component===e});if(void 0!==r&&r.sizeBeforeCollapse){r.size=r.sizeBeforeCollapse,r.sizeBeforeCollapse=null;var s=this.gutterEls.find(function(u){return u.nativeElement.style.order==="".concat(r.order+r.gutterBeforeCollapse)});s&&this.renderer.removeClass(s.nativeElement,"as-split-gutter-collapsed"),this.updateArea(e,!1,!1)}}},{key:"getAriaAreaSizeText",value:function(e){return null===e?null:e.toFixed(0)+" "+this.unit}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(O9,8))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["as-split"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(E9,5),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.gutterEls=r)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration",gutterClickDeltaPx:"gutterClickDeltaPx",gutterAriaLabel:"gutterAriaLabel"},outputs:{transitionEnd:"transitionEnd",dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick"},exportAs:["asSplit"],ngContentSelectors:A9,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["role","slider","tabindex","0","class","as-split-gutter",3,"flex-basis","order","keydown","mousedown","touchstart","mouseup","touchend",4,"ngIf"],["role","slider","tabindex","0",1,"as-split-gutter",3,"keydown","mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275projection(0),o.\u0275\u0275template(1,P9,1,1,"ng-template",0)),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.displayedAreas))},dependencies:[w.NgForOf,w.NgIf],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{border:none;flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter.as-split-gutter-collapsed[_ngcontent-%COMP%]{flex-basis:1px!important;pointer-events:none}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%], .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area{transition:flex-basis .3s}"],changeDetection:0}),a}(),V_=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.ngZone=t,this.elRef=e,this.renderer=r,this.split=s,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}return(0,v.Z)(n,[{key:"order",get:function(){return this._order},set:function(e){this._order=Lu(e,null),this.split.updateArea(this,!0,!1)}},{key:"size",get:function(){return this._size},set:function(e){this._size=Lu(e,null),this.split.updateArea(this,!1,!0)}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=Lu(e,null),this.split.updateArea(this,!1,!0)}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Lu(e,null),this.split.updateArea(this,!1,!0)}},{key:"lockSize",get:function(){return this._lockSize},set:function(e){this._lockSize=U_(e),this.split.updateArea(this,!1,!0)}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=U_(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))}},{key:"ngOnInit",value:function(){var e=this;this.split.addArea(this),this.ngZone.runOutsideAngular(function(){e.transitionListener=e.renderer.listen(e.elRef.nativeElement,"transitionend",function(r){"flex-basis"===r.propertyName&&e.split.notify("transitionEnd",-1)})})}},{key:"setStyleOrder",value:function(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}},{key:"setStyleFlex",value:function(e,r,s,u,l){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",r),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",s),!0===u?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===l?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var e=this;this.ngZone.runOutsideAngular(function(){e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"selectstart",function(){return!1})),e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"dragstart",function(){return!1}))})}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var e=this.lockListeners.pop();e&&e()}}},{key:"ngOnDestroy",value:function(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}},{key:"collapse",value:function(){this.split.collapseArea(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right")}},{key:"expand",value:function(){this.split.expandArea(this)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(z_))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),a}(),E2=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(){return console.warn("AngularSplitModule.forRoot() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}},{key:"forChild",value:function(){return console.warn("AngularSplitModule.forChild() is deprecated and will be removed in v6"),{ngModule:n,providers:[]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}(),ZO=S(8947),F9=S(73),Uu=S(8977),k2=S(4874),jO=S(155);var $l={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},LO=/[&<>"']/,N9=new RegExp(LO.source,"g"),UO=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,B9=new RegExp(UO.source,"g"),Z9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zO=function(n){return Z9[n]};function Po(a,n){if(n){if(LO.test(a))return a.replace(N9,zO)}else if(UO.test(a))return a.replace(B9,zO);return a}var j9=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function VO(a){return a.replace(j9,function(n,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var $9=/(^|[^\[])\^/g;function Xr(a,n){a="string"==typeof a?a:a.source,n=n||"";var t={replace:function(r,s){return s=(s=s.source||s).replace($9,"$1"),a=a.replace(r,s),t},getRegex:function(){return new RegExp(a,n)}};return t}var L9=/[^\w:]/g,U9=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function GO(a,n,t){if(a){var e;try{e=decodeURIComponent(VO(t)).replace(L9,"").toLowerCase()}catch{return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}n&&!U9.test(t)&&(t=function H9(a,n){P2[" "+a]||(P2[" "+a]=z9.test(a)?a+"/":R2(a,"/",!0));var t=-1===(a=P2[" "+a]).indexOf(":");return"//"===n.substring(0,2)?t?n:a.replace(V9,"$1")+n:"/"===n.charAt(0)?t?n:a.replace(G9,"$1")+n:a+n}(n,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var P2={},z9=/^[^:]+:\/*[^/]*$/,V9=/^([^:]+:)[\s\S]*$/,G9=/^([^:]+:\/*[^/]*)[\s\S]*$/,A2={exec:function(){}};function HO(a,n){var e=a.replace(/\|/g,function(s,u,l){for(var c=!1,p=u;--p>=0&&"\\"===l[p];)c=!c;return c?"|":" |"}).split(/ \|/),r=0;if(e[0].trim()||e.shift(),e.length>0&&!e[e.length-1].trim()&&e.pop(),e.length>n)e.splice(n);else for(;e.length<n;)e.push("");for(;r<e.length;r++)e[r]=e[r].trim().replace(/\\\|/g,"|");return e}function R2(a,n,t){var e=a.length;if(0===e)return"";for(var r=0;r<e;){var s=a.charAt(e-r-1);if(s!==n||t){if(s===n||!t)break;r++}else r++}return a.slice(0,e-r)}function qO(a,n){if(n<1)return"";for(var t="";n>1;)1&n&&(t+=a),n>>=1,a+=a;return t+a}function KO(a,n,t,e){var r=n.href,s=n.title?Po(n.title):null,u=a[1].replace(/\\([\[\]])/g,"$1");if("!"!==a[0].charAt(0)){e.state.inLink=!0;var l={type:"link",raw:t,href:r,title:s,text:u,tokens:e.inlineTokens(u)};return e.state.inLink=!1,l}return{type:"image",raw:t,href:r,title:s,text:Po(u)}}var TA=function(){function a(n){(0,h.Z)(this,a),this.options=n||$l}return(0,v.Z)(a,[{key:"space",value:function(t){var e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}},{key:"code",value:function(t){var e=this.rules.block.code.exec(t);if(e){var r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:R2(r,"\n")}}}},{key:"fences",value:function(t){var e=this.rules.block.fences.exec(t);if(e){var r=e[0],s=function W9(a,n){var t=a.match(/^(\s+)(?:```)/);if(null===t)return n;var e=t[1];return n.split("\n").map(function(r){var s=r.match(/^\s+/);return null===s?r:(0,g.Z)(s,1)[0].length>=e.length?r.slice(e.length):r}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:s}}}},{key:"heading",value:function(t){var e=this.rules.block.heading.exec(t);if(e){var r=e[2].trim();if(/#$/.test(r)){var s=R2(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}},{key:"hr",value:function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}},{key:"blockquote",value:function(t){var e=this.rules.block.blockquote.exec(t);if(e){var r=e[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;var u=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:e[0],tokens:u,text:r}}}},{key:"list",value:function(t){var e=this.rules.block.list.exec(t);if(e){var r,s,u,l,c,p,y,E,D,R,B,te,ne=e[1].trim(),he=ne.length>1,Se={type:"list",raw:"",ordered:he,start:he?+ne.slice(0,-1):"",loose:!1,items:[]};ne=he?"\\d{1,9}\\".concat(ne.slice(-1)):"\\".concat(ne),this.options.pedantic&&(ne=he?ne:"[*+-]");for(var we=new RegExp("^( {0,3}".concat(ne,")((?:[\t ][^\\n]*)?(?:\\n|$))"));t&&(te=!1,(e=we.exec(t))&&!this.rules.block.hr.test(t));){if(t=t.substring((r=e[0]).length),E=e[2].split("\n",1)[0].replace(/^\t+/,function(Yt){return" ".repeat(3*Yt.length)}),D=t.split("\n",1)[0],this.options.pedantic?(l=2,B=E.trimLeft()):(l=e[2].search(/[^ ]/),B=E.slice(l=l>4?1:l),l+=e[1].length),p=!1,!E&&/^ *$/.test(D)&&(r+=D+"\n",t=t.substring(D.length+1),te=!0),!te)for(var $e=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),Ye=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),lt=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),Ft=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));t&&(D=R=t.split("\n",1)[0],this.options.pedantic&&(D=D.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(lt.test(D)||Ft.test(D)||$e.test(D)||Ye.test(t)));){if(D.search(/[^ ]/)>=l||!D.trim())B+="\n"+D.slice(l);else{if(p||E.search(/[^ ]/)>=4||lt.test(E)||Ft.test(E)||Ye.test(E))break;B+="\n"+D}!p&&!D.trim()&&(p=!0),r+=R+"\n",t=t.substring(R.length+1),E=D.slice(l)}Se.loose||(y?Se.loose=!0:/\n *\n *$/.test(r)&&(y=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(B))&&(u="[ ] "!==s[0],B=B.replace(/^\[[ xX]\] +/,"")),Se.items.push({type:"list_item",raw:r,task:!!s,checked:u,loose:!1,text:B}),Se.raw+=r}Se.items[Se.items.length-1].raw=r.trimRight(),Se.items[Se.items.length-1].text=B.trimRight(),Se.raw=Se.raw.trimRight();var pt=Se.items.length;for(c=0;c<pt;c++)if(this.lexer.state.top=!1,Se.items[c].tokens=this.lexer.blockTokens(Se.items[c].text,[]),!Se.loose){var Zt=Se.items[c].tokens.filter(function(Yt){return"space"===Yt.type}),Gt=Zt.length>0&&Zt.some(function(Yt){return/\n.*\n/.test(Yt.raw)});Se.loose=Gt}if(Se.loose)for(c=0;c<pt;c++)Se.items[c].loose=!0;return Se}}},{key:"html",value:function(t){var e=this.rules.block.html.exec(t);if(e){var r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){var s=this.options.sanitizer?this.options.sanitizer(e[0]):Po(e[0]);r.type="paragraph",r.text=s,r.tokens=this.lexer.inline(s)}return r}}},{key:"def",value:function(t){var e=this.rules.block.def.exec(t);if(e){var r=e[1].toLowerCase().replace(/\s+/g," "),s=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:s,title:u}}}},{key:"table",value:function(t){var e=this.rules.block.table.exec(t);if(e){var r={type:"table",header:HO(e[1]).map(function(y){return{text:y}}),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];var u,l,c,p,s=r.align.length;for(u=0;u<s;u++)r.align[u]=/^ *-+: *$/.test(r.align[u])?"right":/^ *:-+: *$/.test(r.align[u])?"center":/^ *:-+ *$/.test(r.align[u])?"left":null;for(s=r.rows.length,u=0;u<s;u++)r.rows[u]=HO(r.rows[u],r.header.length).map(function(y){return{text:y}});for(s=r.header.length,l=0;l<s;l++)r.header[l].tokens=this.lexer.inline(r.header[l].text);for(s=r.rows.length,l=0;l<s;l++)for(p=r.rows[l],c=0;c<p.length;c++)p[c].tokens=this.lexer.inline(p[c].text);return r}}}},{key:"lheading",value:function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}},{key:"paragraph",value:function(t){var e=this.rules.block.paragraph.exec(t);if(e){var r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}},{key:"text",value:function(t){var e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}},{key:"escape",value:function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Po(e[1])}}},{key:"tag",value:function(t){var e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Po(e[0]):e[0]}}},{key:"link",value:function(t){var e=this.rules.inline.link.exec(t);if(e){var r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var s=R2(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{var u=function q9(a,n){if(-1===a.indexOf(n[1]))return-1;for(var t=a.length,e=0,r=0;r<t;r++)if("\\"===a[r])r++;else if(a[r]===n[0])e++;else if(a[r]===n[1]&&--e<0)return r;return-1}(e[2],"()");if(u>-1){var c=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,c).trim(),e[3]=""}}var p=e[2],y="";if(this.options.pedantic){var E=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(p);E&&(p=E[1],y=E[3])}else y=e[3]?e[3].slice(1,-1):"";return p=p.trim(),/^</.test(p)&&(p=this.options.pedantic&&!/>$/.test(r)?p.slice(1):p.slice(1,-1)),KO(e,{href:p&&p.replace(this.rules.inline._escapes,"$1"),title:y&&y.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}},{key:"reflink",value:function(t,e){var r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){var s=(r[2]||r[1]).replace(/\s+/g," ");if(!(s=e[s.toLowerCase()])){var u=r[0].charAt(0);return{type:"text",raw:u,text:u}}return KO(r,s,r[0],this.lexer)}}},{key:"emStrong",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.rules.inline.emStrong.lDelim.exec(t);if(s&&(!s[3]||!r.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))){var u=s[1]||s[2]||"";if(!u||u&&(""===r||this.rules.inline.punctuation.exec(r))){var c,p,l=s[0].length-1,y=l,E=0,D="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(D.lastIndex=0,e=e.slice(-1*t.length+l);null!=(s=D.exec(e));)if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6]){if(p=c.length,s[3]||s[4]){y+=p;continue}if((s[5]||s[6])&&l%3&&!((l+p)%3)){E+=p;continue}if(!((y-=p)>0)){p=Math.min(p,p+y+E);var R=t.slice(0,l+s.index+(s[0].length-c.length)+p);if(Math.min(l,p)%2){var B=R.slice(1,-1);return{type:"em",raw:R,text:B,tokens:this.lexer.inlineTokens(B)}}var te=R.slice(2,-2);return{type:"strong",raw:R,text:te,tokens:this.lexer.inlineTokens(te)}}}}}}},{key:"codespan",value:function(t){var e=this.rules.inline.code.exec(t);if(e){var r=e[2].replace(/\n/g," "),s=/[^ ]/.test(r),u=/^ /.test(r)&&/ $/.test(r);return s&&u&&(r=r.substring(1,r.length-1)),r=Po(r,!0),{type:"codespan",raw:e[0],text:r}}}},{key:"br",value:function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}},{key:"autolink",value:function(t,e){var s,u,r=this.rules.inline.autolink.exec(t);if(r)return u="@"===r[2]?"mailto:"+(s=Po(this.options.mangle?e(r[1]):r[1])):s=Po(r[1]),{type:"link",raw:r[0],text:s,href:u,tokens:[{type:"text",raw:s,text:s}]}}},{key:"url",value:function(t,e){var r;if(r=this.rules.inline.url.exec(t)){var s,u;if("@"===r[2])u="mailto:"+(s=Po(this.options.mangle?e(r[0]):r[0]));else{var l;do{l=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(l!==r[0]);s=Po(r[0]),u="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:s,href:u,tokens:[{type:"text",raw:s,text:s}]}}}},{key:"inlineText",value:function(t,e){var s,r=this.rules.inline.text.exec(t);if(r)return s=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Po(r[0]):r[0]:Po(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:s}}}]),a}(),Nn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:A2,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Nn.def=Xr(Nn.def).replace("label",Nn._label).replace("title",Nn._title).getRegex(),Nn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Nn.listItemStart=Xr(/^( *)(bull) */).replace("bull",Nn.bullet).getRegex(),Nn.list=Xr(Nn.list).replace(/bull/g,Nn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Nn.def.source+")").getRegex(),Nn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Nn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Nn.html=Xr(Nn.html,"i").replace("comment",Nn._comment).replace("tag",Nn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Nn.paragraph=Xr(Nn._paragraph).replace("hr",Nn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nn._tag).getRegex(),Nn.blockquote=Xr(Nn.blockquote).replace("paragraph",Nn.paragraph).getRegex(),Nn.normal=(0,ue.Z)({},Nn),Nn.gfm=(0,ue.Z)((0,ue.Z)({},Nn.normal),{},{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Nn.gfm.table=Xr(Nn.gfm.table).replace("hr",Nn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nn._tag).getRegex(),Nn.gfm.paragraph=Xr(Nn._paragraph).replace("hr",Nn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Nn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nn._tag).getRegex(),Nn.pedantic=(0,ue.Z)((0,ue.Z)({},Nn.normal),{},{html:Xr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Nn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xr(Nn.normal._paragraph).replace("hr",Nn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Nn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var bn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:A2,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:A2,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function X9(a){return a.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function WO(a){var t,e,n="",r=a.length;for(t=0;t<r;t++)e=a.charCodeAt(t),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n}bn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",bn.punctuation=Xr(bn.punctuation).replace(/punctuation/g,bn._punctuation).getRegex(),bn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,bn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,bn._comment=Xr(Nn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),bn.emStrong.lDelim=Xr(bn.emStrong.lDelim).replace(/punct/g,bn._punctuation).getRegex(),bn.emStrong.rDelimAst=Xr(bn.emStrong.rDelimAst,"g").replace(/punct/g,bn._punctuation).getRegex(),bn.emStrong.rDelimUnd=Xr(bn.emStrong.rDelimUnd,"g").replace(/punct/g,bn._punctuation).getRegex(),bn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,bn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,bn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,bn.autolink=Xr(bn.autolink).replace("scheme",bn._scheme).replace("email",bn._email).getRegex(),bn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,bn.tag=Xr(bn.tag).replace("comment",bn._comment).replace("attribute",bn._attribute).getRegex(),bn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,bn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,bn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,bn.link=Xr(bn.link).replace("label",bn._label).replace("href",bn._href).replace("title",bn._title).getRegex(),bn.reflink=Xr(bn.reflink).replace("label",bn._label).replace("ref",Nn._label).getRegex(),bn.nolink=Xr(bn.nolink).replace("ref",Nn._label).getRegex(),bn.reflinkSearch=Xr(bn.reflinkSearch,"g").replace("reflink",bn.reflink).replace("nolink",bn.nolink).getRegex(),bn.normal=(0,ue.Z)({},bn),bn.pedantic=(0,ue.Z)((0,ue.Z)({},bn.normal),{},{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Xr(/^!?\[(label)\]\((.*?)\)/).replace("label",bn._label).getRegex(),reflink:Xr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bn._label).getRegex()}),bn.gfm=(0,ue.Z)((0,ue.Z)({},bn.normal),{},{escape:Xr(bn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),bn.gfm.url=Xr(bn.gfm.url,"i").replace("email",bn.gfm._extended_email).getRegex(),bn.breaks=(0,ue.Z)((0,ue.Z)({},bn.gfm),{},{br:Xr(bn.br).replace("{2,}","*").getRegex(),text:Xr(bn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var G_=function(){function a(n){(0,h.Z)(this,a),this.tokens=[],this.tokens.links=Object.create(null),this.options=n||$l,this.options.tokenizer=this.options.tokenizer||new TA,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:Nn.normal,inline:bn.normal};this.options.pedantic?(t.block=Nn.pedantic,t.inline=bn.pedantic):this.options.gfm&&(t.block=Nn.gfm,t.inline=this.options.breaks?bn.breaks:bn.gfm),this.tokenizer.rules=t}return(0,v.Z)(a,[{key:"lex",value:function(t){t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);for(var e;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}},{key:"blockTokens",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,function(E,D,R){return D+"    ".repeat(R.length)});for(var s,u,l,c,p=function(){if(e.options.extensions&&e.options.extensions.block&&e.options.extensions.block.some(function(ne){return!!(s=ne.call({lexer:e},t,r))&&(t=t.substring(s.raw.length),r.push(s),!0)}))return"continue";if(s=e.tokenizer.space(t))return t=t.substring(s.raw.length),1===s.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(s),"continue";if(s=e.tokenizer.code(t))return t=t.substring(s.raw.length),!(u=r[r.length-1])||"paragraph"!==u.type&&"text"!==u.type?r.push(s):(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue[e.inlineQueue.length-1].src=u.text),"continue";if((s=e.tokenizer.fences(t))||(s=e.tokenizer.heading(t))||(s=e.tokenizer.hr(t))||(s=e.tokenizer.blockquote(t))||(s=e.tokenizer.list(t))||(s=e.tokenizer.html(t)))return t=t.substring(s.raw.length),r.push(s),"continue";if(s=e.tokenizer.def(t))return t=t.substring(s.raw.length),!(u=r[r.length-1])||"paragraph"!==u.type&&"text"!==u.type?e.tokens.links[s.tag]||(e.tokens.links[s.tag]={href:s.href,title:s.title}):(u.raw+="\n"+s.raw,u.text+="\n"+s.raw,e.inlineQueue[e.inlineQueue.length-1].src=u.text),"continue";if((s=e.tokenizer.table(t))||(s=e.tokenizer.lheading(t)))return t=t.substring(s.raw.length),r.push(s),"continue";if(l=t,e.options.extensions&&e.options.extensions.startBlock){var B,D=1/0,R=t.slice(1);e.options.extensions.startBlock.forEach(function(ne){"number"==typeof(B=ne.call({lexer:this},R))&&B>=0&&(D=Math.min(D,B))}),D<1/0&&D>=0&&(l=t.substring(0,D+1))}if(e.state.top&&(s=e.tokenizer.paragraph(l)))return u=r[r.length-1],c&&"paragraph"===u.type?(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue.pop(),e.inlineQueue[e.inlineQueue.length-1].src=u.text):r.push(s),c=l.length!==t.length,t=t.substring(s.raw.length),"continue";if(s=e.tokenizer.text(t))return t=t.substring(s.raw.length),(u=r[r.length-1])&&"text"===u.type?(u.raw+="\n"+s.raw,u.text+="\n"+s.text,e.inlineQueue.pop(),e.inlineQueue[e.inlineQueue.length-1].src=u.text):r.push(s),"continue";if(t){var te="Infinite loop on byte: "+t.charCodeAt(0);if(e.options.silent)return console.error(te),"break";throw new Error(te)}};t;){var y=p();if("continue"!==y&&"break"===y)break}return this.state.top=!0,r}},{key:"inline",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:t,tokens:e}),e}},{key:"inlineTokens",value:function(t){var s,u,l,p,y,E,e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=t;if(this.tokens.links){var D=Object.keys(this.tokens.links);if(D.length>0)for(;null!=(p=this.tokenizer.rules.inline.reflinkSearch.exec(c));)D.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,p.index)+"["+qO("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(p=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,p.index)+"["+qO("a",p[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(p=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,p.index+p[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(var R=function(){if(y||(E=""),y=!1,e.options.extensions&&e.options.extensions.inline&&e.options.extensions.inline.some(function($e){return!!(s=$e.call({lexer:e},t,r))&&(t=t.substring(s.raw.length),r.push(s),!0)}))return"continue";if(s=e.tokenizer.escape(t))return t=t.substring(s.raw.length),r.push(s),"continue";if(s=e.tokenizer.tag(t))return t=t.substring(s.raw.length),(u=r[r.length-1])&&"text"===s.type&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):r.push(s),"continue";if(s=e.tokenizer.link(t))return t=t.substring(s.raw.length),r.push(s),"continue";if(s=e.tokenizer.reflink(t,e.tokens.links))return t=t.substring(s.raw.length),(u=r[r.length-1])&&"text"===s.type&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):r.push(s),"continue";if((s=e.tokenizer.emStrong(t,c,E))||(s=e.tokenizer.codespan(t))||(s=e.tokenizer.br(t))||(s=e.tokenizer.del(t))||(s=e.tokenizer.autolink(t,WO))||!e.state.inLink&&(s=e.tokenizer.url(t,WO)))return t=t.substring(s.raw.length),r.push(s),"continue";if(l=t,e.options.extensions&&e.options.extensions.startInline){var Se,ne=1/0,he=t.slice(1);e.options.extensions.startInline.forEach(function($e){"number"==typeof(Se=$e.call({lexer:this},he))&&Se>=0&&(ne=Math.min(ne,Se))}),ne<1/0&&ne>=0&&(l=t.substring(0,ne+1))}if(s=e.tokenizer.inlineText(l,X9))return t=t.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(E=s.raw.slice(-1)),y=!0,(u=r[r.length-1])&&"text"===u.type?(u.raw+=s.raw,u.text+=s.text):r.push(s),"continue";if(t){var we="Infinite loop on byte: "+t.charCodeAt(0);if(e.options.silent)return console.error(we),"break";throw new Error(we)}};t;){var B=R();if("continue"!==B&&"break"===B)break}return r}}],[{key:"rules",get:function(){return{block:Nn,inline:bn}}},{key:"lex",value:function(t,e){return new a(e).lex(t)}},{key:"lexInline",value:function(t,e){return new a(e).inlineTokens(t)}}]),a}(),Ll=function(){function a(n){(0,h.Z)(this,a),this.options=n||$l}return(0,v.Z)(a,[{key:"code",value:function(t,e,r){var s=(e||"").match(/\S*/)[0];if(this.options.highlight){var u=this.options.highlight(t,s);null!=u&&u!==t&&(r=!0,t=u)}return t=t.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+Po(s)+'">'+(r?t:Po(t,!0))+"</code></pre>\n":"<pre><code>"+(r?t:Po(t,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(t){return"<blockquote>\n".concat(t,"</blockquote>\n")}},{key:"html",value:function(t){return t}},{key:"heading",value:function(t,e,r,s){if(this.options.headerIds){var u=this.options.headerPrefix+s.slug(r);return"<h".concat(e,' id="').concat(u,'">').concat(t,"</h").concat(e,">\n")}return"<h".concat(e,">").concat(t,"</h").concat(e,">\n")}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(t,e,r){var s=e?"ol":"ul";return"<"+s+(e&&1!==r?' start="'+r+'"':"")+">\n"+t+"</"+s+">\n"}},{key:"listitem",value:function(t){return"<li>".concat(t,"</li>\n")}},{key:"checkbox",value:function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(t){return"<p>".concat(t,"</p>\n")}},{key:"table",value:function(t,e){return e&&(e="<tbody>".concat(e,"</tbody>")),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}},{key:"tablerow",value:function(t){return"<tr>\n".concat(t,"</tr>\n")}},{key:"tablecell",value:function(t,e){var r=e.header?"th":"td";return(e.align?"<".concat(r,' align="').concat(e.align,'">'):"<".concat(r,">"))+t+"</".concat(r,">\n")}},{key:"strong",value:function(t){return"<strong>".concat(t,"</strong>")}},{key:"em",value:function(t){return"<em>".concat(t,"</em>")}},{key:"codespan",value:function(t){return"<code>".concat(t,"</code>")}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(t){return"<del>".concat(t,"</del>")}},{key:"link",value:function(t,e,r){if(null===(t=GO(this.options.sanitize,this.options.baseUrl,t)))return r;var s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+">"+r+"</a>"}},{key:"image",value:function(t,e,r){if(null===(t=GO(this.options.sanitize,this.options.baseUrl,t)))return r;var s='<img src="'.concat(t,'" alt="').concat(r,'"');return e&&(s+=' title="'.concat(e,'"')),s+(this.options.xhtml?"/>":">")}},{key:"text",value:function(t){return t}}]),a}(),XO=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"strong",value:function(t){return t}},{key:"em",value:function(t){return t}},{key:"codespan",value:function(t){return t}},{key:"del",value:function(t){return t}},{key:"html",value:function(t){return t}},{key:"text",value:function(t){return t}},{key:"link",value:function(t,e,r){return""+r}},{key:"image",value:function(t,e,r){return""+r}},{key:"br",value:function(){return""}}]),a}(),QO=function(){function a(){(0,h.Z)(this,a),this.seen={}}return(0,v.Z)(a,[{key:"serialize",value:function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}},{key:"getNextSafeSlug",value:function(t,e){var r=t,s=0;if(this.seen.hasOwnProperty(r)){s=this.seen[t];do{r=t+"-"+ ++s}while(this.seen.hasOwnProperty(r))}return e||(this.seen[t]=s,this.seen[r]=0),r}},{key:"slug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.serialize(t);return this.getNextSafeSlug(r,e.dryrun)}}]),a}(),H_=function(){function a(n){(0,h.Z)(this,a),this.options=n||$l,this.options.renderer=this.options.renderer||new Ll,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new XO,this.slugger=new QO}return(0,v.Z)(a,[{key:"parse",value:function(t){var s,u,l,c,p,y,E,D,R,B,te,ne,he,Se,we,$e,Ye,lt,Ft,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="",pt=t.length;for(s=0;s<pt;s++)if(B=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[B.type]&&(!1!==(Ft=this.options.extensions.renderers[B.type].call({parser:this},B))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(B.type)))r+=Ft||"";else switch(B.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(B.tokens),B.depth,VO(this.parseInline(B.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(B.text,B.lang,B.escaped);continue;case"table":for(D="",E="",c=B.header.length,u=0;u<c;u++)E+=this.renderer.tablecell(this.parseInline(B.header[u].tokens),{header:!0,align:B.align[u]});for(D+=this.renderer.tablerow(E),R="",c=B.rows.length,u=0;u<c;u++){for(E="",p=(y=B.rows[u]).length,l=0;l<p;l++)E+=this.renderer.tablecell(this.parseInline(y[l].tokens),{header:!1,align:B.align[l]});R+=this.renderer.tablerow(E)}r+=this.renderer.table(D,R);continue;case"blockquote":R=this.parse(B.tokens),r+=this.renderer.blockquote(R);continue;case"list":for(te=B.ordered,ne=B.start,he=B.loose,c=B.items.length,R="",u=0;u<c;u++)$e=(we=B.items[u]).checked,Ye=we.task,Se="",we.task&&(lt=this.renderer.checkbox($e),he?we.tokens.length>0&&"paragraph"===we.tokens[0].type?(we.tokens[0].text=lt+" "+we.tokens[0].text,we.tokens[0].tokens&&we.tokens[0].tokens.length>0&&"text"===we.tokens[0].tokens[0].type&&(we.tokens[0].tokens[0].text=lt+" "+we.tokens[0].tokens[0].text)):we.tokens.unshift({type:"text",text:lt}):Se+=lt),Se+=this.parse(we.tokens,he),R+=this.renderer.listitem(Se,Ye,$e);r+=this.renderer.list(R,te,ne);continue;case"html":r+=this.renderer.html(B.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(B.tokens));continue;case"text":for(R=B.tokens?this.parseInline(B.tokens):B.text;s+1<pt&&"text"===t[s+1].type;)R+="\n"+((B=t[++s]).tokens?this.parseInline(B.tokens):B.text);r+=e?this.renderer.paragraph(R):R;continue;default:var Zt='Token with "'+B.type+'" type was not found.';if(this.options.silent)return void console.error(Zt);throw new Error(Zt)}return r}},{key:"parseInline",value:function(t,e){e=e||this.renderer;var s,u,l,r="",c=t.length;for(s=0;s<c;s++)if(u=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(!1!==(l=this.options.extensions.renderers[u.type].call({parser:this},u))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)))r+=l||"";else switch(u.type){case"escape":case"text":r+=e.text(u.text);break;case"html":r+=e.html(u.text);break;case"link":r+=e.link(u.href,u.title,this.parseInline(u.tokens,e));break;case"image":r+=e.image(u.href,u.title,u.text);break;case"strong":r+=e.strong(this.parseInline(u.tokens,e));break;case"em":r+=e.em(this.parseInline(u.tokens,e));break;case"codespan":r+=e.codespan(u.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(u.tokens,e));break;default:var p='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(p);throw new Error(p)}return r}}],[{key:"parse",value:function(t,e){return new a(e).parse(t)}},{key:"parseInline",value:function(t,e){return new a(e).parseInline(t)}}]),a}(),T2=function(){function a(n){(0,h.Z)(this,a),this.options=n||$l}return(0,v.Z)(a,[{key:"preprocess",value:function(t){return t}},{key:"postprocess",value:function(t){return t}}]),a}();function JO(a,n){return function(t,e,r){"function"==typeof e&&(r=e,e=null);var s=(0,ue.Z)({},e),u=function Q9(a,n,t){return function(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",a){var r="<p>An error occurred:</p><pre>"+Po(e.message+"",!0)+"</pre>";return n?Promise.resolve(r):t?void t(null,r):r}if(n)return Promise.reject(e);if(!t)throw e;t(e)}}((e=(0,ue.Z)((0,ue.Z)({},Bn.defaults),s)).silent,e.async,r);if(typeof t>"u"||null===t)return u(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(function K9(a){a&&a.sanitize&&!a.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(e),e.hooks&&(e.hooks.options=e),r){var c,l=e.highlight;try{e.hooks&&(t=e.hooks.preprocess(t)),c=a(t,e)}catch(R){return u(R)}var p=function(B){var te;if(!B)try{e.walkTokens&&Bn.walkTokens(c,e.walkTokens),te=n(c,e),e.hooks&&(te=e.hooks.postprocess(te))}catch(ne){B=ne}return e.highlight=l,B?u(B):r(null,te)};if(!l||l.length<3||(delete e.highlight,!c.length))return p();var y=0;return Bn.walkTokens(c,function(R){"code"===R.type&&(y++,setTimeout(function(){l(R.text,R.lang,function(B,te){if(B)return p(B);null!=te&&te!==R.text&&(R.text=te,R.escaped=!0),0==--y&&p()})},0))}),void(0===y&&p())}if(e.async)return Promise.resolve(e.hooks?e.hooks.preprocess(t):t).then(function(R){return a(R,e)}).then(function(R){return e.walkTokens?Promise.all(Bn.walkTokens(R,e.walkTokens)).then(function(){return R}):R}).then(function(R){return n(R,e)}).then(function(R){return e.hooks?e.hooks.postprocess(R):R}).catch(u);try{e.hooks&&(t=e.hooks.preprocess(t));var E=a(t,e);e.walkTokens&&Bn.walkTokens(E,e.walkTokens);var D=n(E,e);return e.hooks&&(D=e.hooks.postprocess(D)),D}catch(R){return u(R)}}}function Bn(a,n,t){return JO(G_.lex,H_.parse)(a,n,t)}(0,f.Z)(T2,"passThroughHooks",new Set(["preprocess","postprocess"])),Bn.options=Bn.setOptions=function(a){return function M9(a){$l=a}(Bn.defaults=(0,ue.Z)((0,ue.Z)({},Bn.defaults),a)),Bn},Bn.getDefaults=function $O(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Bn.defaults=$l,Bn.use=function(){for(var a=Bn.defaults.extensions||{renderers:{},childTokens:{}},n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t.forEach(function(r){var s=(0,ue.Z)({},r);if(s.async=Bn.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(function(ne){if(!ne.name)throw new Error("extension name required");if(ne.renderer){var he=a.renderers[ne.name];a.renderers[ne.name]=he?function(){for(var Se=arguments.length,we=new Array(Se),$e=0;$e<Se;$e++)we[$e]=arguments[$e];var Ye=ne.renderer.apply(this,we);return!1===Ye&&(Ye=he.apply(this,we)),Ye}:ne.renderer}if(ne.tokenizer){if(!ne.level||"block"!==ne.level&&"inline"!==ne.level)throw new Error("extension level must be 'block' or 'inline'");a[ne.level]?a[ne.level].unshift(ne.tokenizer):a[ne.level]=[ne.tokenizer],ne.start&&("block"===ne.level?a.startBlock?a.startBlock.push(ne.start):a.startBlock=[ne.start]:"inline"===ne.level&&(a.startInline?a.startInline.push(ne.start):a.startInline=[ne.start]))}ne.childTokens&&(a.childTokens[ne.name]=ne.childTokens)}),s.extensions=a),r.renderer){var u=Bn.defaults.renderer||new Ll,l=function(he){var Se=u[he];u[he]=function(){for(var we=arguments.length,$e=new Array(we),Ye=0;Ye<we;Ye++)$e[Ye]=arguments[Ye];var lt=r.renderer[he].apply(u,$e);return!1===lt&&(lt=Se.apply(u,$e)),lt}};for(var c in r.renderer)l(c);s.renderer=u}if(r.tokenizer){var p=Bn.defaults.tokenizer||new TA,y=function(he){var Se=p[he];p[he]=function(){for(var we=arguments.length,$e=new Array(we),Ye=0;Ye<we;Ye++)$e[Ye]=arguments[Ye];var lt=r.tokenizer[he].apply(p,$e);return!1===lt&&(lt=Se.apply(p,$e)),lt}};for(var E in r.tokenizer)y(E);s.tokenizer=p}if(r.hooks){var D=Bn.defaults.hooks||new T2,R=function(he){var Se=D[he];D[he]=T2.passThroughHooks.has(he)?function(we){if(Bn.defaults.async)return Promise.resolve(r.hooks[he].call(D,we)).then(function(Ye){return Se.call(D,Ye)});var $e=r.hooks[he].call(D,we);return Se.call(D,$e)}:function(){for(var we=arguments.length,$e=new Array(we),Ye=0;Ye<we;Ye++)$e[Ye]=arguments[Ye];var lt=r.hooks[he].apply(D,$e);return!1===lt&&(lt=Se.apply(D,$e)),lt}};for(var B in r.hooks)R(B);s.hooks=D}if(r.walkTokens){var te=Bn.defaults.walkTokens;s.walkTokens=function(ne){var he=[];return he.push(r.walkTokens.call(this,ne)),te&&(he=he.concat(te.call(this,ne))),he}}Bn.setOptions(s)})},Bn.walkTokens=function(a,n){var r,t=[],e=(0,z.Z)(a);try{var s=function(){var l=r.value;switch(t=t.concat(n.call(Bn,l)),l.type){case"table":var p,c=(0,z.Z)(l.header);try{for(c.s();!(p=c.n()).done;)t=t.concat(Bn.walkTokens(p.value.tokens,n))}catch(he){c.e(he)}finally{c.f()}var D,E=(0,z.Z)(l.rows);try{for(E.s();!(D=E.n()).done;){var te,B=(0,z.Z)(D.value);try{for(B.s();!(te=B.n()).done;)t=t.concat(Bn.walkTokens(te.value.tokens,n))}catch(he){B.e(he)}finally{B.f()}}}catch(he){E.e(he)}finally{E.f()}break;case"list":t=t.concat(Bn.walkTokens(l.items,n));break;default:Bn.defaults.extensions&&Bn.defaults.extensions.childTokens&&Bn.defaults.extensions.childTokens[l.type]?Bn.defaults.extensions.childTokens[l.type].forEach(function(he){t=t.concat(Bn.walkTokens(l[he],n))}):l.tokens&&(t=t.concat(Bn.walkTokens(l.tokens,n)))}};for(e.s();!(r=e.n()).done;)s()}catch(u){e.e(u)}finally{e.f()}return t},Bn.parseInline=JO(G_.lexInline,H_.parseInline),Bn.Parser=H_,Bn.parser=H_.parse,Bn.Renderer=Ll,Bn.TextRenderer=XO,Bn.Lexer=G_,Bn.lexer=G_.lex,Bn.Tokenizer=TA,Bn.Slugger=QO,Bn.Hooks=T2,Bn.parse=Bn;var iF,a,r,J9=["*"],YO=function(){var a=function(){function n(){(0,h.Z)(this,n),this._buttonClick$=new yn.x,this.copied$=this._buttonClick$.pipe((0,ct.w)(function(){return(0,ho.T)((0,ze.of)(!0),(0,ZO.H)(3e3).pipe((0,F9.h)(!1)))}),(0,Uu.x)(),(0,lo.d)(1)),this.copiedText$=this.copied$.pipe((0,k2.O)(!1),(0,ke.U)(function(t){return t?"Copied":"Copy"}))}return(0,v.Z)(n,[{key:"onCopyToClipboardClick",value:function(){this._buttonClick$.next()}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"button",0),o.\u0275\u0275listener("click",function(){return e.onCopyToClipboardClick()}),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275classProp("copied",o.\u0275\u0275pipeBind1(1,3,e.copied$)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,5,e.copiedText$)))},dependencies:[w.AsyncPipe],encapsulation:2,changeDetection:0}),a}(),tU=(0,v.Z)(function a(){(0,h.Z)(this,a)}),zu=function(){return(zu=zu||{}).CommandLine="command-line",zu.LineHighlight="line-highlight",zu.LineNumbers="line-numbers",zu}(),eF=(0,v.Z)(function a(){(0,h.Z)(this,a)}),tF=new o.InjectionToken("SECURITY_CONTEXT"),D2=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.platform=t,this.securityContext=e,this.http=r,this.clipboardOptions=s,this.sanitizer=l,this.DEFAULT_MARKED_OPTIONS={renderer:new Ll},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new yn.x,this.reload$=this._reload$.asObservable(),this.options=u}return(0,v.Z)(n,[{key:"options",get:function(){return this._options},set:function(e){this._options=(0,ue.Z)((0,ue.Z)({},this.DEFAULT_MARKED_OPTIONS),e)}},{key:"renderer",get:function(){return this.options.renderer},set:function(e){this.options.renderer=e}},{key:"parse",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_PARSE_OPTIONS,s=r.decodeHtml,u=r.inline,l=r.emoji,c=r.mermaid,p=r.disableSanitizer,y=(0,ue.Z)((0,ue.Z)({},this.options),r.markedOptions);c&&(this.renderer=this.extendRenderer(y.renderer||new Ll));var E=this.trimIndentation(e),D=s?this.decodeHtml(E):E,R=l?this.parseEmoji(D):D,B=this.parseMarked(R,y,u);return(p?B:this.sanitizer.sanitize(this.securityContext,B))||""}},{key:"render",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_RENDER_OPTIONS,l=r.clipboardOptions,c=r.katex,p=r.katexOptions,y=r.mermaid,E=r.mermaidOptions;r.clipboard&&this.renderClipboard(e,arguments.length>2?arguments[2]:void 0,(0,ue.Z)((0,ue.Z)((0,ue.Z)({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),l)),c&&this.renderKatex(e,(0,ue.Z)((0,ue.Z)({},this.DEFAULT_KATEX_OPTIONS),p)),y&&this.renderMermaid(e,(0,ue.Z)((0,ue.Z)({},this.DEFAULT_MERMAID_OPTIONS),E)),this.highlight(e)}},{key:"reload",value:function(){this._reload$.next()}},{key:"getSource",value:function(e){var r=this;if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe((0,ke.U)(function(s){return r.handleExtension(e,s)}))}},{key:"highlight",value:function(e){if((0,w.isPlatformBrowser)(this.platform)&&!(typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")){e||(e=document);var r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,function(s){return s.classList.add("language-none")}),Prism.highlightAllUnder(e)}}},{key:"decodeHtml",value:function(e){if(!(0,w.isPlatformBrowser)(this.platform))return e;var r=document.createElement("textarea");return r.innerHTML=e,r.value}},{key:"extendRenderer",value:function(e){var r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;var s=e.code;return e.code=function(u,l,c){return"mermaid"===l?'<div class="mermaid">'.concat(u,"</div>"):s.call(this,u,l,c)},r.\u0275NgxMarkdownRendererExtended=!0,e}},{key:"handleExtension",value:function(e,r){var s=e.lastIndexOf("://"),u=s>-1?e.substring(s+4):e,l=u.lastIndexOf("/"),c=l>-1?u.substring(l+1).split("?")[0]:"",p=c.lastIndexOf("."),y=p>-1?c.substring(p+1):"";return y&&"md"!==y?"```"+y+"\n"+r+"\n```":r}},{key:"parseMarked",value:function(e,r){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Bn.parseInline(e,r):Bn.parse(e,r)}},{key:"parseEmoji",value:function(e){if(!(0,w.isPlatformBrowser)(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}},{key:"renderKatex",value:function(e,r){if((0,w.isPlatformBrowser)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}},{key:"renderClipboard",value:function(e,r,s){if((0,w.isPlatformBrowser)(this.platform)){if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");for(var u=s.buttonComponent,l=s.buttonTemplate,c=e.querySelectorAll("pre"),p=function(){var D=c.item(y),R=document.createElement("div");R.style.position="relative",D.parentNode.insertBefore(R,D),R.appendChild(D);var te,Se,B=document.createElement("div");B.style.position="absolute",B.style.top=".5em",B.style.right=".5em",B.style.opacity="0",B.style.transition="opacity 250ms ease-out",R.insertAdjacentElement("beforeend",B),D.onmouseover=function(){return B.style.opacity="1"},D.onmouseout=function(){return B.style.opacity="0"},(te=u?r.createComponent(u).hostView:l?r.createEmbeddedView(l):r.createComponent(YO).hostView).rootNodes.forEach(function(we){we.onmouseover=function(){return B.style.opacity="1"},B.appendChild(we),Se=new ClipboardJS(we,{text:function(){return D.innerText}})}),te.onDestroy(function(){return Se.destroy()})},y=0;y<c.length;y++)p()}}},{key:"renderMermaid",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_MERMAID_OPTIONS;if((0,w.isPlatformBrowser)(this.platform)){if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");var s=e.querySelectorAll(".mermaid");0!==s.length&&(mermaid.initialize(r),mermaid.init(s))}}},{key:"trimIndentation",value:function(e){return e?e.split("\n").map(function(s){var u=r;return s.length>0&&(u=isNaN(u)?s.search(/\S|$/):Math.min(s.search(/\S|$/),u)),isNaN(r)&&(r=u),u?s.substring(u):s}).join("\n"):"";var r}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(tF),o.\u0275\u0275inject(O.HttpClient,8),o.\u0275\u0275inject(tU,8),o.\u0275\u0275inject(eF,8),o.\u0275\u0275inject(j.H7))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),nF=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.element=t,this.markdownService=e,this.viewContainerRef=r,this.error=new o.EventEmitter,this.load=new o.EventEmitter,this.ready=new o.EventEmitter,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new yn.x}return(0,v.Z)(n,[{key:"disableSanitizer",get:function(){return this._disableSanitizer},set:function(e){this._disableSanitizer=this.coerceBooleanProperty(e)}},{key:"inline",get:function(){return this._inline},set:function(e){this._inline=this.coerceBooleanProperty(e)}},{key:"srcRelativeLink",get:function(){return this._srcRelativeLink},set:function(e){this._srcRelativeLink=this.coerceBooleanProperty(e)}},{key:"clipboard",get:function(){return this._clipboard},set:function(e){this._clipboard=this.coerceBooleanProperty(e)}},{key:"emoji",get:function(){return this._emoji},set:function(e){this._emoji=this.coerceBooleanProperty(e)}},{key:"katex",get:function(){return this._katex},set:function(e){this._katex=this.coerceBooleanProperty(e)}},{key:"mermaid",get:function(){return this._mermaid},set:function(e){this._mermaid=this.coerceBooleanProperty(e)}},{key:"lineHighlight",get:function(){return this._lineHighlight},set:function(e){this._lineHighlight=this.coerceBooleanProperty(e)}},{key:"lineNumbers",get:function(){return this._lineNumbers},set:function(e){this._lineNumbers=this.coerceBooleanProperty(e)}},{key:"commandLine",get:function(){return this._commandLine},set:function(e){this._commandLine=this.coerceBooleanProperty(e)}},{key:"ngOnChanges",value:function(){this.loadContent()}},{key:"loadContent",value:function(){null==this.data?null==this.src||this.handleSrc():this.handleData()}},{key:"ngAfterViewInit",value:function(){var e=this;!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,mo.R)(this.destroyed$)).subscribe(function(){return e.loadContent()})}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"render",value:function(e){var s,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.src&&this.srcRelativeLink&&(s={baseUrl:new URL(this.src,location.origin).pathname});var c={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},p=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:s,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=p,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,c,this.viewContainerRef),this.ready.emit()}},{key:"coerceBooleanProperty",value:function(e){return null!=e&&"false"!=="".concat(String(e))}},{key:"handleData",value:function(){this.render(this.data)}},{key:"handleSrc",value:function(){var e=this;this.markdownService.getSource(this.src).subscribe({next:function(s){e.render(s),e.load.emit(s)},error:function(s){return e.error.emit(s)}})}},{key:"handleTransclusion",value:function(){this.render(this.element.nativeElement.innerHTML,!0)}},{key:"handlePlugins",value:function(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,zu.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,zu.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}},{key:"setPluginClass",value:function(e,r){for(var s=e.querySelectorAll("pre"),u=0;u<s.length;u++){var l,c=r instanceof Array?r:[r];(l=s.item(u).classList).add.apply(l,(0,_.Z)(c))}}},{key:"setPluginOptions",value:function(e,r){for(var s=this,u=e.querySelectorAll("pre"),l=function(y){Object.keys(r).forEach(function(E){var D=r[E];if(D){var R=s.toLispCase(E);u.item(y).setAttribute(R,D.toString())}})},c=0;c<u.length;c++)l(c)}},{key:"toLispCase",value:function(e){var r=e.match(/([A-Z])/g);if(!r)return e;for(var s=e.toString(),u=0,l=r.length;u<l;u++)s=s.replace(new RegExp(r[u]),"-"+r[u].toLowerCase());return"-"===s.slice(0,1)&&(s=s.slice(1)),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(D2),o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[o.\u0275\u0275NgOnChangesFeature],ngContentSelectors:J9,decls:1,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275projection(0))},encapsulation:2}),a}(),rF=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.domSanitizer=t,this.elementRef=e,this.markdownService=r,this.viewContainerRef=s,this.zone=u}return(0,v.Z)(n,[{key:"transform",value:function(e,r){var s=this;if(null==e)return"";if("string"!=typeof e)return console.error("MarkdownPipe has been invoked with an invalid value type [".concat(typeof e,"]")),e;var u=this.markdownService.parse(e,r);return this.zone.onStable.pipe((0,jO.P)()).subscribe(function(){return s.markdownService.render(s.elementRef.nativeElement,r,s.viewContainerRef)}),this.domSanitizer.bypassSecurityTrustHtml(u)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(j.H7,16),o.\u0275\u0275directiveInject(o.ElementRef,16),o.\u0275\u0275directiveInject(D2,16),o.\u0275\u0275directiveInject(o.ViewContainerRef,16),o.\u0275\u0275directiveInject(o.NgZone,16))},a.\u0275pipe=o.\u0275\u0275definePipe({name:"markdown",type:a,pure:!0}),a}(),DA=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(e){return{ngModule:n,providers:[D2,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:tF,useValue:e&&null!=e.sanitize?e.sanitize:o.SecurityContext.HTML}]}}},{key:"forChild",value:function(){return{ngModule:n}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}();(r=(a=iF||(iF={})).SecurityLevel||(a.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(a.Theme||(a.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(a.LogLevel||(a.LogLevel={}));var Li=S(6391),Oi=S(8376),rn=S(3273),Dn=S(7189),ro=S(8956);function lU(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function cU(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"form",3),o.\u0275\u0275listener("ngSubmit",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.submit())}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",4),o.\u0275\u0275template(3,lU,1,0,"ng-container",5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"mat-dialog-actions")(5,"button",6),o.\u0275\u0275text(6,"Save"),o.\u0275\u0275elementEnd()()()}if(2&a){var e=o.\u0275\u0275nextContext(),r=o.\u0275\u0275reference(3);o.\u0275\u0275property("formGroup",e.contentForm),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngTemplateOutlet",r),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.contentForm.valid)}}function dU(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function fU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",4),o.\u0275\u0275template(1,dU,1,0,"ng-container",5),o.\u0275\u0275elementEnd()),2&a){o.\u0275\u0275nextContext();var t=o.\u0275\u0275reference(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)}}function pU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"li"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.key)}}function hU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"ul",18),o.\u0275\u0275template(1,pU,2,1,"li",19),o.\u0275\u0275pipe(2,"keyvalue"),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("hidden",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(2,2,t.tokens))}}function mU(a,n){if(1&a&&(o.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),o.\u0275\u0275pipe(1,"markdown")),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("content",o.\u0275\u0275pipeBind1(1,1,t.preview))}}function gU(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-dynamic-content-viewer",20),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("content",t.preview)}}function vU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"as-split",7)(1,"as-split-area",8)(2,"div"),o.\u0275\u0275template(3,hU,3,4,"ul",9),o.\u0275\u0275elementStart(4,"mat-form-field")(5,"mat-label"),o.\u0275\u0275text(6,"Content Type"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"mat-select",10)(8,"mat-option",11),o.\u0275\u0275text(9,"Markdown"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"mat-option",12),o.\u0275\u0275text(11,"HTML"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"mat-option",13),o.\u0275\u0275text(13,"JSON"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(14,"as-split",14)(15,"as-split-area",8)(16,"div"),o.\u0275\u0275element(17,"textarea",15),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(18,"as-split-area",8)(19,"div"),o.\u0275\u0275element(20,"textarea",16),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(21,"as-split-area",8),o.\u0275\u0275template(22,mU,2,3,"classifieds-ui-dynamic-content-viewer",17),o.\u0275\u0275template(23,gU,1,1,"classifieds-ui-dynamic-content-viewer",17),o.\u0275\u0275elementEnd()()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("direction",t.splitDirection)("formGroup",t.contentForm),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",t.tokens),o.\u0275\u0275advance(14),o.\u0275\u0275property("cols",t.cols)("rows",t.rows),o.\u0275\u0275advance(3),o.\u0275\u0275property("cols",t.cols)("rows",t.rows),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",t.isMarkdown),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.isMarkdown)}}var Ul=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.content=n.content,this.contentType=n.contentType,n.jsFile&&""!==n.jsFile&&(this.jsFile=n.jsFile),n.jsScript&&""!==n.jsScript&&(this.jsScript=n.jsScript))}),I2=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.fb=t,this.submitted=new o.EventEmitter,this.splitDirection="vertical",this.rows=40,this.cols=100,this.rootForm=!0,this.onTouched=function(){},this.contentForm=this.fb.group({content:this.fb.control("",K.kI.required),contentType:this.fb.control("",K.kI.required),jsScript:this.fb.control("")}),this.isMarkdown=!1,this.contentEditorOptions={theme:"vs-dark",language:"text/html"}}return(0,v.Z)(n,[{key:"snippet",set:function(e){void 0!==e&&this.contentForm.setValue((0,ue.Z)((0,ue.Z)({},e),{},{jsScript:e.jsScript&&""!==e.jsScript?e.jsScript:""}))}},{key:"ngOnInit",value:function(){var e=this;this.contentForm.get("content").valueChanges.pipe((0,Uu.x)(),(0,Nr.b)(500),(0,ke.U)(function(r){return void 0!==e.tokens?e.replaceTokens(r):r})).subscribe(function(r){e.preview=r}),this.contentForm.get("contentType").valueChanges.subscribe(function(r){e.isMarkdown="text/markdown"===r})}},{key:"writeValue",value:function(e){e&&(console.log("write value: ".concat(e)),this.contentForm.setValue(e,{emitEvent:!1}))}},{key:"registerOnChange",value:function(e){this.contentForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"snippet is invalid"}}}},{key:"submit",value:function(){this.submitted.emit(new Ul({content:this.contentForm.get("content").value,contentType:this.contentForm.get("contentType").value,jsScript:this.contentForm.get("jsScript").value}))}},{key:"replaceTokens",value:function(e){return this.tokens&&this.tokens.forEach(function(r,s){e=e.replace("[".concat(s,"]"),"".concat(r," [token = '").concat(s,"']"))}),e}},{key:"addScript",value:function(){var e=document.createElement("script");e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-snippet-form"]],inputs:{tokens:"tokens",splitDirection:"splitDirection",rows:"rows",cols:"cols",rootForm:"rootForm",snippet:"snippet"},outputs:{submitted:"submitted"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:4,vars:2,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["class","content-inner",4,"ngIf"],["formBodyTpl",""],[3,"formGroup","ngSubmit"],[1,"content-inner"],[4,"ngTemplateOutlet"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"direction","formGroup"],["size","50"],[3,"hidden",4,"ngIf"],["required","","formControlName","contentType"],["value","text/markdown"],["value","text/html"],["value","application/json"],["direction","horizontal"],["formControlName","content",3,"cols","rows"],["formControlName","jsScript",3,"cols","rows"],[3,"content",4,"ngIf"],[3,"hidden"],[4,"ngFor","ngForOf"],[3,"content"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,cU,7,3,"form",0),o.\u0275\u0275template(1,fU,2,1,"div",1),o.\u0275\u0275template(2,vU,24,9,"ng-template",null,2,o.\u0275\u0275templateRefExtractor)),2&t&&(o.\u0275\u0275property("ngIf",e.rootForm),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.rootForm))},dependencies:[w.NgForOf,w.NgIf,w.NgTemplateOutlet,K._Y,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,z_,V_,Li.CK,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,Dn.$V,ro.x8,zn.DynamicContentViewer,w.KeyValuePipe,rF]}),a}(),IA=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.UX,K.u5,go,E2,no.MaterialModule,Wc,DA,zn.UtilsModule]}),a}(),oF=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"parseSnippet",value:function(e){return(0,ze.of)(e.snippet.content)}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Mn=S(5813),yU=S(1954);function zr(a,n,t){return(0,yU.P)(function(){return a()?n:t})}var Or=S(6562),Fi=S(4744),q_=S(8603),ai=S(894),aa=S(3670);function _U(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",10),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.id),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}function xU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",10),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function bU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),o.\u0275\u0275text(2,"Context"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-select",11),o.\u0275\u0275template(4,xU,2,2,"mat-option",4),o.\u0275\u0275elementEnd()()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(4),o.\u0275\u0275property("ngForOf",t.contexts)}}function CU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",12)(1,"mat-checkbox",13),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()),2&a){var t=n.index,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("formGroupName",t),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.flagsAsArray[t])}}function wU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",1)(1,"div"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-form-field",2)(4,"mat-label"),o.\u0275\u0275text(5,"Type"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-select",3),o.\u0275\u0275template(7,_U,2,2,"mat-option",4),o.\u0275\u0275pipe(8,"keyvalue"),o.\u0275\u0275pipe(9,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(10,bU,5,1,"mat-form-field",5),o.\u0275\u0275elementStart(11,"mat-form-field",2),o.\u0275\u0275element(12,"input",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"mat-form-field",2),o.\u0275\u0275element(14,"input",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"div",8),o.\u0275\u0275template(16,CU,3,2,"div",9),o.\u0275\u0275elementEnd()()),2&a){var t=n.$implicit,e=n.index,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",t),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(r.paramName(e)),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(8,5,o.\u0275\u0275pipeBind1(9,7,r.paramPlugins$))),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf","context"==t.get("mapping").get("type").value),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngForOf",t.get("flags").controls)}}function SU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",4),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.id),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}var ou=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.evalParam=e.evalParam,e.condition&&(r.condition=e.condition),e.usedContexts&&(r.usedContexts=e.usedContexts)),r}return(0,v.Z)(t)}(Mn.Plugin),io=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.mapping=new aF(n.mapping),void 0!==n.flags&&(this.flags=n.flags.map(function(t){return new PU(t)})))}),aF=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.type=n.type,this.value=n.value,this.testValue=n.testValue,this.context=n.context)}),PU=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.name=n.name,this.enabled=n.enabled)}),au=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.plugin=n.plugin,this.settings=n.settings?new sF(n.settings):new sF)}),sF=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.paramsString=n.paramsString,n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new io(t)})))}),Vu=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"param"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),K_=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.ppm=e,this.contexts=[],this.params$=new en.X({}),this.paramValues$=new en.X([]),this.init$=new yn.x,this.formArray=this.fb.array([]),this.paramPlugins$=this.ppm.getPlugins(),this.flags=new Map,this.savedParams=new Map,this.paramIndexes=new Map,this.paramsSub=this.params$.pipe((0,bt.b)(function(s){var u=new Map((0,_.Z)(r.paramIndexes));r.formArray.clear(),r.paramIndexes.clear();var l=0;for(var c in s)Array.isArray(s[c])?(s[c].forEach(function(p){return r.buildParams(p,l,u)}),l++):0===s[c].indexOf(":")&&(r.buildParams(s[c],l,u),l++)})).subscribe(),this.savedParamsSub=this.formArray.valueChanges.pipe((0,Nr.b)(1e3),(0,bt.b)(function(s){for(var u=s.length,l=0;l<u;l++)r.savedParams.set(r.paramName(l),new io(s[l]))})).subscribe(),this.paramValuesSub=(0,Or.a)([this.paramValues$,this.params$,this.init$]).pipe((0,bt.b)(function(s){for(var l=(0,g.Z)(s,1)[0],c=l?l.length:0,p=function(D){var R=Array.from(r.paramIndexes).find(function(B){return(0,g.Z)(B,2)[1]===D});void 0!==R&&r.savedParams.set(R[0],l[D])},y=0;y<c;y++)p(y)})).subscribe(),this.onTouched=function(){},this.flags.set("page","Page"),this.flags.set("limit","Limit"),this.flags.set("offset","Offset"),this.flags.set("searchString","Search String")}return(0,v.Z)(n,[{key:"params",set:function(e){this.params$.next(e)}},{key:"paramValues",set:function(e){this.paramValues$.next(e)}},{key:"flagsAsArray",get:function(){var e=[];return this.flags.forEach(function(r,s){e.push(s)}),e}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.formArray.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formArray.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formArray.disable():this.formArray.enable()}},{key:"validate",value:function(e){return this.formArray.valid?null:this.formArray.errors}},{key:"buildParams",value:function(e,r,s){var u=this;console.log("build param ".concat(e)),this.paramIndexes.set(e,r),this.formArray.push(this.fb.group({mapping:this.fb.group({type:this.fb.control("",K.kI.required),value:this.fb.control("",K.kI.required),testValue:this.fb.control(""),context:this.fb.control("")}),flags:this.fb.array(this.flagsAsArray.map(function(l){return u.fb.group({name:l,enabled:u.fb.control(!1)})}))})),this.savedParams.has(e)?this.formArray.at(r).setValue(this.savedParams.get(e)):r<this.paramValues$.value.length&&-1===Array.from(s).findIndex(function(l){return(0,g.Z)(l,2)[1]===r})&&this.formArray.at(r).setValue(this.paramValues$.value[r])}},{key:"paramName",value:function(e){var r=0;for(var s in this.params$.value)if(Array.isArray(this.params$.value[s]))for(var u=0;u<this.params$.value[s].length;u++){if(e===r)return this.params$.value[s][u];r++}else if(0===this.params$.value[s].indexOf(":")){if(r===e)return this.params$.value[s];r++}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Vu))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-params-form"]],inputs:{contexts:"contexts",params:"params",paramValues:"paramValues"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","mapping"],["required","","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","mapping",4,"ngIf"],["matInput","","formControlName","value","placeholder","value","required",""],["matInput","","formControlName","testValue","placeholder","Test Value","required",""],["formArrayName","flags"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["formControlName","context"],[3,"formGroupName"],["formControlName","enabled"]],template:function(t,e){1&t&&o.\u0275\u0275template(0,wU,17,9,"div",0),2&t&&o.\u0275\u0275property("ngForOf",e.formArray.controls)},dependencies:[w.NgForOf,w.NgIf,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,K.x0,K.CE,Li.CK,q_.FC,Dn.v_,Dn.$V,ai.k0,ro.x8,w.AsyncPipe,w.KeyValuePipe]}),a}(),AU=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new en.X(void 0),this.afterViewInit$=new yn.x,this.paramValues$=new en.X([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Nr.b)(500)).subscribe(function(r){var s=aa.parse("?"+r);e.paramsParsed=s}),this.settingsSub=this.settings$.pipe((0,bt.b)(function(r){r&&e.formGroup.get("paramsString").setValue(r.paramsString?r.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Or.a)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,sn.h)(function(r){return void 0!==(0,g.Z)(r,1)[0]}),(0,gr.g)(1),(0,bt.b)(function(r){var s=(0,g.Z)(r,1);return e.paramValues$.next(s[0].params)})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-params-querystring"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),o.\u0275\u0275element(4,"input",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(5,"classifieds-ui-params-form",3),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(5),o.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[K.Fj,K.JJ,K.JL,K.sg,K.u,Dn.v_,ai.k0,K_]}),a}(),RU=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.plugins$=new en.X([]),this.title$=new en.X("Plugin"),this.instance$=new en.X(new au),this.instanceForm=this.fb.group({plugin:this.fb.control(""),settings:this.fb.control("")}),this.instanceSub=this.instance$.pipe((0,sn.h)(function(r){return!!r}),(0,bt.b)(function(r){e.instanceForm.get("plugin").setValue(r.plugin)})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"title",set:function(e){this.title$.next(e)}},{key:"plugins",set:function(e){this.plugins$.next(e)}},{key:"instance",set:function(e){this.instance$.next(e)}},{key:"writeValue",value:function(e){e&&this.instanceForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.instanceForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.instanceForm.disable():this.instanceForm.enable()}},{key:"validate",value:function(e){return this.instanceForm.valid?null:this.instanceForm.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-params-plugin-instance"]],inputs:{title:"title",plugins:"plugins",instance:"instance"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:10,vars:10,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["formControlName","settings",3,"settings"],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"async"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-select",1),o.\u0275\u0275template(6,SU,2,2,"mat-option",2),o.\u0275\u0275pipe(7,"keyvalue"),o.\u0275\u0275pipe(8,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(9,"druid-params-querystring",3),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.instanceForm),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(4,4,e.title$)),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(7,6,o.\u0275\u0275pipeBind1(8,8,e.plugins$))),o.\u0275\u0275advance(3),o.\u0275\u0275property("settings",e.instance$.value.settings))},dependencies:[w.NgForOf,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,Dn.$V,ro.x8,AU,w.AsyncPipe,w.KeyValuePipe]}),a}(),su=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.paramPluginManager=t,this.tokenizerService=e}return(0,v.Z)(n,[{key:"paramValue",value:function(e,r){var s=this;return this.paramPluginManager.getPlugins().pipe((0,ke.U)(function(u){return Array.from(u).map(function(l){return(0,g.Z)(l,2)[1]})}),(0,ke.U)(function(u){return u.find(function(l){return l.condition&&l.condition({param:e,metadata:r})||!l.condition&&l.id===e.mapping.type})}),(0,ct.w)(function(u){return zr(function(){return!!u},u?u.evalParam({param:e,metadata:r}):(0,ze.of)(),(0,ze.of)(e.mapping.value))}),(0,ke.U)(function(u){return e.mapping.value&&"string"==typeof u&&0===s.tokenizerService.discoverTokens(u).length?u:e.mapping.testValue}))}},{key:"paramValues",value:function(e){var r=this;return(0,nr.D)(Array.from(e.keys()).map(function(s){return r.paramValue(e.get(s),new Map).pipe((0,ke.U)(function(u){return[s,u]}))})).pipe((0,ke.U)(function(s){return s.reduce(function(u,l){return new Map([].concat((0,_.Z)(u),[l]))},new Map)}),(0,Fi.d)(new Map))}},{key:"resolveParams",value:function(e){var r=this,s=e.params;return(0,ct.w)(function(){return zr(function(){return Object.keys(s).length>1},(0,nr.D)(Object.keys(s).map(function(u){return r.paramValue(s[u],new Map).pipe((0,ke.U)(function(l){return(0,f.Z)({},u,l)}))})).pipe((0,ke.U)(function(u){return u.reduce(function(l,c){return(0,ue.Z)((0,ue.Z)({},l),c)},{})}),(0,ke.U)(function(u){return{options:u}})),zr(function(){return 0!==Object.keys(s).length},r.paramValue(0!==Object.keys(s).length?s[Object.keys(s)[0]]:new io,new Map).pipe((0,ke.U)(function(u){return{options:(0,f.Z)({},Object.keys(s)[0],u)}})),(0,ze.of)({options:{}})))})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vu),o.\u0275\u0275inject(Mr))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Gu=function(){var a=(0,v.Z)(function n(t,e){(0,h.Z)(this,n),t.register(new ou({id:"static",title:"Static",evalParam:function(t){return(0,ze.of)(t.param.mapping.value)}})),t.register(function(n){return new ou({id:"inputparam",title:"Input Param",evalParam:function(e){var r=e.param,s=e.metadata;return(0,ze.of)(r.mapping.value).pipe((0,ke.U)(function(u){return s.has("inputparams")&&s.get("inputparams").has(u)?s.get("inputparams").get(u):void 0}),(0,ct.w)(function(u){return zr(function(){return void 0!==u},void 0!==u?n.paramValue(u,s):(0,ze.of)(r.mapping.testValue),(0,ze.of)(r.mapping.testValue))}))}})}(e))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vu),o.\u0275\u0275inject(su))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule]}),a}(),uF="@ngrx/router-store/request",OA=((0,Vt.PH)(uF,(0,Vt.Ky)()),"@ngrx/router-store/navigation"),FA=((0,Vt.PH)(OA,(0,Vt.Ky)()),"@ngrx/router-store/cancel"),MA=((0,Vt.PH)(FA,(0,Vt.Ky)()),"@ngrx/router-store/error"),lF=((0,Vt.PH)(MA,(0,Vt.Ky)()),"@ngrx/router-store/navigated");(0,Vt.PH)(lF,(0,Vt.Ky)());var NA=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"serialize",value:function(t){return{root:this.serializeRoute(t.root),url:t.url}}},{key:"serializeRoute",value:function(t){var e=this,r=t.children.map(function(s){return e.serializeRoute(s)});return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:"string"==typeof t.routeConfig.title?t.routeConfig.title:void 0}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:r[0],children:r}}}]),a}(),uu=function(){return(uu=uu||{})[uu.PreActivation=1]="PreActivation",uu[uu.PostActivation=2]="PostActivation",uu}(),cF="router",dF=new o.InjectionToken("@ngrx/router-store Internal Configuration"),fF=new o.InjectionToken("@ngrx/router-store Configuration");function DU(a){return(0,ue.Z)({stateKey:cF,serializer:NA,navigationActionTiming:uu.PreActivation},a)}var pF=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"serialize",value:function(t){return{root:this.serializeRoute(t.root),url:t.url}}},{key:"serializeRoute",value:function(t){var e=this,r=t.children.map(function(s){return e.serializeRoute(s)});return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:t.routeConfig.title}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:r[0],pathFromRoot:void 0,children:r}}}]),a}(),hF=(0,v.Z)(function a(){(0,h.Z)(this,a)}),oo=function(){return(oo=oo||{})[oo.NONE=1]="NONE",oo[oo.ROUTER=2]="ROUTER",oo[oo.STORE=3]="STORE",oo}(),mF=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.store=t,this.router=e,this.serializer=r,this.errorHandler=s,this.config=u,this.activeRuntimeChecks=l,this.lastEvent=null,this.routerState=null,this.trigger=oo.NONE,this.stateKey=this.config.stateKey,!(0,Vt.rM)()&&(0,o.isDevMode)()&&(null!=l&&l.strictActionSerializability||null!=l&&l.strictStateSerializability)&&this.serializer instanceof pF&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}return(0,v.Z)(n,[{key:"setUpStoreStateListener",value:function(){var e=this;this.store.pipe((0,Vt.Ys)(this.stateKey),(0,ma.M)(this.store)).subscribe(function(r){var s=(0,g.Z)(r,2);e.navigateIfNeeded(s[0],s[1])})}},{key:"navigateIfNeeded",value:function(e,r){var s=this;if(e&&e.state&&this.trigger!==oo.ROUTER&&!(this.lastEvent instanceof Cr.NavigationStart)){var u=e.state.url;(function IU(a,n){return gF(a)===gF(n)})(this.router.url,u)||(this.storeState=r,this.trigger=oo.STORE,this.router.navigateByUrl(u).catch(function(l){s.errorHandler.handleError(l)}))}}},{key:"setUpRouterEventsListener",value:function(){var s,e=this,r=this.config.navigationActionTiming===uu.PostActivation;this.router.events.pipe((0,ma.M)(this.store)).subscribe(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];e.lastEvent=c,c instanceof Cr.NavigationStart?(e.routerState=e.serializer.serialize(e.router.routerState.snapshot),e.trigger!==oo.STORE&&(e.storeState=p,e.dispatchRouterRequest(c))):c instanceof Cr.RoutesRecognized?(s=c,!r&&e.trigger!==oo.STORE&&e.dispatchRouterNavigation(c)):c instanceof Cr.NavigationCancel?(e.dispatchRouterCancel(c),e.reset()):c instanceof Cr.NavigationError?(e.dispatchRouterError(c),e.reset()):c instanceof Cr.NavigationEnd&&(e.trigger!==oo.STORE&&(r&&e.dispatchRouterNavigation(s),e.dispatchRouterNavigated(c)),e.reset())})}},{key:"dispatchRouterRequest",value:function(e){this.dispatchRouterAction(uF,{event:e})}},{key:"dispatchRouterNavigation",value:function(e){var r=this.serializer.serialize(e.state);this.dispatchRouterAction(OA,{routerState:r,event:new Cr.RoutesRecognized(e.id,e.url,e.urlAfterRedirects,r)})}},{key:"dispatchRouterCancel",value:function(e){this.dispatchRouterAction(FA,{storeState:this.storeState,event:e})}},{key:"dispatchRouterError",value:function(e){this.dispatchRouterAction(MA,{storeState:this.storeState,event:new Cr.NavigationError(e.id,e.url,"".concat(e))})}},{key:"dispatchRouterNavigated",value:function(e){var r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(lF,{event:e,routerState:r})}},{key:"dispatchRouterAction",value:function(e,r){this.trigger=oo.ROUTER;try{this.store.dispatch({type:e,payload:(0,ue.Z)((0,ue.Z)({routerState:this.routerState},r),{},{event:0===this.config.routerState?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=oo.NONE}}},{key:"reset",value:function(){this.trigger=oo.NONE,this.storeState=null,this.routerState=null}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(Cr.Router),o.\u0275\u0275inject(hF),o.\u0275\u0275inject(o.ErrorHandler),o.\u0275\u0275inject(fF),o.\u0275\u0275inject(Vt.hg))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}();function gF(a){return a?.length>0&&"/"===a[a.length-1]?a.substring(0,a.length-1):a}function OU(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.makeEnvironmentProviders)([{provide:dF,useValue:a},{provide:fF,useFactory:DU,deps:[dF]},{provide:hF,useClass:a.serializer?a.serializer:0===a.routerState?pF:NA},{provide:o.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:function(){return function(){return(0,o.inject)(mF)}}},mF])}var FU=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,null,[{key:"forRoot",value:function(){return{ngModule:n,providers:[OU(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}();function W_(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function MU(){return(0,Vt.ZF)(cF)}(),n=(0,Vt.P1)(a,function(R){return R&&R.state}),t=(0,Vt.P1)(n,function(R){return R&&R.root}),e=(0,Vt.P1)(t,function(R){if(R){for(var B=R;B.firstChild;)B=B.firstChild;return B}}),r=(0,Vt.P1)(t,function(R){return R&&R.fragment}),s=(0,Vt.P1)(t,function(R){return R&&R.queryParams}),l=(0,Vt.P1)(e,function(R){return R&&R.params}),p=(0,Vt.P1)(e,function(R){return R&&R.data}),E=(0,Vt.P1)(n,function(R){return R&&R.url}),D=(0,Vt.P1)(e,function(R){if(null!=R&&R.routeConfig)return"string"==typeof R.routeConfig.title?R.routeConfig.title:R.title});return{selectCurrentRoute:e,selectFragment:r,selectQueryParams:s,selectQueryParam:function(B){return(0,Vt.P1)(s,function(te){return te&&te[B]})},selectRouteParams:l,selectRouteParam:function(B){return(0,Vt.P1)(l,function(te){return te&&te[B]})},selectRouteData:p,selectRouteDataParam:function(B){return(0,Vt.P1)(p,function(te){return te&&te[B]})},selectUrl:E,selectTitle:D}}var LU=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),[new ou({id:"page",title:"Page",usedContexts:function(){return(0,ze.of)(["_page"])},condition:function(t){var r=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled&&"page"===s.name})>-1&&r.has("page")},evalParam:function(t){return(0,ze.of)("".concat(t.metadata.get("page")))}}),new ou({id:"searchstring",title:"Searchstring",condition:function(t){var r=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled})>-1&&r.has("searchString")},evalParam:function(t){return(0,ze.of)("".concat(t.metadata.get("searchString")))}}),new ou({id:"route",title:"Route",usedContexts:function(){return(0,ze.of)(["_route"])},evalParam:function(t){var e=t.param,s=t.metadata.get("_route");return(0,ze.of)(s.params[e.mapping.value])}}),new ou({id:"querystring",title:"Querystring",usedContexts:function(){return(0,ze.of)(["_page"])},evalParam:function(t){var e=t.param,s=t.metadata.get("_route");return(0,ze.of)(s.queryParams[e.mapping.value])}}),new ou({id:"standardpagination",title:"Standard Pagination",usedContexts:function(){return(0,ze.of)(["_page"])},condition:function(t){var r=t.metadata;return t.param.flags.findIndex(function(s){return s.enabled&&"offset"===s.name})>-1&&r.has("limit")&&r.has("page")},evalParam:function(t){var r=t.metadata;return(0,ze.of)("".concat(+r.get("limit")*(+r.get("page")-1)))}})].forEach(function(e){return t.register(e)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vu))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[Gu]}),a}(),X_=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.routerStore=t,this.paramPluginManager=e,this.paramEvaluatorService=r}return(0,v.Z)(n,[{key:"getUrl",value:function(e,r,s){var u=this,l=W_();return this.routerStore.pipe((0,Vt.Ys)(l.selectCurrentRoute),(0,ke.U)(function(p){return[p,e,e?e.indexOf("?"):-1]}),(0,ke.U)(function(p){var y=(0,g.Z)(p,3),D=y[1],R=y[2];return[y[0],R>-1?D.substring(0,R):D,R>-1?D.substring(R+1):""]}),(0,ct.w)(function(p){var y=(0,g.Z)(p,3),E=y[0],D=y[1],R=y[2],B=aa.parse(R),te=D?D.split("/"):[],ne=new Map([].concat((0,_.Z)(s),[["_route",E]])),he=u.paramNames(e),Se=r.reduce(function(Ft,pt,Zt){return new Map([].concat((0,_.Z)(Ft),[[he[Zt],pt]]))},new Map),we=te.reduce(function(Ft,pt,Zt){return 0===pt.indexOf(":")?[].concat((0,_.Z)(Ft),[u.paramEvaluatorService.paramValue(Se.get(pt),ne)]):[].concat((0,_.Z)(Ft),[(0,ze.of)(te[Zt])])},[]),$e=[],Ye=function(pt){Array.isArray(B[pt])?B[pt].forEach(function(Zt){return $e.push(u.paramEvaluatorService.paramValue(Se.get(Zt),ne).pipe((0,ke.U)(function(Gt){return[pt,Gt,!0]})))}):"string"==typeof B[pt]&&B[pt].indexOf(":")>-1?$e.push(u.paramEvaluatorService.paramValue(Se.get(B[pt]),ne).pipe((0,ke.U)(function(Zt){return[pt,Zt,!1]}))):$e.push((0,ze.of)([pt,B[pt],Array.isArray(B[pt])]))};for(var lt in B)Ye(lt);return(0,nr.D)([(0,nr.D)(we).pipe((0,ke.U)(function(Ft){return Ft.filter(function(pt){return null!=pt&&""!==pt&&"undefined"!==pt}).map(function(pt,Zt){return 0===Zt&&0===pt.indexOf("http")?"".concat(pt,"/"):pt}).join("/")}),(0,Fi.d)(D)),(0,nr.D)($e).pipe((0,bt.b)(function(Ft){return console.log(Ft)}),(0,ke.U)(function(Ft){return Ft.reduce(function(pt,Zt){var Gt=(0,g.Z)(Zt,3),Yt=Gt[0],qt=Gt[1],Ht=Gt[2];if(null==qt||""===qt||"undefined"===qt){var Xt=(0,ue.Z)({},pt);return delete Xt[Yt],Xt}return(0,ue.Z)((0,ue.Z)({},pt),{},(0,f.Z)({},Yt,Ht?[].concat((0,_.Z)(void 0!==pt[Yt]?pt[Yt]:[]),[qt]):qt))},u.rebuildQueryString(B))}),(0,bt.b)(function(Ft){return console.log(Ft)}),(0,ke.U)(function(Ft){return aa.stringify(Ft,{arrayFormat:"repeat",indices:!1})}),(0,Fi.d)(R))]).pipe((0,ke.U)(function(Ft){return Ft.join("?")}))}))}},{key:"paramNames",value:function(e){var r=e?e.indexOf("?"):-1,s=(r>-1?e.substring(0,r):e||"").split("/").reduce(function(p,y,E){return 0===y.indexOf(":")?(0,ue.Z)((0,ue.Z)({},p),{},(0,f.Z)({},y.substr(1),y)):p},{}),u=(0,ue.Z)((0,ue.Z)({},s),aa.parse(e?e.substring(e.indexOf("?")+1):"")),l=[];for(var c in u)Array.isArray(u[c])?u[c].forEach(function(p){return l.push(p)}):0===u[c].indexOf(":")&&l.push(u[c]);return l}},{key:"rebuildQueryString",value:function(e){var r={};for(var s in e)Array.isArray(e[s])?r[s]=[]:null!=s[e]&&""!==s[e]&&"undefined"!==s[e]&&(r[s]=s[e]);return aa.parse(r)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(Vu),o.\u0275\u0275inject(su))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function UU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.id),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}function zU(a,n){}function VU(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function GU(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",9)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3,"Binding"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",10),o.\u0275\u0275template(5,VU,2,2,"mat-option",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"button",6),o.\u0275\u0275listener("click",function(){var l=o.\u0275\u0275restoreView(t).index,c=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(c.removeBinding(l))}),o.\u0275\u0275text(7,"Remove"),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.index,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroupName",e),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngForOf",r.bindableOptions)}}var ks=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.editor=e.editor,r.fetch=e.fetch,r.getBindings=e.getBindings?e.getBindings:function(){return(0,ze.of)([])},r.editorOptions=e.editorOptions?e.editorOptions:function(){return(0,ze.of)(new O2)}),r}return(0,v.Z)(t)}(Mn.Plugin),lu=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new BA(n.renderer)),void 0!==n.params&&(this.params=n.params.map(function(t){return new io(t)})),n.body&&(this.body=new Ul(n.body)))}),BA=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.type=n.type,this.query=n.query,this.trackBy=n.trackBy,void 0!==n.data&&(this.data=new Ul(n.data)),void 0!==n.bindings&&(this.bindings=n.bindings.map(function(t){return new Sn.ContentBinding(t)})))}),Sr=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.results=[],n&&(this.results=n.results)}),vF=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.query=n.query,this.trackBy=n.trackBy,this.idMapping=n.idMapping,this.labelMapping=n.labelMapping,this.valueMapping=n.valueMapping,this.multiple=n.multiple,this.limit=n.limit)}),zl=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],this.params=[],n&&(this.plugin=n.plugin,n.renderer&&(this.renderer=new BA(n.renderer)),n.settings&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})),n.params&&(this.params=n.params.map(function(t){return new io(t)})))}),O2=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.fullscreen=!1,n&&(this.fullscreen=n.fullscreen)}),ZA=new vF({query:"",trackBy:"",idMapping:"",labelMapping:"",valueMapping:"",multiple:!1,limit:0}),HU=(new lu({url:"",renderer:{type:"",data:{content:"",contentType:""},query:"",trackBy:"",bindings:[]},params:[]}),function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.datasourceOptions$=new en.X(ZA),this.formGroup=this.fb.group({query:this.fb.control(""),trackBy:this.fb.control(""),valueMapping:this.fb.control(""),labelMapping:this.fb.control(""),idMapping:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")}),this.datasourceOptionsSub=this.datasourceOptions$.subscribe(function(r){e.formGroup.setValue(r),e.formGroup.updateValueAndValidity()}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"datasourceOptions",set:function(e){this.datasourceOptions$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{datasourceOptions:{valid:!1}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-options"]],inputs:{datasourceOptions:"datasourceOptions"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["matInput","","formControlName","idMapping","placeholder","Id"],["matInput","","formControlName","valueMapping","placeholder","Value"],["matInput","","formControlName","labelMapping","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),o.\u0275\u0275element(2,"input",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-form-field"),o.\u0275\u0275element(4,"input",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-form-field"),o.\u0275\u0275element(6,"input",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"mat-form-field"),o.\u0275\u0275element(8,"input",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"mat-form-field"),o.\u0275\u0275element(10,"input",5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"div")(12,"mat-checkbox",6),o.\u0275\u0275text(13,"Multiple"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(14,"mat-form-field"),o.\u0275\u0275element(15,"input",7),o.\u0275\u0275elementEnd()()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.Fj,K.JJ,K.JL,K.sg,K.u,q_.FC,Dn.v_,ai.k0],encapsulation:2}),a}()),yF=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiDatasourceRendererHost",""]]}),a}(),Fa=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"datasource"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),jA=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.fb=t,this.componentFactoryResolver=e,this.dpm=r,this.datasources$=this.dpm.getPlugins(),this.formGroup=this.fb.group({plugin:this.fb.control("",[K.kI.required]),settings:this.fb.control(""),renderer:this.fb.group({type:this.fb.control("pane"),bindings:this.fb.array([])})}),this.bindableOptions=[],this.contexts=[],this.settings$=new en.X([]),this.componentRef$=new en.X(void 0),this.datasource$=new en.X(void 0),this.afterViewInit$=new yn.x,this.contextForwardingSub=this.componentRef$.pipe((0,sn.h)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.settings$.value}),this.rendererSub=(0,Or.a)([this.formGroup.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,ct.w)(function(u){var c=(0,g.Z)(u,2)[0];return c&&""!==c?s.dpm.getPlugin(c):(0,ze.of)(void 0)})).subscribe(function(u){u&&s.renderPlugin(u)}),this.settingsSub=(0,Or.a)([this.componentRef$,this.settings$]).pipe((0,sn.h)(function(u){return!!(0,g.Z)(u,2)[0]})).subscribe(function(u){var l=(0,g.Z)(u,2);l[0].instance.settings=l[1]}),this.datasourceSub=this.datasource$.pipe((0,bt.b)(function(u){setTimeout(function(){return s.settings$.next(u?u.settings:[])})})).subscribe(function(u){s.formGroup.get("renderer").get("bindings").clear(),u?(s.formGroup.get("plugin").setValue(u.plugin),s.formGroup.get("renderer").get("type").setValue("pane"),u.renderer&&u.renderer.bindings&&u.renderer.bindings.forEach(function(l){s.addBinding(l)})):(s.formGroup.get("plugin").setValue(""),s.formGroup.get("renderer").get("type").setValue("pane"))}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"datasource",set:function(e){this.datasource$.next(e)}},{key:"bindings",get:function(){return this.formGroup.get("renderer").get("bindings")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"renderPlugin",value:function(e){var r=this.componentFactoryResolver.resolveComponentFactory(e.editor),s=this.datasourceHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(r))}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"addBinding",value:function(e){this.bindings.push(this.fb.group({type:this.fb.control("pane",K.kI.required),id:this.fb.control(e?e.id:"",K.kI.required)}))}},{key:"removeBinding",value:function(e){this.bindings.removeAt(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(Fa))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-form"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(yF,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.datasourceHost=r.first)},inputs:{bindableOptions:"bindableOptions",contexts:"contexts",datasource:"datasource"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:16,vars:7,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDatasourceRendererHost",""],["formGroupName","renderer"],["formArrayName","bindings"],["type","button",3,"click"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],["required","","formControlName","id"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3,"Datasource"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",1),o.\u0275\u0275template(5,UU,2,2,"mat-option",2),o.\u0275\u0275pipe(6,"keyvalue"),o.\u0275\u0275pipe(7,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerStart(8),o.\u0275\u0275template(9,zU,0,0,"ng-template",3),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementStart(10,"div",4)(11,"div",5)(12,"button",6),o.\u0275\u0275listener("click",function(){return e.addBinding()}),o.\u0275\u0275text(13,"Add Binding"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"div"),o.\u0275\u0275template(15,GU,8,2,"div",7),o.\u0275\u0275elementEnd()()()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(6,3,o.\u0275\u0275pipeBind1(7,5,e.datasources$))),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngForOf",e.bindings.controls))},dependencies:[w.NgForOf,K.JJ,K.JL,K.Q7,K.sg,K.u,K.x0,K.CE,Li.CK,Dn.v_,Dn.$V,ro.x8,yF,w.AsyncPipe,w.KeyValuePipe]}),a}(),qU=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new en.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?r.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){s&&s.data?r.formGroup.get("data").setValue(s.data):r.formGroup.get("data").setValue("")}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-data-source-form"]],inputs:{settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","data","cols","60","rows","20"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"textarea",1),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.Fj,K.JJ,K.JL,K.sg,K.u]}),a}(),KU=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-data-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-data-source-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings))},dependencies:[K.JJ,K.JL,K.sg,K.u,qU],encapsulation:2}),a}(),WU=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new en.X(void 0),this.formGroup=this.fb.group({data:this.fb.control("")}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?r.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-source-form"]],inputs:{settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:2,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"Datasource"),o.\u0275\u0275elementEnd())}}),a}(),XU=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-source"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-datasource-source-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings))},dependencies:[K.JJ,K.JL,K.sg,K.u,WU],encapsulation:2}),a}(),QU=function(n){return new ks({id:"data",title:"Data",editor:KU,fetch:function(e){var r=e.settings;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return n.deserializeAsObject(r)}),(0,ke.U)(function(s){return new Sr({results:JSON.parse(s.data)})}))}})},Vl=function(){var a=(0,v.Z)(function n(t,e){(0,h.Z)(this,n),[QU(e),new ks({id:"datasource_datasource",title:"Datasource",editor:XU,fetch:function(e){return(0,ze.of)(new Sr)}})].forEach(function(r){return t.register(r)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.UX,no.MaterialModule,LU]}),a}(),_F=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.config=t,this.http=e,this.cache=new Map}return(0,v.Z)(n,[{key:"getData",value:function(e){var r=this;return this.cache.has(e)?(0,ze.of)(this.cache.get(e)).pipe((0,gr.g)(0)):this.http.get("".concat(e)).pipe((0,Hi.K)(function(){return(0,ze.of)([])}),(0,ke.U)(function(s){return Array.isArray(s)?s:[s]}),(0,bt.b)(function(s){return r.cache.set(e,s)}))}},{key:"postData",value:function(e){var s=e.body,u=void 0===s?"":s;return this.http.post("".concat(e.url),u).pipe((0,ke.U)(function(l){return Array.isArray(l)?l:[l]}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(rd),o.\u0275\u0275inject(O.HttpClient))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),xF=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.label=n.label,this.dataItem=n.dataItem,void 0!==n.value&&(this.value=n.value))}),bF=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.value=n.value,this.label=n.label,this.id=n.id,this.multiple=n.multiple,this.limit=n.limit)}),CF=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.dpm=t,this.attributeSerializer=e}return(0,v.Z)(n,[{key:"evalDatasource",value:function(e){var r=this,u=e.metadata,l=e.datasources;return(0,ze.of)(e.datasource).pipe((0,ct.w)(function(c){return r.dpm.getPlugin(c.plugin).pipe((0,ke.U)(function(p){return[c,p]}))}),(0,ct.w)(function(c){var p=(0,g.Z)(c,2),y=p[0];return p[1].fetch({settings:y.settings,metadata:u,datasource:y,datasources:l}).pipe((0,ke.U)(function(D){return[y,D]}))}),(0,ct.w)(function(c){var p=(0,g.Z)(c,2),E=p[1];return(0,nr.D)(p[0].renderer.bindings.reduce(function(D,R){return[].concat((0,_.Z)(D),(0,_.Z)(l&&l.has(R.id)?[(0,ze.of)(l.get(R.id))]:[]))},[])).pipe((0,ct.w)(function(D){return D.reduce(function(R,B){return R.pipe((0,ct.w)(function(te){return r.dpm.getPlugin(B.plugin).pipe((0,ke.U)(function(ne){return[ne,te,B]}))}),(0,ct.w)(function(te){var ne=(0,g.Z)(te,3);return ne[0].fetch({settings:B.settings,dataset:ne[1],metadata:u,datasource:ne[2],datasources:l})}))},(0,ze.of)(E))}),(0,ke.U)(function(D){return D}),(0,Fi.d)(E))}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Gl=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Q_=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.build=e.build),r}return(0,v.Z)(t)}(Mn.Plugin),YU=function(n){return function(){return new Promise(function(t){n.build(),t()})}},yf=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"bridgebuilder"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),tz=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.bpm=t}return(0,v.Z)(n,[{key:"build",value:function(){try{console.log("build bridge..."),this.bpm.getPlugins().subscribe(function(e){Array.from(e).forEach(function(r){var s=(0,g.Z)(r,2),u=s[0];s[1].build(),console.log("bridge build: "+u)})}),console.log("bridge built.")}catch{}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(yf))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),wF=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),console.log("bridge constructor"),t.register(new Q_({id:"test",title:"Test",build:function(){Gl.prototype.sayHello2=function(){alert("say hello 2")}}}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(yf))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:o.APP_INITIALIZER,useFactory:YU,deps:[tz],multi:!0}]}),a}(),SF=S(4503),$A=S(6067);function nz(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",3),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function rz(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.name),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}function iz(a,n){}var LA=new o.InjectionToken("ContextPlugin"),cu=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,e)).global=!1,e&&(r.name=r.id,r.baseObject=e.baseObject,r.resolver=e.resolver,r.global=void 0!==e.global&&e.global,r.internal=void 0!==e.internal&&e.internal,r.group=void 0!==e.group?e.group:void 0,e.editorComponent&&(r.editorComponent=e.editorComponent)),r}return(0,v.Z)(t)}(Mn.Plugin),Ao=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.name=n.name,this.adaptor=n.adaptor,n.plugin&&(this.plugin=n.plugin),"rest"===this.adaptor?this.rest=new lu(n.rest):"snippet"===this.adaptor||"json"===this.adaptor?this.snippet=new Ul(n.snippet):"data"===this.adaptor?this.data=n.data:"token"===this.adaptor?this.tokens=new Map((0,_.Z)(n.tokens)):"datasource"===this.adaptor&&(this.datasource=new zl(n.datasource))}),UA=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.name=n.name)}),oz=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new en.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[K.kI.required])}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?new UA(r.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?r.formGroup.get("name").setValue(s.name):r.formGroup.get("name").setValue("")}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["required","","formControlName","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3,"Context"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",1),o.\u0275\u0275template(5,nz,2,2,"mat-option",2),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngForOf",e.contexts))},dependencies:[w.NgForOf,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,Dn.$V,ro.x8]}),a}(),az=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.contexts=[],this.settings=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-datasource"]],inputs:{contexts:"contexts",settings:"settings"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"contexts","settings"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-context-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("contexts",e.contexts)("settings",e.settings))},dependencies:[K.JJ,K.JL,K.sg,K.u,oz],encapsulation:2}),a}(),sz=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.fb=t,this.controlContainer=e,this.attributeSerializer=r}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.controlContainer.control.addControl("adaptor",this.fb.control("datasource",K.kI.required)),this.controlContainer.control.addControl("datasource",this.fb.control("")),this.controlContainer.control.addControl("_proxy",this.fb.control("")),this.proxyControlSub=this.controlContainer.control.get("_proxy").valueChanges.pipe((0,ke.U)(function(r){return r?new zl((0,ue.Z)((0,ue.Z)({},r),{},{settings:e.attributeSerializer.serialize(r.settings,"settings").attributes})):new zl}),(0,bt.b)(function(r){return e.controlContainer.control.get("datasource").setValue(r)})).subscribe()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-context-editor"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(jA,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.datasourceFormComp=r.first)},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","_proxy"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&o.\u0275\u0275property("formGroup",e.controlContainer.control)},dependencies:[K.JJ,K.JL,K.sg,K.u,jA],encapsulation:2}),a}(),uz=function(n){return new cu({id:"route",name:"route",title:"Route",global:!0,baseObject:{path:"",arg0:"",arg2:"",arg3:"",arg4:"",arg5:""},resolver:n})},zA=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.routerStore=t}return(0,v.Z)(n,[{key:"resolve",value:function(e,r){var s=W_();return this.routerStore.pipe((0,Vt.Ys)(s.selectCurrentRoute),(0,ke.U)(function(l){return{path:"/pages/panelpage/".concat(l.params.panelPageId)}}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),EF=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiContextEditorHost",""]]}),a}(),Hu=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"context"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),kF=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.fb=t,this.componentFactoryResolver=e,this.cpm=r,this.contextForm=this.fb.group({name:this.fb.control("",K.kI.required),plugin:this.fb.control("",K.kI.required)}),this.context$=new en.X(void 0),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.contextPlugins=this.cpm.getPlugins().pipe((0,ke.U)(function(r){return new Map(Array.from(r).filter(function(s,u){return!(0,g.Z)(s,2)[1].internal}).map(function(s,u){var p=(0,g.Z)(s,2)[1];return[p.name,p]}))})),this.contextForm.get("plugin").valueChanges.pipe((0,ct.w)(function(r){return e.cpm.getPlugin(r)})).subscribe(function(r){r.editorComponent?e.renderEditor(r):e.editorHost.viewContainerRef.clear()}),this.context$.pipe((0,sn.h)(function(){return!!e.componentRef})).subscribe(function(r){e.componentRef.instance.context=r})}},{key:"writeValue",value:function(e){e&&this.contextForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.contextForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contextForm.disable():this.contextForm.enable()}},{key:"validate",value:function(e){return this.contextForm.valid?null:{invalidForm:{valid:!1,message:"context is invalid"}}}},{key:"renderEditor",value:function(e){var r=this.componentFactoryResolver.resolveComponentFactory(e.editorComponent),s=this.editorHost.viewContainerRef;s.clear(),this.componentRef=s.createComponent(r),this.componentRef.instance.context=this.context$.value}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(Hu))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-form"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(EF,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.editorHost=r.first)},inputs:{context:"context"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:12,vars:6,consts:[["fxLayout","column",3,"formGroup"],["matInput","","formControlName","name","placeholder","Name","required",""],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiContextEditorHost",""],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field"),o.\u0275\u0275element(2,"input",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-form-field")(4,"mat-label"),o.\u0275\u0275text(5,"Type"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-select",2),o.\u0275\u0275template(7,rz,2,2,"mat-option",3),o.\u0275\u0275pipe(8,"keyvalue"),o.\u0275\u0275pipe(9,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerStart(10),o.\u0275\u0275template(11,iz,0,0,"ng-template",4),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.contextForm),o.\u0275\u0275advance(7),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(8,2,o.\u0275\u0275pipeBind1(9,4,e.contextPlugins))))},dependencies:[w.NgForOf,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,Dn.$V,ai.k0,ro.x8,Ji,EF,w.AsyncPipe,w.KeyValuePipe]}),a}(),VA=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.dpm=t}return(0,v.Z)(n,[{key:"resolve",value:function(e,r,s){var u=this;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return new zl(r)}),(0,ct.w)(function(l){return u.dpm.getPlugin(l.plugin).pipe((0,ke.U)(function(c){return{ds:l,p:c}}))}),(0,ct.w)(function(l){return l.p.fetch({settings:l.ds.settings,metadata:s})}),(0,ke.U)(function(l){return l}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),pz=function(){function a(n,t){(0,h.Z)(this,a),this.cpm=n,this.rcm=t}return(0,v.Z)(a,[{key:"resolveGlobals",value:function(){return arguments.length>0&&void 0!==arguments[0]||Br(),this.cpm.getPlugins().pipe((0,ke.U)(function(e){return Array.from(e.values()).filter(function(r){return!0===r.global})}),(0,ct.w)(function(e){return ho.T.apply(void 0,(0,_.Z)(e.map(function(r){return r.resolver.resolve(r,{}).pipe((0,ke.U)(function(s){return[r.name,s,e.length]}))}))).pipe((0,SF.R)(function(r,s){var u=(0,g.Z)(s,3),l=u[0],c=u[1],p=u[2];return new Map([].concat((0,_.Z)(r),[["_".concat(l),c],["__len",p]]))},new Map([])),(0,sn.h)(function(r){return r.size-1==+r.get("__len")}),(0,ke.U)(function(r){return Object.assign.apply(Object,[{}].concat((0,_.Z)((0,_.Z)(r.entries()).filter(function(s){return"__len"!==(0,g.Z)(s,2)[0]}).map(function(s){var u=(0,g.Z)(s,2);return(0,f.Z)({},u[0],u[1])}))))}))}))}},{key:"resolveGlobalsSingle",value:function(){return arguments.length>0&&void 0!==arguments[0]||Br(),this.cpm.getPlugins().pipe((0,ke.U)(function(e){return Array.from(e.values()).filter(function(r){return!0===r.global})}),(0,ct.w)(function(e){return ho.T.apply(void 0,(0,_.Z)(e.map(function(r){return r.resolver.resolve(r,{}).pipe((0,ke.U)(function(s){return[r.name,s]}))})))}))}},{key:"resolveAll",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br();return ho.T.apply(void 0,(0,_.Z)(t.map(function(s){return e.resolve(s,r).pipe((0,ke.U)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,SF.R)(function(s,u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return new Map([].concat((0,_.Z)(s),[[c,p]]))},new Map),(0,sn.h)(function(s){return s.size===t.length}),(0,ke.U)(function(s){return Object.assign.apply(Object,[{}].concat((0,_.Z)((0,_.Z)(s.entries()).map(function(u){var l=(0,g.Z)(u,2);return(0,f.Z)({},l[0],l[1])}))))}))}},{key:"resolveAllSingle",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br();return ho.T.apply(void 0,(0,_.Z)(t.map(function(s){return e.resolve(s,r).pipe((0,ke.U)(function(u){return[s.name,Array.isArray(u)?u.length>0?u[0]:void 0:u]}))}))).pipe((0,ke.U)(function(s){var u=(0,g.Z)(s,2);return[u[0],u[1]]}))}},{key:"resolveMerged",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br();return this.rcm.getPlugins().pipe((0,ct.w)(function(){return e.rcm.add$.pipe((0,Fi.d)(void 0))}),(0,ct.w)(function(){return e.rcm.getPlugins()}),(0,ct.w)(function(s){return(0,Or.a)([].concat((0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolve()})),[e.resolveGlobals(r),0===t.length?(0,ze.of)({}):e.resolveAll(t,r)])).pipe((0,Nr.b)(0),(0,ke.U)(function(u){return u.reduce(function(l,c){return(0,ue.Z)((0,ue.Z)({},l),c)},{})}))}))}},{key:"resolveMergedSingle",value:function(t){var e=this;return arguments.length>1&&void 0!==arguments[1]||Br(),0!==t.length?this.rcm.getPlugins().pipe((0,ct.w)(function(s){return ho.T.apply(void 0,(0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle(),e.resolveAllSingle(t)]))})):this.rcm.getPlugins().pipe((0,ct.w)(function(s){return ho.T.apply(void 0,(0,_.Z)(Array.from(s).map(function(u){return(0,g.Z)(u,2)[1].resolveSingle()})).concat([e.resolveGlobalsSingle()]))}))}},{key:"resolve",value:function(t){var e=this;return arguments.length>1&&void 0!==arguments[1]||Br(),t.plugin?this.cpm.getPlugin(t.plugin).pipe((0,ct.w)(function(s){return s.resolver.resolve(s,e.getDataObject(t),new Map([["name",t.name]]))})):(0,ze.of)(this.getDataObject(t))}},{key:"getDataObject",value:function(t){switch(t.adaptor){case"rest":return t.rest;case"snippet":return t.snippet;case"json":return JSON.parse(t.snippet.content);case"data":return t.data;case"token":return t.tokens;case"datasource":return t.datasource;default:return}}}]),a}(),PF=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){var u;return(0,h.Z)(this,e),(u=t.call(this,r,s)).add$=new $A.t(1),u}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"resolved_context"}))}},{key:"register",value:function(s){var u=this.pluginInstances.has(s.id);(0,fa.Z)((0,pa.Z)(e.prototype),"register",this).call(this,s),u||this.add$.next(void 0)}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),_f=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e)}(pz);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Hu),o.\u0275\u0275inject(PF))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),xf=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c,p,y){(0,h.Z)(this,n),t.forEach(function(E){return s.register(E)}),u.register(function(n,t){return new Q_({id:"context",title:"Context",build:function(){Gl.prototype.resolveContext=function(r,s){return new Promise(function(u){n.getPlugin(r).pipe((0,ct.w)(function(l){return l.resolver.resolve(l,s).pipe((0,Vn.q)(1))})).subscribe(function(l){u(l)})})},Gl.prototype.resolveMergedContext=function(r){return new Promise(function(s){t.resolveMerged(r).pipe((0,bt.b)(function(u){return s(u)}),(0,Vn.q)(1)).subscribe()})}}})}(s,e)),c.register(function(n,t){return new ou({id:"context",title:"Context",evalParam:function(r){var s=r.param,l=s.mapping.context&&""!==s.mapping.context?new Ao(r.metadata.get("contexts").find(function(c){return c.name===s.mapping.context})):void 0;return l?n.resolve(l).pipe((0,Vn.q)(1),(0,ct.w)(function(c){return zr(function(){return s.mapping.value&&""!==s.mapping.value},(0,ze.of)(c).pipe((0,ke.U)(function(p){return t.generateGenericTokens(Array.isArray(p)?p[0]:p)}),(0,ke.U)(function(p){return t.replaceTokens("[".concat(s.mapping.value,"]"),p)}),(0,Vn.q)(1)),(0,ze.of)(Array.isArray(c)?c[0]:c)).pipe((0,Vn.q)(1))})):(0,ze.of)()},usedContexts:function(r){return(0,ze.of)([r.param.mapping.context])}})}(e,r)),l.register(function(n,t){return new ks({id:"context",title:"Context",editor:az,fetch:function(r){var s=r.settings,u=r.metadata;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return new UA(t.deserializeAsObject(s))}),(0,ke.U)(function(l){return u.get("contexts").find(function(c){return c.name===l.name})}),(0,ct.w)(function(l){return n.resolve(l).pipe((0,ke.U)(function(c){return c instanceof Sr?c:new Sr({results:Array.isArray(c)?c:[c]})}),(0,Vn.q)(1))}))},getBindings:function(r){var s=r.settings;return(0,ze.of)([]).pipe((0,ke.U)(function(){return new UA(t.deserializeAsObject(s))}),(0,ke.U)(function(l){return[new Sn.ContentBinding({id:l.name,type:"context"})]}))}})}(e,p)),s.register(function(n){var t={dataset:new Sr};return new cu({id:"datasource",name:"datasource",title:"Datasource",baseObject:t,resolver:n,editorComponent:sz})}(y))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(LA),o.\u0275\u0275inject(_f),o.\u0275\u0275inject(Mr),o.\u0275\u0275inject(Hu),o.\u0275\u0275inject(yf),o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Vu),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(VA))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:zA,useClass:zA},{provide:VA,useClass:VA},{provide:LA,useFactory:uz,multi:!0,deps:[zA]}],imports:[w.CommonModule,K.UX,K.u5,no.MaterialModule,go,$_,IA,Vl]}),a}(),hz=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.contextPlugins=t}return(0,v.Z)(n,[{key:"getAll",value:function(e){return typeof e>"u"?this.contextPlugins:this.contextPlugins.filter(e?function(r){return r.global}:function(r){return!r.global})}},{key:"getAllObjects",value:function(){return this.contextPlugins.map(function(e){return e.baseObject})}},{key:"lookupContext",value:function(e){return this.contextPlugins.find(function(r){return r.name===e})}},{key:"register",value:function(e){this.contextPlugins.push(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(LA))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),mz=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),(r=n.call(this,e)).resolve=e.resolve,r.resolveSingle=e.resolveSingle,r}return(0,v.Z)(t)}(Mn.Plugin),GA=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.ppm=t}return(0,v.Z)(n,[{key:"extractContexts",value:function(e){var r=this;return(0,nr.D)(e.map(function(s){return r.ppm.getPlugin(s.mapping.type).pipe((0,ct.w)(function(u){return zr(function(){return!!u&&!!u.usedContexts},u&&u.usedContexts?u.usedContexts({param:s,metadata:new Map([])}):(0,ze.of)([]),(0,ze.of)([]))}))})).pipe((0,ke.U)(function(s){return s.reduce(function(u,l){return[].concat((0,_.Z)(u),(0,_.Z)(l.filter(function(c){return!u.includes(c)})))},[])}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vu))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),gz=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.routerStore=t,this.router=e}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Vt.yh),o.\u0275\u0275directiveInject(Cr.Router),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-alias-catch-all-router"]],decls:2,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"Page Not Found"),o.\u0275\u0275elementEnd())}}),a}(),vz=[],yz=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[zn.UtilsModule,Cr.RouterModule.forChild(vz)]}),a}(),AF=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.loadingStrategy=e.loadingStrategy,r.matchingStrategy=e.matchingStrategy,r.redirectHandler=e.redirectHandler),r}return(0,v.Z)(t)}(Mn.Plugin),RF=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"alias"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),TF=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.siteName=t,this.router=e,this.apm=r,this.routesLoaded=!1}return(0,v.Z)(n,[{key:"canActivate",value:function(e,r){var s=this;return console.log("catch all alias hit"),new Promise(function(u){s.apm.getPlugins().pipe((0,ct.w)(function(l){return(0,nr.D)(s.routesLoaded?[]:Array.from(l).map(function(c){return(0,g.Z)(c,2)[1].loadingStrategy.load()})).pipe((0,Fi.d)(void 0))}),(0,bt.b)(function(){return s.routesLoaded=!0}),(0,ct.w)(function(){return s.apm.getPlugins()}),(0,ct.w)(function(l){return(0,nr.D)(Array.from(l).map(function(c){var E=(0,g.Z)(c,2)[1];return E.matchingStrategy.match(r).pipe((0,ke.U)(function(D){return[E,D]}))}))})).subscribe(function(l){if(console.log("routes loaded: ".concat(s.routesLoaded?"y":"n")),void 0!==l.map(function(y,E){var D=(0,g.Z)(y,2);return D[1]?D[0]:void 0}).find(function(y){return void 0!==y})){console.log("alias gaurd state: ".concat(r.url));var p=s.router.parseUrl(r.url);u(p)}else u(!0)})})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(Cr.Router),o.\u0275\u0275inject(RF),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),DF=S(7714);function _z(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",4),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.id),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}function xz(a,n){}var IF=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.editor=e.editor,r.send=e.send),r}return(0,v.Z)(t)}(Mn.Plugin),bz=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],n&&(this.data=n.data,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})))}),HA=(0,v.Z)(function a(n){(0,h.Z)(this,a)}),bf=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.dataduct=new Cz(n.dataduct))}),Cz=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],n&&(this.plugin=n.plugin,n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})))}),OF=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiDataductRendererHost",""]]}),a}(),F2=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"dataduct"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),wz=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.dpm=t,this.fb=e,this.contexts=[],this.ductForm=this.fb.group({plugin:this.fb.control("",[K.kI.required]),settings:this.fb.control("")}),this.ducts$=this.dpm.getPlugins(),this.componentRef$=new en.X(void 0),this.persistence$=new en.X(void 0),this.afterViewInit$=new yn.x,this.contextForwardingSub=this.componentRef$.pipe((0,sn.h)(function(s){return!!s})).subscribe(function(s){s.instance.contexts=r.contexts,s.instance.settings=r.persistence$.value&&r.persistence$.value.dataduct?r.persistence$.value.dataduct.settings:[]}),this.persistenceSub=(0,Or.a)([this.persistence$,this.afterViewInit$]).pipe((0,ke.U)(function(s){return(0,g.Z)(s,1)[0]}),(0,bt.b)(function(s){r.ductForm.get("plugin").setValue(s&&s.dataduct?s.dataduct.plugin:"")}),(0,gr.g)(1),(0,bt.b)(function(s){r.componentRef$.value&&r.componentRef$.value.instance&&s&&(r.componentRef$.value.instance.settings=s.dataduct?s.dataduct.settings:[])})).subscribe(),this.rendererSub=(0,Or.a)([this.ductForm.get("plugin").valueChanges,this.afterViewInit$]).pipe((0,ct.w)(function(s){var l=(0,g.Z)(s,2)[0];return l&&""!==l?r.dpm.getPlugin(l):(0,ze.of)(void 0)})).subscribe(function(s){s&&r.renderPlugin(s)}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"persistence",set:function(e){this.persistence$.next(e)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.ductForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.ductForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.ductForm.disable():this.ductForm.enable()}},{key:"validate",value:function(e){return this.ductForm.valid?null:this.ductForm.errors}},{key:"renderPlugin",value:function(e){var r=this.datasourceHost.viewContainerRef;r.clear(),this.componentRef$.next(r.createComponent(e.editor))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(F2),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-persistence-form"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(OF,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.datasourceHost=r.first)},inputs:{contexts:"contexts",persistence:"persistence"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:10,vars:6,consts:[[3,"formGroup"],["required","","formControlName","plugin"],[3,"value",4,"ngFor","ngForOf"],["classifiedsUiDataductRendererHost",""],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3,"Plugin"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",1),o.\u0275\u0275template(5,_z,2,2,"mat-option",2),o.\u0275\u0275pipe(6,"keyvalue"),o.\u0275\u0275pipe(7,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerStart(8),o.\u0275\u0275template(9,xz,0,0,"ng-template",3),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.ductForm),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(6,2,o.\u0275\u0275pipeBind1(7,4,e.ducts$))))},dependencies:[w.NgForOf,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,Dn.$V,ro.x8,OF,w.AsyncPipe,w.KeyValuePipe]}),a}(),Sz=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.attributeSerializer=s,this.persistenceForm=this.fb.group({dataduct:this.fb.control("")}),this.contexts=[],this.persistence=new bf,this.contexts=t.contexts,this.persistence=t.persistence}return(0,v.Z)(n,[{key:"submit",value:function(){var e=this.persistenceForm.value;console.log("persistence form",e);var r=this.attributeSerializer.serialize(e.dataduct.settings,"settings");console.log("persistence settings",r),this.dialogRef.close(new bf((0,ue.Z)((0,ue.Z)({},this.persistenceForm.value),{},{dataduct:(0,ue.Z)((0,ue.Z)({},e.dataduct),{},{settings:r.attributes})})))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-persistence-dialog"]],decls:8,vars:4,consts:[[1,"persistence-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["formControlName","dataduct",3,"contexts","persistence"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),o.\u0275\u0275element(4,"classifieds-ui-persistence-form",3),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),o.\u0275\u0275text(7,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.persistenceForm),o.\u0275\u0275advance(4),o.\u0275\u0275property("contexts",e.contexts)("persistence",e.persistence),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.persistenceForm.valid))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,wz]}),a}(),Ez=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule]}),a}(),kz=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.dpm=t}return(0,v.Z)(n,[{key:"persist",value:function(e){var r=e.data,s=e.persistence;return this.dpm.getPlugin(s.dataduct.plugin).pipe((0,ct.w)(function(u){return u.send(new bz({data:r,settings:s.dataduct.settings}))}),(0,ke.U)(function(){}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(F2))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function Pz(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"druid-detour-interaction-listener",4),o.\u0275\u0275elementStart(2,"button",3),o.\u0275\u0275listener("click",function(){var l=o.\u0275\u0275restoreView(t).index,c=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(c.deleteListener$.next(l))}),o.\u0275\u0275text(3,"Delete"),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.index,r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("formControlName",e)("listener",r.interactions$.value.interactions.listeners[e])}}var Hl=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.interactions=n&&n.interactions?new FF(n.interactions):new FF}),FF=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.listeners=[],n&&n.listeners&&Array.isArray(n.listeners)&&(this.listeners=n.listeners.map(function(t){return new MF(t)}))}),MF=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.handler=n&&n.handler?new au(n.handler):new au,this.event=n&&n.event?new au(n.event):new au}),NF=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"interaction_event"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),BF=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"interaction_handler"}))}},{key:"discovery",value:function(){(0,fa.Z)((0,pa.Z)(e.prototype),"discovery",this).call(this)}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Az=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.fb=t,this.iepm=e,this.ihpm=r,this.eventPlugins$=this.iepm.getPlugins(),this.handlerPlugins$=this.ihpm.getPlugins(),this.listenerForm=this.fb.group({event:this.fb.control(""),handler:this.fb.control("")}),this.contexts=[],this.listener$=new en.X(new MF),this.event$=new en.X(new au),this.handler$=new en.X(new au),this.listenerSub=this.listener$.pipe((0,bt.b)(function(u){s.event$.next(u&&u.event?u.event:new au),s.handler$.next(u&&u.handler?u.handler:new au)})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"listener",set:function(e){this.listener$.next(e)}},{key:"writeValue",value:function(e){e&&this.listenerForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.listenerForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.listenerForm.disable():this.listenerForm.enable()}},{key:"validate",value:function(e){return this.listenerForm.valid?null:this.listenerForm.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(NF),o.\u0275\u0275directiveInject(BF))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-detour-interaction-listener"]],inputs:{contexts:"contexts",listener:"listener"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:5,vars:9,consts:[[3,"formGroup"],["formControlName","event","title","Event",3,"plugins","instance"],["formControlName","handler","title","Handler",3,"plugins","instance"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"druid-params-plugin-instance",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275element(3,"druid-params-plugin-instance",2),o.\u0275\u0275pipe(4,"async"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.listenerForm),o.\u0275\u0275advance(1),o.\u0275\u0275property("plugins",o.\u0275\u0275pipeBind1(2,5,e.eventPlugins$))("instance",e.event$.value),o.\u0275\u0275advance(2),o.\u0275\u0275property("plugins",o.\u0275\u0275pipeBind1(4,7,e.handlerPlugins$))("instance",e.handler$.value))},dependencies:[K.JJ,K.JL,K.sg,K.u,RU,w.AsyncPipe]}),a}(),Rz=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.interactions$=new en.X(new Hl({interactions:{listeners:[]}})),this.contexts$=new en.X([]),this.afterViewInit$=new yn.x,this.interactionsForm=this.fb.group({listeners:this.fb.array([])}),this.addListener$=new yn.x,this.deleteListener$=new yn.x,this.addListenerSub=this.addListener$.pipe((0,bt.b)(function(){return e.listeners.push(e.fb.control(""))})).subscribe(),this.deleteListenerSub=this.deleteListener$.pipe((0,bt.b)(function(r){e.interactions$.value.interactions.listeners.splice(r,1),e.listeners.removeAt(r)})).subscribe(),this.interactionsSub=(0,Or.a)([this.interactions$,this.afterViewInit$]).pipe((0,ke.U)(function(r){return(0,g.Z)(r,1)[0]}),(0,sn.h)(function(r){return 0!==r.interactions.listeners.length}),(0,bt.b)(function(r){e.listeners.clear(),r.interactions.listeners.forEach(function(s,u){e.listeners.push(e.fb.control(""))})})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"interactions",set:function(e){this.interactions$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}},{key:"listeners",get:function(){return this.interactionsForm.get("listeners")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.interactionsForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.interactionsForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.interactionsForm.disable():this.interactionsForm.enable()}},{key:"validate",value:function(e){return this.interactionsForm.valid?null:this.interactionsForm.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-detour-interactions-form"]],inputs:{interactions:"interactions",contexts:"contexts"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","listeners"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","listener"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1),o.\u0275\u0275template(2,Pz,4,2,"div",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(3,"button",3),o.\u0275\u0275listener("click",function(){return e.addListener$.next(void 0)}),o.\u0275\u0275text(4,"Add Listener"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.interactionsForm),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.listeners.controls))},dependencies:[w.NgForOf,K.JJ,K.JL,K.sg,K.u,K.CE,Az]}),a}(),Tz=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.interactionsForm=this.fb.group({interactions:this.fb.control("")}),this.contexts=[],this.interactions=new Hl,this.contexts=t.contexts,this.interactions=t.interactions}return(0,v.Z)(n,[{key:"submit",value:function(){var e=new Hl(this.interactionsForm.value);console.log("interactions payload",e),this.dialogRef.close(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-detour-interactions-dialog"]],decls:8,vars:4,consts:[[1,"interactions-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["formControlName","interactions",3,"contexts","interactions"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2),o.\u0275\u0275element(4,"druid-detour-interactions-form",3),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(5,"mat-dialog-actions")(6,"button",4),o.\u0275\u0275text(7,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.interactionsForm),o.\u0275\u0275advance(4),o.\u0275\u0275property("contexts",e.contexts)("interactions",e.interactions),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.interactionsForm.valid))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,Rz]}),a}(),Dz=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){return(0,h.Z)(this,t),n.call(this,e)}return(0,v.Z)(t)}(Mn.Plugin),Oz=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),t.register(new Dz({title:"DOM",id:"dom"}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(NF))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,Gu]}),a}(),ZF=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){return(0,h.Z)(this,t),n.call(this,e)}return(0,v.Z)(t)}(Mn.Plugin),ql=S(5763),M2=S(7728),qu=S(974),Ps=S(413),Cf=S(78),qA=S(8055),wf=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.create=e.create,r.read=e.read,r.update=e.update,r.delete=e.delete,e.query&&(r.query=e.query)),r}return(0,v.Z)(t)}(Mn.Plugin),jF=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.options=[],this.params=[],n&&(this.adaptorName=n.adaptorName,this.optionsString=n.optionsString?n.optionsString:void 0,this.paramsString=n.paramsString?n.paramsString:void 0,n.options&&Array.isArray(n.options)&&(this.options=n.options.map(function(t){return new io(t)})),n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new io(t)})))}),Fz=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new en.X(void 0),this.datasource$=new en.X(void 0),this.optionValues$=new en.X([]),this.paramValues$=new en.X([]),this.formGroup=this.fb.group({adaptorName:this.fb.control(""),optionsString:this.fb.control(""),paramsString:this.fb.control(""),options:this.fb.control([]),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?new jF(r.attributeSerializer.deserializeAsObject(s)):void 0}),(0,bt.b)(function(s){return setTimeout(function(){return r.datasource$.next(s)})})).subscribe(function(s){s?(r.formGroup.get("adaptorName").setValue(s.adaptorName),r.formGroup.get("optionsString").setValue(s.optionsString?s.optionsString:""),r.formGroup.get("paramsString").setValue(s.paramsString?s.paramsString:"")):(r.formGroup.get("adaptorName").setValue(""),r.formGroup.get("optionsString").setValue(""),r.formGroup.get("paramsString").setValue(""),setTimeout(function(){return r.optionValues$.next([])},2),setTimeout(function(){return r.optionValues$.next([])},2))}),this.datasourceOptionsSub=(0,Or.a)([this.datasource$,this.formGroup.get("optionsString").valueChanges]).pipe((0,sn.h)(function(s){return void 0!==(0,g.Z)(s,1)[0]}),(0,gr.g)(1),(0,bt.b)(function(s){var u=(0,g.Z)(s,1);return r.optionValues$.next(u[0].options)})).subscribe(),this.datasourceParamsSub=(0,Or.a)([this.datasource$,this.formGroup.get("paramsString").valueChanges]).pipe((0,sn.h)(function(s){return void 0!==(0,g.Z)(s,1)[0]}),(0,gr.g)(1),(0,bt.b)(function(s){var u=(0,g.Z)(s,1);return r.paramValues$.next(u[0].params)})).subscribe(),this.optionsStringChangeSub=this.formGroup.get("optionsString").valueChanges.pipe((0,Nr.b)(500)).subscribe(function(s){var u=aa.parse("?"+s);r.optionsParsed=u}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Nr.b)(500)).subscribe(function(s){var u=aa.parse("?"+s);r.paramsParsed=u}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-crud-adaptor-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:14,vars:7,consts:[[3,"formGroup"],["matInput","","placeholder","Adaptor","formControlName","adaptorName","required",""],[1,"options-container"],["matInput","","placeholder","Options","formControlName","optionsString"],["formControlName","options",3,"params","paramValues","contexts"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),o.\u0275\u0275element(3,"input",1),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"div",2)(5,"div")(6,"mat-form-field"),o.\u0275\u0275element(7,"input",3),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(8,"classifieds-ui-params-form",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",5)(10,"div")(11,"mat-form-field"),o.\u0275\u0275element(12,"input",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(13,"classifieds-ui-params-form",7),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(8),o.\u0275\u0275property("params",e.optionsParsed)("paramValues",e.optionValues$.value)("contexts",e.contexts),o.\u0275\u0275advance(5),o.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Dn.v_,ai.k0,K_]}),a}(),$F=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-crud-adaptor-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-crud-adaptor-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[K.JJ,K.JL,K.sg,K.u,Fz],encapsulation:2}),a}(),Ku=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"crud_adaptor"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),J_=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.crud=t,this.cachedCollectionQueries=[],this.cachedCollectionIgnore={p:{create:void 0,update:void 0,delete:void 0,query:void 0,read:void 0},input:{identity:void 0}}}return(0,v.Z)(n,[{key:"evaluatePlugins",value:function(e){var r=this,s=e.object,u=e.plugins,l=e.op,c=e.parentObject,y=Object.keys(u).filter(function(E){return!u[E].ops||u[E].ops.includes(l)}).map(function(E){return r.crud.getPlugin(u[E].plugin?u[E].plugin:E).pipe((0,ke.U)(function(D){return{p:D,params:u[E].params?Object.keys(u[E].params).reduce(function(R,B){return(0,ue.Z)((0,ue.Z)({},R),{},(0,f.Z)({},B,u[E].params[B]instanceof io?u[E].params[B]:new io({flags:[],mapping:{type:"static",value:u[E].params[B],context:void 0,testValue:u[E].params[B]}})))},{}):{}}}),(0,ct.w)(function(D){return D.p[l]({rule:void 0,object:s,parentObject:c,params:D.params,identity:function(ne){var he=ne.object,Se=ne.parentObject;return(0,ze.of)({identity:he.id?he.id:Se?Se.id:void 0})}})}),(0,ct.w)(function(D){return zr(function(){return u[E].plugins&&0!==Object.keys(u[E].plugins).length},u[E].plugins&&0!==Object.keys(u[E].plugins).length?r.evaluatePlugins({plugins:u[E].plugins,object:D.entity?D.entity:s,parentObject:D.originalEntity?D.originalEntity:s,op:l}):(0,ze.of)(D),(0,ze.of)(D))}))});return(0,nr.D)(y).pipe((0,ke.U)(function(){return s}))}},{key:"evaluateCollectionPlugins",value:function(e){var r=this,s=e.query,u=e.objects,l=e.plugins,c=e.op,p=e.parentObjects;console.log("evaluate collection plugins");var y=Object.keys(l),E=y.filter(function(R){return!l[R].ops||l[R].ops.includes(c)}).map(function(R){return r.crud.getPlugin(l[R].plugin?l[R].plugin:R).pipe((0,ke.U)(function(B){return{p:B,params:l[R].params?Object.keys(l[R].params).reduce(function(te,ne){return(0,ue.Z)((0,ue.Z)({},te),{},(0,f.Z)({},ne,l[R].params[ne]instanceof io?l[R].params[ne]:new io({flags:[],mapping:{type:"static",value:l[R].params[ne],context:void 0,testValue:l[R].params[ne]}})))},{}):{}}}),(0,ct.w)(function(B){var te=B.p,ne=B.params;return r.buildQueryRule({params:s,config:l[R]}).pipe((0,ke.U)(function(he){return{p:te,params:ne,rule:he.rule}}))}),(0,ct.w)(function(B){return r.flightAndCacheAwareCollectionQuery({p:B.p,input:{rule:B.rule,objects:u,parentObjects:p,params:B.params,identity:function(we){var $e=we.object,Ye=we.parentObject;return(0,ze.of)({identity:$e.id?$e.id:Ye?Ye.id:void 0})}}}).pipe((0,bt.b)(function(){return console.log("end of crud query call")}))}),(0,ct.w)(function(B){return zr(function(){return l[R].plugins&&0!==Object.keys(l[R].plugins).length},r.evaluateCollectionPlugins({query:s,plugins:l[R].plugins&&0!==Object.keys(l[R].plugins).length?l[R].plugins:{},objects:B.entities?B.entities:u,parentObjects:B.originalEntities?B.originalEntities:u,op:c}),(0,ze.of)(B))}),(0,bt.b)(function(B){return console.log("end of op",B)}))});return y.filter(function(R){return!l[R].ops||l[R].ops.includes(c)}).find(function(R){return l[R].fallback})&&E.length>1?E.reduce(function(R,B){return R.pipe((0,ct.w)(function(te){return te&&Array.isArray(te)&&te.length>0?(0,ze.of)(te):B.pipe((0,ke.U)(function(ne){return ne&&ne.entities&&Array.isArray(ne.entities)?ne.entities:[]}))}),(0,ct.w)(function(te){return(0,ze.of)(te.length>0?te:[])}))},(0,ze.of)([])):1===E.length?E[0].pipe((0,ke.U)(function(R){return(0,_.Z)(R.entities)})):(0,nr.D)(E).pipe((0,ke.U)(function(R){return R.reduce(function(B,te){return[].concat((0,_.Z)(B),(0,_.Z)(te.entities))},[])}),(0,Fi.d)([]))}},{key:"buildQueryRule",value:function(e){var r=e.params,s=e.config;return new hr.y(function(u){var l=[];"string"==typeof r&&r.split("&").map(function(y){return y.split("=",2)}).reduce(function(y,E){var D=(0,g.Z)(E,2),R=D[0],B=D[1];return new Map([].concat((0,_.Z)(Array.from(y).filter(function(te){return(0,g.Z)(te,2)[0]!==R})),[[R,[].concat((0,_.Z)(y.has(R)?y.get(R):[]),[B])]]))},new Map).forEach(function(y,E){return l.push({any:y.map(function(D){return(0,ue.Z)({fact:"identity"===E?"identity":"entity",operator:s.queryMappings&&s.queryMappings.has(E)&&s.queryMappings.get(E).defaultOperator?s.queryMappings.get(E).defaultOperator:"equal",value:D},"identity"===E?{}:{path:"$.".concat(E)})})})});var p=l.length>0?new Cf.Rule({conditions:{all:l},event:{type:"visible"}}):void 0;u.next({rule:p}),u.complete()})}},{key:"flightAndCacheAwareCollectionQuery",value:function(e){var r=this,s=this.cachedCollectionQueries.findIndex(function(u){var l=u.p,c=u.input,p=(0,qA.getDiff)((0,ue.Z)((0,ue.Z)({},e.p),r.cachedCollectionIgnore.p),(0,ue.Z)((0,ue.Z)({},l),r.cachedCollectionIgnore.p)),y=(0,qA.getDiff)((0,ue.Z)((0,ue.Z)({},e.input),r.cachedCollectionIgnore.input),(0,ue.Z)((0,ue.Z)({},c),r.cachedCollectionIgnore.input));return 0===p.length&&0===y.length});return-1===s&&(this.cachedCollectionQueries.push({p:e.p,input:e.input,query$:new $A.t}),s=this.cachedCollectionQueries.length-1,e.p.query(e.input).pipe((0,bt.b)(function(u){return r.cachedCollectionQueries[s].query$.next(u)}),(0,Vn.q)(1)).subscribe()),this.cachedCollectionQueries[s].query$.pipe((0,Vn.q)(1))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ku))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Y_=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c,p){(0,h.Z)(this,n),t.register(function(n,t,e,r,s,u){return new ks({id:"crud_adaptor",title:"Crud Adaptor",editor:$F,fetch:function(c){var p=c.settings,y=c.metadata;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return t.deserializeAsObject(p)}),(0,ke.U)(function(E){return new jF(E)}),(0,ct.w)(function(E){return e.getPlugin(E.adaptorName).pipe((0,ke.U)(function(D){return{plugin:D,ds:E}}))}),(0,ke.U)(function(E){var R=E.ds;return{plugin:E.plugin,ds:R,optionNames:R.optionsString?R.optionsString.split("&").filter(function(B){return-1!==B.indexOf("=:")}).map(function(B){return B.split("=",2)[1].substr(1)}):[]}}),(0,ct.w)(function(E){var D=E.plugin,R=E.ds,B=E.optionNames;return(0,nr.D)([r.paramValues(R.options.reduce(function(te,ne,he){return new Map([].concat((0,_.Z)(te),[[B[he],ne]]))},new Map)).pipe((0,ke.U)(function(te){return Array.from(te).reduce(function(ne,he){var Se=(0,g.Z)(he,2),we=Se[0],$e=Se[1];return(0,ue.Z)((0,ue.Z)({},ne),{},(0,f.Z)({},we,$e))},{})})),R.paramsString&&""!==R.paramsString?u.getUrl("?"+R.paramsString,R.params,y).pipe((0,Vn.q)(1)):(0,ze.of)(void 0)]).pipe((0,ke.U)(function(te){var ne=(0,g.Z)(te,2);return{plugin:D,options:ne[0],query:ne[1]}}))}),(0,ct.w)(function(E){var B=E.query;return s.evaluateCollectionPlugins({plugins:(0,f.Z)({},E.plugin.id,{params:E.options}),op:"query",query:B&&B.substr(1)})}),(0,ke.U)(function(E){return new Sr({results:E})}))},editorOptions:function(){return(0,ze.of)(new O2({fullscreen:!0}))},getBindings:function(c){return(0,ze.of)([])}})}(0,u,e,l,c,p)),r.register(function(n){var t=n.crudDataHelper,e=n.attributeSerializer;return new IF({id:"crud",title:"Crud",editor:$F,send:function(s){return(0,ze.of)(new HA({})).pipe((0,ke.U)(function(){return{settings:e.deserializeAsObject(s.settings)}}),(0,bt.b)(function(u){return console.log("crud data duct",u.settings)}),(0,ke.U)(function(u){var l=u.settings;return{plugins:(0,f.Z)({},"".concat(l.adaptorName),{plugin:"".concat(l.adaptorName),ops:["create"],params:"".concat(l.optionsString).split("&").reduce(function(c,p,y){return(0,ue.Z)((0,ue.Z)({},c),{},(0,f.Z)({},p.split("=",1)[0],new io(l.options[y])))},{})})}}),(0,ct.w)(function(u){return t.evaluatePlugins({object:s.data,plugins:u.plugins,op:"create",parentObject:{id:Br()}})}),(0,ke.U)(function(){return new HA({})}))}})}({crudDataHelper:c,attributeSerializer:u}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(F2),o.\u0275\u0275inject(GA),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(su),o.\u0275\u0275inject(J_),o.\u0275\u0275inject(X_))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.UX,K.u5,no.MaterialModule,xf,Gu]}),a}(),KA=function(){function a(n,t,e,r){(0,h.Z)(this,a),this.crud=t,this.entityDefinitionService=e,this.crudDataHelperService=r,this._name="".concat(n," CrudDataService"),this.entityName=n}return(0,v.Z)(a,[{key:"name",get:function(){return this._name}},{key:"add",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t,plugins:e.crud,op:"create"})}},{key:"update",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t.changes,plugins:e.crud,op:"update"})}},{key:"upsert",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluatePlugins({object:t,plugins:e.crud,op:"update"})}},{key:"delete",value:function(t){var e=this,r=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.getById(t).pipe((0,ct.w)(function(s){return e.crudDataHelperService.evaluatePlugins({object:s,plugins:r.crud,op:"delete"})}),(0,ke.U)(function(){return t}))}},{key:"getAll",value:function(){var t=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({plugins:t.crud,op:"query"})}},{key:"getById",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(t),plugins:e.crud,op:"query"}).pipe((0,ke.U)(function(r){return r&&0!==r.length?r[0]:void 0}))}},{key:"getWithQuery",value:function(t){var e=this.entityDefinitionService.getDefinition(this.entityName).metadata;return this.crudDataHelperService.evaluateCollectionPlugins({query:t,plugins:e.crud,op:"query"})}}]),a}(),LF=function(){var a=function(){function n(){(0,h.Z)(this,n),this.operatorsMap=new Map([["=","equal"],["!=","notEqual"]])}return(0,v.Z)(n,[{key:"buildFields",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=new Map;return this.genericFields(e,s,r,0),s}},{key:"attributeFields",value:function(e,r,s,u){var l=this;e.forEach(function(c,p){if("widget"!==c.name)for(var y in c)c.type===Ut.AttributeTypes.Complex||"attributes"===y&&c.attributes&&c.attributes.length>0?l.attributeFields(c.attributes,r,c.type===Ut.AttributeTypes.Complex?"".concat(s):"".concat(s,".").concat(c.name),u+1):"attributes"!==y&&(y===c.name?r.set("".concat(s,".").concat(y),{name:"".concat(s,".").concat(y),type:l.resolveAttributeType(c.type),defaultValue:c[y]}):r.set("".concat(s,".").concat(c.name,".").concat(y),{name:"".concat(s,".").concat(c.name,".").concat(y),type:l.resolveAttributeType(c.type),defaultValue:c[y]}))})}},{key:"genericFields",value:function(e,r,s,u){for(var l in e){var c=typeof e[l];if("object"!==c)r.set("".concat(s,".").concat(l),{name:"".concat(s,".").concat(l),type:this.resolveNativeType(c),defaultValue:e[l]});else if(Array.isArray(e[l])&&"attributes"===l)this.attributeFields(e[l],r,"".concat(s,".").concat(l),u+1);else if(Array.isArray(e[l]))for(var p=e[l].length,y=0;y<p;y++)this.genericFields(e[l][y],r,"".concat(s,".").concat(l,".").concat(y),u+1);else this.genericFields(e[l],r,"".concat(s,".").concat(l),u+1)}}},{key:"toEngineRule",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=[];if(void 0!==e.rules&&Array.isArray(e.rules)){for(var p=e.rules.length,y=0;y<p;y++)if(!("field"in e.rules[y])||null!=e.condition&&""!==e.condition){var B=this.toEngineRule(e.rules[y],r+1);s.push(B.conditions)}else{var E=e.rules[y].field.indexOf("."),D=e.rules[y].field.substr(0,E),R=e.rules[y].field.substr(E+1);s.push({fact:D,path:"$.".concat(R),operator:this.operatorsMap.get(e.rules[y].operator),value:e.rules[y].value})}return new Cf.Rule("and"===e.condition?{conditions:{all:s},event:0===r?{type:"visible"}:void 0}:{conditions:{any:s},event:0===r?{type:"visible"}:void 0})}var u=e.field.indexOf("."),l=e.field.substr(0,u),c=e.field.substr(u+1);return s.push({fact:l,path:"$.".concat(c),operator:this.operatorsMap.get(e.operator),value:e.value}),new Cf.Rule({conditions:{all:s},event:0===r?{type:"visible"}:void 0})}},{key:"extractConditions",value:function(e){var s=this.toEngineRule(e);return[].concat((0,_.Z)(void 0!==s.conditions.any?s.conditions.any:[]),(0,_.Z)(void 0!==s.conditions.all?s.conditions.all:[]))}},{key:"resolveNativeType",value:function(e){switch(e){case"number":return"number";case"boolean":return"boolean";default:return"string"}}},{key:"resolveAttributeType",value:function(e){switch(e){case Ut.AttributeTypes.Float:case Ut.AttributeTypes.Number:return"number";case Ut.AttributeTypes.Bool:return"boolean";default:return"string"}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),WA=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.rulesParser=t,this.inlineContextResolver=e}return(0,v.Z)(n,[{key:"evaluate",value:function(e){var r=this;return this.inlineContextResolver.resolveMerged(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],"rules:".concat(Br())).pipe((0,Vn.q)(1),(0,ke.U)(function(u){return[(0,ue.Z)({},u),new Cf.Engine]}),(0,bt.b)(function(u){var p=(0,g.Z)(u,2)[1],y=r.rulesParser.toEngineRule(e);p.addRule(y)}),(0,ct.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return new hr.y(function(y){p.run(c).then(function(E){y.next(E.events.findIndex(function(D){return"visible"===D.type})>-1),y.complete()})})}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(LF),o.\u0275\u0275inject(_f))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function Ca(a){if(null==a)throw new TypeError("Cannot destructure "+a)}S(1562);var XA=S(7400),UF=S(9984),QA=function(n){var s=n.method,l=n.path,p=n.port,E=n.protocol,B=n.service,te=n.cognitoSettings,ne=n.authFacade;return(0,ze.of)(new Ia({body:n.body,headers:n.headers,hostname:n.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===E?"https:":E,query:n.query})).pipe((0,bt.b)(function(){return console.log(".marker({ event: BEGIN , context: s3, entity: sig , op: signv4 , meta: {  } })")}),(0,ct.w)(function(he){return(0,XA.D)(new vh({credentials:OP({client:new eA({region:te.region}),identityPoolId:te.identityPoolId,logins:(0,f.Z)({},"cognito-idp.".concat(te.region,".amazonaws.com/").concat(te.userPoolId),function(){return oP(ne.getUser$.pipe((0,ke.U)(function(we){return we?we.id_token:void 0})))})}),region:te.region,service:B,sha256:UF.Sha256}).sign(he).then(function(Se){return console.log(".marker({ event: RESOLVED, entity: s3 , op: signv4 , meta: {  } })"),Se})).pipe((0,bt.b)(function(){return console.log(".marker({ /s3/sign/after/sig })")}),(0,Vn.q)(1))}),(0,ke.U)(function(he){return he}),(0,bt.b)(function(){return console.log(".marker({ event: END , context: s3, entity: sig , op: signv4 , meta: {  } })")}))},Zz=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c){(0,h.Z)(this,n),r.register(function(n,t,e,r,s,u){return new wf({id:"aws_s3_entity",title:"AWS S3 Entity",create:function(c){var p=c.object,y=c.identity,E=c.params,D=c.parentObject;return(0,ze.of)({success:!1}).pipe(r.resolveParams({params:E}),(0,ct.w)(function(R){var B=R.options;return y({object:p,parentObject:D}).pipe((0,ke.U)(function(te){return{identity:te.identity,options:B}}))}),(0,ct.w)(function(R){var B=R.options,te=R.identity;return QA({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(B.bucket,".s3.amazonaws.com")},hostname:"".concat(B.bucket,".s3.amazonaws.com"),path:"".concat(B.prefix).concat(te,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,ke.U)(function(ne){return{signedHttpRequest:ne,options:B}}))}),(0,bt.b)(function(R){return delete R.signedHttpRequest.headers.host}),(0,ke.U)(function(R){var B=R.signedHttpRequest,te=R.options;return{signedHttpRequest:B,options:te,url:"https://".concat(te.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,ct.w)(function(R){var B=R.signedHttpRequest;return s.put(R.url,JSON.stringify(p),{headers:B.headers,withCredentials:!1})}),(0,ke.U)(function(){return{success:!0}}))},read:function(c){return Ca(c),(0,ze.of)({success:!1})},update:function(c){var p=c.object,y=c.identity,E=c.params;return(0,ze.of)({success:!1}).pipe(r.resolveParams({params:E}),(0,ct.w)(function(D){var R=D.options;return y({object:p}).pipe((0,ke.U)(function(B){return{identity:B.identity,options:R}}))}),(0,ct.w)(function(D){var R=D.options,B=D.identity;return QA({method:"PUT",body:JSON.stringify(p),headers:{"Content-Type":"application/json",host:"".concat(R.bucket,".s3.amazonaws.com")},hostname:"".concat(R.bucket,".s3.amazonaws.com"),path:"".concat(R.prefix).concat(B,".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,ke.U)(function(te){return{signedHttpRequest:te,options:R}}))}),(0,bt.b)(function(D){return delete D.signedHttpRequest.headers.host}),(0,ke.U)(function(D){var R=D.signedHttpRequest,B=D.options;return{signedHttpRequest:R,options:B,url:"https://".concat(B.bucket,".s3.amazonaws.com").concat(R.path)}}),(0,ct.w)(function(D){var R=D.signedHttpRequest;return s.put(D.url,JSON.stringify(p),{headers:R.headers,withCredentials:!1})}),(0,ke.U)(function(){return{success:!0}}))},delete:function(c){return Ca(c),(0,ze.of)({success:!1})},query:function(c){var p=c.rule,y=c.params;return(0,ze.of)({entities:[],success:!1}).pipe(r.resolveParams({params:y}),(0,ke.U)(function(E){return{options:E.options,identityCondition:p.conditions.all.map(function(R){return R.any.find(function(B){return"identity"===B.fact})}).find(function(R){return!!R})}}),(0,ct.w)(function(E){var D=E.identityCondition,R=E.options;return zr(function(){return void 0!==D&&D&&"identity"===D.fact&&R&&R.bucket},QA({method:"GET",body:void 0,headers:{"Content-Type":"application/json",host:"".concat(R?R.bucket:"",".s3.amazonaws.com")},hostname:"".concat(R?R.bucket:"",".s3.amazonaws.com"),path:"".concat(R&&R.prefix?R.prefix:"").concat(D?D.value:"",".json"),protocol:"https:",service:"s3",cognitoSettings:e,authFacade:t}).pipe((0,bt.b)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { action: createSignedRequest } })")}),(0,bt.b)(function(B){return delete B.headers.host}),(0,ke.U)(function(B){return{signedHttpRequest:B,options:R,url:"https://".concat(R.bucket,".s3.amazonaws.com").concat(B.path)}}),(0,bt.b)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,ct.w)(function(B){return s.get(B.url,{headers:B.signedHttpRequest.headers,withCredentials:!1})}),(0,bt.b)(function(){return console.log(".marker({ event: AFTER , entity: s3 , op: query , meta: { http: get } })")}),(0,ke.U)(function(B){return{entities:B?[B]:[],success:!!B}})),(0,ze.of)({entities:[],success:!1}))}))}})}(0,s,t,u,l))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Jx),o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(Da),o.\u0275\u0275inject(su),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(zn.AsyncApiCallHelperService))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[zn.UtilsModule,ih,Y_]}),a}(),N2=function(n){var s=n.method,l=n.path,p=n.port,E=n.protocol,B=n.service,te=n.cognitoSettings,ne=n.authFacade;return(0,ze.of)(new Ia({body:n.body,headers:n.headers,hostname:n.hostname,method:void 0===s?"GET":s,path:void 0===l?"/":l,port:void 0===p?443:p,protocol:void 0===E?"https:":E,query:n.query})).pipe((0,bt.b)(function(){return console.log(".marker({ event: BEGIN , context: os, entity: sig , op: signv4 , meta: {  } })")}),(0,ct.w)(function(he){return(0,XA.D)(new vh({credentials:OP({client:new eA({region:te.region}),identityPoolId:te.identityPoolId,logins:(0,f.Z)({},"cognito-idp.".concat(te.region,".amazonaws.com/").concat(te.userPoolId),function(){return oP(ne.getUser$.pipe((0,ke.U)(function(we){return we?we.id_token:void 0})))})}),region:te.region,service:B,sha256:UF.Sha256,applyChecksum:!1}).sign(he).then(function(Se){return console.log(".marker({ event: RESOLVED, entity: os , op: signv4 , meta: {  } })"),Se})).pipe((0,bt.b)(function(){return console.log(".marker({ /os/sign/after/sig })")}),(0,Vn.q)(1))}),(0,ke.U)(function(he){return he}),(0,bt.b)(function(){return console.log(".marker({ event: END , context: os, entity: sig , op: signv4 , meta: {  } })")}))},Lz=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l){(0,h.Z)(this,n),r.register(function(n,t,e,r,s){return new wf({id:"aws_opensearch_template",title:"AWS Opensearch Template",create:function(l){return(0,ze.of)({success:!1})},read:function(l){return Ca(l),(0,ze.of)({success:!1})},update:function(l){return(0,ze.of)({success:!1})},delete:function(l){return Ca(l),(0,ze.of)({success:!1})},query:function(l){var c=l.rule,p=l.params;return(0,ze.of)({entities:[],success:!1}).pipe((0,ct.w)(function(){return p&&0!==Object.keys(p).length?(0,nr.D)(Object.keys(p).map(function(y){return r.paramValue(p[y],new Map).pipe((0,ke.U)(function(E){return(0,f.Z)({},y,E)}))})).pipe((0,ke.U)(function(y){return y.reduce(function(E,D){return(0,ue.Z)((0,ue.Z)({},E),D)},{})}),(0,ke.U)(function(y){return{options:y}})):(0,ze.of)({options:{}})}),(0,ke.U)(function(y){var E=y.options;return{options:E,body:JSON.stringify({id:E.id,params:c?c.conditions.all.reduce(function(D,R){return(0,ue.Z)((0,ue.Z)({},D),R.any.reduce(function(B,te){return(0,ue.Z)((0,ue.Z)({},B),{},(0,f.Z)({},te.path.substr(2),[].concat((0,_.Z)(B[te.path.substr(2)]?B[te.path.substr(2)]:[]),[JSON.parse(decodeURIComponent(te.value))])))},{}))},{}):{}})}}),(0,bt.b)(function(y){return console.log("open search template query body",y.body)}),(0,ct.w)(function(y){var E=y.options;return N2({method:"POST",body:y.body,headers:{"Content-Type":"application/json",host:"".concat(E.domain,".").concat(E.region,".es.amazonaws.com")},hostname:"".concat(E.domain,".").concat(E.region,".es.amazonaws.com"),path:"/".concat(E.index,"/_search/template"),protocol:"https:",service:"es",cognitoSettings:e,authFacade:t}).pipe((0,ke.U)(function(R){return{signedHttpRequest:R,options:E}}))}),(0,ct.w)(function(y){var E=y.signedHttpRequest,D=y.options;delete E.headers.host;var R="https://".concat(D.domain,".").concat(D.region,".es.amazonaws.com/").concat(D.index,"/_search/template");return s.post(R,E.body,{headers:E.headers,withCredentials:!1}).pipe((0,ke.U)(function(B){return{res:B,options:D}}))}),(0,ke.U)(function(y){var E=y.res,D=y.options;return{entities:D.hits&&E&&E.hits&&E.hits.hits?E.hits.hits.map(function(R){return D.source?R._source:R}):[E],success:!0}}))}})}(0,s,t,u,l)),r.register(function(n,t,e,r){return new wf({id:"aws_opensearch_entity",title:"AWS Opensearch Entity",create:function(u){var l=u.object,c=u.identity,p=u.params,y=u.parentObject;return(0,ze.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,ct.w)(function(E){var D=E.options;return c({object:l,parentObject:y}).pipe((0,ke.U)(function(R){return{identity:R.identity,options:D}}))}),(0,ct.w)(function(E){var D=E.options,R=E.identity;return N2((0,ue.Z)((0,ue.Z)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(D.domain,".").concat(D.region,".es.amazonaws.com")},hostname:"".concat(D.domain,".").concat(D.region,".es.amazonaws.com"),path:"/".concat(D.index,"/_doc/").concat(R),protocol:"https:",service:"es"},(0,ue.Z)({},D.pipeline?{query:{pipeline:D.pipeline}}:{})),{},{cognitoSettings:t,authFacade:n})).pipe((0,ke.U)(function(B){return{signedHttpRequest:B,options:D,identity:R}}))}),(0,ct.w)(function(E){var D=E.signedHttpRequest,R=E.options,B=E.identity;delete D.headers.host;var te="https://".concat(R.domain,".").concat(R.region,".es.amazonaws.com/").concat(R.index,"/_doc/").concat(B);return r.put(te,JSON.stringify(l),{headers:D.headers,withCredentials:!1,params:(0,ue.Z)({},R.pipeline?{pipeline:R.pipeline}:{})}).pipe((0,ke.U)(function(ne){return{res:ne,options:R}}))}),(0,ke.U)(function(){return{success:!0}}))},read:function(u){return Ca(u),(0,ze.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,p=u.params,y=u.parentObject;return(0,ze.of)({success:!1}).pipe(e.resolveParams({params:p}),(0,ct.w)(function(E){var D=E.options;return c({object:l,parentObject:y}).pipe((0,ke.U)(function(R){return{identity:R.identity,options:D}}))}),(0,ct.w)(function(E){var D=E.options,R=E.identity;return N2((0,ue.Z)((0,ue.Z)({method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",host:"".concat(D.domain,".").concat(D.region,".es.amazonaws.com")},hostname:"".concat(D.domain,".").concat(D.region,".es.amazonaws.com"),path:"/".concat(D.index,"/_doc/").concat(R),protocol:"https:",service:"es"},(0,ue.Z)({},D.pipeline?{query:{pipeline:D.pipeline}}:{})),{},{cognitoSettings:t,authFacade:n})).pipe((0,ke.U)(function(B){return{signedHttpRequest:B,options:D,identity:R}}))}),(0,ct.w)(function(E){var D=E.signedHttpRequest,R=E.options,B=E.identity;delete D.headers.host;var te="https://".concat(R.domain,".").concat(R.region,".es.amazonaws.com/").concat(R.index,"/_doc/").concat(B);return r.put(te,JSON.stringify(l),{headers:D.headers,withCredentials:!1,params:(0,ue.Z)({},R.pipeline?{pipeline:R.pipeline}:{})}).pipe((0,ke.U)(function(ne){return{res:ne,options:R}}))}),(0,ke.U)(function(){return{success:!0}}))},delete:function(u){return Ca(u),(0,ze.of)({success:!1})},query:function(u){var l=u.rule,c=u.params;return(0,ze.of)({entities:[],success:!1}).pipe((0,bt.b)(function(){console.log("crud open search query",l,c)}),e.resolveParams({params:c}),(0,ke.U)(function(p){return{options:p.options,identityCondition:l.conditions.all.map(function(E){return E.any.find(function(D){return"identity"===D.fact})}).find(function(E){return!!E})}}),(0,ct.w)(function(p){var y=p.options,E=p.identityCondition;return N2({method:"GET",headers:{"Content-Type":"application/json",host:"".concat(y.domain,".").concat(y.region,".es.amazonaws.com")},hostname:"".concat(y.domain,".").concat(y.region,".es.amazonaws.com"),path:"/".concat(y.index,"/_doc/").concat(E?E.value:""),protocol:"https:",service:"es",cognitoSettings:t,authFacade:n}).pipe((0,bt.b)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { action: createSignedRequest } })")}),(0,bt.b)(function(D){return delete D.headers.host}),(0,ke.U)(function(D){return{signedHttpRequest:D,options:y,url:"https://".concat(y.domain,".").concat(y.region,".es.amazonaws.com").concat(D.path)}}),(0,bt.b)(function(){return console.log(".marker({ event: BEFORE , entity: crud , op: query , meta: { http: get } })")}),(0,ct.w)(function(D){return r.get(D.url,{headers:D.signedHttpRequest.headers,withCredentials:!1}).pipe((0,Hi.K)(function(){return(0,ze.of)(void 0)}))}),(0,bt.b)(function(){return console.log(".marker({ event: AFTER , entity: opensearch , op: query , meta: { http: get } })")}),(0,ke.U)(function(D){return{entities:D?[D._source]:[],success:!!D}}))}))}})}(s,t,u,l))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Jx),o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(Da),o.\u0275\u0275inject(su),o.\u0275\u0275inject(O.HttpClient))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[ih,Y_]}),a}(),du=S(4567),Uz=S(5778),e0=S(2375),zz=Object.prototype.toString;var VF=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},B2=function(){function a(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(n,t,e){return t&&a(n.prototype,t),e&&a(n,e),n}}();function GF(a){return a.split("").map(function(n){return"(?:"+n.toUpperCase()+"|"+n.toLowerCase()+")"}).join("")}function Sf(a,n){for(var t=a.length-1;t>=0;t--)a[t]===n&&Array.prototype.splice.call(a,t,1)}function Vz(a,n){return Object.prototype.hasOwnProperty.call(a,n)}var JA={},HF=function(){function a(){VF(this,a),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return B2(a,null,[{key:"getInstance",value:function(t){return JA[t]=JA[t]||new a,JA[t]}}]),B2(a,[{key:"acronym",value:function(t){this.acronyms[t.toLowerCase()]=t;var e=[];for(var r in this.acronyms)Vz(this.acronyms,r)&&e.push(this.acronyms[r]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(t,e){"string"==typeof t&&Sf(this.uncountables,t),Sf(this.uncountables,e),this.plurals.unshift([t,e])}},{key:"singular",value:function(t,e){"string"==typeof t&&Sf(this.uncountables,t),Sf(this.uncountables,e),this.singulars.unshift([t,e])}},{key:"irregular",value:function(t,e){Sf(this.uncountables,t),Sf(this.uncountables,e);var r=t[0],s=t.substr(1),u=e[0],l=e.substr(1);if(r.toUpperCase()===u.toUpperCase())this.plural(new RegExp("("+r+")"+s+"$","i"),"$1"+l),this.plural(new RegExp("("+u+")"+l+"$","i"),"$1"+l),this.singular(new RegExp("("+r+")"+s+"$","i"),"$1"+s),this.singular(new RegExp("("+u+")"+l+"$","i"),"$1"+s);else{var c=GF(s),p=GF(l);this.plural(new RegExp(r.toUpperCase()+c+"$"),u.toUpperCase()+l),this.plural(new RegExp(r.toLowerCase()+c+"$"),u.toLowerCase()+l),this.plural(new RegExp(u.toUpperCase()+p+"$"),u.toUpperCase()+l),this.plural(new RegExp(u.toLowerCase()+p+"$"),u.toLowerCase()+l),this.singular(new RegExp(r.toUpperCase()+c+"$"),r.toUpperCase()+s),this.singular(new RegExp(r.toLowerCase()+c+"$"),r.toLowerCase()+s),this.singular(new RegExp(u.toUpperCase()+p+"$"),r.toUpperCase()+s),this.singular(new RegExp(u.toLowerCase()+p+"$"),r.toLowerCase()+s)}}},{key:"uncountable",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(t,e){this.humans.unshift([t,e])}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===t?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]}}]),a}(),qF={en:function Gz(a){a.plural(/$/,"s"),a.plural(/s$/i,"s"),a.plural(/^(ax|test)is$/i,"$1es"),a.plural(/(octop|vir)us$/i,"$1i"),a.plural(/(octop|vir)i$/i,"$1i"),a.plural(/(alias|status)$/i,"$1es"),a.plural(/(bu)s$/i,"$1ses"),a.plural(/(buffal|tomat)o$/i,"$1oes"),a.plural(/([ti])um$/i,"$1a"),a.plural(/([ti])a$/i,"$1a"),a.plural(/sis$/i,"ses"),a.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),a.plural(/(hive)$/i,"$1s"),a.plural(/([^aeiouy]|qu)y$/i,"$1ies"),a.plural(/(x|ch|ss|sh)$/i,"$1es"),a.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),a.plural(/^(m|l)ouse$/i,"$1ice"),a.plural(/^(m|l)ice$/i,"$1ice"),a.plural(/^(ox)$/i,"$1en"),a.plural(/^(oxen)$/i,"$1"),a.plural(/(quiz)$/i,"$1zes"),a.singular(/s$/i,""),a.singular(/(ss)$/i,"$1"),a.singular(/(n)ews$/i,"$1ews"),a.singular(/([ti])a$/i,"$1um"),a.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),a.singular(/(^analy)(sis|ses)$/i,"$1sis"),a.singular(/([^f])ves$/i,"$1fe"),a.singular(/(hive)s$/i,"$1"),a.singular(/(tive)s$/i,"$1"),a.singular(/([lr])ves$/i,"$1f"),a.singular(/([^aeiouy]|qu)ies$/i,"$1y"),a.singular(/(s)eries$/i,"$1eries"),a.singular(/(m)ovies$/i,"$1ovie"),a.singular(/(x|ch|ss|sh)es$/i,"$1"),a.singular(/^(m|l)ice$/i,"$1ouse"),a.singular(/(bus)(es)?$/i,"$1"),a.singular(/(o)es$/i,"$1"),a.singular(/(shoe)s$/i,"$1"),a.singular(/(cris|test)(is|es)$/i,"$1is"),a.singular(/^(a)x[ie]s$/i,"$1xis"),a.singular(/(octop|vir)(us|i)$/i,"$1us"),a.singular(/(alias|status)(es)?$/i,"$1"),a.singular(/^(ox)en/i,"$1"),a.singular(/(vert|ind)ices$/i,"$1ex"),a.singular(/(matr)ices$/i,"$1ix"),a.singular(/(quiz)zes$/i,"$1"),a.singular(/(database)s$/i,"$1"),a.irregular("person","people"),a.irregular("man","men"),a.irregular("child","children"),a.irregular("sex","sexes"),a.irregular("move","moves"),a.irregular("zombie","zombies"),a.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function As(a,n){if(function zF(a){return"[object Function]"===zz.call(a)}(a)&&(n=a,a=null),a=a||"en",!n)return HF.getInstance(a);n(HF.getInstance(a))}for(var KF in qF)As(KF,qF[KF]);function XF(a){return function WF(a,n){var e,r,s,t=""+a;if(0===t.length)return t;var u=t.toLowerCase().match(/\b\w+$/);if(u&&As().uncountables.indexOf(u[0])>-1)return t;for(var l=0,c=n.length;l<c;l++)if(s=(e=n[l])[1],t.match(r=e[0])){t=t.replace(r,s);break}return t}(a,As(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function QF(a){var n=null==a?"":String(a);return n.charAt(0).toUpperCase()+n.slice(1)}function Kl(a,n){null==n&&(n=!0);var t=""+a;return t=(t=n?t.replace(/^[a-z\d]*/,function(e){return As().acronyms[e]||QF(e)}):t.replace(new RegExp("^(?:"+As().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),function(e){return e.toLowerCase()})).replace(/(?:_|(\/))([a-z\d]*)/gi,function(e,r,s,u,l){return r||(r=""),""+r+(As().acronyms[s]||QF(s))}),t}var JF={\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00c6:"AE",\u00c7:"C",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00d0:"D",\u00d1:"N",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O","\xd7":"x",\u00d8:"O",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00dd:"Y",\u00de:"Th",\u00df:"ss",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00e6:"ae",\u00e7:"c",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00f0:"d",\u00f1:"n",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00fd:"y",\u00fe:"th",\u00ff:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010a:"C",\u010b:"c",\u010c:"C",\u010d:"c",\u010e:"D",\u010f:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011a:"E",\u011b:"e",\u011c:"G",\u011d:"g",\u011e:"G",\u011f:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u0128:"I",\u0129:"i",\u012a:"I",\u012b:"i",\u012c:"I",\u012d:"i",\u012e:"I",\u012f:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013a:"l",\u013b:"L",\u013c:"l",\u013d:"L",\u013e:"l",\u013f:"L",\u0140:"l",\u0141:"L",\u0142:"l",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"'n",\u014a:"NG",\u014b:"ng",\u014c:"O",\u014d:"o",\u014e:"O",\u014f:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",\u015a:"S",\u015b:"s",\u015c:"S",\u015d:"s",\u015e:"S",\u015f:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",\u0168:"U",\u0169:"u",\u016a:"U",\u016b:"u",\u016c:"U",\u016d:"u",\u016e:"U",\u016f:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017a:"z",\u017b:"Z",\u017c:"z",\u017d:"Z",\u017e:"z",\u0410:"A",\u0411:"B",\u0412:"V",\u0413:"G",\u0414:"D",\u0415:"E",\u0401:"E",\u0416:"ZH",\u0417:"Z",\u0418:"I",\u0419:"J",\u041a:"K",\u041b:"L",\u041c:"M",\u041d:"N",\u041e:"O",\u041f:"P",\u0420:"R",\u0421:"S",\u0422:"T",\u0423:"U",\u0424:"F",\u0425:"KH",\u0426:"C",\u0427:"CH",\u0428:"SH",\u0429:"SHCH",\u042a:"",\u042b:"Y",\u042c:"",\u042d:"E",\u042e:"YU",\u042f:"YA",\u0430:"a",\u0431:"b",\u0432:"v",\u0433:"g",\u0434:"d",\u0435:"e",\u0451:"e",\u0436:"zh",\u0437:"z",\u0438:"i",\u0439:"j",\u043a:"k",\u043b:"l",\u043c:"m",\u043d:"n",\u043e:"o",\u043f:"p",\u0440:"r",\u0441:"s",\u0442:"t",\u0443:"u",\u0444:"f",\u0445:"kh",\u0446:"c",\u0447:"ch",\u0448:"sh",\u0449:"shch",\u044a:"",\u044b:"y",\u044c:"",\u044d:"e",\u044e:"yu",\u044f:"ya"},YA={};function Yz(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.index;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1("panel page | level: ",t,"")}}function eV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",3),o.\u0275\u0275template(2,Yz,2,2,"mat-option",4),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(3,1,t.panelPages$))}}function tV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.index;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1("panel | ",t,"")}}function nV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",6),o.\u0275\u0275template(2,tV,2,2,"mat-option",4),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(3,1,t.panels$))}}function rV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",5),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.index;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1("pane | ",t,"")}}function iV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",7),o.\u0275\u0275template(2,rV,2,2,"mat-option",4),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(3,1,t.panes$))}}function oV(a,n){if(1&a&&o.\u0275\u0275element(0,"druid-panels-panelpage-linkedlist",8),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("panelPages",t.nested)}}function aV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",2),o.\u0275\u0275listener("click",function(){var u=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(l.onItemSelect(u.id))}),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2("",e.title," [",e.id,"]")}}function sV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-nav-list"),o.\u0275\u0275template(1,aV,3,2,"a",5),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(2,1,t.panels$))}}!function(){function a(){for(var n in VF(this,a),this.approximations={},JF)this.approximate(n,JF[n])}B2(a,null,[{key:"getInstance",value:function(t){return YA[t]=YA[t]||new a,YA[t]}}]),B2(a,[{key:"approximate",value:function(t,e){this.approximations[t]=e}},{key:"transliterate",value:function(t,e){var r=this;return t.replace(/[^\u0000-\u007f]/g,function(s){return r.approximations[s]||e||"?"})}}])}();var lV=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.openSearchDomain=n.openSearchDomain,this.s3Bucket=n.s3Bucket,this.objectsRootUrl=n.objectsRootUrl)}),yi=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.gridItems=[],this.panels=[],this.contexts=[],this.rowSettings=[],this.entityPermissions=new eM,n&&(this.id=n.id,this.layoutType=n.layoutType,this.displayType=n.displayType,this.name=n.name?n.name:void 0,this.title=n.title?n.title:void 0,this.site=n.site?n.site:void 0,this.userId=n.userId?n.userId:void 0,this.path=n.path?n.path:void 0,this.persistence=n.persistence?new bf(n.persistence):void 0,this.interactions=n.interactions?new Hl(n.interactions):void 0,n.panels&&(this.panels=n.panels.map(function(t){return new fu(t)})),n.gridItems&&(this.gridItems=n.gridItems.map(function(t){return new cV(t)})),n.contexts&&(this.contexts=n.contexts.map(function(t){return new Ao(t)})),n.layoutSetting&&(this.layoutSetting=new Pr(n.layoutSetting)),n.rowSettings&&Array.isArray(n.rowSettings)&&(this.rowSettings=n.rowSettings.map(function(t){return new Pr(t)})),n.entityPermissions&&(this.entityPermissions=new eM(n.entityPermissions)),n.cssFile&&(this.cssFile=n.cssFile))}),fu=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],this.panes=[],n&&(this.name=n.name?n.name:void 0,this.label=n.label?n.label:void 0,this.stylePlugin=n.stylePlugin,n.settings&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})),n.panes&&(this.panes=n.panes.map(function(t){return new fi(t)})),n.columnSetting&&(this.columnSetting=new Pr(n.columnSetting)))}),fi=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],this.locked=!1,this.contexts=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,this.locked=void 0!==n.locked&&n.locked,n.linkedPageId&&(this.linkedPageId=n.linkedPageId),void 0!==n.metadata&&(this.metadata=new Map((0,_.Z)(n.metadata))),void 0!==n.settings&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})),void 0!==n.contexts&&(this.contexts=n.contexts.map(function(t){return new Ao(t)})),void 0!==n.rule&&"string"!=typeof n.rule&&(this.rule=(0,ue.Z)({},n.rule)),n.nestedPage&&(this.nestedPage=new yi(n.nestedPage)),n.resolvedContext&&(this.resolvedContext=(0,ue.Z)({},n.resolvedContext)))}),cV=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.cols=n.cols,this.rows=n.rows,this.x=n.x,this.y=n.y,this.weight=n.weight)}),Pr=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],n&&n.settings&&Array.isArray(n.settings)&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)}))}),eM=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.readUserIds=[],this.writeUserIds=[],this.deleteUserIds=[],n&&(this.readUserIds=n.readUserIds?n.readUserIds.map(function(t){return t}):[],this.writeUserIds=n.writeUserIds?n.writeUserIds.map(function(t){return t}):[],this.deleteUserIds=n.deleteUserIds?n.deleteUserIds.map(function(t){return t}):[])}),Vo=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"getBindings",value:function(e,r){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"fromPanes",value:function(e){var r=this;return e.map(function(s){return new fi(r.attributeSerializer.deserialize(s))})}},{key:"wrapPanel",value:function(e){return new fu({stylePlugin:void 0,settings:[],panes:e,columnSetting:new Pr})}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),dV=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.panelHandler=e,this.panelPages$=new en.X([]),this.panels$=new en.X([]),this.panes$=new en.X([]),this.nested$=new en.X([]),this.formGroup=this.fb.group({panelPage:this.fb.control(void 0),panel:this.fb.control(void 0),pane:this.fb.control(void 0),nested:this.fb.control(void 0)}),this.panelPageSub=this.formGroup.get("panelPage").valueChanges.subscribe(function(s){r.panels$.next(new yi(r.panelPages$.value[s]).panels)}),this.panelSub=this.formGroup.get("panel").valueChanges.subscribe(function(s){r.panes$.next(new fu(r.panels$.value[s]).panes)}),this.paneSub=this.formGroup.get("pane").valueChanges.pipe((0,ke.U)(function(s){return r.panes$.value[s]}),(0,ct.w)(function(s){return zr(function(){return"panel"===s.contentPlugin},r.panelHandler.toObject(s.settings),(0,ze.of)(void 0))}),(0,sn.h)(function(s){return!!s})).subscribe(function(s){r.nested$.next([s])}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"panelPages",get:function(){return this.panelPages$.value&&Array.isArray(this.panelPages$.value)?this.panelPages$.value:[]},set:function(e){this.panelPages$.next(e)}},{key:"panels",get:function(){return this.panels$.value&&Array.isArray(this.panels$.value)?this.panels$.value:[]},set:function(e){this.panels$.next(e)}},{key:"panes",get:function(){return this.panes$.value&&Array.isArray(this.panes$.value)?this.panes$.value:[]},set:function(e){this.panes$.next(e)}},{key:"nested",get:function(){return this.nested$.value&&void 0!==typeof this.nested$.value&&this.nested$.value.length>0?(0,_.Z)(this.nested$.value):void 0}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Vo))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-panels-panelpage-linkedlist"]],inputs:{panelPages:"panelPages",panels:"panels",panes:"panes"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["formControlName","nested",3,"panelPages",4,"ngIf"],["required","","formControlName","panelPage"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["required","","formControlName","panel"],["required","","formControlName","pane"],["formControlName","nested",3,"panelPages"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,eV,4,3,"mat-form-field",1),o.\u0275\u0275template(2,nV,4,3,"mat-form-field",1),o.\u0275\u0275template(3,iV,4,3,"mat-form-field",1),o.\u0275\u0275template(4,oV,1,1,"druid-panels-panelpage-linkedlist",2),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.panelPages.length>0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.panels.length>0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.panes.length>0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested))},dependencies:[w.NgForOf,w.NgIf,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,ro.x8,a,w.AsyncPipe],encapsulation:2}),a}(),fV=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.siteName=t,this.bottomSheetRef=e,this.handler=r,this.dialog=s,this.fb=u,this.selectedIndex=0,this.panelPagesService=l.getEntityCollectionService("PanelPage"),this.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"onNewSelect",value:function(){var e=this,r=Br(),s=new yi({id:void 0,layoutType:"split",displayType:"page",site:this.siteName,gridItems:[],panels:[],layoutSetting:new Pr,rowSettings:[]});this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:r,label:r,rule:new K.p4(""),settings:this.fb.array(this.handler.buildSettings(s).map(function(u){return e.convertToGroup(u)}))})),this.bottomSheetRef.dismiss()}},{key:"onLinkSelect",value:function(){this.selectedIndex=1,this.panels$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent(this.siteName)))}},{key:"onEmbedSelect",value:function(){var e=Br();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:e,label:e,rule:new K.p4(""),locked:new K.p4(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"onItemSelect",value:function(e){var r=Br();this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"panel",name:r,label:r,rule:new K.p4(""),linkedPageId:new K.p4(e,K.kI.required),locked:new K.p4(!0),settings:this.fb.array([])})),this.bottomSheetRef.dismiss()}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(zn.SITE_NAME),o.\u0275\u0275directiveInject(ql.oL),o.\u0275\u0275directiveInject(Vo),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-panel-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:11,vars:1,consts:[["mat-align-tabs","start",3,"selectedIndex"],["label","Type"],["mat-list-item","","mat-list-item","",3,"click"],["label","Search"],["matTabContent",""],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-line",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-nav-list")(3,"a",2),o.\u0275\u0275listener("click",function(){return e.onNewSelect()}),o.\u0275\u0275text(4,"New Panel"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"a",2),o.\u0275\u0275listener("click",function(){return e.onLinkSelect()}),o.\u0275\u0275text(6,"Link Panel"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"a",2),o.\u0275\u0275listener("click",function(){return e.onEmbedSelect()}),o.\u0275\u0275text(8,"Embed Panel"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(9,"mat-tab",3),o.\u0275\u0275template(10,sV,3,3,"ng-template",4),o.\u0275\u0275elementEnd()()),2&t&&o.\u0275\u0275property("selectedIndex",e.selectedIndex)},dependencies:[w.NgForOf,M2.X2,qu.U,qu.oh,Ps.SK,Ps.R7,Ps.Ql,w.AsyncPipe]}),a}(),pV=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-panel-editor"]],decls:2,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"panel-editor works!"),o.\u0275\u0275elementEnd())}}),a}(),Rs=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.panels=[],n&&(this.id=n.id,void 0!==n.panels&&Array.isArray(n.panels)&&(this.panels=n.panels.map(function(t){return new Wl(t)})))}),Wl=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.panes=[],n&&void 0!==n.panes&&Array.isArray(n.panes)&&(this.panes=n.panes.map(function(t){return new wa(t)}))}),wa=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(void 0!==n.state&&(this.state=new Ut.AttributeValue(n.state)),null!=n.nestedPage&&(this.nestedPage=new Rs(n.nestedPage)))}),eR=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.siteName=t,this.panelHandler=e,this.attributeSerializer=r,this.rulesResolver=s,this.dpm=u,this.datasourceEvalutator=l}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!0}},{key:"isData",value:function(e){return!0}},{key:"fetchDynamicData",value:function(e,r){var s=this,u=r.has("dataPanes")?new Map(r.get("dataPanes").map(function(c){return[c.name,c]})):new Map([]),l=new Map(Array.from(u).map(function(c){var p=(0,g.Z)(c,2);return[p[0],new zl(s.attributeSerializer.deserializeAsObject(p[1].settings))]}));return this.toObject(e).pipe((0,ct.w)(function(c){return s.datasourceEvalutator.evalDatasource({datasource:c,metadata:r,datasources:l})}))}},{key:"buildDynamicItems",value:function(e,r){var s=this,u=new Map(r.get("dataPanes").map(function(l){return[l.name,l]}));return this.fetchDynamicData(e,r).pipe((0,ct.w)(function(l){return s.toObject(e).pipe((0,ke.U)(function(c){return[c,l]}))}),(0,ct.w)(function(l){var c=(0,g.Z)(l,2),p=c[0],y=c[1];return s.getBindings(e,"pane").pipe((0,ke.U)(function(E){return[p,y,E]}))}),(0,ct.w)(function(l){var c=(0,g.Z)(l,3),p=c[0],y=c[1],E=c[2];return zr(function(){return 0!==y.results.length&&E.length>0},(0,nr.D)(y.results.map(function(D){return(0,nr.D)(E.filter(function(R){return!u.has(R.id)}).map(function(R){return(0,ze.of)(r.get("panes").find(function(B){return B.name===R.id})).pipe((0,ct.w)(function(B){return zr(function(){return B&&B.rule&&null!==B.rule&&""!==B.rule.condition},B?s.rulesResolver.evaluate(B.rule,[].concat((0,_.Z)(r.get("contexts")),(0,_.Z)(void 0!==B.contexts?B.contexts:[]),[new Ao({name:"_root",adaptor:"data",data:D})])).pipe((0,ke.U)(function(te){return[B,te]})):(0,ze.of)([B,!1]),(0,ze.of)(!1).pipe((0,ke.U)(function(te){return[B,te]})))}),(0,sn.h)(function(B){return(0,g.Z)(B,2)[1]}),(0,ke.U)(function(B){return(0,g.Z)(B,2)[0].name}),(0,Fi.d)(R.id))})).pipe((0,ke.U)(function(R){return R.reduce(function(B,te){return[].concat((0,_.Z)(B),[te])},[])}))})).pipe((0,ke.U)(function(D){return[p,y,D]})),new hr.y(function(D){D.next([p,y,[]]),D.complete()}))}),(0,ke.U)(function(l){var c=(0,g.Z)(l,3),E=c[2];return c[1].results.reduce(function(D,R,B){return[].concat((0,_.Z)(D),(0,_.Z)(E[B]?E[B].map(function(te){return new fi((0,ue.Z)((0,ue.Z)({},r.get("panes").find(function(ne){return ne.name===te})),{},{rule:void 0,label:Br(),contexts:[].concat((0,_.Z)(r.get("contexts")),[new Ao({name:"_root",adaptor:"data",data:R})])}))}):[]))},[])}),(0,ke.U)(function(l){return new fu({stylePlugin:void 0,settings:[],panes:l,columnSetting:new Pr})}),(0,ke.U)(function(l){return s.panelHandler.buildSettings(new yi({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new Pr,rowSettings:[],panels:[l]}))}),(0,ke.U)(function(l){return l.find(function(c){return"panels"===c.name}).attributes[0].attributes.find(function(c){return"panes"===c.name}).attributes}))}},{key:"getBindings",value:function(e,r,s){var u=this,l=s?new Map(s.get("dataPanes").map(function(c){return[c.name,c]})):new Map;return"context"===r?this.toObject(e).pipe((0,ke.U)(function(c){return[c,c.params?c.params.reduce(function(p,y){return[].concat((0,_.Z)(p),(0,_.Z)("form"===y.mapping.type?[new Sn.ContentBinding({id:"form__".concat(y.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[]):[]]}),(0,ct.w)(function(c){var y=(0,g.Z)(c,2)[0];return u.dpm.getPlugin(y.plugin).pipe((0,ct.w)(function(D){return D.getBindings({settings:y.settings,metadata:s}).pipe((0,ke.U)(function(R){return[y,R]}))}))}),(0,ct.w)(function(c){var p=(0,g.Z)(c,2),E=p[1];return(0,nr.D)(p[0].renderer.bindings.reduce(function(D,R){return[].concat((0,_.Z)(D),(0,_.Z)(l.has(R.id)?[u.toObject(l.get(R.id).settings)]:[]))},[])).pipe((0,ct.w)(function(D){return(0,nr.D)(D.map(function(R){return u.dpm.getPlugin(R.plugin).pipe((0,ct.w)(function(B){return B.getBindings({settings:R.settings,metadata:s})}))})).pipe((0,ke.U)(function(R){return R.reduce(function(B,te){return[].concat((0,_.Z)(B),(0,_.Z)(te))},E)}),(0,Fi.d)(E))}),(0,Fi.d)(E))})):this.toObject(e).pipe((0,ct.w)(function(c){return zr(function(){return c.renderer.type===r},(0,ze.of)(c.renderer.bindings),(0,ze.of)([]))}))}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"getRenderType",value:function(e){var r=[e.find(function(s){return"renderer"===s.name})].map(function(s){return s.attributes.find(function(u){return"type"===u.name})});return r.length>0?r[0].value:void 0}},{key:"stateDefinition",value:function(e){return(0,ze.of)({autocomplete:{input:""},loading:"y"})}},{key:"editorOptions",value:function(e){var r=this;return this.toObject(e).pipe((0,ct.w)(function(s){return r.dpm.getPlugin(s&&s.plugin?s.plugin:"data").pipe((0,ke.U)(function(u){return[s,u]}))}),(0,ct.w)(function(s){var u=(0,g.Z)(s,2),l=u[0],c=u[1];return c.editorOptions?c.editorOptions({settings:l&&l.settings?l.settings:[]}):(0,ze.of)(void 0)}),(0,ke.U)(function(s){return new Sn.ContentPluginEditorOptions({fullscreen:!!s&&s.fullscreen})}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(Vo),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(WA),o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(CF))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),hV=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.attributeSerializer=s,this.datasourceHandler=u,this.datasource=new zl,this.bindableOptions=[],this.contexts=[],this.formGroup=this.fb.group({source:this.fb.control("")})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this,r=this.data.panelFormGroup.get("panes");if(this.bindableOptions=r.controls.reduce(function(u,l){return l.get("name").value?[].concat((0,_.Z)(u),[l.get("name").value]):(0,_.Z)(u)},[]),this.contexts=this.data.contexts.map(function(u){return u.name}),void 0!==this.data.panelIndex&&this.data.paneIndex<r.length){var s=r.at(this.data.paneIndex).get("settings").value.map(function(u){return new Ut.AttributeValue(u)});this.datasourceHandler.toObject(s).subscribe(function(u){e.datasource=u})}}},{key:"onSubmit",value:function(){var e=this,r=this.attributeSerializer.serialize(this.formGroup.value.source,"source"),s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);void 0===this.data.paneIndex?(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"datasource",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array(r.attributes.map(function(u){return e.attributeSerializer.convertToGroup(u)}))})),console.log(this.data.panelFormGroup.get("panes").value)):(s.get("settings").clear(),r.attributes.forEach(function(u){return s.get("settings").push(e.attributeSerializer.convertToGroup(u))})),this.dialogRef.close()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(eR))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-datasource-editor"]],decls:4,vars:4,consts:[[3,"formGroup","ngSubmit"],["formControlName","source",3,"bindableOptions","contexts","datasource"],["type","submit"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.onSubmit()}),o.\u0275\u0275element(1,"classifieds-ui-datasource-form",1),o.\u0275\u0275elementStart(2,"button",2),o.\u0275\u0275text(3,"Save"),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("bindableOptions",e.bindableOptions)("contexts",e.contexts)("datasource",e.datasource))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,jA]}),a}(),mV=function(n){return new Sn.ContentPlugin({id:"panel",title:"Panel",selectionComponent:fV,editorComponent:pV,renderComponent:void 0,handler:n})},gV=function(n){return new Sn.ContentPlugin({id:"datasource",title:"Datasource",selectionComponent:void 0,editorComponent:hV,renderComponent:void 0,handler:n})},tM=(0,Vt.PH)("[PageBuilder] Load Rest Data",(0,Vt.Ky)()),nM=(0,Vt.PH)("[PageBuilder] Load Rest Data Success",(0,Vt.Ky)()),tR=((0,Vt.PH)("[PageBuilder] Load Rest Data Error",(0,Vt.Ky)()),(0,Vt.PH)("[PageBuilder] Set Page Info",(0,Vt.Ky)())),rM=(0,Vt.PH)("[PageBuilder] Set Form",(0,Vt.Ky)()),nR=(0,Vt.PH)("[PageBuilder] Set Page",(0,Vt.Ky)()),iM=(0,Vt.PH)("[PageBuilder] Selection Path",(0,Vt.Ky)()),yV=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.actions$=t,this.datasourceApi=e,this.snippetParserService=r,this.loadRestData$=gt(function(){return s.actions$.pipe(gn(tM),(0,Mu.b)(function(u){return s.fetchRestdata$(u.rest).pipe((0,Hi.K)(function(){return[]}),(0,ke.U)(function(l){return void 0!==u.rest.renderer&&void 0!==u.rest.renderer.query&&""!==u.rest.renderer.query?(0,du.JSONPath)({path:u.rest.renderer.query,json:l}):l}),(0,ke.U)(function(l){return nM({tag:u.tag,data:new Sr({results:l})})}))}))})}return(0,v.Z)(n,[{key:"fetchRestdata$",value:function(e){var r=this;switch(e.method?e.method:"get"){case"post":case"POST":return(0,ze.of)([]).pipe((0,ct.w)(function(){return r.snippetParserService.parseSnippet({snippet:e.body})}),(0,ct.w)(function(u){return r.datasourceApi.postData({url:e.url,body:u})}));default:return this.datasourceApi.getData(e.url)}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(_F),o.\u0275\u0275inject(oF))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),n0=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.id=n.id,this.path=n.path,this.realPath=n.realPath,this.args=n.args)}),oM="pageBuilder",xV=(0,Vt.Lq)({dataTags:[],datasets:[],pageInfo:void 0,formNames:[],forms:[],page:void 0,selectionPath:[]},(0,Vt.on)(nM,function(a,n){var t=a.dataTags.findIndex(function(r){return r===n.tag});if(t>-1&&void 0!==a.forms[t]){var e=(0,ue.Z)({},a);return e.datasets[t].push(n.data),e}return(0,ue.Z)((0,ue.Z)({},a),{},{dataTags:[].concat((0,_.Z)(a.dataTags),[n.tag]),datasets:[].concat((0,_.Z)(a.datasets),[[n.data]])})}),(0,Vt.on)(rM,function(a,n){var t=a.formNames.findIndex(function(e){return e===n.name});return(0,ue.Z)((0,ue.Z)({},a),{},t>-1&&void 0!==a.forms[t]?{forms:a.forms.map(function(e,r){return r===t?n.form:e})}:{formNames:[].concat((0,_.Z)(a.formNames),[n.name]),forms:[].concat((0,_.Z)(a.forms),[n.form])})}),(0,Vt.on)(tR,function(a,n){return(0,ue.Z)((0,ue.Z)({},a),{},{pageInfo:void 0!==n.info?new n0(n.info):void 0})}),(0,Vt.on)(nR,function(a,n){return(0,ue.Z)((0,ue.Z)({},a),{},{page:void 0!==n.page?new yi(n.page):void 0})}),(0,Vt.on)(iM,function(a,n){return(0,ue.Z)((0,ue.Z)({},a),{},{selectionPath:void 0!==n.path?n.path:[]})}));function bV(a,n){return xV(a,n)}var Z2=new o.InjectionToken("StylePlugin"),aM=new o.InjectionToken("PanelsSettings"),rR=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c,p,y,E,D,R){(0,h.Z)(this,n);var B=function(n,t){return{PanelPageListItem:{entityName:"PanelPageListItem",crud:{idb_keyval:{params:{prefix:"panelpage__"},queryMappings:new Map([["site",{defaultOperator:"term||wildcard"}],["path",{defaultOperator:"term||wildcard"}]])}}},PanelPage:{entityName:"PanelPage",crud:(0,ue.Z)((0,ue.Z)({save:{ops:["create","update"],plugin:"rest",params:{entityName:"PanelPage"}}},(0,w.isPlatformServer)(n)?{}:{readPrimary:{fallback:!0,ops:["create","update","query"],plugin:"idb_keyval",params:{prefix:"panelpage__"}}}),{},{readFallback:{fallback:!0,ops:["query"],plugin:"rest",params:{entityName:"PanelPage",root:t.objectsRootUrl,suffix:".json"}}})},PanelPageState:{entityName:"PanelPageState"}}}(t,r);s.registerMetadataMap(B),l.registerService("PanelPageState",new zn.NoopDataService("PanelPageState")),l.registerService("PanelPage",new KA("PanelPage",E,D,R)),l.registerService("PanelPageListItem",new KA("PanelPageListItem",E,D,R)),e.forEach(function(te){return u.register(te)}),c.register(function(n,t){return new Q_({id:"panels",title:"Panels",build:function(){Gl.prototype.writePaneState=function(r,s){return new Promise(function(u){var l=n.getEntityCollectionService("PanelPageState");l.getByKey(r.id).pipe((0,Hi.K)(function(){return(0,ze.of)(new Rs({id:r.id,panels:[]}))}),(0,ke.U)(function(c){return void 0===c?new Rs({id:r.id,panels:[]}):c}),(0,ke.U)(function(c){for(var p=t.serialize(s,"root"),y=new Rs((0,ue.Z)((0,ue.Z)({},c),{},{panels:[]})),E=0;E<r.panelIndex+1;E++){y.panels.push(E<c.panels.length?new Wl((0,ue.Z)((0,ue.Z)({},c.panels[E]),{},{panes:[]})):new Wl);for(var D=0;D<r.paneIndex+1;D++)y.panels[E].panes.push(E===r.panelIndex&&D===r.paneIndex?new wa(E<c.panels.length&&D<c.panels[E].panes.length?(0,ue.Z)((0,ue.Z)({},c.panels[E].panes[D]),{},{state:p}):{state:p}):E<c.panels.length&&D<c.panels[E].panes.length?new wa((0,ue.Z)({},c.panels[E].panes[D])):new wa)}return y}),(0,ct.w)(function(c){return l.upsert(c)})).subscribe(function(c){u(c)})})}}})}(p,y)),l.registerService("PanelPageForm",new KA("PanelPageForm",E,D,R))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.PLATFORM_ID),o.\u0275\u0275inject(Sn.CONTENT_PLUGIN),o.\u0275\u0275inject(aM),o.\u0275\u0275inject(na),o.\u0275\u0275inject(Sn.ContentPluginManager),o.\u0275\u0275inject(nh),o.\u0275\u0275inject(yf),o.\u0275\u0275inject(ci),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(na),o.\u0275\u0275inject(J_))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:Vo,useClass:Vo},{provide:Sn.CONTENT_PLUGIN,useFactory:mV,multi:!0,deps:[Vo]},{provide:Sn.CONTENT_PLUGIN,useFactory:gV,multi:!0,deps:[eR]},{provide:th,useClass:RT}],imports:[w.CommonModule,K.u5,K.UX,Vt.Aw.forFeature(oM,bV),Yp.forFeature([yV]),no.MaterialModule,Vl,ih,Zz,Lz,Y_]}),a}(),sM=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.panelPage=n.panelPage,null!=n.panel&&(this.panel=n.panel),null!=n.pane&&(this.pane=n.pane),null!=n.nested&&"object"==typeof n.nested&&(this.nested=new a(n.nested)))}),uM=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.savable=!0,this.nested=!1,this.dashboard=[],this.layoutSetting=new Pr,this.rowSettings=[],this.ancestory=[]}return(0,v.Z)(n,[{key:"gridItems",get:function(){return[]}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-layout-editor-base"]],inputs:{savable:"savable",nested:"nested",editor:"editor",dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings",editablePaneTpl:"editablePaneTpl",extraActionsAreaTmpl:"extraActionsAreaTmpl",contextsMenuTpl:"contextsMenuTpl",ancestory:"ancestory"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),a}(),lM=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.displayMainControls=!1,this.displayItemHeader=!1}return(0,v.Z)(n,[{key:"columnSettings",get:function(){var e=this.panelPage?this.panelPage.panels.reduce(function(r,s){return[].concat((0,_.Z)(r),[new Pr(s.columnSetting)])},[]):[];return e}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN,8))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-layout-renderer-base"]],inputs:{panelPage:"panelPage",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",renderPanelTpl:"renderPanelTpl"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),a}(),CV=function(){var a=function(){function n(){(0,h.Z)(this,n),this.settings=[],this.panes=[],this.originMappings=[],this.ancestory=[]}return(0,v.Z)(n,[{key:"mergeContexts",value:function(e){if(void 0!==e||void 0!==this.contexts)return void 0!==e&&void 0!==this.contexts?[].concat((0,_.Z)(e),(0,_.Z)(this.contexts)):void 0!==e?e:this.contexts}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-panel-style-renderer-base"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",ancestory:"ancestory"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),a}(),cM=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.es=t,this.panelHandler=e}return(0,v.Z)(n,[{key:"panelPageService",get:function(){return this.es.getEntityCollectionService("PanelPage")}},{key:"reducePage",value:function(e){var r=this;return e.panels.reduce(function(s,u,l){return r.reducePanels(s,u,l)},[])}},{key:"reducePanels",value:function(e,r,s){var u=this;return[].concat((0,_.Z)(e),(0,_.Z)(r.panes.reduce(function(l,c,p){return u.reducePanes(l,c,p).map(function(y){return y.pipe((0,ke.U)(function(E){var D=(0,g.Z)(E,2);return[s,D[0],D[1]]}))})},[])))}},{key:"reducePanes",value:function(e,r,s){return[].concat((0,_.Z)(e),(0,_.Z)("panel"===r.contentPlugin?[this.nestedPage$(r).pipe((0,ke.U)(function(u){return[s,u]}))]:[]))}},{key:"nestedPage$",value:function(e){return console.log("get nested panel page"),e.linkedPageId&&""!==e.linkedPageId?this.getByKey(e.linkedPageId).pipe((0,bt.b)(function(){return console.log("get(".concat(e.linkedPageId,")"))})):this.getEmbedded(e.settings).pipe((0,bt.b)(function(){return console.log("toObject()")}))}},{key:"remapNested",value:function(e,r){r.forEach(function(s){var u=(0,g.Z)(s,3);e.panels[u[0]].panes[u[1]].nestedPage=u[2]})}},{key:"getByKey",value:function(e){var r=this;return this.panelPageService.getByKey(e).pipe((0,ke.U)(function(s){return new yi(s)}),(0,ct.w)(function(s){return zr(function(){return r.reducePage(s).length>0},(0,nr.D)(r.reducePage(s)).pipe((0,bt.b)(function(u){return r.remapNested(s,u)}),(0,ke.U)(function(){return s})),(0,ze.of)(s))}))}},{key:"getEmbedded",value:function(e){var r=this;return this.panelHandler.toObject(e).pipe((0,ke.U)(function(s){return new yi(s)}),(0,ct.w)(function(s){return zr(function(){return r.reducePage(s).length>0},(0,nr.D)(r.reducePage(s)).pipe((0,bt.b)(function(u){return r.remapNested(s,u)}),(0,ke.U)(function(){return s})),(0,ze.of)(s))}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ci),o.\u0275\u0275inject(Vo))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),wV=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.panelHandler=t}return(0,v.Z)(n,[{key:"rebuildPage",value:function(e,r){return new yi((0,ue.Z)((0,ue.Z)({},e),{},{panels:this.rebuildPanels(e.panels,(0,_.Z)(r))}))}},{key:"rebuildPanels",value:function(e,r){var s=this;return e.filter(function(u,l){return s.rebuildCondition(r[0],l)}).map(function(u){return new fu((0,ue.Z)((0,ue.Z)({},u),{},{panes:s.rebuildPanes(u.panes,r.slice(1))}))})}},{key:"rebuildPanes",value:function(e,r){var s=this;return e.filter(function(u,l){return s.rebuildCondition(r[0],l)}).map(function(u){return new fi("panel"===u.contentPlugin?(0,ue.Z)((0,ue.Z)({},u),{},{nestedPage:void 0,settings:s.panelHandler.buildSettings(s.rebuildPage(u.nestedPage,r.slice(1)))}):(0,ue.Z)({},u))})}},{key:"rebuildCondition",value:function(e,r){return 0===e||(e>-1?r===e+-1*e:r!==-1*e+e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vo))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),SV=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.panelHandler=t}return(0,v.Z)(n,[{key:"convertPageToState",value:function(e){var r=this;return(0,ze.of)(new Rs).pipe((0,ct.w)(function(){return(0,nr.D)(e.panels.map(function(s){return r.convertPanelToState(s)}))}),(0,ke.U)(function(s){return new Rs({id:e.id,panels:s})}))}},{key:"convertPanelToState",value:function(e){var r=this;return(0,ze.of)(new Wl).pipe((0,ct.w)(function(){return(0,nr.D)(e.panes.map(function(s){return r.convertPaneToState(s)}))}),(0,ke.U)(function(s){return new Wl({panes:s})}))}},{key:"convertPaneToState",value:function(e){var r=this;return(0,ze.of)(new wa).pipe((0,ct.w)(function(s){return zr(function(){return r.hasNestedPanelPage(e)},r.panelHandler.toObject(e.settings).pipe((0,ct.w)(function(u){return r.convertPageToState(u)}),(0,ke.U)(function(u){return new wa({state:new Ut.AttributeValue,nestedPage:u})})),(0,ze.of)(s))}))}},{key:"hasNestedPanelPage",value:function(e){return"panel"===e.contentPlugin&&(null==e.linkedPageId||""===e.linkedPageId)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vo))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),EV=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.panelsLoaderService=t}return(0,v.Z)(n,[{key:"walkPageHierarchy",value:function(e){var r=this,s=e.panelPage,u=e.visitorFunc,l=e.defaultv,c=e.ancestory;return new hr.y(function(p){for(var y=s.panels.length,E=[],D=0;D<y;D++)for(var R=s.panels[D].panes.length,B=0;B<R;B++)E.push(u({pane:s.panels[D].panes[B],panelPage:s,ancestoryWithSelf:[].concat((0,_.Z)(c),[D,B])})),s.panels[D].panes[B].nestedPage&&s.panels[D].panes[B].nestedPage.panels&&0!==s.panels[D].panes[B].nestedPage.panels.length&&E.push(r.walkPageHierarchy({panelPage:s,visitorFunc:u,defaultv:l,ancestory:[].concat((0,_.Z)(c),[D,B])}));0===E.length?(p.next(l),p.complete()):(0,nr.D)(E).pipe((0,ke.U)(function(te){return te.reduce(function(ne,he){return[].concat((0,_.Z)(ne),(0,_.Z)(he))},l)}),(0,bt.b)(function(te){p.next(te),p.complete()})).subscribe()})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(cM))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),dM=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.panelsVisitorService=t,this.cpm=e,this.gatherPaneContexts=function(s){var u=s.pane,l=s.panelPage,c=s.ancestoryWithSelf;return r.cpm.getPlugin(u.contentPlugin).pipe((0,ct.w)(function(p){return p.handler?p.handler.stateDefinition(u.settings):(0,ze.of)({})}),(0,ke.U)(function(p){return new Ao({name:"panestate-"+c.join("-"),adaptor:"data",plugin:"panestate",data:{id:l?l.id:"",selectionPath:(0,_.Z)(c),value:p}})}),(0,ke.U)(function(p){return[p]}),(0,Vn.q)(1))}}return(0,v.Z)(n,[{key:"allActivePageContexts",value:function(e){var s=e.ancestory;return this.panelsVisitorService.walkPageHierarchy({panelPage:e.panelPage,ancestory:void 0===s?[]:s,visitorFunc:this.gatherPaneContexts,defaultv:[]})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(EV),o.\u0275\u0275inject(Sn.ContentPluginManager))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),kV=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"buildToAncestorySpec",value:function(e){for(var r=e.panelPageState,s=e.ancestory,u=0;u<s[0]+1;u++)if(r.panels.length<u+1&&r.panels.push(new Wl),u===s[0]&&s.length>1)for(var l=0;l<s[1]+1;l++)r.panels[s[0]].panes.length<l+1&&r.panels[s[0]].panes.push(new wa({state:this.attributeSerializer.serialize({},"root")})),l===s[1]&&s.length>2&&(r.panels[s[0]].panes[l].nestedPage||(r.panels[s[0]].panes[l].nestedPage=new Rs),this.buildToAncestorySpec({panelPageState:r.panels[s[0]].panes[l].nestedPage,ancestory:s.slice(2)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ef=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"style"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),fM=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.spm=t}return(0,v.Z)(n,[{key:"alterResolvedPanes",value:function(e){var r=this,s=e.panel,u=e.resolvedPanes,l=e.originMappings;return(0,ze.of)(void 0).pipe((0,ct.w)(function(){return s.stylePlugin&&""!==s.stylePlugin?r.spm.getPlugin(s.stylePlugin):(0,ze.of)(void 0)}),(0,ct.w)(function(c){return c&&c.handler?c.handler.alterResolvedPanes({settings:s.settings,resolvedPanes:u,originMappings:l}):(0,ze.of)({resolvedPanes:u,originMappings:l})}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ef))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),iR=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.panelHandler=t,this.rulesResolver=e,this.inlineContextResolver=r,this.cpm=s}return(0,v.Z)(n,[{key:"usedContexts",value:function(e){var r=this;return this.panesPlugins(e).pipe((0,ct.w)(function(s){return r.dataPanes(e).pipe((0,ke.U)(function(u){return{plugins:s,dataPanes:u}}))}),(0,ct.w)(function(s){var u=s.plugins,l=s.dataPanes;return(0,nr.D)(e.reduce(function(c,p){var y=u.get(p.contentPlugin);return void 0!==y.handler?[].concat((0,_.Z)(c),[y.handler.getBindings(p.settings,"context",new Map([["dataPanes",l]])).pipe((0,ke.U)(function(E){return E.map(function(D){return D.id})}))]):(0,_.Z)(c)},[])).pipe((0,ke.U)(function(c){return c.reduce(function(p,y){return[].concat((0,_.Z)(p),(0,_.Z)(y))},[])}))}))}},{key:"staticPanes",value:function(e){return this.cpm.getPlugins(e.reduce(function(r,s){return-1===r.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(r),[s.contentPlugin]):(0,_.Z)(r)},[])).pipe((0,ke.U)(function(r){return e.filter(function(s){return void 0===r.get(s.contentPlugin).handler||!r.get(s.contentPlugin).handler.isDynamic(s.settings)})}))}},{key:"dataPanes",value:function(e){return this.cpm.getPlugins(e.reduce(function(r,s){return-1===r.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(r),[s.contentPlugin]):(0,_.Z)(r)},[])).pipe((0,ke.U)(function(r){return e.filter(function(s){return void 0!==r.get(s.contentPlugin).handler&&r.get(s.contentPlugin).handler.isData(s.settings)})}))}},{key:"panesPlugins",value:function(e){return this.cpm.getPlugins(e.reduce(function(r,s){return-1===r.findIndex(function(u){return u===s.contentPlugin})?[].concat((0,_.Z)(r),[s.contentPlugin]):(0,_.Z)(r)},[]))}},{key:"resolvePanes",value:function(e){var r=this,s=e.panes,u=e.contexts,l=e.resolvedContext;return console.log("resolve panes"),this.panesPlugins(s).pipe((0,ct.w)(function(c){return(0,nr.D)(s.reduce(function(p,y){var E=c.get(y.contentPlugin);return[].concat((0,_.Z)(p),void 0!==E.handler?[E.handler.getBindings(y.settings,"pane").pipe((0,ke.U)(function(D){return D.map(function(R){return R.id})}))]:[(0,ze.of)([])])},[]))})).pipe((0,ke.U)(function(c){return c.reduce(function(p,y){return[].concat((0,_.Z)(p),(0,_.Z)(y))},[])}),(0,ct.w)(function(c){return r.panesPlugins(s).pipe((0,ke.U)(function(p){return[c,p]}))}),(0,ct.w)(function(c){var p=(0,g.Z)(c,2),y=p[0],E=p[1];return(0,nr.D)(s.reduce(function(D,R){var B=E.get(R.contentPlugin);return void 0!==B.handler&&B.handler.isDynamic(R.settings)?[].concat((0,_.Z)(D),[B.handler.isData(R.settings)&&-1!==y.findIndex(function(te){return te===R.name})?(0,ze.of)([]):(0,nr.D)([r.staticPanes(s),r.dataPanes(s)]).pipe((0,ct.w)(function(te){var ne=(0,g.Z)(te,2),he=ne[0],Se=ne[1];return B.handler.buildDynamicItems(R.settings,new Map([].concat((0,_.Z)(void 0===R.metadata?[]:R.metadata),[["tag",Br()],["panes",he],["dataPanes",Se],["contexts",void 0!==u?u:[]]]))).pipe((0,ke.U)(function(we){return r.panelHandler.fromPanes(we)}),(0,ke.U)(function(we){return r.panelHandler.wrapPanel(we).panes}),(0,Vn.q)(1))}))]):""===R.name||-1===y.findIndex(function(te){return te===R.name})?[].concat((0,_.Z)(D),[(0,ze.of)([new fi((0,ue.Z)((0,ue.Z)({},R),{},{contexts:[].concat((0,_.Z)(u),(0,_.Z)(R.contexts?R.contexts:[]))}))]).pipe((0,ct.w)(function(te){return zr(function(){return null!=te[0].rule&&""!==te[0].rule.condition},r.rulesResolver.evaluate(te[0].rule,[].concat((0,_.Z)(u),(0,_.Z)(R.contexts?R.contexts:[]))).pipe((0,ke.U)(function(ne){return ne?te:[]})),(0,ze.of)(te))}))]):(0,_.Z)(D)},[])).pipe((0,ct.w)(function(D){return zr(function(){return 0===D.reduce(function(R,B){return[].concat((0,_.Z)(R),(0,_.Z)(B))},[]).length},(0,ze.of)([D,[]]),(0,nr.D)((0,_.Z)(D.reduce(function(R,B){return[].concat((0,_.Z)(R),(0,_.Z)(B.map(function(te){return te.contexts&&0!==te.contexts.length?r.inlineContextResolver.resolveAll(te.contexts).pipe((0,Vn.q)(1)):(0,ze.of)({}).pipe((0,Vn.q)(1))})))},[]))).pipe((0,ke.U)(function(R){return[D,R.map(function(B){return(0,ue.Z)((0,ue.Z)({},B),l)})]})))}),(0,ke.U)(function(D){var R=(0,g.Z)(D,2),te=R[1],ne=[],he=[];return R[0].forEach(function(Se,we){ne=[].concat((0,_.Z)(void 0===ne?[]:ne),(0,_.Z)(Se.map(function($e,Ye){return new fi((0,ue.Z)((0,ue.Z)({},$e),{},{resolvedContext:te[ne.length+Ye]}))}))),he=[].concat((0,_.Z)(he&&[]),(0,_.Z)(Se.map(function(){return we})))}),{resolvedPanes:ne,originMappings:he}}))}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vo),o.\u0275\u0275inject(WA),o.\u0275\u0275inject(_f),o.\u0275\u0275inject(Sn.ContentPluginManager))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),j2=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.name=r.id,r.title=e.title,r.editorComponent=e.editorComponent?e.editorComponent:void 0,r.renderComponent=e.renderComponent?e.renderComponent:void 0,e.handler&&(r.handler=e.handler)),r}return(0,v.Z)(t)}(Mn.Plugin),$2=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){var r;return(0,h.Z)(this,e),(r=t.call(this)).pageChange$=new yn.x,r.pageSize=20,r.dataStream=new en.X([]),r.subscription=new DF.w0,r.lastPage=0,r.paneItems=[],r}return(0,v.Z)(e,[{key:"panes",set:function(s){this.paneItems=[].concat((0,_.Z)(this.paneItems),(0,_.Z)(s)),this.dataStream.next(this.paneItems)}},{key:"connect",value:function(s){var u=this;return this.subscription.add(s.viewChange.subscribe(function(l){var c=Math.ceil((l.end+1)/u.pageSize);c>u.lastPage&&(u.lastPage=c,u.pageChange$.next(c))})),this.dataStream}},{key:"disconnect",value:function(s){this.subscription.unsubscribe()}}]),e}(Uz.o2);return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),kf=(0,Vt.ZF)(oM),L2=function(n){return(0,Vt.P1)(kf,function(t){var e=t.dataTags.findIndex(function(r){return r===n});if(e>-1)return t.datasets[e][t.datasets[e].length-1]})},PV=(0,Vt.P1)(kf,function(a){return a.pageInfo}),AV=(0,Vt.P1)(kf,function(a){return a.page}),RV=(0,Vt.P1)(kf,function(a){return a.selectionPath}),pM=(0,Vt.P1)(kf,function(a){return a.formNames}),TV=(0,Vt.P1)(kf,function(a){return a.forms}),DV=(0,Vt.P1)(pM,TV,function(a,n,t){var e=a.findIndex(function(r){return r===t.name});if(e>-1)return n[e]}),Sa=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.store=t,this.getPageInfo$=this.store.pipe((0,Vt.Ys)(PV)),this.getPage$=this.store.pipe((0,Vt.Ys)(AV)),this.getSelectionPath$=this.store.pipe((0,Vt.Ys)(RV)),this.getFormNames$=this.store.pipe((0,Vt.Ys)(pM)),this.getForm$=function(r){return e.store.pipe((0,Vt.Ys)(DV,{name:r}))}}return(0,v.Z)(n,[{key:"loadRestData",value:function(e,r){this.store.dispatch(tM({tag:e,rest:r}))}},{key:"setPageInfo",value:function(e){this.store.dispatch(tR({info:e}))}},{key:"setPage",value:function(e){this.store.dispatch(nR({page:e}))}},{key:"setSelectionPath",value:function(e){this.store.dispatch(iM({path:e}))}},{key:"setForm",value:function(e,r){this.store.dispatch(rM({name:e,form:r}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),r0=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.readUserIds=[],n&&(this.title=n.title,this.name=n.name,this.path=n.path,this.cssFile=n.cssFile,n.readUserIds&&(this.readUserIds=n.readUserIds.map(function(t){return t})))}),hM=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.label=n.label,this.name=n.name)}),mM=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.label=n.label,this.name=n.name)}),Wu=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.panels=[],n&&(this.id=n.id,this.name=n.name,this.title=n.title,this.derivativeId=n.derivativeId,n.panels&&(this.panels=n.panels.map(function(t){return new IV(t)})))}),IV=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.panes=[],n&&(this.name=n.name,this.label=n.label,n.panes&&(this.panes=n.panes.map(function(t){return new OV(t)})))}),OV=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.settings=[],n&&(this.name=n.name,this.label=n.label,this.contentPlugin=n.contentPlugin,n.settings&&(this.settings=n.settings.map(function(t){return new Ut.AttributeValue(t)})))}),oR=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.name=n.name,this.field=n.field)}),FV=function(){var a=function(){function n(t,e,r,s){var u=this;(0,h.Z)(this,n),this.pageBuilderFacade=t,this.panelStateArchitectService=e,this.attributeSerializer=r,this.selectEntities=function(l){return l.entities},this.selectById=function(l){var c=l.id;return(0,Vt.P1)(u.selectEntities,function(p){return p[c]?p[c]:void 0})},this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}return(0,v.Z)(n,[{key:"mergeState",value:function(e){var r=this,u=e.settings,l=e.plugin,c=e.ancestory;return(0,ze.of)(e.state).pipe((0,ct.w)(function(p){return r.pageBuilderFacade.getPageInfo$.pipe((0,ke.U)(function(y){return[p,y]}))}),(0,ct.w)(function(p){var y=(0,g.Z)(p,2),E=y[0],D=y[1];return l.handler.stateDefinition(u).pipe((0,ke.U)(function(R){return[E,D,R]}))}),(0,ct.w)(function(p){var y=(0,g.Z)(p,3),E=y[0],D=y[1],R=y[2];return r.panelPageStateService.collection$.pipe((0,Vt.Ys)(r.selectById({id:D.id})),(0,ke.U)(function(B){return[E,new Rs(B||{id:D.id,panels:[]}),R]}),(0,Vn.q)(1))}),(0,ke.U)(function(p){var y=(0,g.Z)(p,3),E=y[0],D=y[1],R=y[2];r.panelStateArchitectService.buildToAncestorySpec({panelPageState:D,ancestory:(0,_.Z)(c)});var B="$."+c.map(function(ne,he){return"".concat((he+1)%2==0?"panes":(0===he?"":"nestedPage.")+"panels","[").concat(ne,"]")}).join(".");return[E,D,R,(0,du.JSONPath)({path:B,json:D})[0]]}),(0,bt.b)(function(p){var y=(0,g.Z)(p,4),E=y[0],R=y[2],B=y[3],te=B.state?B.state.root?r.attributeSerializer.deserialize(B.state).root:r.attributeSerializer.deserialize(B.state):{},ne=e0(te&&0!==Object.keys(te).length?te:R,E);B.state=r.attributeSerializer.serialize(ne,"root")}),(0,ke.U)(function(p){var y=(0,g.Z)(p,4);return{paneState:y[3],pageState:y[1]}}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(kV),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),gM=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"serializeForm",value:function(e){for(var r=e.panels.length,s={},u=0;u<r;u++){for(var l=e.panels[u].panes.length,c=new Map,p=0;p<l;p++){var y=this.serializeFormPane(e.panels[u].panes[p]);if(e.panels[u].panes[p].name&&null!==e.panels[u].panes[p].name&&(s[e.panels[u].panes[p].name]||e.panels[u].panes[p].name===XF(e.panels[u].panes[p].name))){c.has(e.panels[u].panes[p].name)||c.set(e.panels[u].panes[p].name,typeof s[e.panels[u].panes[p].name]<"u"?[s[e.panels[u].panes[p].name]]:[]);var E=c.get(e.panels[u].panes[p].name);c.set(e.panels[u].panes[p].name,[].concat((0,_.Z)(E),[y]))}else s=e.panels[u].panes[p].name&&""!==e.panels[u].panes[p].name?(0,ue.Z)((0,ue.Z)({},s),{},(0,f.Z)({},e.panels[u].panes[p].name,y)):(0,ue.Z)((0,ue.Z)({},s),y)}Array.from(c).forEach(function(D){var R=(0,g.Z)(D,2);return s[R[0]]=R[1]})}return s}},{key:"serializeFormPane",value:function(e){if("panel"===e.contentPlugin)return this.serializeForm(new Wu(this.attributeSerializer.deserializeAsObject(e.settings,!0)));var r=this.attributeSerializer.deserializeAsObject(e.settings,!0);return void 0!==r?r.value:void 0}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),aR=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"makeJsonNode",value:function(){return{attributes:{},children:{}}}},{key:"reduceCss",value:function(e,r){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e&&e.children?Object.keys(e.children).filter(function(u){return s?0===u.indexOf(r):0!==u.indexOf(r)}).reduce(function(u,l){return(0,ue.Z)((0,ue.Z)({},u),{},{children:(0,ue.Z)((0,ue.Z)({},u.children),{},(0,f.Z)({},s?l.substr(l.indexOf(r)+r.length).trim():l,e.children[l]))})},this.makeJsonNode()):this.makeJsonNode()}},{key:"reduceSelector",value:function(e,r){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?Object.keys(e).filter(function(u){return s?0===u.indexOf(r):0!==u.indexOf(r)}).reduce(function(u,l){return(0,ue.Z)((0,ue.Z)({},u),{},(0,f.Z)({},s?l.substr(l.indexOf(r)+r.length).trim():l,e[l]))},{}):{}}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function MV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",1),o.\u0275\u0275listener("click",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s._remove(r))}),o.\u0275\u0275elementEnd()}}var sR=[[["ngx-dropzone-label"]]],uR=["ngx-dropzone-label"],NV=["fileInput"];function BV(a,n){1&a&&o.\u0275\u0275projection(0,2,["*ngIf","!_hasPreviews"])}var ZV=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],jV=["ngx-dropzone-preview","*","ngx-dropzone-label"];function $V(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",2),o.\u0275\u0275listener("click",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s._remove(r))}),o.\u0275\u0275elementEnd()}}function LV(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"video",2),o.\u0275\u0275listener("click",function(r){return r.stopPropagation()}),o.\u0275\u0275element(1,"source",3),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("src",t.sanitizedVideoSrc,o.\u0275\u0275sanitizeUrl)}}function UV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-remove-badge",4),o.\u0275\u0275listener("click",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s._remove(r))}),o.\u0275\u0275elementEnd()}}var vM=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["ngx-dropzone-label"]]}),a}();function Pf(a){return null!=a&&"false"!=="".concat(a)}var lR=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(t,e){1&t&&(o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(0,"svg"),o.\u0275\u0275element(1,"line",0)(2,"line",1),o.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),a}(),pu=function(){return(pu=pu||{})[pu.BACKSPACE=8]="BACKSPACE",pu[pu.DELETE=46]="DELETE",pu}(),Af=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.sanitizer=t,this._removable=!1,this.removed=new o.EventEmitter,this.tabIndex=0}return(0,v.Z)(n,[{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Pf(e)}},{key:"keyEvent",value:function(e){switch(e.keyCode){case pu.BACKSPACE:case pu.DELETE:this.remove()}}},{key:"hostStyle",get:function(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}},{key:"_remove",value:function(e){e.stopPropagation(),this.remove()}},{key:"remove",value:function(){this._removable&&this.removed.next(this.file)}},{key:"readFile",value:(t=zt((0,We.Z)().mark(function r(){var s=this;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new Promise(function(c,p){var y=new FileReader;if(y.onload=function(E){c(E.target.result)},y.onerror=function(E){console.error("FileReader failed on file ".concat(s.file.name,".")),p(E)},!s.file)return p("No file to read. Please provide a file using the [file] Input property.");y.readAsDataURL(s.file)}));case 1:case"end":return l.stop()}},r)})),function e(){return t.apply(this,arguments)})}]),n;var t}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(j.H7))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(t,e){1&t&&o.\u0275\u0275listener("keyup",function(s){return e.keyEvent(s)}),2&t&&(o.\u0275\u0275hostProperty("tabindex",e.tabIndex),o.\u0275\u0275styleMap(e.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:uR,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(sR),o.\u0275\u0275projection(0),o.\u0275\u0275template(1,MV,1,0,"ngx-dropzone-remove-badge",0)),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.removable))},dependencies:[lR,w.NgIf],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),a}(),yM=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"parseFileList",value:function(e,r,s,u){for(var l=[],c=[],p=0;p<e.length;p++){var y=e.item(p);this.isAccepted(y,r)?s&&y.size>s?this.rejectFile(c,y,"size"):!u&&l.length>=1?this.rejectFile(c,y,"no_multiple"):l.push(y):this.rejectFile(c,y,"type")}return{addedFiles:l,rejectedFiles:c}}},{key:"isAccepted",value:function(e,r){if("*"===r)return!0;var s=r.split(",").map(function(p){return p.toLowerCase().trim()}),u=e.type.toLowerCase(),l=e.name.toLowerCase();return!!s.find(function(p){return p.endsWith("/*")?u.split("/")[0]===p.split("/")[0]:p.startsWith(".")?l.endsWith(p):p==u})}},{key:"rejectFile",value:function(e,r,s){var u=r;u.reason=s,e.push(u)}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),U2=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.service=t,this.change=new o.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}return(0,v.Z)(n,[{key:"_hasPreviews",get:function(){return!!this._previewChildren.length}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Pf(e),this._isHovered&&(this._isHovered=!1)}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Pf(e)}},{key:"maxFileSize",get:function(){return this._maxFileSize},set:function(e){this._maxFileSize=function zV(a){return isNaN(parseFloat(a))||isNaN(Number(a))?null:Number(a)}(e)}},{key:"expandable",get:function(){return this._expandable},set:function(e){this._expandable=Pf(e)}},{key:"disableClick",get:function(){return this._disableClick},set:function(e){this._disableClick=Pf(e)}},{key:"processDirectoryDrop",get:function(){return this._processDirectoryDrop},set:function(e){this._processDirectoryDrop=Pf(e)}},{key:"_onClick",value:function(){this.disableClick||this.showFileSelector()}},{key:"_onDragOver",value:function(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}},{key:"_onDragLeave",value:function(){this._isHovered=!1}},{key:"_onDrop",value:function(e){var r=this;if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){var s=e.dataTransfer.items;if(s.length>0){for(var u=[],l=[],c=0;c<s.length;c++){var p=s[c].webkitGetAsEntry();p.isFile?u.push(e.dataTransfer.files[c]):p.isDirectory&&l.push(p)}var y=new DataTransfer;if(u.forEach(function(te){y.items.add(te)}),!l.length&&y.items.length&&this.handleFileDrop(y.files),l.length){var R,E=[],D=(0,z.Z)(l);try{for(D.s();!(R=D.n()).done;)E.push(this.extractFilesFromDirectory(R.value))}catch(te){D.e(te)}finally{D.f()}Promise.all(E).then(function(te){te.reduce(function(ne,he){return[].concat((0,_.Z)(ne),(0,_.Z)(he))}).forEach(function(ne){y.items.add(ne)}),r.handleFileDrop(y.files)})}}}else this.handleFileDrop(e.dataTransfer.files)}},{key:"extractFilesFromDirectory",value:function(e){function r(u){return s.apply(this,arguments)}function s(){return(s=zt((0,We.Z)().mark(function u(l){return(0,We.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,new Promise(function(y,E){return l.file(y,E)});case 3:return p.abrupt("return",p.sent);case 6:p.prev=6,p.t0=p.catch(0),console.log("Error converting a fileEntry to a File: ",p.t0);case 9:case"end":return p.stop()}},u,null,[[0,6]])}))).apply(this,arguments)}return new Promise(function(u,l){var c=[],p=e.createReader();!function E(){p.readEntries(function(){var D=zt((0,We.Z)().mark(function R(B){var te,ne,he,Se;return(0,We.Z)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(B.length){Ye.next=4;break}u(c),Ye.next=25;break;case 4:te=B.filter(function(lt){return lt.isFile}),ne=(0,z.Z)(te),Ye.prev=6,ne.s();case 8:if((he=ne.n()).done){Ye.next=16;break}return Se=he.value,Ye.next=12,r(Se);case 12:c.push(Ye.sent);case 14:Ye.next=8;break;case 16:Ye.next=21;break;case 18:Ye.prev=18,Ye.t0=Ye.catch(6),ne.e(Ye.t0);case 21:return Ye.prev=21,ne.f(),Ye.finish(21);case 24:E();case 25:case"end":return Ye.stop()}},R,null,[[6,18,21,24]])}));return function(R){return D.apply(this,arguments)}}())}()})}},{key:"showFileSelector",value:function(){this.disabled||this._fileInput.nativeElement.click()}},{key:"_onFilesSelected",value:function(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}},{key:"handleFileDrop",value:function(e){var r=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:r.addedFiles,rejectedFiles:r.rejectedFiles,source:this})}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(yM,2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(t,e,r){var s;1&t&&o.\u0275\u0275contentQuery(r,Af,5),2&t&&o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e._previewChildren=s)},viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(NV,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e._fileInput=r.first)},hostVars:8,hostBindings:function(t,e){1&t&&o.\u0275\u0275listener("click",function(){return e._onClick()})("dragover",function(s){return e._onDragOver(s)})("dragleave",function(){return e._onDragLeave()})("drop",function(s){return e._onDrop(s)}),2&t&&o.\u0275\u0275classProp("ngx-dz-disabled",e.disabled)("expandable",e.expandable)("unclickable",e.disableClick)("ngx-dz-hovered",e._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[o.\u0275\u0275ProvidersFeature([yM])],ngContentSelectors:jV,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(ZV),o.\u0275\u0275elementStart(0,"input",0,1),o.\u0275\u0275listener("change",function(s){return e._onFilesSelected(s)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(2,BV,1,0,"ng-content",2),o.\u0275\u0275projection(3),o.\u0275\u0275projection(4,1)),2&t&&(o.\u0275\u0275property("id",e.id)("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled),o.\u0275\u0275attribute("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedBy),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!e._hasPreviews))},dependencies:[w.NgIf],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),a}(),_M=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this,r)).defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",s.imageSrc=s.sanitizer.bypassSecurityTrustUrl(s.defaultImgLoading),s}return(0,v.Z)(e,[{key:"file",get:function(){return this._file},set:function(s){this._file=s,this.renderImage()}},{key:"ngOnInit",value:function(){this.renderImage()}},{key:"renderImage",value:function(){var s=this;this.readFile().then(function(u){return setTimeout(function(){return s.imageSrc=u})}).catch(function(u){return console.error(u)})}}]),e}(Af);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(j.H7))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[o.\u0275\u0275ProvidersFeature([{provide:Af,useExisting:a}]),o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:uR,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(sR),o.\u0275\u0275element(0,"img",0),o.\u0275\u0275projection(1),o.\u0275\u0275template(2,$V,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(o.\u0275\u0275property("src",e.imageSrc,o.\u0275\u0275sanitizeUrl),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.removable))},dependencies:[lR,w.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),a}(),VV=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){return(0,h.Z)(this,e),t.call(this,r)}return(0,v.Z)(e,[{key:"ngOnInit",value:function(){this.file?(this.videoSrc=URL.createObjectURL(this.file),this.sanitizedVideoSrc=this.sanitizer.bypassSecurityTrustUrl(this.videoSrc)):console.error("No file to read. Please provide a file using the [file] Input property.")}},{key:"ngOnDestroy",value:function(){URL.revokeObjectURL(this.videoSrc)}}]),e}(Af);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(j.H7))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["ngx-dropzone-video-preview"]],features:[o.\u0275\u0275ProvidersFeature([{provide:Af,useExisting:a}]),o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:uR,decls:3,vars:2,consts:[["controls","",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["controls","",3,"click"],[3,"src"],[3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(sR),o.\u0275\u0275template(0,LV,2,1,"video",0),o.\u0275\u0275projection(1),o.\u0275\u0275template(2,UV,1,0,"ngx-dropzone-remove-badge",1)),2&t&&(o.\u0275\u0275property("ngIf",e.sanitizedVideoSrc),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.removable))},dependencies:[lR,w.NgIf],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   video[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   video[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{max-height:100%;border-radius:5px}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),a}(),z2=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[[w.CommonModule]]}),a}(),GV=["treeContainer"];function HV(a,n){if(1&a&&o.\u0275\u0275element(0,"i",0),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngClass",t.getClassNames("arrowIcon"))}}function qV(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function KV(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,qV,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getArrowIconContext())}}function WV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",9),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.toggleCollapse())}),o.\u0275\u0275template(1,KV,2,2,"ng-container",3),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(),r=o.\u0275\u0275reference(2);o.\u0275\u0275property("ngClass",e.getClassNames("arrowIconButton",e.data.collapsed?"collapsed":"")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.getArrowIconTemplate())("ngIfElse",r)}}function XV(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function QV(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",0),o.\u0275\u0275template(2,XV,1,0,"ng-container",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getButtonGroupContext())}}function JV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",11),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(s.addRuleSet())}),o.\u0275\u0275element(1,"i",0),o.\u0275\u0275text(2," Ruleset "),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("addIcon"))}}function YV(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"button",11),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(s.removeRuleSet())}),o.\u0275\u0275element(2,"i",0),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&a){var e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function eG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"button",11),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.addRule())}),o.\u0275\u0275element(2,"i",0),o.\u0275\u0275text(3," Rule "),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,JV,3,3,"button",12),o.\u0275\u0275template(5,YV,3,3,"ng-container",13),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngClass",e.getClassNames("buttonGroup","rightAlign")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("button"))("disabled",e.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("addIcon")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.allowRuleset),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!!e.parentValue&&e.allowRuleset)}}function tG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function nG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,tG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getSwitchGroupContext())}}function rG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"div",0)(2,"input",14,15),o.\u0275\u0275listener("ngModelChange",function(s){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(u.data.condition=s)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"label",9),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275reference(3),u=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(u.changeCondition(s.value))}),o.\u0275\u0275text(5,"AND"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"div",0)(7,"input",16,17),o.\u0275\u0275listener("ngModelChange",function(s){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(u.data.condition=s)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"label",9),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275reference(8),u=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(u.changeCondition(s.value))}),o.\u0275\u0275text(10,"OR"),o.\u0275\u0275elementEnd()()()}if(2&a){var e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",e.getClassNames("switchGroup","transition")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("switchRadio"))("ngModel",e.data.condition)("disabled",e.disabled),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",e.getClassNames("switchLabel")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",e.getClassNames("switchControl")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("switchRadio"))("ngModel",e.data.condition)("disabled",e.disabled),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",e.getClassNames("switchLabel"))}}function iG(a,n){if(1&a&&o.\u0275\u0275template(0,rG,11,11,"div",8),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",t.data)}}function oG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function aG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",0),o.\u0275\u0275template(2,oG,1,0,"ng-container",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getClassNames("buttonGroup","rightAlign")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.getRemoveButtonContext(e))}}function sG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"button",11),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext(3).$implicit,u=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(u.removeRule(s,u.data))}),o.\u0275\u0275element(2,"i",0),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext(5);o.\u0275\u0275property("ngClass",e.getClassNames("removeButtonSize","rightAlign")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("button","removeButton"))("disabled",e.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",e.getClassNames("removeIcon"))}}function uG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function lG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,uG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.getEntityContext(e))}}function cG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",27),o.\u0275\u0275template(1,lG,2,2,"ng-container",3),o.\u0275\u0275elementEnd()),2&a){o.\u0275\u0275nextContext();var t=o.\u0275\u0275reference(6),e=o.\u0275\u0275nextContext(4);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.getEntityTemplate())("ngIfElse",t)}}function dG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"option",30),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("ngValue",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.name," ")}}function fG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"select",28),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(3).$implicit;return o.\u0275\u0275resetView(l.entity=u)})("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(3),c=l.$implicit,p=l.index,y=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(y.changeEntity(u,c,p,y.data))}),o.\u0275\u0275template(2,dG,2,2,"option",29),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("entityControlSize")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getClassNames("entityControl"))("ngModel",e.entity)("disabled",r.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.entities)}}function pG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function hG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,pG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.getFieldContext(e))}}function mG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"option",30),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("ngValue",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.name," ")}}function gG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"select",28),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(3).$implicit;return o.\u0275\u0275resetView(l.field=u)})("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(3).$implicit,c=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(c.changeField(u,l))}),o.\u0275\u0275template(2,mG,2,2,"option",29),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("fieldControlSize")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getClassNames("fieldControl"))("ngModel",e.field)("disabled",r.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.getFields(e.entity))}}function vG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function yG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,vG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.getOperatorContext(e))}}function _G(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"option",30),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("ngValue",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t," ")}}function xG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",0)(1,"select",28),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(3).$implicit;return o.\u0275\u0275resetView(l.operator=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(3).$implicit,l=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(l.changeOperator(u))}),o.\u0275\u0275template(2,_G,2,2,"option",29),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("operatorControlSize")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getClassNames("operatorControl"))("ngModel",e.operator)("disabled",r.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.getOperators(e.field))}}function bG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function CG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,bG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275nextContext(3).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",r.getInputContext(e))}}function wG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",39),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled)}}function SG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",40),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled)}}function EG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",41),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled)}}function kG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",42),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled)}}function PG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"option",30),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("ngValue",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.name," ")}}function AG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"select",28),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275template(1,PG,2,2,"option",29),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.getOptions(e.field))}}function RG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"option",30),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("ngValue",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.name," ")}}function TG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"select",43),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275template(2,RG,2,2,"option",29),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.getOptions(e.field))}}function DG(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",44),o.\u0275\u0275listener("ngModelChange",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext(4).$implicit;return o.\u0275\u0275resetView(l.value=u)})("ngModelChange",function(){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext(6);return o.\u0275\u0275resetView(u.changeInput())}),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext(4).$implicit,r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",r.getClassNames("inputControl"))("ngModel",e.value)("disabled",r.disabled)}}function IG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",31),o.\u0275\u0275template(1,wG,1,3,"input",32),o.\u0275\u0275template(2,SG,1,3,"input",33),o.\u0275\u0275template(3,EG,1,3,"input",34),o.\u0275\u0275template(4,kG,1,3,"input",35),o.\u0275\u0275template(5,AG,2,4,"select",36),o.\u0275\u0275template(6,TG,3,4,"ng-container",37),o.\u0275\u0275template(7,DG,1,3,"input",38),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(3).$implicit,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngClass",e.getClassNames("inputControlSize"))("ngSwitch",e.getInputType(t.field,t.operator)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","string"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","number"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","time"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","category"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","multiselect"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","boolean")}}function OG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,aG,3,3,"ng-container",3),o.\u0275\u0275template(2,sG,3,4,"ng-template",null,21,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(4,cG,2,2,"div",22),o.\u0275\u0275template(5,fG,3,5,"ng-template",null,23,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(7,hG,2,2,"ng-container",3),o.\u0275\u0275template(8,gG,3,5,"ng-template",null,24,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(10,yG,2,2,"ng-container",3),o.\u0275\u0275template(11,xG,3,5,"ng-template",null,25,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(13,CG,2,2,"ng-container",3),o.\u0275\u0275template(14,IG,8,9,"ng-template",null,26,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275reference(3),e=o.\u0275\u0275reference(9),r=o.\u0275\u0275reference(12),s=o.\u0275\u0275reference(15),u=o.\u0275\u0275nextContext(2).$implicit,l=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",l.getRemoveButtonTemplate())("ngIfElse",t),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",null==l.entities?null:l.entities.length),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",l.getFieldTemplate())("ngIfElse",e),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",l.getOperatorTemplate())("ngIfElse",r),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",l.findTemplateForRule(u))("ngIfElse",s)}}function FG(a,n){if(1&a&&o.\u0275\u0275element(0,"query-builder",45),2&a){var t=o.\u0275\u0275nextContext(2).$implicit,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("data",t)("disabled",e.disabled)("parentTouchedCallback",e.parentTouchedCallback||e.onTouchedCallback)("parentChangeCallback",e.parentChangeCallback||e.onChangeCallback)("parentInputTemplates",e.parentInputTemplates||e.inputTemplates)("parentOperatorTemplate",e.parentOperatorTemplate||e.operatorTemplate)("parentFieldTemplate",e.parentFieldTemplate||e.fieldTemplate)("parentEntityTemplate",e.parentEntityTemplate||e.entityTemplate)("parentSwitchGroupTemplate",e.parentSwitchGroupTemplate||e.switchGroupTemplate)("parentButtonGroupTemplate",e.parentButtonGroupTemplate||e.buttonGroupTemplate)("parentRemoveButtonTemplate",e.parentRemoveButtonTemplate||e.removeButtonTemplate)("parentEmptyWarningTemplate",e.parentEmptyWarningTemplate||e.emptyWarningTemplate)("parentArrowIconTemplate",e.parentArrowIconTemplate||e.arrowIconTemplate)("parentValue",e.data)("classNames",e.classNames)("config",e.config)("allowRuleset",e.allowRuleset)("allowCollapse",e.allowCollapse)("emptyMessage",e.emptyMessage)("operatorMap",e.operatorMap)}}function MG(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function NG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,MG,1,0,"ng-container",10),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext().ngIf,e=o.\u0275\u0275nextContext(4);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getEmptyWarningContext())}}function BG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,NG,2,2,"ng-container",13),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext().ngIf;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.invalid)}}function ZG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"p",0),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(5);o.\u0275\u0275property("ngClass",t.getClassNames("emptyWarning")),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.emptyMessage," ")}}function jG(a,n){if(1&a&&o.\u0275\u0275template(0,ZG,2,2,"p",8),2&a){var t=o.\u0275\u0275nextContext().ngIf;o.\u0275\u0275property("ngIf",t.invalid)}}function $G(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"li",0),o.\u0275\u0275template(2,OG,16,9,"ng-container",13),o.\u0275\u0275template(3,FG,1,20,"query-builder",19),o.\u0275\u0275template(4,BG,2,1,"ng-container",3),o.\u0275\u0275template(5,jG,1,1,"ng-template",null,20,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.ngIf,e=o.\u0275\u0275reference(6),r=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.getQueryItemClassName(t)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.ruleset),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.ruleset),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",r.getEmptyWarningTemplate())("ngIfElse",e)}}var LG=function(n,t){return{ruleset:n,invalid:t}};function UG(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,$G,7,5,"ng-container",13),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.$implicit,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",o.\u0275\u0275pureFunction2(1,LG,!!t.rules,!e.config.allowEmptyRulesets&&t.rules&&0===t.rules.length))}}function zG(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"ul",0),o.\u0275\u0275template(1,UG,2,4,"ng-container",18),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngClass",t.getClassNames("tree")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.data.rules)}}var VG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryOperator",""]]}),a}(),GG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryField",""]]}),a}(),HG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryEntity",""]]}),a}(),qG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","querySwitchGroup",""]]}),a}(),KG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryButtonGroup",""]]}),a}(),WG=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.template=t}return(0,v.Z)(n,[{key:"queryInputType",get:function(){return this._type},set:function(e){e&&(this._type=e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"}}),a}(),XG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryRemoveButton",""]]}),a}(),QG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryEmptyWarning",""]]}),a}(),JG=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.template=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.TemplateRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","queryArrowIcon",""]]}),a}(),YG={provide:K.JU,useExisting:(0,o.forwardRef)(function(){return cR}),multi:!0},eH={provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return cR}),multi:!0},cR=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.changeDetectorRef=t,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.disabled=!1,this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.classNames={},this.operatorMap={},this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.operatorsCache={},this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return e.disabled},this.fields=[],this.filterFields=[],this.entities=[]}return(0,v.Z)(n,[{key:"condintion",get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.condition}},{key:"ngOnChanges",value:function(e){var r=this.config,s=typeof r;if("object"!==s)throw new Error("Expected 'config' must be a valid object, got ".concat(s," instead."));this.fields=Object.keys(r.fields).map(function(u){var l=r.fields[u];return l.value=l.value||u,l}),this.entities=r.entities?Object.keys(r.entities).map(function(u){var l=r.entities?r.entities[u]:[];return l.value=l.value||u,l}):[],this.operatorsCache={}}},{key:"validate",value:function(e){var r={},s=[],u=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(r.empty="Empty rulesets are not allowed.",u=!0),this.validateRulesInRuleset(this.data,s),s.length&&(r.rules=s,u=!0),u?r:null}},{key:"value",get:function(){return this.data},set:function(e){this.data=e||{condition:"and",rules:[]},this.handleDataChange()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){var r=this;this.onChangeCallback=function(){return e(r.data)}}},{key:"registerOnTouched",value:function(e){var r=this;this.onTouchedCallback=function(){return e(r.data)}}},{key:"setDisabledState",value:function(e){this.disabled=e,this.changeDetectorRef.detectChanges()}},{key:"findTemplateForRule",value:function(e){var r=this.getInputType(e.field,e.operator);if(r){var s=this.findQueryInput(r);return s?s.template:(-1===this.defaultTemplateTypes.indexOf(r)&&console.warn("Could not find template for field with type: ".concat(r)),null)}}},{key:"findQueryInput",value:function(e){return(this.parentInputTemplates||this.inputTemplates).find(function(s){return s.queryInputType===e})}},{key:"getOperators",value:function(e){if(this.operatorsCache[e])return this.operatorsCache[e];var r=this.defaultEmptyList,s=this.config.fields[e];if(this.config.getOperators)return this.config.getOperators(e,s);var u=s.type;return s&&s.operators?r=s.operators:u?(0===(r=this.operatorMap&&this.operatorMap[u]||this.defaultOperatorMap[u]||this.defaultEmptyList).length&&console.warn("No operators found for field '".concat(e,"' with type ").concat(s.type,". ")+"Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),s.nullable&&(r=r.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '".concat(e,"'")),this.operatorsCache[e]=r,r}},{key:"getFields",value:function(e){return this.entities.length&&e?this.fields.filter(function(r){return r&&r.entity===e}):this.fields}},{key:"getInputType",value:function(e,r){if(this.config.getInputType)return this.config.getInputType(e,r);if(!this.config.fields[e])throw new Error("No configuration for field '".concat(e,"' could be found! Please add it to config.fields."));var s=this.config.fields[e].type;switch(r){case"is null":case"is not null":return null;case"in":case"not in":return"category"===s||"boolean"===s?"multiselect":s;default:return s}}},{key:"getOptions",value:function(e){return this.config.getOptions?this.config.getOptions(e):this.config.fields[e].options||this.defaultEmptyList}},{key:"getClassNames",value:function(){for(var e=this.classNames?this.classNames:this.defaultClassNames,r=this.defaultClassNames,s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=u.map(function(p){return e[p]||r[p]}).filter(function(p){return!!p});return c.length?c.join(" "):[]}},{key:"getDefaultField",value:function(e){if(e){if(void 0!==e.defaultField)return this.getDefaultValue(e.defaultField);var r=this.fields.filter(function(s){return s&&s.entity===e.value});return r&&r.length?r[0]:(console.warn("No fields found for entity '".concat(e.name,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null}},{key:"getDefaultOperator",value:function(e){if(e&&void 0!==e.defaultOperator)return this.getDefaultValue(e.defaultOperator);var r=this.getOperators(e.value);return r&&r.length?r[0]:(console.warn("No operators found for field '".concat(e.value,"'. ")+"A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}},{key:"addRule",value:function(e){if(!this.disabled){if(e=e||this.data,this.config.addRule)this.config.addRule(e);else{var r=this.fields[0];e.rules=e.rules.concat([{field:r.value,operator:this.getDefaultOperator(r),value:this.getDefaultValue(r.defaultValue),entity:r.entity}])}this.handleTouched(),this.handleDataChange()}}},{key:"removeRule",value:function(e,r){this.disabled||(r=r||this.data,this.config.removeRule?this.config.removeRule(e,r):r.rules=r.rules.filter(function(s){return s!==e}),this.inputContextCache.delete(e),this.operatorContextCache.delete(e),this.fieldContextCache.delete(e),this.entityContextCache.delete(e),this.removeButtonContextCache.delete(e),this.handleTouched(),this.handleDataChange())}},{key:"addRuleSet",value:function(e){this.disabled||(e=e||this.data,this.config.addRuleSet?this.config.addRuleSet(e):e.rules=e.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())}},{key:"removeRuleSet",value:function(e,r){this.disabled||(e=e||this.data,r=r||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(e,r):r&&(r.rules=r.rules.filter(function(s){return s!==e})),this.handleTouched(),this.handleDataChange())}},{key:"transitionEnd",value:function(e){this.treeContainer.nativeElement.style.maxHeight=null}},{key:"toggleCollapse",value:function(){var e=this;this.computedTreeContainerHeight(),setTimeout(function(){e.data.collapsed=!e.data.collapsed},100)}},{key:"computedTreeContainerHeight",value:function(){var e=this.treeContainer.nativeElement;e&&e.firstElementChild&&(e.style.maxHeight=e.firstElementChild.clientHeight+8+"px")}},{key:"changeCondition",value:function(e){this.disabled||(this.data.condition=e,this.handleTouched(),this.handleDataChange())}},{key:"changeOperator",value:function(e){this.disabled||(e.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(e.operator,e.value,e):this.coerceValueForOperator(e.operator,e.value,e),this.handleTouched(),this.handleDataChange())}},{key:"coerceValueForOperator",value:function(e,r,s){return"multiselect"!==this.getInputType(s.field,e)||Array.isArray(r)?r:[r]}},{key:"changeInput",value:function(){this.disabled||(this.handleTouched(),this.handleDataChange())}},{key:"changeField",value:function(e,r){if(!this.disabled){var s=this.inputContextCache.get(r),l=this.config.fields[e],c=this.calculateFieldChangeValue(s&&s.field,l,r.value);void 0!==c?r.value=c:delete r.value,r.operator=this.getDefaultOperator(l),this.inputContextCache.delete(r),this.operatorContextCache.delete(r),this.fieldContextCache.delete(r),this.entityContextCache.delete(r),this.getInputContext(r),this.getFieldContext(r),this.getOperatorContext(r),this.getEntityContext(r),this.handleTouched(),this.handleDataChange()}}},{key:"changeEntity",value:function(e,r,s,u){if(!this.disabled){var l=s,c=u,p=this.entities.find(function(E){return E.value===e}),y=this.getDefaultField(p);c||(l=(c=this.data).rules.findIndex(function(E){return E===r})),r.field=y.value,c.rules[l]=r,y?this.changeField(y.value,r):(this.handleTouched(),this.handleDataChange())}}},{key:"getDefaultValue",value:function(e){return"function"==typeof e?e():e}},{key:"getOperatorTemplate",value:function(){var e=this.parentOperatorTemplate||this.operatorTemplate;return e?e.template:null}},{key:"getFieldTemplate",value:function(){var e=this.parentFieldTemplate||this.fieldTemplate;return e?e.template:null}},{key:"getEntityTemplate",value:function(){var e=this.parentEntityTemplate||this.entityTemplate;return e?e.template:null}},{key:"getArrowIconTemplate",value:function(){var e=this.parentArrowIconTemplate||this.arrowIconTemplate;return e?e.template:null}},{key:"getButtonGroupTemplate",value:function(){var e=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return e?e.template:null}},{key:"getSwitchGroupTemplate",value:function(){var e=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return e?e.template:null}},{key:"getRemoveButtonTemplate",value:function(){var e=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return e?e.template:null}},{key:"getEmptyWarningTemplate",value:function(){var e=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return e?e.template:null}},{key:"getQueryItemClassName",value:function(e){var r=this.getClassNames("row","connector","transition");return r+=" "+this.getClassNames(e.ruleset?"ruleSet":"rule"),e.invalid&&(r+=" "+this.getClassNames("invalidRuleSet")),r}},{key:"getButtonGroupContext",value:function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext}},{key:"getRemoveButtonContext",value:function(e){return this.removeButtonContextCache.has(e)||this.removeButtonContextCache.set(e,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:e}),this.removeButtonContextCache.get(e)}},{key:"getFieldContext",value:function(e){return this.fieldContextCache.has(e)||this.fieldContextCache.set(e,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:e}),this.fieldContextCache.get(e)}},{key:"getEntityContext",value:function(e){return this.entityContextCache.has(e)||this.entityContextCache.set(e,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:e}),this.entityContextCache.get(e)}},{key:"getSwitchGroupContext",value:function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getArrowIconContext",value:function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}}},{key:"getEmptyWarningContext",value:function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}}},{key:"getOperatorContext",value:function(e){return this.operatorContextCache.has(e)||this.operatorContextCache.set(e,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(e.field),$implicit:e}),this.operatorContextCache.get(e)}},{key:"getInputContext",value:function(e){return this.inputContextCache.has(e)||this.inputContextCache.set(e,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(e.field),field:this.config.fields[e.field],$implicit:e}),this.inputContextCache.get(e)}},{key:"calculateFieldChangeValue",value:function(e,r,s){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(e,r,s):this.persistValueOnFieldChange&&null!=e&&null!=r&&e.type===r.type&&-1!==this.defaultPersistValueTypes.indexOf(e.type)?s:r&&void 0!==r.defaultValue?this.getDefaultValue(r.defaultValue):void 0}},{key:"checkEmptyRuleInRuleset",value:function(e){var r=this;return!e||!e.rules||0===e.rules.length||e.rules.some(function(s){return!!s.rules&&r.checkEmptyRuleInRuleset(s)})}},{key:"validateRulesInRuleset",value:function(e,r){var s=this;e&&e.rules&&e.rules.length>0&&e.rules.forEach(function(u){if(u.rules)return s.validateRulesInRuleset(u,r);if(u.field){var l=s.config.fields[u.field];if(l&&l.validator){var c=l.validator(u,e);null!=c&&r.push(c)}}})}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()}},{key:"handleTouched",value:function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["query-builder"]],contentQueries:function(t,e,r){var s;1&t&&(o.\u0275\u0275contentQuery(r,KG,5),o.\u0275\u0275contentQuery(r,qG,5),o.\u0275\u0275contentQuery(r,GG,5),o.\u0275\u0275contentQuery(r,HG,5),o.\u0275\u0275contentQuery(r,VG,5),o.\u0275\u0275contentQuery(r,XG,5),o.\u0275\u0275contentQuery(r,QG,5),o.\u0275\u0275contentQuery(r,JG,5),o.\u0275\u0275contentQuery(r,WG,5)),2&t&&(o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.buttonGroupTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.switchGroupTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.fieldTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.entityTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.operatorTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.removeButtonTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.emptyWarningTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.arrowIconTemplate=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.inputTemplates=s))},viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(GV,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.treeContainer=r.first)},hostVars:1,hostBindings:function(t,e){2&t&&o.\u0275\u0275attribute("query-builder-condition",e.condintion)},inputs:{disabled:"disabled",data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",config:"config",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value"},features:[o.\u0275\u0275ProvidersFeature([YG,eH]),o.\u0275\u0275NgOnChangesFeature],decls:13,vars:8,consts:[[3,"ngClass"],["defaultArrowIcon",""],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultButtonGroup",""],["defaultSwitchGroup",""],[3,"ngClass","transitionend"],["treeContainer",""],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","disabled","click"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngClass","ngModel","disabled","ngModelChange"],["andOption",""],["type","radio","value","or",3,"ngClass","ngModel","disabled","ngModelChange"],["orOption",""],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["defaultEmptyWarning",""],["defaultRemoveButton",""],["class","q-inline-block-display",4,"ngIf"],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[1,"q-inline-block-display"],[3,"ngClass","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange"],["multiple","",3,"ngClass","ngModel","disabled","ngModelChange"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,HV,1,1,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(3,WV,2,3,"a",2),o.\u0275\u0275template(4,QV,3,3,"ng-container",3),o.\u0275\u0275template(5,eG,6,6,"ng-template",null,4,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(7,nG,2,2,"ng-container",3),o.\u0275\u0275template(8,iG,1,1,"ng-template",null,5,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"div",6,7),o.\u0275\u0275listener("transitionend",function(l){return e.transitionEnd(l)}),o.\u0275\u0275template(12,zG,2,2,"ul",8),o.\u0275\u0275elementEnd()),2&t){var r=o.\u0275\u0275reference(6),s=o.\u0275\u0275reference(9);o.\u0275\u0275property("ngClass",e.getClassNames("switchRow")),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",e.allowCollapse),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.getButtonGroupTemplate())("ngIfElse",r),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",e.getSwitchGroupTemplate())("ngIfElse",s),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngClass",e.getClassNames("treeContainer",e.data.collapsed?"collapsed":"")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.data&&e.data.rules)}},dependencies:[w.NgClass,w.NgForOf,w.NgIf,w.NgTemplateOutlet,w.NgSwitch,w.NgSwitchCase,K.YN,K.Kr,K.Fj,K.wV,K.Wl,K.EJ,K.K7,K._,K.JJ,K.On,a],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]:before{content:"\\274c"}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;transform:rotate(90deg);transition:linear .25s transform;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]:before{content:"\\25b6"}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]:before{content:"\\2795"}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%]{font-family:Lucida Grande,Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto;min-width:180px}[_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]){min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid rgb(97,158,215);background:white;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:rgba(179,65,93,.1)!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #CCC}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #CCC;background:white}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{transition:all .1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;transition:ease-in .25s max-height}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:after{content:"";left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child:after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}']}),a}(),tH=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5]}),a}();function nH(a,n){if(1&a&&o.\u0275\u0275element(0,"div",3),2&a){var t=n.index,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngStyle",e.gridRenderer.getGridColumnStyle(t))}}function rH(a,n){if(1&a&&o.\u0275\u0275element(0,"div",4),2&a){var t=n.index,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngStyle",e.gridRenderer.getGridRowStyle(t))}}var xM=["*"];function iH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",8),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function oH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function aH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",10),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function sH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function uH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",12),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function lH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",13),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function cH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",14),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}function dH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275listener("mousedown",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))})("touchstart",function(r){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.resize.dragStartDelay(r))}),o.\u0275\u0275elementEnd()}}var o0,Xl,Ma,a0,hu,s0,u0,l0,c0,er=function(){return(er=er||{}).Fit="fit",er.ScrollVertical="scrollVertical",er.ScrollHorizontal="scrollHorizontal",er.Fixed="fixed",er.VerticalFixed="verticalFixed",er.HorizontalFixed="horizontalFixed",er}(),Xu=function(){return(Xu=Xu||{}).Always="always",Xu.OnDragAndResize="onDrag&Resize",Xu.None="none",Xu}(),rr=function(){return(rr=rr||{}).None="none",rr.CompactUp="compactUp",rr.CompactLeft="compactLeft",rr.CompactUpAndLeft="compactUp&Left",rr.CompactLeftAndUp="compactLeft&Up",rr.CompactRight="compactRight",rr.CompactUpAndRight="compactUp&Right",rr.CompactRightAndUp="compactRight&Up",rr.CompactDown="compactDown",rr.CompactDownAndLeft="compactDown&Left",rr.CompactLeftAndDown="compactLeft&Down",rr.CompactDownAndRight="compactDown&Right",rr.CompactRightAndDown="compactRight&Down",rr}(),Mi=function(){return(Mi=Mi||{}).LTR="ltr",Mi.RTL="rtl",Mi}(),fH=function(){function a(n){(0,h.Z)(this,a),this.gridster=n}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster=null}},{key:"checkCompact",value:function(){this.gridster.$options.compactType!==rr.None&&(this.gridster.$options.compactType===rr.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===rr.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===rr.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===rr.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===rr.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===rr.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===rr.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===rr.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===rr.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===rr.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===rr.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}},{key:"checkCompactItem",value:function(t){this.gridster.$options.compactType!==rr.None&&(this.gridster.$options.compactType===rr.CompactUp?this.moveTillCollision(t,"y",-1):this.gridster.$options.compactType===rr.CompactLeft?this.moveTillCollision(t,"x",-1):this.gridster.$options.compactType===rr.CompactUpAndLeft?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndUp?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",-1)):this.gridster.$options.compactType===rr.CompactUpAndRight?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===rr.CompactDown?this.moveTillCollision(t,"y",1):this.gridster.$options.compactType===rr.CompactDownAndLeft?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===rr.CompactLeftAndDown?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",1)):this.gridster.$options.compactType===rr.CompactDownAndRight?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===rr.CompactRightAndDown&&(this.moveTillCollision(t,"x",1),this.moveTillCollision(t,"y",1)))}},{key:"checkCompactMovement",value:function(t,e){var r=this,s=!1;this.gridster.grid.forEach(function(u){!1!==u.$item.compactEnabled&&r.moveTillCollision(u.$item,t,e)&&(s=!0,u.item[t]=u.$item[t],u.itemChanged())}),s&&this.checkCompact()}},{key:"moveTillCollision",value:function(t,e,r){return t[e]+=r,this.gridster.checkCollision(t)?(t[e]-=r,!1):(this.moveTillCollision(t,e,r),!0)}}]),a}(),pH={gridType:er.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:rr.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Xu.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:Mi.LTR},sa=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,null,[{key:"merge",value:function(t,e,r){for(var s in e)void 0!==e[s]&&r.hasOwnProperty(s)&&("object"==typeof e[s]?(s in t||(t[s]={}),t[s]=a.merge(t[s],e[s],r[s])):t[s]=e[s]);return t}},{key:"checkTouchEvent",value:function(t){void 0===t.clientX&&t.touches&&(t.touches&&t.touches.length?(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY):t.changedTouches&&t.changedTouches.length&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY))}},{key:"checkContentClassForEvent",value:function(t,e){if(t.$options.draggable.ignoreContent){if(!a.checkDragHandleClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass,t.$options.draggable.ignoreContentClass))return!0}else if(a.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass))return!0;return!1}},{key:"checkContentClassForEmptyCellClickEvent",value:function(t,e){return a.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass)||a.checkContentClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass)}},{key:"checkDragHandleClass",value:function(t,e,r,s){if(!t||t===e)return!1;if(t.hasAttribute("class")){var u=t.getAttribute("class").split(" ");if(u.indexOf(r)>-1)return!0;if(u.indexOf(s)>-1)return!1}return a.checkDragHandleClass(t.parentNode,e,r,s)}},{key:"checkContentClass",value:function(t,e,r){return!(!t||t===e)&&(!!(t.hasAttribute("class")&&t.getAttribute("class").split(" ").indexOf(r)>-1)||a.checkContentClass(t.parentNode,e,r))}},{key:"compareItems",value:function(t,e){return t.y>e.y?-1:t.y<e.y?1:t.x>e.x?-1:1}}]),a}(),hH=function(){function a(n){var t=this;(0,h.Z)(this,a),this.gridster=n,this.emptyCellClickCb=function(e){if(t.gridster&&!t.gridster.movingItem&&!sa.checkContentClassForEmptyCellClickEvent(t.gridster,e)){var r=t.getValidItemFromEvent(e);r&&(t.gridster.options.emptyCellClickCallback&&t.gridster.options.emptyCellClickCallback(e,r),t.gridster.cdRef.markForCheck())}},this.emptyCellContextMenuCb=function(e){if(!t.gridster.movingItem&&!sa.checkContentClassForEmptyCellClickEvent(t.gridster,e)){e.preventDefault(),e.stopPropagation();var r=t.getValidItemFromEvent(e);r&&(t.gridster.options.emptyCellContextMenuCallback&&t.gridster.options.emptyCellContextMenuCallback(e,r),t.gridster.cdRef.markForCheck())}},this.emptyCellDragDrop=function(e){var r=t.getValidItemFromEvent(e);r&&(t.gridster.options.emptyCellDropCallback&&t.gridster.options.emptyCellDropCallback(e,r),t.gridster.cdRef.markForCheck())},this.emptyCellDragOver=function(e){e.preventDefault(),e.stopPropagation();var r=t.getValidItemFromEvent(e);r?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),t.gridster.movingItem=r):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),t.gridster.movingItem=null),t.gridster.previewStyle()},this.emptyCellMouseDown=function(e){if(!sa.checkContentClassForEmptyCellClickEvent(t.gridster,e)){e.preventDefault(),e.stopPropagation();var r=t.getValidItemFromEvent(e);!r||1!==e.buttons&&!(e instanceof TouchEvent)||(t.initialItem=r,t.gridster.movingItem=r,t.gridster.previewStyle(),t.gridster.zone.runOutsideAngular(function(){t.removeWindowMousemoveListenerFn=t.gridster.renderer.listen("window","mousemove",t.emptyCellMouseMove),t.removeWindowTouchmoveListenerFn=t.gridster.renderer.listen("window","touchmove",t.emptyCellMouseMove)}),t.removeWindowMouseupListenerFn=t.gridster.renderer.listen("window","mouseup",t.emptyCellMouseUp),t.removeWindowTouchendListenerFn=t.gridster.renderer.listen("window","touchend",t.emptyCellMouseUp))}},this.emptyCellMouseMove=function(e){e.preventDefault(),e.stopPropagation();var r=t.getValidItemFromEvent(e,t.initialItem);r&&(t.gridster.movingItem=r,t.gridster.previewStyle())},this.emptyCellMouseUp=function(e){t.removeWindowMousemoveListenerFn(),t.removeWindowTouchmoveListenerFn(),t.removeWindowMouseupListenerFn(),t.removeWindowTouchendListenerFn();var r=t.getValidItemFromEvent(e,t.initialItem);r&&(t.gridster.movingItem=r),t.gridster.options.emptyCellDragCallback&&t.gridster.movingItem&&t.gridster.options.emptyCellDragCallback(e,t.gridster.movingItem),setTimeout(function(){t.initialItem=null,t.gridster&&(t.gridster.movingItem=null,t.gridster.previewStyle())}),t.gridster.cdRef.markForCheck()}}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}},{key:"updateOptions",value:function(){var t=this;this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(function(){t.removeEmptyCellDragoverListenerFn=t.gridster.renderer.listen(t.gridster.el,"dragover",t.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",function(){t.gridster.movingItem=null,t.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}},{key:"getPixelsX",value:function(t,e){var r=this.gridster.options.scale;return r?(t.clientX-e.left)/r+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():t.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}},{key:"getPixelsY",value:function(t,e){var r=this.gridster.options.scale;return r?(t.clientY-e.top)/r+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():t.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}},{key:"getValidItemFromEvent",value:function(t,e){t.preventDefault(),t.stopPropagation(),sa.checkTouchEvent(t);var r=this.gridster.el.getBoundingClientRect(),s=this.getPixelsX(t,r),u=this.getPixelsY(t,r),l={x:this.gridster.pixelsToPositionX(s,Math.floor,!0),y:this.gridster.pixelsToPositionY(u,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(l.cols=Math.min(Math.abs(e.x-l.x)+1,this.gridster.$options.emptyCellDragMaxCols),l.rows=Math.min(Math.abs(e.y-l.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<l.x?l.x=e.x:e.x-l.x>this.gridster.$options.emptyCellDragMaxCols-1&&(l.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<l.y?l.y=e.y:e.y-l.y>this.gridster.$options.emptyCellDragMaxRows-1&&(l.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(l))return l}}]),a}(),mH=function(){function a(n){(0,h.Z)(this,a),this.gridster=n,this.lastGridColumnStyles={},this.lastGridRowStyles={}}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster=null}},{key:"updateItem",value:function(t,e,r){if(this.gridster.mobile)this.clearCellPosition(r,t),r.setStyle(t,"height",this.gridster.$options.keepFixedHeightInMobile?(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px":e.rows*this.gridster.curWidth/e.cols+"px"),r.setStyle(t,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),r.setStyle(t,"margin-bottom",this.gridster.$options.margin+"px"),r.setStyle(t,Mi.LTR?"margin-right":"margin-left","");else{var s=Math.round(this.gridster.curColWidth*e.x),u=Math.round(this.gridster.curRowHeight*e.y),l=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,c=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(r,t,s,u),r.setStyle(t,"width",l+"px"),r.setStyle(t,"height",c+"px");var p=null,y=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(p=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(y=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),r.setStyle(t,"margin-bottom",p),r.setStyle(t,Mi.LTR?"margin-right":"margin-left",y)}}},{key:"updateGridster",value:function(){var t="",e="",r="",s="";if(this.gridster.$options.gridType===er.Fit)t=er.Fit,e=er.ScrollVertical,r=er.ScrollHorizontal,s=er.Fixed;else if(this.gridster.$options.gridType===er.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,t=er.ScrollVertical,e=er.Fit,r=er.ScrollHorizontal,s=er.Fixed;else if(this.gridster.$options.gridType===er.ScrollHorizontal){var u=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(u>=1?u:u+1),t=er.ScrollHorizontal,e=er.Fit,r=er.ScrollVertical,s=er.Fixed}else this.gridster.$options.gridType===er.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=er.Fixed,e=er.Fit,r=er.ScrollVertical,s=er.ScrollHorizontal):this.gridster.$options.gridType===er.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=er.ScrollVertical,e=er.Fit,r=er.ScrollHorizontal,s=er.Fixed):this.gridster.$options.gridType===er.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=er.ScrollHorizontal,e=er.Fit,r=er.ScrollVertical,s=er.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==er.Fit?this.gridster.renderer.removeClass(this.gridster.el,t):this.gridster.renderer.addClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,r),this.gridster.renderer.removeClass(this.gridster.el,s)}},{key:"getGridColumnStyle",value:function(t){var e={left:this.gridster.curColWidth*t,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,ue.Z)((0,ue.Z)({},this.getLeftPosition(e.left)),{},{width:e.width+"px",height:e.height+"px"});var r=this.lastGridColumnStyles[t];return r&&r.left===e.left&&r.width===e.width&&r.height===e.height?r.style:(this.lastGridColumnStyles[t]=e,e.style)}},{key:"getGridRowStyle",value:function(t){var e={top:this.gridster.curRowHeight*t,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=(0,ue.Z)((0,ue.Z)({},this.getTopPosition(e.top)),{},{width:e.width+"px",height:e.height+"px"});var r=this.lastGridRowStyles[t];return r&&r.top===e.top&&r.width===e.width&&r.height===e.height?r.style:(this.lastGridRowStyles[t]=e,e.style)}},{key:"getLeftPosition",value:function(t){var e=this.gridster.$options.dirType===Mi.RTL?-t:t;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}},{key:"getTopPosition",value:function(t){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+t+"px)"}:{top:this.getTopMargin()+t+"px"}}},{key:"clearCellPosition",value:function(t,e){this.gridster.$options.useTransformPositioning?t.setStyle(e,"transform",""):(t.setStyle(e,"top",""),t.setStyle(e,"left",""))}},{key:"setCellPosition",value:function(t,e,r,s){var u=this.gridster.$options.dirType===Mi.RTL?-r:r;this.gridster.$options.useTransformPositioning?t.setStyle(e,"transform","translate3d("+u+"px, "+s+"px, 0)"):(t.setStyle(e,"left",this.getLeftMargin()+u+"px"),t.setStyle(e,"top",this.getTopMargin()+s+"px"))}},{key:"getLeftMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}},{key:"getTopMargin",value:function(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}]),a}(),gH=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.renderer=e,this.el=t.nativeElement}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.previewStyle$.subscribe(function(r){return e.previewStyle(r)})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"previewStyle",value:function(e){e?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,e,this.renderer)):this.renderer.setStyle(this.el,"display","")}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[o.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(t,e){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2}),a}(),dR=function(){var a=function(){function n(t,e,r,s){var u=this;(0,h.Z)(this,n),this.renderer=e,this.cdRef=r,this.zone=s,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new o.EventEmitter,this.calculateLayout$=new yn.x,this.resize$=new yn.x,this.destroy$=new yn.x,this.optionsChanged=function(){u.setOptions();for(var l=u.grid.length-1;l>=0;l--)u.grid[l].updateOptions();u.calculateLayout()},this.onResize=function(){u.el.clientWidth&&(u.options.setGridSize&&(u.renderer.setStyle(u.el,"width",""),u.renderer.setStyle(u.el,"height","")),u.setGridSize(),u.calculateLayout())},this.getNextPossiblePosition=function(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===l.cols&&(l.cols=u.$options.defaultItemCols),-1===l.rows&&(l.rows=u.$options.defaultItemRows),u.setGridDimensions();for(var y,p=c.y||0;p<u.rows;p++)for(l.y=p,y=c.x||0;y<u.columns;y++)if(l.x=y,!u.checkCollision(l))return!0;var E=u.$options.maxRows>=u.rows+l.rows;return!(u.rows<=u.columns&&E)&&u.$options.maxCols>=u.columns+l.cols?(l.x=u.columns,l.y=0,!0):!!E&&(l.y=u.rows,l.x=0,!0)},this.getFirstPossiblePosition=function(l){var c=Object.assign({},l);return u.getNextPossiblePosition(c),c},this.getLastPossiblePosition=function(l){var c={y:0,x:0};c=u.grid.reduce(function(y,E){var D={y:E.$item.y+E.$item.rows-1,x:E.$item.x+E.$item.cols-1};return 1===sa.compareItems(y,D)?D:y},c);var p=Object.assign({},l);return u.getNextPossiblePosition(p,c),p},this.el=t.nativeElement,this.$options=JSON.parse(JSON.stringify(pH)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new hH(this),this.compact=new fH(this),this.gridRenderer=new mH(this)}return(0,v.Z)(n,[{key:"checkCollisionTwoItems",value:function(e,r){if(!(e.x<r.x+r.cols&&e.x+e.cols>r.x&&e.y<r.y+r.rows&&e.y+e.rows>r.y))return!1;if(!this.$options.allowMultiLayer)return!0;var u=this.$options.defaultLayerIndex;return(void 0===e.layerIndex?u:e.layerIndex)===(void 0===r.layerIndex?u:r.layerIndex)}},{key:"ngOnInit",value:function(){var e=this;this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,Nr.b)(0),(0,mo.R)(this.destroy$)).subscribe(function(){return e.calculateLayout()}),this.resize$.pipe((0,ct.w)(function(){return(0,ZO.H)(100)}),(0,mo.R)(this.destroy$)).subscribe(function(){return e.resize()})}},{key:"ngOnChanges",value:function(e){var r=this;e.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:function(u){return r.getItemComponent(u)}},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}},{key:"resize",value:function(){var e,r;"fit"!==this.$options.gridType||this.mobile?(r=this.el.clientWidth,e=this.el.clientHeight):(r=this.el.offsetWidth,e=this.el.offsetHeight),(r!==this.curWidth||e!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}},{key:"setOptions",value:function(){this.$options=sa.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}},{key:"checkIfToResize",value:function(){var e=this.el.clientWidth,r=this.el.offsetWidth,s=this.el.scrollWidth,u=this.el.clientHeight,l=this.el.offsetHeight,c=this.el.scrollHeight;return!(e<r&&c>l&&c-l<r-e||u<l&&s>r&&s-r<l-u)}},{key:"checkIfMobile",value:function(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}},{key:"setGridSize",value:function(){var r,s,e=this.el;this.$options.setGridSize||this.$options.gridType===er.Fit&&!this.mobile?(r=e.offsetWidth,s=e.offsetHeight):(r=e.clientWidth,s=e.clientHeight),this.curWidth=r,this.curHeight=s}},{key:"setGridDimensions",value:function(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));for(var u,e=this.$options.minRows,r=this.$options.minCols,s=this.grid.length-1;s>=0;s--)(u=this.grid[s]).notPlaced||(e=Math.max(e,u.$item.y+u.$item.rows),r=Math.max(r,u.$item.x+u.$item.cols));e+=this.$options.addEmptyRowsCount,(this.columns!==r||this.rows!==e)&&(this.columns=r,this.rows=e,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}},{key:"calculateLayout",value:function(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){var e=-this.$options.margin;null!==this.$options.outerMarginLeft?(e+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(e+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(e+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(e+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-e)/this.columns;var r=-this.$options.margin;null!==this.$options.outerMarginTop?(r+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(r+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(r+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-r)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();for(var u,s=this.grid.length-1;s>=0;s--)(u=this.grid[s]).setSize(),u.drag.toggle(),u.resize.toggle();this.resize$.next()}},{key:"updateGrid",value:function(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=n.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=n.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}},{key:"addItem",value:function(e){void 0===e.$item.cols&&(e.$item.cols=this.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=this.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),-1===e.$item.x||-1===e.$item.y?this.autoPositionItem(e):this.checkCollision(e.$item)&&(this.$options.disableWarnings||(e.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?e.notPlaced=!0:this.autoPositionItem(e)),this.grid.push(e),this.calculateLayout$.next()}},{key:"removeItem",value:function(e){this.grid.splice(this.grid.indexOf(e),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(e.item,e)}},{key:"checkCollision",value:function(e){var r=!1;if(this.options.itemValidateCallback&&(r=!this.options.itemValidateCallback(e)),!r&&this.checkGridCollision(e)&&(r=!0),!r){var s=this.findItemWithItem(e);s&&(r=s)}return r}},{key:"checkGridCollision",value:function(e){var te=e.cols*e.rows;return!(e.y>-1&&e.x>-1&&e.cols+e.x<=this.$options.maxCols&&e.rows+e.y<=this.$options.maxRows&&e.cols<=(void 0===e.maxItemCols?this.$options.maxItemCols:e.maxItemCols)&&e.cols>=(void 0===e.minItemCols?this.$options.minItemCols:e.minItemCols)&&e.rows<=(void 0===e.maxItemRows?this.$options.maxItemRows:e.maxItemRows)&&e.rows>=(void 0===e.minItemRows?this.$options.minItemRows:e.minItemRows)&&(void 0===e.minItemArea?this.$options.minItemArea:e.minItemArea)<=te&&(void 0===e.maxItemArea?this.$options.maxItemArea:e.maxItemArea)>=te)}},{key:"findItemWithItem",value:function(e){for(var s,r=0;r<this.grid.length;r++)if((s=this.grid[r]).$item!==e&&this.checkCollisionTwoItems(s.$item,e))return s;return!1}},{key:"findItemsWithItem",value:function(e){for(var u,r=[],s=0;s<this.grid.length;s++)(u=this.grid[s]).$item!==e&&this.checkCollisionTwoItems(u.$item,e)&&r.push(u);return r}},{key:"autoPositionItem",value:function(e){this.getNextPossiblePosition(e.$item)?(e.notPlaced=!1,e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))}},{key:"pixelsToPositionX",value:function(e,r,s){var u=r(e/this.curColWidth);return s?u:Math.max(u,0)}},{key:"pixelsToPositionY",value:function(e,r,s){var u=r(e/this.curRowHeight);return s?u:Math.max(u,0)}},{key:"positionXToPixels",value:function(e){return e*this.curColWidth}},{key:"positionYToPixels",value:function(e){return e*this.curRowHeight}},{key:"getItemComponent",value:function(e){return this.grid.find(function(r){return r.item===e})}},{key:"checkCollisionForSwaping",value:function(e){var r=!1;if(this.options.itemValidateCallback&&(r=!this.options.itemValidateCallback(e)),!r&&this.checkGridCollision(e)&&(r=!0),!r){var s=this.findItemWithItemForSwapping(e);s&&(r=s)}return r}},{key:"findItemWithItemForSwapping",value:function(e){for(var s,r=this.grid.length-1;r>-1;r--)if((s=this.grid[r]).$item!==e&&n.checkCollisionTwoItemsForSwaping(s.$item,e))return s;return!1}},{key:"previewStyle",value:function(){this.movingItem?(this.compact&&arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}}],[{key:"checkCollisionTwoItemsForSwaping",value:function(e,r){return e.x+(1===e.cols?0:1)<r.x+r.cols&&e.x+e.cols>r.x+(1===r.cols?0:1)&&e.y+(1===e.rows?0:1)<r.y+r.rows&&e.y+e.rows>r.y+(1===r.rows?0:1)}},{key:"getNewArrayLength",value:function(e,r,s){var u=Math.max(e,Math.floor(r/s));return u<0?0:Number.isFinite(u)?Math.floor(u):0}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(o.NgZone))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[o.\u0275\u0275NgOnChangesFeature,o.\u0275\u0275StandaloneFeature],ngContentSelectors:xM,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,nH,1,1,"div",0),o.\u0275\u0275template(1,rH,1,1,"div",1),o.\u0275\u0275projection(2),o.\u0275\u0275element(3,"gridster-preview",2)),2&t&&(o.\u0275\u0275property("ngForOf",e.gridColumns),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.gridRows),o.\u0275\u0275advance(2),o.\u0275\u0275property("gridRenderer",e.gridRenderer)("previewStyle$",e.previewStyle$))},dependencies:[w.NgForOf,w.NgStyle,gH],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2}),a}(),bM=function(){function a(n){(0,h.Z)(this,a),this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(t,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;var r=this.push(this.gridsterItem,t);return r||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],r}return!1}},{key:"restoreTempItems",value:function(){for(var t=this.pushedItemsTemp.length-1;t>-1;t--)this.removeFromTempPushed(this.pushedItemsTemp[t])}},{key:"restoreItems",value:function(){for(var r,t=0,e=this.pushedItems.length;t<e;t++)(r=this.pushedItems[t]).$item.x=r.item.x||0,r.$item.y=r.item.y||0,r.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var r,t=0,e=this.pushedItems.length;t<e;t++)(r=this.pushedItems[t]).checkItemChanges(r.$item,r.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var t=this.pushedItems.length-1,e=!1;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(t,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(t.$item)||""===e)return!1;var r=this.gridster.findItemsWithItem(t.$item),s=e===this.fromNorth||e===this.fromWest;r.sort(function(D,R){return s?R.$item.y-D.$item.y||R.$item.x-D.$item.x:D.$item.y-R.$item.y||D.$item.x-R.$item.x});for(var l,u=0,c=!0,p=[];u<r.length;u++)if((l=r[u])!==this.gridsterItem){if(!l.canBeDragged()){c=!1;break}var y=this.pushedItemsTemp.indexOf(l);if(y>-1&&this.pushedItemsTempPath[y].length>10){c=!1;break}if(this.tryPattern[e][0].call(this,l,t))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][1].call(this,l,t))this.pushedItemsOrder.push(l),p.push(l);else if(this.tryPattern[e][2].call(this,l,t))this.pushedItemsOrder.push(l),p.push(l);else{if(!this.tryPattern[e][3].call(this,l,t)){c=!1;break}this.pushedItemsOrder.push(l),p.push(l)}}if(!c&&(u=this.pushedItemsOrder.lastIndexOf(p[0]))>-1)for(var E=this.pushedItemsOrder.length-1;E>=u;E--)l=this.pushedItemsOrder[E],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l);return this.iteration++,c}},{key:"trySouth",value:function(t,e){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(t),t.$item.y=e.$item.y+e.$item.rows,this.push(t,this.fromNorth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryNorth",value:function(t,e){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(t),t.$item.y=e.$item.y-t.$item.rows,this.push(t,this.fromSouth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryEast",value:function(t,e){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(t),t.$item.x=e.$item.x+e.$item.cols,this.push(t,this.fromWest)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"tryWest",value:function(t,e){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(t),t.$item.x=e.$item.x-t.$item.cols,this.push(t,this.fromEast)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1))}},{key:"addToTempPushed",value:function(t){var e=this.pushedItemsTemp.indexOf(t);-1===e&&(e=this.pushedItemsTemp.push(t)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:t.$item.x,y:t.$item.y})}},{key:"removeFromTempPushed",value:function(t){var e=this.pushedItemsTemp.indexOf(t),r=this.pushedItemsTempPath[e].pop();r&&(t.$item.x=r.x,t.$item.y=r.y,t.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}},{key:"addToPushed",value:function(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0},{x:t.$item.x,y:t.$item.y}]);else{var e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y})}}},{key:"removeFromPushed",value:function(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}},{key:"removeFromPushedItem",value:function(t){var e=this.pushedItems.indexOf(t);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}},{key:"checkPushedItem",value:function(t,e){for(var u,l,c,r=this.pushedItemsPath[e],s=r.length-2,p=!1;s>-1;s--)l=t.$item.x,c=t.$item.y,t.$item.x=(u=r[s]).x,t.$item.y=u.y,this.gridster.findItemWithItem(t.$item)?(t.$item.x=l,t.$item.y=c):(t.setSize(),r.splice(s+1,r.length-s-1),p=!0);return r.length<2&&this.removeFromPushed(e),p}}]),a}(),CM=50;function wM(a,n,t,e,r,s,u,l,c,p){o0=a.$options.scrollSensitivity,Xl=a.$options.scrollSpeed,a0=c,hu=p;var y=(Ma=a.el).offsetWidth,D=Ma.scrollLeft,R=Ma.scrollTop,B=t-R,ne=s.clientX,he=s.clientY;if(!a.$options.disableScrollVertical)if(u.clientY<he&&Ma.offsetHeight+R-t-r<o0){if(TM(),a0&&hu&&!hu.south||c0)return;c0=SM(1,l,u)}else if(u.clientY>he&&R>0&&B<o0){if(RM(),a0&&hu&&!hu.north||l0)return;l0=SM(-1,l,u)}else u.clientY!==he&&pR();var we=n-D;if(!a.$options.disableScrollHorizontal)if(u.clientX<ne&&D+y-n-e<=o0){if(AM(),a0&&hu&&!hu.east||s0)return;s0=EM(1,l,u)}else if(u.clientX>ne&&D>0&&we<o0){if(PM(),a0&&hu&&!hu.west||u0)return;u0=EM(-1,l,u)}else u.clientX!==ne&&fR()}function SM(a,n,t){var e=t.clientY;return window.setInterval(function(){(!Ma||-1===a&&Ma.scrollTop-Xl<0)&&pR(),Ma.scrollTop+=a*Xl,n({clientX:t.clientX,clientY:e+=a*Xl})},CM)}function EM(a,n,t){var e=t.clientX;return window.setInterval(function(){(!Ma||-1===a&&Ma.scrollLeft-Xl<0)&&fR(),Ma.scrollLeft+=a*Xl,n({clientX:e+=a*Xl,clientY:t.clientY})},CM)}function kM(){fR(),pR(),Ma=null}function fR(){PM(),AM()}function pR(){TM(),RM()}function PM(){s0&&(clearInterval(s0),s0=0)}function AM(){u0&&(clearInterval(u0),u0=0)}function RM(){c0&&(clearInterval(c0),c0=0)}function TM(){l0&&(clearInterval(l0),l0=0)}var vH=function(){function a(n){(0,h.Z)(this,a),this.gridsterItem=n,this.gridster=n.gridster}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=this.swapedItem=null}},{key:"swapItems",value:function(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}},{key:"checkSwapBack",value:function(){if(this.swapedItem){var t=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=t,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}},{key:"restoreSwapItem",value:function(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}},{key:"setSwapItem",value:function(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}},{key:"checkSwap",value:function(t){var e;if((e=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(t.$item):this.gridster.checkCollision(t.$item))&&!0!==e&&e.canBeDragged()){var r=e,s=r.$item.x,u=r.$item.y,l=t.$item.x,c=t.$item.y,p=l-s,y=c-u;r.$item.x=t.item.x-p,r.$item.y=t.item.y-y,t.$item.x=r.item.x+p,t.$item.y=r.item.y+y,this.gridster.checkCollision(r.$item)||this.gridster.checkCollision(t.$item)?(t.$item.x=l,t.$item.y=c,r.$item.x=s,r.$item.y=u):(r.setSize(),this.swapedItem=r,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}]),a}(),Ki=function(){return(Ki=Ki||{}).UP="UP",Ki.DOWN="DOWN",Ki.LEFT="LEFT",Ki.RIGHT="RIGHT",Ki}(),_H=function(){function a(n,t,e){var r=this;(0,h.Z)(this,a),this.zone=e,this.collision=!1,this.dragMove=function(s){s.stopPropagation(),s.preventDefault(),sa.checkTouchEvent(s);var l,c,p,y,u=r.getDirections(s);r.gridster.options.enableBoundaryControl&&(u.includes(Ki.UP)&&r.gridsterItem.el.getBoundingClientRect().top<r.gridster.el.getBoundingClientRect().top+(null!==(l=r.outerMarginTop)&&void 0!==l?l:r.margin)&&(u=u.filter(function(E){return E!=Ki.UP}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:r.lastMouse.clientY})),u.includes(Ki.LEFT)&&r.gridsterItem.el.getBoundingClientRect().left<r.gridster.el.getBoundingClientRect().left+(null!==(c=r.outerMarginLeft)&&void 0!==c?c:r.margin)&&(u=u.filter(function(E){return E!=Ki.LEFT}),s=new MouseEvent(s.type,{clientX:r.lastMouse.clientX,clientY:s.clientY})),u.includes(Ki.RIGHT)&&r.gridsterItem.el.getBoundingClientRect().right>r.gridster.el.getBoundingClientRect().right-(null!==(p=r.outerMarginRight)&&void 0!==p?p:r.margin)&&(u=u.filter(function(E){return E!=Ki.RIGHT}),s=new MouseEvent(s.type,{clientX:r.lastMouse.clientX,clientY:s.clientY})),u.includes(Ki.DOWN)&&r.gridsterItem.el.getBoundingClientRect().bottom>r.gridster.el.getBoundingClientRect().bottom-(null!==(y=r.outerMarginBottom)&&void 0!==y?y:r.margin)&&(u=u.filter(function(E){return E!=Ki.DOWN}),s=new MouseEvent(s.type,{clientX:s.clientX,clientY:r.lastMouse.clientY}))),u.length&&(r.offsetLeft=r.gridster.el.scrollLeft-r.gridster.el.offsetLeft,r.offsetTop=r.gridster.el.scrollTop-r.gridster.el.offsetTop,wM(r.gridster,r.left,r.top,r.width,r.height,s,r.lastMouse,r.calculateItemPositionFromMousePosition),r.calculateItemPositionFromMousePosition(s))},this.calculateItemPositionFromMousePosition=function(s){r.gridster.options.scale?r.calculateItemPositionWithScale(s,r.gridster.options.scale):r.calculateItemPositionWithoutScale(s),r.calculateItemPosition(),r.lastMouse.clientX=s.clientX,r.lastMouse.clientY=s.clientY,r.zone.run(function(){r.gridster.updateGrid()})},this.dragStop=function(s){s.stopPropagation(),s.preventDefault(),kM(),r.cancelOnBlur(),r.mousemove(),r.mouseup(),r.mouseleave(),r.touchmove(),r.touchend(),r.touchcancel(),r.gridsterItem.renderer.removeClass(r.gridsterItem.el,"gridster-item-moving"),r.gridster.dragInProgress=!1,r.gridster.updateGrid(),r.path=[],r.gridster.options.draggable&&r.gridster.options.draggable.stop?Promise.resolve(r.gridster.options.draggable.stop(r.gridsterItem.item,r.gridsterItem,s)).then(r.makeDrag,r.cancelDrag):r.makeDrag(),setTimeout(function(){r.gridster&&(r.gridster.movingItem=null,r.gridster.previewStyle(!0))})},this.cancelDrag=function(){r.gridsterItem.$item.x=r.gridsterItem.item.x||0,r.gridsterItem.$item.y=r.gridsterItem.item.y||0,r.gridsterItem.setSize(),r.push&&r.push.restoreItems(),r.swap&&r.swap.restoreSwapItem(),r.push&&(r.push.destroy(),r.push=null),r.swap&&(r.swap.destroy(),r.swap=null)},this.makeDrag=function(){r.gridster.$options.draggable.dropOverItems&&r.gridster.options.draggable&&r.gridster.options.draggable.dropOverItemsCallback&&r.collision&&!0!==r.collision&&r.collision.$item&&r.gridster.options.draggable.dropOverItemsCallback(r.gridsterItem.item,r.collision.item,r.gridster),r.collision=!1,r.gridsterItem.setSize(),r.gridsterItem.checkItemChanges(r.gridsterItem.$item,r.gridsterItem.item),r.push&&r.push.setPushedItems(),r.swap&&r.swap.setSwapItem(),r.push&&(r.push.destroy(),r.push=null),r.swap&&(r.swap.destroy(),r.swap=null)},this.dragStartDelay=function(s){if(!s.target.classList.contains("gridster-item-resizable-handler")&&!sa.checkContentClassForEvent(r.gridster,s))if(sa.checkTouchEvent(s),r.gridster.$options.draggable.delayStart)var l=setTimeout(function(){r.dragStart(s),te()},r.gridster.$options.draggable.delayStart),c=r.gridsterItem.renderer.listen("document","mouseup",te),p=r.gridsterItem.renderer.listen("document","mouseleave",te),y=r.gridsterItem.renderer.listen("window","blur",te),E=r.gridsterItem.renderer.listen("document","touchmove",function B(ne){sa.checkTouchEvent(ne),(Math.abs(ne.clientX-s.clientX)>9||Math.abs(ne.clientY-s.clientY)>9)&&te()}),D=r.gridsterItem.renderer.listen("document","touchend",te),R=r.gridsterItem.renderer.listen("document","touchcancel",te);else r.dragStart(s);function te(){clearTimeout(l),y(),c(),p(),E(),D(),R()}},this.gridsterItem=n,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}},{key:"dragStart",value:function(t){var e=this;t.which&&1!==t.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===Mi.RTL?t.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:t.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=t.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new bM(this.gridsterItem),this.swap=new vH(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}},{key:"calculateItemPositionWithScale",value:function(t,e){this.left=this.gridster.$options.dirType===Mi.RTL?this.gridster.el.scrollWidth-this.originalClientX+(t.clientX-this.originalClientX)/e+this.diffLeft:this.originalClientX+(t.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(t.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}},{key:"calculateItemPositionWithoutScale",value:function(t){this.left=this.gridster.$options.dirType===Mi.RTL?this.gridster.el.scrollWidth-t.clientX+this.diffLeft:t.clientX+this.offsetLeft-this.diffLeft,this.top=t.clientY+this.offsetTop-this.diffTop}},{key:"calculateItemPosition",value:function(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){var t=this.path[this.path.length-1],e="";t.x<this.gridsterItem.$item.x?e=this.push.fromWest:t.x>this.gridsterItem.$item.x?e=this.push.fromEast:t.y<this.gridsterItem.$item.y?e=this.push.fromNorth:t.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}},{key:"toggle",value:function(){var t=this.gridsterItem.canBeDragged();!this.enabled&&t?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!t&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}},{key:"getDirections",value:function(t){var e=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=t.clientY,this.lastMouse.clientX=t.clientX),this.lastMouse.clientY>t.clientY&&e.push(Ki.UP),this.lastMouse.clientY<t.clientY&&e.push(Ki.DOWN),this.lastMouse.clientX<t.clientX&&e.push(Ki.RIGHT),this.lastMouse.clientX>t.clientX&&e.push(Ki.LEFT),e}}]),a}(),xH=function(){function a(n){(0,h.Z)(this,a),this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=n,this.gridster=n.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}return(0,v.Z)(a,[{key:"destroy",value:function(){this.gridster=this.gridsterItem=null}},{key:"pushItems",value:function(t){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,t)}},{key:"restoreItems",value:function(){for(var r,t=0,e=this.pushedItems.length;t<e;t++)(r=this.pushedItems[t]).$item.x=r.item.x||0,r.$item.y=r.item.y||0,r.$item.cols=r.item.cols||1,r.$item.row=r.item.row||1,r.setSize();this.pushedItems=[],this.pushedItemsPath=[]}},{key:"setPushedItems",value:function(){for(var r,t=0,e=this.pushedItems.length;t<e;t++)(r=this.pushedItems[t]).checkItemChanges(r.$item,r.item);this.pushedItems=[],this.pushedItemsPath=[]}},{key:"checkPushBack",value:function(){for(var t=this.pushedItems.length-1,e=!1;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}},{key:"push",value:function(t,e){var r=this.gridster.checkCollision(t.$item);if(r&&!0!==r&&r!==this.gridsterItem&&r.canBeResized()){if(this.tryPattern[e].call(this,r,t,e))return!0}else if(!1===r)return!0;return!1}},{key:"trySouth",value:function(t,e,r){var s=t.$item.y,u=t.$item.rows;return t.$item.y=e.$item.y+e.$item.rows,t.$item.rows=u+s-t.$item.y,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.y=s,t.$item.rows=u,!1):(t.setSize(),this.addToPushed(t),this.push(e,r),!0)}},{key:"tryNorth",value:function(t,e,r){var s=t.$item.rows;return t.$item.rows=e.$item.y-t.$item.y,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.rows=s,!1):(t.setSize(),this.addToPushed(t),this.push(e,r),!0)}},{key:"tryEast",value:function(t,e,r){var s=t.$item.x,u=t.$item.cols;return t.$item.x=e.$item.x+e.$item.cols,t.$item.cols=u+s-t.$item.x,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.x=s,t.$item.cols=u,!1):(t.setSize(),this.addToPushed(t),this.push(e,r),!0)}},{key:"tryWest",value:function(t,e,r){var s=t.$item.cols;return t.$item.cols=e.$item.x-t.$item.x,this.gridster.checkCollisionTwoItems(t.$item,e.$item)||this.gridster.checkGridCollision(t.$item)?(t.$item.cols=s,!1):(t.setSize(),this.addToPushed(t),this.push(e,r),!0)}},{key:"addToPushed",value:function(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0,cols:t.item.cols||0,rows:t.item.rows||0},{x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows}]);else{var e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows})}}},{key:"removeFromPushed",value:function(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}},{key:"checkPushedItem",value:function(t,e){for(var u,l,c,p,y,r=this.pushedItemsPath[e],s=r.length-2;s>-1;s--)l=t.$item.x,c=t.$item.y,p=t.$item.cols,y=t.$item.rows,t.$item.x=(u=r[s]).x,t.$item.y=u.y,t.$item.cols=u.cols,t.$item.rows=u.rows,this.gridster.findItemWithItem(t.$item)?(t.$item.x=l,t.$item.y=c,t.$item.cols=p,t.$item.rows=y):(t.setSize(),r.splice(s+1,r.length-1-s));return r.length<2&&(this.removeFromPushed(e),!0)}}]),a}(),bH=function(){function a(n,t,e){var r=this;(0,h.Z)(this,a),this.zone=e,this.directionFunction=null,this.dragMove=function(s){if(null===r.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");s.stopPropagation(),s.preventDefault(),sa.checkTouchEvent(s),r.offsetTop=r.gridster.el.scrollTop-r.gridster.el.offsetTop,r.offsetLeft=r.gridster.el.scrollLeft-r.gridster.el.offsetLeft,wM(r.gridster,r.left,r.top,r.width,r.height,s,r.lastMouse,r.directionFunction,!0,r.resizeEventScrollType);var u=r.gridster.options.scale||1;r.directionFunction({clientX:r.originalClientX+(s.clientX-r.originalClientX)/u,clientY:r.originalClientY+(s.clientY-r.originalClientY)/u}),r.lastMouse.clientX=s.clientX,r.lastMouse.clientY=s.clientY,r.zone.run(function(){r.gridster.updateGrid()})},this.dragStop=function(s){s.stopPropagation(),s.preventDefault(),kM(),r.mousemove(),r.mouseup(),r.mouseleave(),r.cancelOnBlur(),r.touchmove(),r.touchend(),r.touchcancel(),r.gridster.dragInProgress=!1,r.gridster.updateGrid(),r.gridster.options.resizable&&r.gridster.options.resizable.stop?Promise.resolve(r.gridster.options.resizable.stop(r.gridsterItem.item,r.gridsterItem,s)).then(r.makeResize,r.cancelResize):r.makeResize(),setTimeout(function(){r.gridsterItem.renderer.removeClass(r.gridsterItem.el,"gridster-item-resizing"),r.gridster&&(r.gridster.movingItem=null,r.gridster.previewStyle())})},this.cancelResize=function(){r.gridsterItem.$item.cols=r.gridsterItem.item.cols||1,r.gridsterItem.$item.rows=r.gridsterItem.item.rows||1,r.gridsterItem.$item.x=r.gridsterItem.item.x||0,r.gridsterItem.$item.y=r.gridsterItem.item.y||0,r.gridsterItem.setSize(),r.push.restoreItems(),r.pushResize.restoreItems(),r.push.destroy(),r.push=null,r.pushResize.destroy(),r.pushResize=null},this.makeResize=function(){r.gridsterItem.setSize(),r.gridsterItem.checkItemChanges(r.gridsterItem.$item,r.gridsterItem.item),r.push.setPushedItems(),r.pushResize.setPushedItems(),r.push.destroy(),r.push=null,r.pushResize.destroy(),r.pushResize=null},this.handleNorth=function(s){if(r.top=s.clientY+r.offsetTop-r.diffTop,r.height=r.bottom-r.top,r.minHeight>r.height?(r.height=r.minHeight,r.top=r.bottom-r.minHeight):r.gridster.options.enableBoundaryControl&&(r.top=Math.max(0,r.top),r.height=r.bottom-r.top),r.newPosition=r.gridster.pixelsToPositionY(r.top+(r.gridster.options.pushItems?r.margin:0),Math.floor),r.gridsterItem.$item.y!==r.newPosition){if(r.itemBackup[1]=r.gridsterItem.$item.y,r.itemBackup[3]=r.gridsterItem.$item.rows,r.gridsterItem.$item.rows+=r.gridsterItem.$item.y-r.newPosition,r.gridsterItem.$item.y=r.newPosition,r.pushResize.pushItems(r.pushResize.fromSouth),r.push.pushItems(r.push.fromSouth,r.gridster.$options.disablePushOnResize),r.gridster.checkCollision(r.gridsterItem.$item))return r.gridsterItem.$item.y=r.itemBackup[1],r.gridsterItem.$item.rows=r.itemBackup[3],r.top=r.gridster.positionYToPixels(r.gridsterItem.$item.y),r.setItemTop(r.gridster.positionYToPixels(r.gridsterItem.$item.y)),void r.setItemHeight(r.gridster.positionYToPixels(r.gridsterItem.$item.rows)-r.margin);r.gridster.previewStyle(),r.pushResize.checkPushBack(),r.push.checkPushBack()}r.setItemTop(r.top),r.setItemHeight(r.height)},this.handleWest=function(s){if(r.left=(r.gridster.$options.dirType===Mi.RTL?r.originalClientX+(r.originalClientX-s.clientX):s.clientX)+r.offsetLeft-r.diffLeft,r.width=r.right-r.left,r.minWidth>r.width?(r.width=r.minWidth,r.left=r.right-r.minWidth):r.gridster.options.enableBoundaryControl&&(r.left=Math.max(0,r.left),r.width=r.right-r.left),r.newPosition=r.gridster.pixelsToPositionX(r.left+(r.gridster.options.pushItems?r.margin:0),Math.floor),r.gridsterItem.$item.x!==r.newPosition){if(r.itemBackup[0]=r.gridsterItem.$item.x,r.itemBackup[2]=r.gridsterItem.$item.cols,r.gridsterItem.$item.cols+=r.gridsterItem.$item.x-r.newPosition,r.gridsterItem.$item.x=r.newPosition,r.pushResize.pushItems(r.pushResize.fromEast),r.push.pushItems(r.push.fromEast,r.gridster.$options.disablePushOnResize),r.gridster.checkCollision(r.gridsterItem.$item))return r.gridsterItem.$item.x=r.itemBackup[0],r.gridsterItem.$item.cols=r.itemBackup[2],r.left=r.gridster.positionXToPixels(r.gridsterItem.$item.x),r.setItemLeft(r.gridster.positionXToPixels(r.gridsterItem.$item.x)),void r.setItemWidth(r.gridster.positionXToPixels(r.gridsterItem.$item.cols)-r.margin);r.gridster.previewStyle(),r.pushResize.checkPushBack(),r.push.checkPushBack()}r.setItemLeft(r.left),r.setItemWidth(r.width)},this.handleSouth=function(s){if(r.height=s.clientY+r.offsetTop-r.diffBottom-r.top,r.minHeight>r.height&&(r.height=r.minHeight),r.bottom=r.top+r.height,r.gridster.options.enableBoundaryControl){var u,l=null!==(u=r.outerMarginBottom)&&void 0!==u?u:r.margin,c=r.gridster.el.getBoundingClientRect();r.bottom=Math.min(r.bottom,c.bottom-c.top-2*l),r.height=r.bottom-r.top}if(r.newPosition=r.gridster.pixelsToPositionY(r.bottom+(r.gridster.options.pushItems?0:r.margin),Math.ceil),r.gridsterItem.$item.y+r.gridsterItem.$item.rows!==r.newPosition){if(r.itemBackup[3]=r.gridsterItem.$item.rows,r.gridsterItem.$item.rows=r.newPosition-r.gridsterItem.$item.y,r.pushResize.pushItems(r.pushResize.fromNorth),r.push.pushItems(r.push.fromNorth,r.gridster.$options.disablePushOnResize),r.gridster.checkCollision(r.gridsterItem.$item))return r.gridsterItem.$item.rows=r.itemBackup[3],void r.setItemHeight(r.gridster.positionYToPixels(r.gridsterItem.$item.rows)-r.margin);r.gridster.previewStyle(),r.pushResize.checkPushBack(),r.push.checkPushBack()}r.setItemHeight(r.height)},this.handleEast=function(s){if(r.width=(r.gridster.$options.dirType===Mi.RTL?r.originalClientX+(r.originalClientX-s.clientX):s.clientX)+r.offsetLeft-r.diffRight-r.left,r.minWidth>r.width&&(r.width=r.minWidth),r.right=r.left+r.width,r.gridster.options.enableBoundaryControl){var l,c=null!==(l=r.outerMarginRight)&&void 0!==l?l:r.margin,p=r.gridster.el.getBoundingClientRect();r.right=Math.min(r.right,p.right-p.left-2*c),r.width=r.right-r.left}if(r.newPosition=r.gridster.pixelsToPositionX(r.right+(r.gridster.options.pushItems?0:r.margin),Math.ceil),r.gridsterItem.$item.x+r.gridsterItem.$item.cols!==r.newPosition){if(r.itemBackup[2]=r.gridsterItem.$item.cols,r.gridsterItem.$item.cols=r.newPosition-r.gridsterItem.$item.x,r.pushResize.pushItems(r.pushResize.fromWest),r.push.pushItems(r.push.fromWest,r.gridster.$options.disablePushOnResize),r.gridster.checkCollision(r.gridsterItem.$item))return r.gridsterItem.$item.cols=r.itemBackup[2],void r.setItemWidth(r.gridster.positionXToPixels(r.gridsterItem.$item.cols)-r.margin);r.gridster.previewStyle(),r.pushResize.checkPushBack(),r.push.checkPushBack()}r.setItemWidth(r.width)},this.handleNorthWest=function(s){r.handleNorth(s),r.handleWest(s)},this.handleNorthEast=function(s){r.handleNorth(s),r.handleEast(s)},this.handleSouthWest=function(s){r.handleSouth(s),r.handleWest(s)},this.handleSouthEast=function(s){r.handleSouth(s),r.handleEast(s)},this.gridsterItem=n,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}return(0,v.Z)(a,[{key:"destroy",value:function(){var t;null===(t=this.gridster)||void 0===t||t.previewStyle(),this.gridster=this.gridsterItem=null}},{key:"dragStart",value:function(t){var e=this;if(!t.which||1===t.which){this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(function(){e.mousemove=e.gridsterItem.renderer.listen("document","mousemove",e.dragMove),e.touchmove=e.gridster.renderer.listen(e.gridster.el,"touchmove",e.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=t.clientX,this.lastMouse.clientY=t.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=t.clientX+this.offsetLeft-this.left,this.diffRight=t.clientX+this.offsetLeft-this.right,this.diffTop=t.clientY+this.offsetTop-this.top,this.diffBottom=t.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new bM(this.gridsterItem),this.pushResize=new xH(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();var r=t.target.classList;r.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):r.contains("handle-w")?this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):r.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):r.contains("handle-e")?this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):r.contains("handle-nw")?this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):r.contains("handle-ne")?this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):r.contains("handle-sw")?this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):r.contains("handle-se")&&(this.gridster.$options.dirType===Mi.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}}},{key:"toggle",value:function(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}},{key:"dragStartDelay",value:function(t){var e=this;if(sa.checkTouchEvent(t),this.gridster.$options.resizable.delayStart)var r=setTimeout(function(){e.dragStart(t),R()},this.gridster.$options.resizable.delayStart),s=this.zone.runOutsideAngular(function(){return{cancelMouse:e.gridsterItem.renderer.listen("document","mouseup",R),cancelMouseLeave:e.gridsterItem.renderer.listen("document","mouseleave",R),cancelOnBlur:e.gridsterItem.renderer.listen("window","blur",R),cancelTouchMove:e.gridsterItem.renderer.listen("document","touchmove",D),cancelTouchEnd:e.gridsterItem.renderer.listen("document","touchend",R),cancelTouchCancel:e.gridsterItem.renderer.listen("document","touchcancel",R)}}),u=s.cancelMouse,l=s.cancelMouseLeave,c=s.cancelOnBlur,p=s.cancelTouchMove,y=s.cancelTouchEnd,E=s.cancelTouchCancel;else this.dragStart(t);function D(B){sa.checkTouchEvent(B),(Math.abs(B.clientX-t.clientX)>9||Math.abs(B.clientY-t.clientY)>9)&&R()}function R(){clearTimeout(r),c(),u(),l(),p(),y(),E()}}},{key:"setItemTop",value:function(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,t)}},{key:"setItemLeft",value:function(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,t,this.top)}},{key:"setItemHeight",value:function(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",t+"px")}},{key:"setItemWidth",value:function(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",t+"px")}}]),a}(),CH=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.renderer=r,this.zone=s,this.itemInit=new o.EventEmitter,this.itemChange=new o.EventEmitter,this.itemResize=new o.EventEmitter,this.el=t.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=e,this.drag=new _H(this,e,this.zone),this.resize=new bH(this,e,this.zone)}return(0,v.Z)(n,[{key:"zIndex",get:function(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}},{key:"ngOnInit",value:function(){this.gridster.addItem(this)}},{key:"ngOnChanges",value:function(e){e.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),e.item&&e.item.previousValue&&this.setSize()}},{key:"updateOptions",value:function(){this.$item=sa.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}},{key:"ngOnDestroy",value:function(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}},{key:"setSize",value:function(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}},{key:"updateItemSize",value:function(){var r=this.$item.x*this.gridster.curColWidth,s=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,u=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=r,!this.init&&s>0&&u>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(s!==this.width||u!==this.height)&&(this.width=s,this.height=u,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}},{key:"itemChanged",value:function(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}},{key:"checkItemChanges",value:function(e,r){e.rows===r.rows&&e.cols===r.cols&&e.x===r.x&&e.y===r.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=r.x||0,this.$item.y=r.y||0,this.$item.cols=r.cols||1,this.$item.rows=r.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}},{key:"canBeDragged",value:function(){var e=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.dragEnabled?e:this.$item.dragEnabled)}},{key:"canBeResized",value:function(){var e=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&e&&(void 0===this.$item.resizeEnabled?e:this.$item.resizeEnabled)}},{key:"getResizableHandles",value:function(){var e=this.gridster.$options.resizable.handles,r=this.$item.resizableHandles;return void 0===r?e:(0,ue.Z)((0,ue.Z)({},e),r)}},{key:"bringToFront",value:function(e){if(!(e&&e<=0)){var r=this.getLayerIndex(),s=this.gridster.$options.maxLayerIndex;if(r<s){var u=e?r+e:s;this.item.layerIndex=this.$item.layerIndex=u>s?s:u}}}},{key:"sendToBack",value:function(e){if(!(e&&e<=0)){var r=this.getLayerIndex();if(r>0){var s=e?r-e:0;this.item.layerIndex=this.$item.layerIndex=s<0?0:s}}}},{key:"getLayerIndex",value:function(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(dR),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.NgZone))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(t,e){2&t&&o.\u0275\u0275styleProp("z-index",e.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[o.\u0275\u0275NgOnChangesFeature,o.\u0275\u0275StandaloneFeature],ngContentSelectors:xM,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275projection(0),o.\u0275\u0275template(1,iH,1,0,"div",0),o.\u0275\u0275template(2,oH,1,0,"div",1),o.\u0275\u0275template(3,aH,1,0,"div",2),o.\u0275\u0275template(4,sH,1,0,"div",3),o.\u0275\u0275template(5,uH,1,0,"div",4),o.\u0275\u0275template(6,lH,1,0,"div",5),o.\u0275\u0275template(7,cH,1,0,"div",6),o.\u0275\u0275template(8,dH,1,0,"div",7)),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.s)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.e)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.n)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.w)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.se)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.ne)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.sw)&&e.resize.resizeEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",(null==e.resize.resizableHandles?null:e.resize.resizableHandles.nw)&&e.resize.resizeEnabled))},dependencies:[w.NgIf],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2}),a}(),DM=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}(),d0=S(9941),Go=S(3549),Ql=S(8158),Rf=S(9101),wH=S(445),Tf=S(6380),V2=["innerGridItem"];function SH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}var Jl=function(n){return{i:n}};function EH(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",2)(1,"p",4),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",5),o.\u0275\u0275template(4,SH,1,0,"ng-container",6),o.\u0275\u0275elementEnd()()),2&a){var t=n.index,e=o.\u0275\u0275nextContext().index,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("fxFlex",r.dashboard[r.itemIndex(e,t)].cols),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate3("row: ",e," | column: ",t," | size: ",r.dashboard[r.itemIndex(e,t)].cols,""),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngStyle",r.gridItemInnerStyles(e,t)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",r.innerGridItemTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(7,Jl,r.itemIndex(e,t)))}}var kH=function(){return{height:"100%"}};function PH(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",2)(1,"div",3),o.\u0275\u0275template(2,EH,5,9,"div",1),o.\u0275\u0275elementEnd()()),2&a){var t=n.index,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("fxFlex",e.rowFlex(t)),o.\u0275\u0275advance(1),o.\u0275\u0275property("fxLayout",e.rowDirection(t))("ngStyle",o.\u0275\u0275pureFunction0(4,kH)),o.\u0275\u0275advance(1),o.\u0275\u0275property("for",e.totalColumns(t))}}var hR=["gridItemActions"],mR=["extraActions"],IM=["mainControls"],OM=["itemHeader"];function AH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function RH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function TH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function DH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"gridster-item",8)(1,"div",9)(2,"div",10,11),o.\u0275\u0275template(4,RH,1,0,"ng-container",12),o.\u0275\u0275elementStart(5,"button",13),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.removeItem(c))})("touchstart",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.removeItem(c))}),o.\u0275\u0275text(6,"Delete"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(7,"div",14),o.\u0275\u0275template(8,TH,1,0,"ng-container",12),o.\u0275\u0275elementEnd()()()}if(2&a){var e=n.$implicit,r=n.index,s=o.\u0275\u0275nextContext();o.\u0275\u0275property("item",e),o.\u0275\u0275advance(2),o.\u0275\u0275property("hidden",!s.displayItemHeader),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",s.gridItemActionsTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(6,Jl,r)),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngTemplateOutlet",s.innerGridItemTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(8,Jl,r))}}function IH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function OH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function FH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}var FM=function(){return{i:0}};function MH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function NH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function BH(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function ZH(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"as-split-area",15)(1,"div",16)(2,"div",17,18),o.\u0275\u0275template(4,NH,1,0,"ng-container",19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",20),o.\u0275\u0275template(6,BH,1,0,"ng-container",19),o.\u0275\u0275elementEnd()()()),2&a){var t=n.index,e=o.\u0275\u0275nextContext().index,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("size",r.itemSize(e,t)),o.\u0275\u0275advance(2),o.\u0275\u0275property("hidden",!r.displayItemHeader),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",r.gridItemActionsTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(6,Jl,r.itemIndex(e,t))),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",r.innerGridItemTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(8,Jl,r.itemIndex(e,t)))}}function jH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"button",8)(3,"mat-icon"),o.\u0275\u0275text(4,"menu"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(5,"mat-menu",null,9)(7,"button",10),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.addColumn(c))}),o.\u0275\u0275text(8,"Add Column"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"button",10),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.layoutSettings("row",c))}),o.\u0275\u0275text(10,"Layout Settings"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"button",11),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.removeRow(c))}),o.\u0275\u0275text(12,"Delete"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(13,"div",12)(14,"as-split",13),o.\u0275\u0275listener("dragEnd",function(l){var p=o.\u0275\u0275restoreView(t).index,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.dragEnd(p,l))}),o.\u0275\u0275template(15,ZH,7,10,"as-split-area",14),o.\u0275\u0275elementEnd()()()}if(2&a){var e=n.index,r=o.\u0275\u0275reference(6),s=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("matMenuTriggerFor",r),o.\u0275\u0275advance(13),o.\u0275\u0275property("for",s.totalColumns(e))}}function $H(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",6),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.login())}),o.\u0275\u0275text(1,"login"),o.\u0275\u0275elementEnd()}}var LH=function(n){return[n,"manage"]};function UH(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",7)(1,"a",8),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()),2&a){var t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(2,LH,t.path)),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.path)}}var zH=["*"];function VH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",15),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.submit())}),o.\u0275\u0275text(2,"Save"),o.\u0275\u0275elementEnd()()}}function GH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPropertiesClick())}),o.\u0275\u0275text(2,"Properties"),o.\u0275\u0275elementEnd()()}}function HH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onDeleteClick())}),o.\u0275\u0275text(2,"Delete"),o.\u0275\u0275elementEnd()()}}function qH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onRulesClick())}),o.\u0275\u0275text(2,"Rules"),o.\u0275\u0275elementEnd()()}}function KH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",17),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPersistenceClick())}),o.\u0275\u0275text(2,"Persistence"),o.\u0275\u0275elementEnd()()}}function WH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",17),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onInteractionsClick())}),o.\u0275\u0275text(2,"Interactions"),o.\u0275\u0275elementEnd()()}}function XH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",18),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.applyStyle(0))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.applyStyle(0))}),o.\u0275\u0275text(2,"Apply Style"),o.\u0275\u0275elementEnd()()}}function QH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",18),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.removeStyle(0))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.removeStyle(0))}),o.\u0275\u0275text(2,"Remove Style"),o.\u0275\u0275elementEnd()()}}function JH(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",35),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2);var r=o.\u0275\u0275reference(2);return o.\u0275\u0275resetView(r.toggle())}),o.\u0275\u0275elementStart(1,"mat-icon"),o.\u0275\u0275text(2,"menu"),o.\u0275\u0275elementEnd()()}}function YH(a,n){1&a&&(o.\u0275\u0275elementStart(0,"mat-icon"),o.\u0275\u0275text(1,"arrow_drop_down"),o.\u0275\u0275elementEnd())}function eq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"button",36),o.\u0275\u0275template(1,YH,2,0,"mat-icon",4),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(2),e=o.\u0275\u0275reference(29);o.\u0275\u0275property("matMenuTriggerFor",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.nested)}}function tq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function nq(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,tq,1,0,"ng-container",23),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t.contextsMenuTpl)}}function rq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",37),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.editor.panelStyleTitle(0))}}function iq(a,n){1&a&&o.\u0275\u0275element(0,"span",38)}function oq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function aq(a,n){1&a&&(o.\u0275\u0275elementStart(0,"div",39),o.\u0275\u0275text(1,"Quell"),o.\u0275\u0275elementEnd())}function sq(a,n){if(1&a&&(o.\u0275\u0275template(0,JH,3,0,"button",19),o.\u0275\u0275template(1,eq,2,2,"button",20),o.\u0275\u0275elementStart(2,"div"),o.\u0275\u0275template(3,nq,2,1,"ng-container",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,rq,2,1,"div",21),o.\u0275\u0275template(5,iq,1,0,"span",22),o.\u0275\u0275template(6,oq,1,0,"ng-container",23),o.\u0275\u0275elementStart(7,"div",24)(8,"mat-form-field")(9,"mat-select",25)(10,"mat-option",26),o.\u0275\u0275text(11,"page"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"mat-option",27),o.\u0275\u0275text(13,"form"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"mat-option",28),o.\u0275\u0275text(15,"json"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(16,"div",29)(17,"mat-form-field")(18,"mat-select",30)(19,"mat-option",31),o.\u0275\u0275text(20,"grid"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(21,"mat-option",32),o.\u0275\u0275text(22,"gridless"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(23,"mat-option",33),o.\u0275\u0275text(24,"split"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275template(25,aq,2,0,"div",34)),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",!t.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.nested),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",t.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)&&t.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t.extraActionsAreaTmpl),o.\u0275\u0275advance(19),o.\u0275\u0275property("ngIf",!t.nested)}}function uq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",37),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.editor.panelStyleTitle(0))}}function lq(a,n){if(1&a&&o.\u0275\u0275template(0,uq,2,1,"div",21),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",t.editor.hasPanelStyle(0)&&!t.nested)}}function cq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}var gR=function(n,t){return{i:n,j:t}};function dq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",43),o.\u0275\u0275template(1,cq,1,0,"ng-container",44),o.\u0275\u0275elementEnd()),2&a){var t=n.index,e=o.\u0275\u0275nextContext().i,r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",r.editablePaneTpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(2,gR,e,t))}}function fq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone",40),o.\u0275\u0275listener("change",function(u){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.onFileChange(u,c))})("cdkDropListDropped",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.editor.onDrop(u))}),o.\u0275\u0275elementStart(1,"div",null,41),o.\u0275\u0275template(3,dq,2,5,"div",42),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.i,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",r.editor.panelPanes(e).controls)}}function pq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",15),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.submit())}),o.\u0275\u0275text(1,"Save"),o.\u0275\u0275elementEnd()}}function hq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPropertiesClick())}),o.\u0275\u0275text(1,"Properties"),o.\u0275\u0275elementEnd()}}function mq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onDeleteClick())}),o.\u0275\u0275text(1,"Delete"),o.\u0275\u0275elementEnd()}}function gq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onRulesClick())}),o.\u0275\u0275text(1,"Rules"),o.\u0275\u0275elementEnd()}}function vq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",17),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPersistenceClick())}),o.\u0275\u0275text(1,"Persistence"),o.\u0275\u0275elementEnd()}}function yq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",17),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onInteractionsClick())}),o.\u0275\u0275text(1,"Interactions"),o.\u0275\u0275elementEnd()}}function _q(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",18),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.applyStyle(0))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.applyStyle(0))}),o.\u0275\u0275text(1,"Apply Style"),o.\u0275\u0275elementEnd()}}function xq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",18),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.removeStyle(0))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.removeStyle(0))}),o.\u0275\u0275text(1,"Remove Style"),o.\u0275\u0275elementEnd()}}function bq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function Cq(a,n){if(1&a&&o.\u0275\u0275template(0,bq,1,0,"ng-container",2),2&a){var t=n.i,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Jl,t))}}function wq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.submit())}),o.\u0275\u0275text(2,"Save"),o.\u0275\u0275elementEnd()()}}function Sq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",17),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onRulesClick())}),o.\u0275\u0275text(2,"Rules"),o.\u0275\u0275elementEnd()()}}function Eq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPersistenceClick())}),o.\u0275\u0275text(2,"Persistence"),o.\u0275\u0275elementEnd()()}}function kq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onInteractionsClick())}),o.\u0275\u0275text(2,"Interactions"),o.\u0275\u0275elementEnd()()}}function Pq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"button",17),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onDeleteClick())}),o.\u0275\u0275text(2,"Delete"),o.\u0275\u0275elementEnd()()}}function Aq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",32),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext(2);var r=o.\u0275\u0275reference(2);return o.\u0275\u0275resetView(r.toggle())}),o.\u0275\u0275elementStart(1,"mat-icon"),o.\u0275\u0275text(2,"menu"),o.\u0275\u0275elementEnd()()}}function Rq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"button",33)(1,"mat-icon"),o.\u0275\u0275text(2,"menu"),o.\u0275\u0275elementEnd()()),2&a){o.\u0275\u0275nextContext(2);var t=o.\u0275\u0275reference(30);o.\u0275\u0275property("matMenuTriggerFor",t)}}function Tq(a,n){1&a&&o.\u0275\u0275element(0,"span",34)}function Dq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function Iq(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Dq,1,0,"ng-container",30),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t.contextsMenuTpl)}}function Oq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function Fq(a,n){1&a&&(o.\u0275\u0275elementStart(0,"div",35),o.\u0275\u0275text(1,"Quell"),o.\u0275\u0275elementEnd())}function Mq(a,n){if(1&a&&(o.\u0275\u0275template(0,Aq,3,0,"button",18),o.\u0275\u0275template(1,Rq,3,1,"button",19),o.\u0275\u0275template(2,Tq,1,0,"span",20),o.\u0275\u0275elementStart(3,"div"),o.\u0275\u0275template(4,Iq,2,1,"ng-container",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",21)(6,"mat-form-field")(7,"mat-select",22)(8,"mat-option",23),o.\u0275\u0275text(9,"page"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"mat-option",24),o.\u0275\u0275text(11,"form"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"mat-option",25),o.\u0275\u0275text(13,"json"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(14,"div",26)(15,"mat-form-field")(16,"mat-select",27)(17,"mat-option",28),o.\u0275\u0275text(18,"gridless"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(19,"mat-option",29),o.\u0275\u0275text(20,"split"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275template(21,Oq,1,0,"ng-container",30),o.\u0275\u0275template(22,Fq,2,0,"div",31)),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",!t.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.nested),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",t.savable),o.\u0275\u0275advance(17),o.\u0275\u0275property("ngTemplateOutlet",t.extraActionsAreaTmpl),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.nested)}}function Nq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",42),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext().i,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.editor.applyStyle(r))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext().i,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.editor.applyStyle(r))}),o.\u0275\u0275text(1,"Apply Style"),o.\u0275\u0275elementEnd()}}function Bq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",42),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext().i,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.editor.removeStyle(r))})("touchstart",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext().i,s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.editor.removeStyle(r))}),o.\u0275\u0275text(1,"Remove Style"),o.\u0275\u0275elementEnd()}}function Zq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",43),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().i,e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.editor.panelStyleTitle(t))}}function jq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",36)(1,"mat-icon"),o.\u0275\u0275text(2,"arrow_drop_down"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(3,"mat-menu",null,37)(5,"button",5),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).i;o.\u0275\u0275nextContext();var p=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(p.layoutSettings("column",c))}),o.\u0275\u0275text(6,"Layout Settings"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"button",38),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.addContent(c))})("touchstart",function(){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.addContent(c))}),o.\u0275\u0275text(8,"Add Content"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"button",38),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.editPanelProps(c))})("touchstart",function(){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.editPanelProps(c))}),o.\u0275\u0275text(10,"Props"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,Nq,2,0,"button",39),o.\u0275\u0275template(12,Bq,2,0,"button",39),o.\u0275\u0275elementStart(13,"button",40),o.\u0275\u0275listener("mousedown",function(){var c=o.\u0275\u0275restoreView(t).i;o.\u0275\u0275nextContext();var p=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(p.removeColumn2(c))})("touchstart",function(){var c=o.\u0275\u0275restoreView(t).i;o.\u0275\u0275nextContext();var p=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(p.removeColumn2(c))}),o.\u0275\u0275text(14,"Delete"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(15,Zq,2,1,"div",41)}if(2&a){var e=n.i,r=o.\u0275\u0275reference(4),s=o.\u0275\u0275nextContext();o.\u0275\u0275property("matMenuTriggerFor",r),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngIf",!s.editor.hasPanelStyle(e)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e)),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",s.editor.hasPanelStyle(e))}}function $q(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function Lq(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",47),o.\u0275\u0275template(1,$q,1,0,"ng-container",48),o.\u0275\u0275elementEnd()),2&a){var t=n.index,e=o.\u0275\u0275nextContext().i,r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",r.editablePaneTpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction2(2,gR,e,t))}}function Uq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone",44),o.\u0275\u0275listener("change",function(u){var c=o.\u0275\u0275restoreView(t).i,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.editor.onFileChange(u,c))})("cdkDropListDropped",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.editor.onDrop(u))}),o.\u0275\u0275elementStart(1,"div",null,45),o.\u0275\u0275template(3,Lq,2,5,"div",46),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.i,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("cdkDropListData",e)("multiple",!0)("disableClick",!0),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",r.editor.panelPanes(e).controls)}}function zq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",16),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.submit())}),o.\u0275\u0275text(1,"Save"),o.\u0275\u0275elementEnd()}}function Vq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",17),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onRulesClick())}),o.\u0275\u0275text(1,"Rules"),o.\u0275\u0275elementEnd()}}function Gq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onPersistenceClick())}),o.\u0275\u0275text(1,"Persistence"),o.\u0275\u0275elementEnd()}}function Hq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onInteractionsClick())}),o.\u0275\u0275text(1,"Interactions"),o.\u0275\u0275elementEnd()}}function qq(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",17),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.editor.onDeleteClick())}),o.\u0275\u0275text(1,"Delete"),o.\u0275\u0275elementEnd()}}function Kq(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function Wq(a,n){if(1&a&&o.\u0275\u0275template(0,Kq,1,0,"ng-container",2),2&a){var t=n.i,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngTemplateOutlet",e.renderPanelTpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Jl,t))}}var lK=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeMatcher=t,this.dashboard=[],this.layoutSetting=new Pr,this.rowSettings=[],this.columnSettings=[]}return(0,v.Z)(n,[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(e,r){return r.y>e?r.y:e},0)+1}},{key:"direction",get:function(){var e=this.attributeMatcher.getComputedValue("direction",this.layoutSetting?this.layoutSetting.settings:[]);return!e||"column"!==e.trim()&&"row"!==e.trim()?"column":e}},{key:"ngOnInit",value:function(){console.log(this.dashboard)}},{key:"itemIndex",value:function(e,r){return this.dashboard.findIndex(function(s){return s.y===e&&s.x===r})}},{key:"totalColumns",value:function(e){return this.dashboard.reduce(function(r,s){return s.y===e?r+1:r},0)}},{key:"rowDirection",value:function(e){var r=this.attributeMatcher.getComputedValue("direction",this.rowSettings&&this.rowSettings[e]?this.rowSettings[e].settings:[]);return!r||"column"!==r.trim()&&"row"!==r.trim()?"row":r}},{key:"rowFlex",value:function(e){var r=this;return["flexGrow","flexShrink","flexBasis"].map(function(c){return r.attributeMatcher.getComputedValue(c,r.rowSettings&&r.rowSettings[e]?r.rowSettings[e].settings:[])}).map(function(c){return null!=c&&""!==c&&""!==c.trim()?"".concat(c.trim()):""}).join(" ")}},{key:"gridItemInnerStyles",value:function(e,r){var s=this.itemIndex(e,r);return{height:this.calculateHeight(this.attributeMatcher.getComputedValue("height",this.columnSettings&&this.columnSettings[s]?this.columnSettings[s].settings:[]))}}},{key:"calculateHeight",value:function(e){return null!=e?e.trim():"auto"}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeMatcherService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-flex-layout"]],contentQueries:function(t,e,r){var s;1&t&&o.\u0275\u0275contentQuery(r,V2,5),2&t&&o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first)},inputs:{dashboard:"dashboard",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},decls:2,vars:2,consts:[["fxFill","",3,"fxLayout"],[3,"fxFlex",4,"for"],[3,"fxFlex"],[3,"fxLayout","ngStyle"],["hidden",""],[1,"grid-item-inner",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,PH,3,5,"div",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("fxLayout",e.direction),o.\u0275\u0275advance(1),o.\u0275\u0275property("for",e.totalRows))},dependencies:[w.NgTemplateOutlet,w.NgStyle,Ji,hs,Gs,ip,zn.ForDirective]}),a}(),MM=function(){var a=function(){function n(){(0,h.Z)(this,n),this.itemAdded=new o.EventEmitter,this.itemRemoved=new o.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.itemHeights=[],this.rows=0}return(0,v.Z)(n,[{key:"grid",get:function(){return this.dashboard}},{key:"cumulativeHeight",get:function(){var e=this,r=[];return this.heightsMatrix.forEach(function(s){r.push(e.itemHeights.reduce(function(u,l){return l>u?l:u}))}),r.reduce(function(s,u){return s+u})}},{key:"heightsMatrix",get:function(){var e=this;return this.dashboard.reduce(function(r,s,u){return r[s.y]=void 0!==r[s.y]?[].concat((0,_.Z)(r[s.y]),[e.itemHeights[u]]):[e.itemHeights[u]],r},[])}},{key:"ngOnInit",value:function(){}},{key:"removeItem",value:function(e){this.dashboard.splice(e,1),this.itemHeights.splice(e,1),this.itemRemoved.emit(e)}},{key:"addColumn",value:function(){console.log("add column grid"),this.dashboard.push({cols:1,rows:1,y:0,x:this.dashboard.length}),this.itemAdded.emit()}},{key:"addRow",value:function(){this.dashboard.push({cols:1,rows:1,y:this.rows++,x:0}),this.itemAdded.emit()}},{key:"setItemContentHeight",value:function(e,r){this.itemHeights[e]=r+(this.displayItemHeader?this.itemHeaderHeight(e):0),this.refreshGridHeight()}},{key:"refreshGridHeight",value:function(){this.gridHeight=this.cumulativeHeight+16*this.gridster.rows}},{key:"itemHeaderHeight",value:function(e){return this.itemHeaders.find(function(r,s){return s===e}).nativeElement.offsetHeight}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-grid-layout"]],contentQueries:function(t,e,r){var s;1&t&&(o.\u0275\u0275contentQuery(r,hR,5),o.\u0275\u0275contentQuery(r,V2,5),o.\u0275\u0275contentQuery(r,mR,5)),2&t&&(o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},viewQuery:function(t,e){var r;1&t&&(o.\u0275\u0275viewQuery(dR,5),o.\u0275\u0275viewQuery(IM,5),o.\u0275\u0275viewQuery(OM,5)),2&t&&(o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.gridster=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.mainControls=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.itemHeaders=r))},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",options:"options"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved"},decls:11,vars:6,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],["type","button",3,"mousedown"],[4,"ngTemplateOutlet"],[1,"layout-inner"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"delete",3,"mousedown","touchstart"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2)(3,"button",3),o.\u0275\u0275listener("mousedown",function(){return e.addColumn()}),o.\u0275\u0275text(4,"Add Column"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"button",3),o.\u0275\u0275listener("mousedown",function(){return e.addRow()}),o.\u0275\u0275text(6,"Add Row"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,AH,1,0,"ng-container",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",5)(9,"gridster",6),o.\u0275\u0275template(10,DH,9,10,"gridster-item",7),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("hidden",!e.displayMainControls),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),o.\u0275\u0275advance(1),o.\u0275\u0275styleProp("height",e.gridHeight,"px"),o.\u0275\u0275advance(1),o.\u0275\u0275property("options",e.options),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.dashboard))},dependencies:[w.NgForOf,w.NgTemplateOutlet,Ji,hs,Gs,dR,CH],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{background-color:#ccc;padding:.5em}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{background-color:#fff;padding:.5em}"]}),a}(),NM=function(){var a=function(){function n(){(0,h.Z)(this,n),this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-gridless-layout"]],contentQueries:function(t,e,r){var s;1&t&&(o.\u0275\u0275contentQuery(r,hR,5),o.\u0275\u0275contentQuery(r,V2,5),o.\u0275\u0275contentQuery(r,mR,5)),2&t&&(o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},hostVars:2,hostBindings:function(t,e){2&t&&o.\u0275\u0275classProp("is-nested",e.nested)},inputs:{displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested"},decls:11,vars:9,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["fxLayout","column","fxFill",""],["fxFlex","0 1 auto",1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2),o.\u0275\u0275template(3,IH,1,0,"ng-container",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",4)(5,"div",5)(6,"div",6,7),o.\u0275\u0275template(8,OH,1,0,"ng-container",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",9),o.\u0275\u0275template(10,FH,1,0,"ng-container",8),o.\u0275\u0275elementEnd()()()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("hidden",!e.displayMainControls),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),o.\u0275\u0275advance(3),o.\u0275\u0275property("hidden",!e.displayItemHeader),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",e.gridItemActionsTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction0(7,FM)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",e.innerGridItemTmpl)("ngTemplateOutletContext",o.\u0275\u0275pureFunction0(8,FM)))},dependencies:[w.NgTemplateOutlet,Ji,hs,Gs],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline;border-bottom:1px solid #ccc;margin-bottom:.25em}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}"]}),a}(),cK=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.fb=t,this.settingValues=[],this.layoutForm=this.fb.group({settings:this.fb.control("")}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"attributes",get:function(){return this.layout.settings.has(this.type)?this.layout.settings.get(this.type):[]}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.layoutForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.layoutForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.layoutForm.disable():this.layoutForm.enable()}},{key:"validate",value:function(e){return this.layoutForm.valid?null:{invalidForm:{valid:!1,message:"layout is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-layout-form"]],inputs:{layout:"layout",type:"type",settingValues:"settingValues"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"classifieds-ui-attributes-builder",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.layoutForm),o.\u0275\u0275advance(1),o.\u0275\u0275property("attributes",e.attributes)("attributeValues",e.settingValues))},dependencies:[K.JJ,K.JL,K.sg,K.u,Ut.AttributesBuilderComponent]}),a}(),dK=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.valueComputerService=r,this.fb=s,this.settingValues=[],this.dialogForm=this.fb.group({layout:this.fb.control("")})}return(0,v.Z)(n,[{key:"attrValues",get:function(){return""===this.dialogForm.get("layout").value?this.settingValues:this.dialogForm.get("layout").value.settings.map(function(e){return new Ut.AttributeValue(e)})}},{key:"ngOnInit",value:function(){this.layout=this.data.layout,this.type=this.data.type,this.settingValues=this.data.settingValues}},{key:"submit",value:function(){console.log(this.attrValues);var e=this.valueComputerService.compute(this.attrValues);this.dialogRef.close(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(Ut.ValueComputerService),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-layout-dialog"]],decls:6,vars:5,consts:[[1,"layout-form",3,"formGroup","ngSubmit"],["formControlName","layout",3,"layout","type","settingValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content"),o.\u0275\u0275element(2,"druid-layout-form",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),o.\u0275\u0275text(5,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.dialogForm),o.\u0275\u0275advance(2),o.\u0275\u0275property("layout",e.layout)("type",e.type)("settingValues",e.settingValues),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.dialogForm.valid))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,cK]}),a}(),G2=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){return(0,h.Z)(this,e),t.call(this,r,s)}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"layout"}))}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),BM=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.el=t,this.dialog=e,this.lpm=r,this.itemAdded=new o.EventEmitter,this.itemRemoved=new o.EventEmitter,this.dashboard=[],this.displayMainControls=!0,this.displayItemHeader=!0,this.nested=!1,this.layoutSettingChange=new o.EventEmitter,this.rowSettingsChange=new o.EventEmitter,this.columnSettingsChange=new o.EventEmitter,this.rows=0,this.sizes=[]}return(0,v.Z)(n,[{key:"totalRows",get:function(){return 0==this.dashboard.length?0:this.dashboard.reduce(function(e,r){return r.y>e?r.y:e},0)+1}},{key:"ngOnInit",value:function(){if(0===this.dashboard.length)this.addRow();else{for(var e=0;e<this.totalRows;e++){var r=this.totalColumns(e);this.sizes.push([]);for(var s=0;s<r;s++){var u=this.itemIndex(e,s);this.sizes[e].push(this.dashboard[u].cols)}}if(this.totalRows!==this.rowSettings.length&&0===this.rowSettings.length){for(var l=[],c=0;c<this.totalRows;c++)l.push(new Pr);this.rowSettings=l,this.rowSettingsChange.emit(this.rowSettings)}for(var p=0,y=0;y<this.totalRows;y++)p+=this.totalColumns(y);if(p!==this.columnSettings.length&&0===this.columnSettings.length){for(var E=[],D=0;D<this.totalRows;D++)for(var R=0;R<this.totalColumns(D);R++)E.push(new Pr);this.columnSettings=E,this.columnSettingsChange.emit(this.columnSettings)}}}},{key:"removeRow",value:function(e){for(var r=this.dashboard.reduce(function(p,y,E){return[].concat((0,_.Z)(p),(0,_.Z)(y.y===e?[E]:[]))},[]),s=r.length,u=0,l=0;l<s;l++)this.dashboard.splice(r[l]-u,1),this.rowSettings.splice(e,1),u++,this.itemRemoved.emit(r[l]),this.rowSettingsChange.emit(this.rowSettings);s=this.dashboard.length;for(var c=0;c<s;c++)this.dashboard[c].y>e&&(this.dashboard[c].y=this.dashboard[c].y-1)}},{key:"removeColumn",value:function(e,r){var s=this.itemIndex(e,r);this.dashboard.splice(s,1),this.itemRemoved.emit(s)}},{key:"removeColumn2",value:function(e){this.dashboard.splice(e,1),this.itemRemoved.emit(e)}},{key:"addRow",value:function(){this.sizes.push([]),this.rowSettings=[].concat((0,_.Z)(this.rowSettings.map(function(e){return new Pr(e)})),[new Pr]),this.addColumn(0===this.totalRows?0:this.totalRows),this.rowSettingsChange.emit(this.rowSettings)}},{key:"addColumn",value:function(e){var r=this,s=this.totalColumns(e),u=0===s?100:100/(s+1);this.sizes[e][s]=u,this.dashboard.push({cols:u,rows:1,y:e,x:s}),this.itemAdded.emit(),setTimeout(function(){return r.resetGutter()})}},{key:"dragEnd",value:function(e,r){var s=r.sizes,u=this.dashboard.length,l=0;this.sizes[e]=(0,_.Z)(s);for(var c=this.dashboard.map(function(y){return(0,ue.Z)({},y)}),p=0;p<u;p++)this.dashboard[p].y===e&&(c[p].cols=s[l],l+=1);this.dashboard=c}},{key:"itemIndex",value:function(e,r){return this.dashboard.findIndex(function(s){return s.y===e&&s.x===r})}},{key:"itemSize",value:function(e,r){return this.dashboard[this.itemIndex(e,r)].cols}},{key:"totalColumns",value:function(e){return this.dashboard.reduce(function(r,s){return s.y===e?r+1:r},0)}},{key:"resetGutter",value:function(){this.el.nativeElement.querySelectorAll(".as-split-gutter").forEach(function(e){e.style.height="auto"})}},{key:"settingValues",value:function(e,r){switch(e){case"column":return this.columnSettings[r].settings;case"row":return this.rowSettings[r].settings;case"global":return this.layoutSetting.settings;default:return[]}}},{key:"layoutSettings",value:function(e,r){var s=this;this.lpm.getPlugin("split").pipe((0,ct.w)(function(u){return s.dialog.open(dK,{data:{layout:u,type:e,settingValues:s.settingValues(e,r)}}).afterClosed()}),(0,sn.h)(function(u){return!!u})).subscribe(function(u){switch(e){case"column":s.columnSettings=s.columnSettings.map(function(l,c){return new Pr(c===r?{settings:u.map(function(p){return new Ut.AttributeValue(p)})}:l)}),console.log(s.columnSettings),s.columnSettingsChange.emit(s.columnSettings);break;case"row":s.rowSettings=s.rowSettings.map(function(l,c){return new Pr(c===r?{settings:u.map(function(p){return new Ut.AttributeValue(p)})}:l)}),console.log(s.rowSettings),s.rowSettingsChange.emit(s.rowSettings);break;case"global":s.layoutSetting=new Pr({settings:u.map(function(l){return new Ut.AttributeValue(l)})}),s.layoutSettingChange.emit(s.layoutSetting)}})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(G2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-split-layout"]],contentQueries:function(t,e,r){var s;1&t&&(o.\u0275\u0275contentQuery(r,hR,5),o.\u0275\u0275contentQuery(r,V2,5),o.\u0275\u0275contentQuery(r,mR,5)),2&t&&(o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.gridItemActionsTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.innerGridItemTmpl=s.first),o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.extraActionsTmpl=s.first))},viewQuery:function(t,e){var r;1&t&&(o.\u0275\u0275viewQuery(IM,5),o.\u0275\u0275viewQuery(OM,5),o.\u0275\u0275viewQuery(V_,5)),2&t&&(o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.mainControls=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.itemHeaders=r),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.splitAreas=r))},hostVars:2,hostBindings:function(t,e){2&t&&o.\u0275\u0275classProp("is-nested",e.nested)},inputs:{dashboard:"dashboard",displayMainControls:"displayMainControls",displayItemHeader:"displayItemHeader",nested:"nested",layoutSetting:"layoutSetting",rowSettings:"rowSettings",columnSettings:"columnSettings"},outputs:{itemAdded:"itemAdded",itemRemoved:"itemRemoved",layoutSettingChange:"layoutSettingChange",rowSettingsChange:"rowSettingsChange",columnSettingsChange:"columnSettingsChange"},decls:6,vars:3,consts:[[1,"layout-wrapper"],[1,"main-controls",3,"hidden"],["mainControls",""],[4,"ngTemplateOutlet"],[1,"layout-inner"],["class","rows-wrapper",4,"for"],[1,"rows-wrapper"],[1,"row-controls"],["mat-button","","type","button",3,"matMenuTriggerFor"],["rowActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",1,"remove-row",3,"mousedown"],[1,"rows-inner"],["unit","percent","direction","horizontal",3,"dragEnd"],[3,"size",4,"for"],[3,"size"],["fxLayout","column","fxFill",""],[1,"grid-item-header",3,"hidden"],["itemHeader",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","",1,"grid-item-inner"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1,2),o.\u0275\u0275template(3,MH,1,0,"ng-container",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",4),o.\u0275\u0275template(5,jH,16,2,"div",5),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("hidden",!e.displayMainControls),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",e.extraActionsTmpl),o.\u0275\u0275advance(2),o.\u0275\u0275property("for",e.totalRows))},dependencies:[w.NgTemplateOutlet,Oi.eB,d0.Hw,Go.W0,Go.tN,Go.D8,Ji,hs,Gs,z_,V_,zn.ForDirective],styles:[".layout-wrapper[_ngcontent-%COMP%], .layout-inner[_ngcontent-%COMP%]{height:100%}.grid-item-header[_ngcontent-%COMP%]{padding:0;display:flex;align-items:baseline}button.delete[_ngcontent-%COMP%]{float:right}.main-controls[_ngcontent-%COMP%]{display:flex;padding:0;align-items:baseline}.rows-inner[_ngcontent-%COMP%]{height:auto;background-color:#fff}.row-controls[_ngcontent-%COMP%]{background-color:gray;padding:0}.remove-row[_ngcontent-%COMP%]{float:right}.is-nested[_nghost-%COMP%]   .layout-wrapper[_ngcontent-%COMP%]{padding:0 .25em;border:1px solid #ccc}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;color:#fff}.mat-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]}),a}(),ZM=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;if((0,h.Z)(this,t),(r=n.call(this,e)).settings=new Map,e.settings){var s=[];r.renderer=e.renderer,r.editor=e.editor,e.settings.forEach(function(u,l){s.push([l,u.map(function(c){return new Ut.Attribute(c)})])}),r.settings=new Map(s)}return r}return(0,v.Z)(t)}(Mn.Plugin),jM=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.siteName=t,this.authFacade=e,this.controlContainer=r,this.close=new o.EventEmitter,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,ke.U)(function(e){return!!e}))}},{key:"login",value:function(){this.authFacade.login()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(zn.SITE_NAME),o.\u0275\u0275directiveInject(Da),o.\u0275\u0275directiveInject(K.gN),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-layout-sidenav"]],outputs:{close:"close"},ngContentSelectors:zH,decls:12,vars:6,consts:[[1,"close-wrapper"],[3,"click"],["type","button","class","login","mat-button","",3,"click",4,"ngIf"],[1,"viewport-container"],["appendOnly","","itemSize","48",1,"viewport"],["class","pp-item",4,"cdkVirtualFor","cdkVirtualForOf"],["type","button","mat-button","",1,"login",3,"click"],[1,"pp-item"],[3,"routerLink"]],template:function(t,e){1&t&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),o.\u0275\u0275listener("click",function(){return e.close.emit()}),o.\u0275\u0275text(2,"close"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,$H,2,0,"button",2),o.\u0275\u0275pipe(4,"async"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"mat-divider"),o.\u0275\u0275projection(6),o.\u0275\u0275element(7,"mat-divider"),o.\u0275\u0275elementStart(8,"div",3)(9,"cdk-virtual-scroll-viewport",4),o.\u0275\u0275template(10,UH,3,4,"div",5),o.\u0275\u0275pipe(11,"async"),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",!o.\u0275\u0275pipeBind1(4,2,e.isAuthenticated$)),o.\u0275\u0275advance(7),o.\u0275\u0275property("cdkVirtualForOf",o.\u0275\u0275pipeBind1(11,4,e.panelPageListItems$)))},dependencies:[w.NgIf,Cr.RouterLink,Oi.eB,wH.d,d0.Hw,Tf.xd,Tf.x0,Tf.N7,w.AsyncPipe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.close-wrapper[_ngcontent-%COMP%]{padding:16px 16px 0;position:relative}.login[_ngcontent-%COMP%]{position:absolute;top:7px;right:5px}.pp-item[_ngcontent-%COMP%]{line-height:48px}.viewport[_ngcontent-%COMP%]{height:100%;width:300px}.viewport-container[_ngcontent-%COMP%]{flex:1;padding:0 0 0 16px;box-sizing:border-box}"]}),a}(),fK=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l){var c;return(0,h.Z)(this,e),(c=t.call(this,u)).siteName=r,c.authFacade=s,c.controlContainer=u,c.panelPageListItemsService=l.getEntityCollectionService("PanelPageListItem"),c}return(0,v.Z)(e,[{key:"ngOnInit",value:function(){this.panelPageListItems$=this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')))),this.isAuthenticated$=this.authFacade.getUser$.pipe((0,ke.U)(function(s){return!!s}))}},{key:"login",value:function(){this.authFacade.login()}}]),e}(uM);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(zn.SITE_NAME),o.\u0275\u0275directiveInject(Da),o.\u0275\u0275directiveInject(K.gN),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-gridless-layout-editor"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:42,vars:19,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["cdkDropListGroup","",3,"formGroup","nested"],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"mousedown"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","style-title",4,"ngIf"],["class","spacer",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","grid"],["value","gridless"],["value","split"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"style-title"],[1,"spacer"],[1,"brand"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){if(1&t){var r=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"druid-layout-sidenav",3),o.\u0275\u0275listener("close",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(2);return o.\u0275\u0275resetView(u.toggle())}),o.\u0275\u0275elementStart(4,"nav")(5,"ul"),o.\u0275\u0275template(6,VH,3,0,"li",4),o.\u0275\u0275template(7,GH,3,0,"li",4),o.\u0275\u0275template(8,HH,3,0,"li",4),o.\u0275\u0275template(9,qH,3,0,"li",4),o.\u0275\u0275template(10,KH,3,0,"li",4),o.\u0275\u0275template(11,WH,3,0,"li",4),o.\u0275\u0275elementStart(12,"li")(13,"button",5),o.\u0275\u0275listener("mousedown",function(){return e.editor.addContent(0)})("touchstart",function(){return e.editor.addContent(0)}),o.\u0275\u0275text(14,"Add Content"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(15,"li")(16,"button",5),o.\u0275\u0275listener("mousedown",function(){return e.editor.editPanelProps(0)})("touchstart",function(){return e.editor.editPanelProps(0)}),o.\u0275\u0275text(17,"Props"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(18,XH,3,0,"li",4),o.\u0275\u0275template(19,QH,3,0,"li",4),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-gridless-layout",6),o.\u0275\u0275template(22,sq,26,7,"ng-template",null,7,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(24,lq,1,1,"ng-template",null,8,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(26,fq,4,4,"ng-template",null,9,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(28,"mat-menu",null,10),o.\u0275\u0275template(30,pq,2,0,"button",11),o.\u0275\u0275template(31,hq,2,0,"button",12),o.\u0275\u0275template(32,mq,2,0,"button",12),o.\u0275\u0275template(33,gq,2,0,"button",12),o.\u0275\u0275template(34,vq,2,0,"button",13),o.\u0275\u0275template(35,yq,2,0,"button",13),o.\u0275\u0275elementStart(36,"button",5),o.\u0275\u0275listener("mousedown",function(){return e.editor.addContent(0)})("touchstart",function(){return e.editor.addContent(0)}),o.\u0275\u0275text(37,"Add Content"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(38,"button",5),o.\u0275\u0275listener("mousedown",function(){return e.editor.editPanelProps(0)})("touchstart",function(){return e.editor.editPanelProps(0)}),o.\u0275\u0275text(39,"Props"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(40,_q,2,0,"button",14),o.\u0275\u0275template(41,xq,2,0,"button",14),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275property("hasBackdrop",!1),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable||e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(7),o.\u0275\u0275property("ngIf",!e.editor.hasPanelStyle(0)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)),o.\u0275\u0275advance(2),o.\u0275\u0275property("formGroup",e.controlContainer.control)("nested",e.nested),o.\u0275\u0275advance(9),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable||e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngIf",!e.editor.hasPanelStyle(0)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.editor.hasPanelStyle(0)))},dependencies:[w.NgForOf,w.NgIf,w.NgTemplateOutlet,K.JJ,K.JL,K.Q7,K.sg,K.u,Ql.Wj,Ql.Fd,Ql.Zt,Li.CK,Oi.eB,d0.Hw,Dn.v_,Go.W0,Go.tN,Go.D8,ro.x8,Rf.JX,Rf.TM,Rf.Rh,U2,NM,jM],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),a}(),pK=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this,r)).controlContainer=r,s}return(0,v.Z)(e,[{key:"ngOnInit",value:function(){}}]),e}(lM);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN,8))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-gridless-layout-renderer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[3,"displayMainControls","displayItemHeader"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-gridless-layout",0),o.\u0275\u0275template(1,Cq,1,4,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("displayMainControls",e.displayMainControls)("displayItemHeader",e.displayItemHeader)},dependencies:[w.NgTemplateOutlet,NM],styles:["[_nghost-%COMP%]{height:100%}"]}),a}(),hK=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this,r)).controlContainer=r,s}return(0,v.Z)(e,[{key:"gridItems",get:function(){return this.dashboard.map(function(s,u){return(0,ue.Z)((0,ue.Z)({},s),{},{cols:Math.floor(s.cols),weight:u})})}},{key:"ngOnInit",value:function(){}}]),e}(uM);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-split-layout-editor"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:42,vars:17,consts:[["autosize","",3,"hasBackdrop"],["fixedInViewport","","mode","over"],["drawer",""],[3,"close"],[4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown"],["type","button","mat-menu-item","",3,"click"],["cdkDropListGroup","",3,"nested","formGroup","dashboard","layoutSetting","rowSettings","columnSettings","itemAdded","itemRemoved","layoutSettingChange","rowSettingsChange","columnSettingsChange"],["splitLayout",""],["extraActions",""],["gridItemActions",""],["innerGridItem",""],["topActions","matMenu"],["mat-menu-item","","type","submit",3,"click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",3,"mousedown",4,"ngIf"],["mat-menu-item","","type","submit",3,"click"],["mat-menu-item","","type","button",3,"click"],["mat-button","","type","button","class","drawer-trigger",3,"click",4,"ngIf"],["mat-button","","type","button",3,"matMenuTriggerFor",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"display-type"],["required","","formControlName","displayType"],["value","page"],["value","form"],["value","json"],[1,"layout-type"],["required","","formControlName","layoutType"],["value","gridless"],["value","split"],[4,"ngTemplateOutlet"],["class","brand",4,"ngIf"],["mat-button","","type","button",1,"drawer-trigger",3,"click"],["mat-button","","type","button",3,"matMenuTriggerFor"],[1,"spacer"],[1,"brand"],["mat-button","","type","button",1,"panel-actions-btn",3,"matMenuTriggerFor"],["panelActions","matMenu"],["type","button","mat-menu-item","",3,"mousedown","touchstart"],["mat-menu-item","","type","button",3,"mousedown","touchstart",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"mousedown","touchstart"],["class","style-title",4,"ngIf"],["mat-menu-item","","type","button",3,"mousedown","touchstart"],[1,"style-title"],["cdkDropList","",1,"panel-dropzone",3,"cdkDropListData","multiple","disableClick","change","cdkDropListDropped"],["panes",""],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){if(1&t){var r=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"druid-layout-sidenav",3),o.\u0275\u0275listener("close",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(2);return o.\u0275\u0275resetView(u.toggle())}),o.\u0275\u0275elementStart(4,"nav")(5,"ul"),o.\u0275\u0275template(6,wq,3,0,"li",4),o.\u0275\u0275elementStart(7,"li")(8,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(u.addRow())}),o.\u0275\u0275text(9,"Add Row"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(10,"li")(11,"button",6),o.\u0275\u0275listener("click",function(){return e.editor.onPropertiesClick()}),o.\u0275\u0275text(12,"Props"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(13,"li")(14,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(u.layoutSettings("global"))}),o.\u0275\u0275text(15,"Layout Settings"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(16,Sq,3,0,"li",4),o.\u0275\u0275template(17,Eq,3,0,"li",4),o.\u0275\u0275template(18,kq,3,0,"li",4),o.\u0275\u0275template(19,Pq,3,0,"li",4),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(20,"mat-sidenav-content")(21,"classifieds-ui-split-layout",7,8),o.\u0275\u0275listener("itemAdded",function(){return e.editor.onItemAdded()})("itemRemoved",function(u){return e.editor.onItemRemoved(u)})("layoutSettingChange",function(u){return e.editor.onLayoutSettingChange(u)})("rowSettingsChange",function(u){return e.editor.onRowSettingsChange(u)})("columnSettingsChange",function(u){return e.editor.onColumnSettingsChange(u)}),o.\u0275\u0275template(23,Mq,23,6,"ng-template",null,9,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(25,jq,16,4,"ng-template",null,10,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(27,Uq,4,4,"ng-template",null,11,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(29,"mat-menu",null,12),o.\u0275\u0275template(31,zq,2,0,"button",13),o.\u0275\u0275elementStart(32,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(u.addRow())}),o.\u0275\u0275text(33,"Add Row"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(34,"button",6),o.\u0275\u0275listener("click",function(){return e.editor.onPropertiesClick()}),o.\u0275\u0275text(35,"Props"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(36,"button",5),o.\u0275\u0275listener("mousedown",function(){o.\u0275\u0275restoreView(r);var u=o.\u0275\u0275reference(22);return o.\u0275\u0275resetView(u.layoutSettings("global"))}),o.\u0275\u0275text(37,"Layout Settings"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(38,Vq,2,0,"button",14),o.\u0275\u0275template(39,Gq,2,0,"button",15),o.\u0275\u0275template(40,Hq,2,0,"button",15),o.\u0275\u0275template(41,qq,2,0,"button",14),o.\u0275\u0275elementEnd()}2&t&&(o.\u0275\u0275property("hasBackdrop",!1),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(2),o.\u0275\u0275property("nested",e.nested)("formGroup",e.controlContainer.control)("dashboard",e.dashboard)("layoutSetting",e.layoutSetting)("rowSettings",e.rowSettings)("columnSettings",e.columnSettings),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(7),o.\u0275\u0275property("ngIf",e.nested),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.savable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.nested))},dependencies:[w.NgForOf,w.NgIf,w.NgTemplateOutlet,K.JJ,K.JL,K.Q7,K.sg,K.u,Ql.Wj,Ql.Fd,Ql.Zt,Li.CK,Oi.eB,d0.Hw,Dn.v_,Go.W0,Go.tN,Go.D8,ro.x8,Rf.JX,Rf.TM,Rf.Rh,U2,BM,jM],styles:[".layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:70px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}.cdk-drag[_ngcontent-%COMP%]{padding:.25em}.panel-actions-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.brand[_ngcontent-%COMP%]{font-family:sans-serif;text-align:right;flex:1;letter-spacing:.2em;font-weight:lighter;color:#c82913}.spacer[_ngcontent-%COMP%]{flex:1}.style-title[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:500;text-transform:lowercase;color:#000}.drawer-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}"]}),a}(),mK=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this,r)).controlContainer=r,s}return(0,v.Z)(e,[{key:"ngOnInit",value:function(){}}]),e}(lM);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN,8))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-flex-layout-renderer"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"dashboard","layoutSetting","rowSettings","columnSettings"],["innerGridItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-flex-layout",0),o.\u0275\u0275template(1,Wq,1,4,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("dashboard",null==e.panelPage?null:e.panelPage.gridItems)("layoutSetting",e.panelPage.layoutSetting)("rowSettings",e.panelPage.rowSettings)("columnSettings",e.columnSettings)},dependencies:[w.NgTemplateOutlet,lK],encapsulation:2}),a}(),gK=function(){var n=new Map([["row",[new Ut.Attribute({name:"flexGrow",type:Ut.AttributeTypes.Text,label:"Flex Grow",required:!1,widget:"text",options:{},attributes:[]}),new Ut.Attribute({name:"flexShrink",type:Ut.AttributeTypes.Text,label:"Flex Shrink",required:!1,widget:"text",options:{},attributes:[]}),new Ut.Attribute({name:"flexBasis",type:Ut.AttributeTypes.Text,label:"Flex Basis",required:!1,widget:"text",options:{},attributes:[]}),new Ut.Attribute({name:"height",type:Ut.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]}),new Ut.Attribute({name:"direction",type:Ut.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]],["column",[new Ut.Attribute({name:"height",type:Ut.AttributeTypes.Text,label:"Height",required:!1,widget:"text",options:{},attributes:[]})]],["global",[new Ut.Attribute({name:"direction",type:Ut.AttributeTypes.Text,label:"Direction",required:!1,widget:"text",options:{},attributes:[]})]]]);return new ZM({id:"split",title:"Split",editor:hK,renderer:mK,settings:n})},$M=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),[gK(),new ZM({id:"gridless",title:"Gridless",editor:fK,renderer:pK,settings:new Map})].forEach(function(e){t.register(e)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(G2))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,Cr.RouterModule,K.UX,no.MaterialModule,go,E2,DM,z2,zn.UtilsModule,$_,Ut.AttributesModule]}),a}();function yK(a,n){if(1&a&&o.\u0275\u0275element(0,"ngx-json-viewer",12),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("json",t.jsonData)("expanded",!1)}}var H2=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.params=[],n&&(this.url=n.url,this.method=n.method?n.method:void 0,void 0!==n.renderer&&(this.renderer=new BA(n.renderer)),void 0!==n.params&&(this.params=n.params.map(function(t){return new io(t)})),n.body&&(this.body=new Ul(n.body)))}),f0=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.fb=t,this.datasourceApi=e,this.tokenizerService=r,this.dataChange=new o.EventEmitter,this.contexts=[],this.sourceForm=this.fb.group({url:this.fb.control("",K.kI.required),params:this.fb.control([]),body:this.fb.control(""),method:this.fb.control("get",[K.kI.required])}),this.restSource$=new en.X(new H2),this.componentDestroyed=new yn.x,this.refreshData$=new yn.x,this.refreshSubscription=this.refreshData$.pipe((0,ke.U)(function(){return s.generateUrl()}),(0,bt.b)(function(u){return console.log(u)}),(0,sn.h)(function(u){return u&&""!==u.trim()}),(0,ct.w)(function(u){return s.datasourceApi.getData(u).pipe((0,Hi.K)(function(l){return console.log(l),(0,ze.of)([])}))}),(0,mo.R)(this.componentDestroyed)).subscribe(function(u){s.jsonData=u,s.dataChange.emit(u)}),this.urlChangeSub=this.sourceForm.get("url").valueChanges.pipe((0,Nr.b)(500),(0,sn.h)(function(u){return u&&""!==u.trim()}),(0,ke.U)(function(u){return[u,u.indexOf("?")]}),(0,ke.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return[p>-1?c.substring(0,p):c,p>-1?c.substring(p+1):""]})).subscribe(function(u){var l=(0,g.Z)(u,2),p=l[1],y=l[0].split("/").reduce(function(D,R,B){return 0===R.indexOf(":")?(0,ue.Z)((0,ue.Z)({},D),{},(0,f.Z)({},R.substr(1),R)):D},{}),E=(0,ue.Z)((0,ue.Z)({},y),aa.parse(p));s.paramsParsed=E}),this.restSourceSub=this.restSource$.pipe((0,bt.b)(function(u){u?(s.sourceForm.get("url").setValue(u.url),s.sourceForm.get("method").setValue(u.method?u.method:""),s.sourceForm.get("body").setValue(u.body?(0,ue.Z)((0,ue.Z)({},u.body),{},{jsScript:""}):"")):(s.sourceForm.get("url").setValue(""),s.sourceForm.get("method").setValue(""),s.sourceForm.get("body").setValue(""))})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"restSource",set:function(e){this.restSource$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.sourceForm.valueChanges.pipe((0,Nr.b)(1e3)).subscribe(function(){console.log("refresh data"),e.refreshData$.next(void 0)})}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.next(void 0),this.componentDestroyed.complete()}},{key:"writeValue",value:function(e){e&&this.sourceForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.sourceForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.sourceForm.disable():this.sourceForm.enable()}},{key:"validate",value:function(e){return this.sourceForm.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"generateUrl",value:function(){console.log("generate url");for(var e=this.sourceForm.get("url").value,r=e?e.split("?",2):["",""],s=(0,g.Z)(r,2),u=s[0],l=s[1],c=aa.parse(l),p={},y=u.split("/"),E=y.length,D=[],R=0,B=0;B<E;B++)if(0===y[B].indexOf(":")){if(!this.sourceForm.get("params").value[R])return"";var te=this.sourceForm.get("params").value[R].mapping;D.push("static"===te.value.type?te.value.value:te.value.testValue),R++}else D.push(y[B]);for(var ne in c)if("string"==typeof c[ne]&&c[ne].indexOf(":")>-1){if(!this.sourceForm.get("params").value[R])return"";var he=this.sourceForm.get("params").value[R].mapping;p[ne]="static"===he.type?he.value:he.testValue,R++}var Se=D.join("/")+(""!==l?"?"+aa.stringify((0,ue.Z)((0,ue.Z)({},c),p)):"");return console.log(Se),Se}},{key:"onDataChange",value:function(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(_F),o.\u0275\u0275directiveInject(Mr))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rest-source-form"]],inputs:{restSource:"restSource",contexts:"contexts"},outputs:{dataChange:"dataChange"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:19,vars:7,consts:[["direction","horizontal",3,"formGroup"],["as-split-area","","size","50"],["required","","formControlName","method"],["value","get"],["value","post"],["value","put"],["value","delete"],["matInput","","placeholder","Url","formControlName","url","required",""],["formControlName","body","rows","10","cols","40",3,"rootForm","tokens"],["formControlName","params",3,"params","paramValues","contexts"],["size","50"],[3,"json","expanded",4,"ngIf"],[3,"json","expanded"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"as-split",0)(1,"div",1)(2,"div")(3,"mat-form-field")(4,"mat-select",2)(5,"mat-option",3),o.\u0275\u0275text(6,"GET"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"mat-option",4),o.\u0275\u0275text(8,"POST"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"mat-option",5),o.\u0275\u0275text(10,"PUT"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"mat-option",6),o.\u0275\u0275text(12,"DELETE"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(13,"mat-form-field"),o.\u0275\u0275element(14,"input",7),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(15,"classifieds-ui-snippet-form",8)(16,"classifieds-ui-params-form",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"as-split-area",10),o.\u0275\u0275template(18,yK,1,2,"ngx-json-viewer",11),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.sourceForm),o.\u0275\u0275advance(15),o.\u0275\u0275property("rootForm",!1)("tokens",e.tokens),o.\u0275\u0275advance(1),o.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.restSource$.value.params)("contexts",e.contexts),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.jsonData))},dependencies:[w.NgIf,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,ai.k0,ro.x8,z_,V_,Hp,I2,K_]}),a}(),_K=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.attributeSerializer=t,this.controlContainer=e,this.contexts=[]}return(0,v.Z)(n,[{key:"settings",set:function(e){this.restSource=e?new H2(this.attributeSerializer.deserializeAsObject(e)):void 0}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rest-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"restSource","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("restSource",e.restSource)("contexts",e.contexts))},dependencies:[K.JJ,K.JL,K.sg,K.u,f0],encapsulation:2}),a}(),p0=function(n){var p,t=n.method,e=n.url,r=n.data,s=n.options,u=n.params,l=n.http;if(r instanceof Error)return(0,ze.of)([]);switch(t){case"DELETE":p=l.delete(e,s),u.has("saveDelay")&&(p=p.pipe((0,gr.g)(+u.get("saveDelay"))));break;case"GET":var y=u.has("suffix")?e+u.get("suffix"):e;p=l.get(y,s),u.has("getDelay")&&(p=p.pipe((0,gr.g)(+u.get("getDelay"))));break;case"POST":p=l.post(e,r,s),u.has("saveDelay")&&(p=p.pipe((0,gr.g)(+u.get("saveDelay"))));break;case"PUT":p=l.put(e,r,s),u.has("saveDelay")&&(p=p.pipe((0,gr.g)(+u.get("saveDelay"))));break;default:var E=new Error("Unimplemented HTTP method, "+t);p=(0,Di._)(E)}return u.has("timeout")&&(p=p.pipe((0,Kp.V)(+u.get("timeout")+ +u.get("saveDelay")))),p.pipe((0,Hi.K)(function(){return(0,ze.of)([])}))},LM=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.attrbuteSerializer=t,this.http=e,this.snippetParserService=r,this.urlGenerator=s}return(0,v.Z)(n,[{key:"fetchDataset",value:function(e){var r=this,s=e.settings,u=e.metadata;return(0,ze.of)(new Sr).pipe((0,bt.b)(function(){return console.log("START rest fetch")}),(0,ke.U)(function(){return r.attrbuteSerializer.deserializeAsObject(s)}),(0,ke.U)(function(l){return new H2(l)}),(0,ct.w)(function(l){return r.urlGenerator.getUrl(l.url,l.params,u).pipe((0,ke.U)(function(c){return new H2((0,ue.Z)((0,ue.Z)({},l),{},{url:c}))}))}),(0,sn.h)(function(l){return l.url&&""!==l.url.trim()&&l.url.indexOf("http")>-1}),(0,ct.w)(function(l){return p0({url:l.url,method:"POST"===l.method.toUpperCase()?"POST":"GET",http:r.http,params:new Map}).pipe((0,Hi.K)(function(){return(0,ze.of)([])}),(0,ke.U)(function(c){return Array.isArray(c)?c:[c]}),(0,ke.U)(function(c){return new Sr({results:c})}))}),(0,bt.b)(function(){return console.log("END rest fetch")}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(oF),o.\u0275\u0275inject(X_))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),UM=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r){var s;return(0,h.Z)(this,e),(s=t.call(this,r)).pluralizer2=r,s}return(0,v.Z)(e,[{key:"getResourceUrls",value:function(s,u){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u:uT(u);return{entityResourceUrl:"".concat(c,"/").concat(s,"/").toLowerCase(),collectionResourceUrl:"".concat(c,"/").concat(this.pluralizer2.pluralize(s),"/").toLowerCase()}}}]),e}(sT);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(th))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),CK=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c,p,y){(0,h.Z)(this,n),t.register(function(n,t,e){return new ks({id:"rest",title:"Rest",editor:_K,fetch:function(s){return n.fetchDataset({settings:s.settings,metadata:s.metadata})},editorOptions:function(){return(0,ze.of)(new O2({fullscreen:!0}))},getBindings:function(s){var u=s.settings;return(0,ze.of)([]).pipe((0,ke.U)(function(){return e.deserializeAsObject(u)}),(0,ke.U)(function(c){return new lu(c)}),(0,ct.w)(function(c){return t.extractContexts(c.params)}),(0,ke.U)(function(c){return c.map(function(p){return new Sn.ContentBinding({id:p,type:"context"})})}))}})}(e,r,s)),u.register(function(n,t,e,r){return new wf({id:"rest",title:"Rest",create:function(u){var l=u.object,c=u.params;return(0,ze.of)({success:!1}).pipe((0,ct.w)(function(){return n.paramValues(new Map(Object.keys(c).map(function(p){return[p,c[p]]})))}),(0,ct.w)(function(p){return p0({method:"POST",url:e.entityResource(p.get("entityName"),p.has("root")?p.get("root"):r.root?r.root:"api",!0),data:l||new Error("No entity to add"),params:p,http:t})}),(0,ke.U)(function(){return{success:!0,entity:l}}))},read:function(u){return Ca(u),(0,ze.of)({success:!1})},update:function(u){var l=u.object,c=u.identity,p=u.params,y=u.parentObject;return(0,ze.of)({success:!1}).pipe((0,ct.w)(function(){return c({object:l,parentObject:y})}),(0,ct.w)(function(E){var D=E.identity;return n.paramValues(new Map(Object.keys(p).map(function(R){return[R,p[R]]}))).pipe((0,ke.U)(function(R){return{identity:D,options:R}}))}),(0,ct.w)(function(E){var D=E.identity,R=E.options;return p0({method:"PUT",url:e.entityResource(R.get("entityName"),R.has("root")?R.get("root"):r.root?r.root:"api",!0)+"".concat(D),data:l||new Error("No entity to add"),params:R,http:t})}),(0,ke.U)(function(){return{success:!0,entity:l}}))},delete:function(u){return Ca(u),(0,ze.of)({success:!1})},query:function(u){var l=u.params,c=u.rule;return(0,ze.of)({success:!1}).pipe((0,ct.w)(function(){return n.paramValues(new Map(Object.keys(l).map(function(p){return[p,l[p]]})))}),(0,ct.w)(function(p){return new hr.y(function(y){var E=c?c.conditions.all.reduce(function(R,B){return[].concat((0,_.Z)(R),(0,_.Z)(B.any.filter(function(te){return"identity"!==te.fact}).map(function(te){return"".concat(te.path.substr(2),"=").concat(te.value)})))},[]):[],D=c?c.conditions.all.reduce(function(R,B){return R||B.any.find(function(te){return"identity"===te.fact})},void 0):void 0;y.next({identityFact:D,options:p,query:E.length>0?new O.HttpParams({fromString:E.join("&")}):void 0,path:D?D.value:""}),y.complete()})}),(0,ct.w)(function(p){var y=p.options,E=p.query,D=p.path,R=p.identityFact;return zr(function(){return!!R},p0({method:"GET",url:e.entityResource(y.get("entityName"),y.has("root")?y.get("root"):r.root?r.root:"api",!0)+D,options:{params:E},params:y,http:t}).pipe((0,ke.U)(function(B){return{success:!0,entities:Array.isArray(B)?B:[B]}})),p0({method:"GET",url:e.collectionResource(y.get("entityName"),y.has("root")?y.get("root"):r.root?r.root:"api")+D,options:{params:E},params:y,http:t}).pipe((0,ke.U)(function(B){return{success:!0,entities:B}})))}))}})}(l,c,p,y))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(LM),o.\u0275\u0275inject(GA),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(su),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(UM),o.\u0275\u0275inject(rd))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[LM,UM],imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,E2,Wc,IA,Vl,$_,Y_,Gu]}),a}(),h0=S(7260),vR=S(2906),wK=S(9663),SK=S(420),zM=S(1817),VM=S(6607),kK=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({}),a}(),Df=function(n){var t=n.selector,r=n.document.createDocumentFragment();if(!t||-1!==t.indexOf("undefined"))return!1;try{r.querySelector(t)}catch{return!1}return!0},PK=/\/\*[\s\S]*?\*\//g,AK=/([^\:]+):([^\;]*);/,RK=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,q2=function(n){return typeof n>"u"||0==n.length||null==n},TK={ordered:!1,comments:!1,stripComments:!1,split:!1},DK=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.document=t,this.mutate$=new yn.x,this.mutated$=new yn.x,this.mutateSub=this.mutate$.pipe((0,sn.h)(function(r){var s=r.record;return"attributes"===s.type&&"style"===s.attributeName&&!!s.target}),(0,Nr.b)(2e3),(0,ct.w)(function(r){return e.mapRecord({record:r.record,overlay:r.overlay})}),(0,bt.b)(function(r){return e.mutated$.next({stylesheet:r.stylesheet})})).subscribe()}return(0,v.Z)(n,[{key:"stylize",value:function(e){var r=this,s=e.targetNode,u=new Map;new MutationObserver(function(p){p.forEach(function(y){r.mutate$.next({record:y,overlay:u})})}).observe(s,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0})}},{key:"mapRecord",value:function(e){var r=this,s=e.record,u=e.overlay;return new hr.y(function(l){var c=VM.default(s.target),p=r.toJSON("".concat(c," { ").concat(s.oldValue," }")),y=p.children[c]?Object.keys(p.children[c].attributes).reduce(function(te,ne){return(0,ue.Z)((0,ue.Z)({},te),{},(0,f.Z)({},Kl(ne.replace("-","_"),!1),p.children[c].attributes[ne]))},{}):void 0,E=Object.keys(s.target.style).reduce(function(te,ne){return!Number.isNaN(parseInt(ne))&&s.target.style.hasOwnProperty(Kl(s.target.style[ne].replace("-","_"),!1))?(0,ue.Z)((0,ue.Z)({},te),{},(0,f.Z)({},Kl(s.target.style[ne].replace("-","_"),!1),s.target.style[Kl(s.target.style[ne].replace("-","_"),!1)])):te},{}),D=e0(y,E);u.set(c,D);var R=[];u.forEach(function(te,ne){var Se=ne.split(" ").reduce(function(Ye,lt,Ft){return-1!==lt.indexOf(".pane-")||-1!==lt.indexOf(".panel-")?{selector:[].concat((0,_.Z)(Ye.selector),[lt.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:Ye.chars+lt.length,lastIndex:Ye.chars+Ft+lt.length}:(0,ue.Z)((0,ue.Z)({},Ye),{},{chars:Ye.chars+lt.length})},{selector:[],chars:0,lastIndex:0});if(0!==Se.selector.length){var we=(Se.selector.join(" ")+" "+ne.slice(Se.lastIndex).split(">").join("")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"").trim();0===we.indexOf(".panel-page")&&(we=we.substr(12).trim()),Df({selector:we,document:r.document})&&R.push(we+" { "+Object.keys(te).reduce(function(Ye,lt){return lt.match(/^[a-zA-Z-]*$/gm)?"".concat(Ye).concat(function Kz(a){return a.replace(/_/g,"-")}(function t0(a){var n=""+a;return n=n.replace(new RegExp("(?:([A-Za-z\\d])|^)("+As().acronymRegex.source+")(?=\\b|[^a-z])","g"),function(t,e,r){return(e||"")+(e?"_":"")+r.toLowerCase()}),(n=(n=(n=n.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}(lt)),": ").concat(te[lt],";"):Ye},"")+" }")}});var B=R.join("\n");l.next({stylesheet:B}),l.complete()})}},{key:"toJSON",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TK,p={children:{},attributes:{}},y=null,E=0;for(r.stripComments&&(r.comments=!1,e=e.replace(PK,""));null!=(y=RK.exec(e));)if(!q2(y[1])&&r.comments)p[E++]=y[1].trim();else if(q2(y[2])){if(!q2(y[3]))return p;if(!q2(y[4])){var Se=y[4].trim(),we=AK.exec(Se);if(we){var $e=we[1].trim(),Ye=we[2].trim();if(r.ordered)p[E++]={name:$e,value:Ye,type:"attr"};else if($e in p.attributes){var lt=p.attributes[$e];lt instanceof Array||(p.attributes[$e]=[lt]),p.attributes[$e].push(Ye)}else p.attributes[$e]=Ye}else p[E++]=Se}}else{var D=y[2].trim(),R=this.toJSON(e,r);if(r.ordered)p[E++]={name:D,value:R,type:"rule"};else{var B=r.split?D.split(","):[D];for(var te in B){var ne=B[te].trim();if(ne in p.children)for(var he in R.attributes)p.children[ne].attributes[he]=R.attributes[he];else p.children[ne]=R}}}return p}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(w.DOCUMENT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ho=function(){return(Ho=Ho||{})[Ho.KEEP=0]="KEEP",Ho[Ho.ADD=1]="ADD",Ho[Ho.REMOVE=2]="REMOVE",Ho}(),IK=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.document=t,this.mutate=new yn.x,this.mutated$=new yn.x,this.mutateub=this.mutate.pipe((0,sn.h)(function(r){var s=r.record;return"attributes"===s.type&&"class"===s.attributeName&&!!s.target}),(0,Nr.b)(2e3),(0,ct.w)(function(r){var u=r.overlay;return e.mapRecord({record:r.record,overlay:u,originals:r.originals}).pipe((0,Hi.K)(function(c){return(0,ze.of)({classes:u})}))}),(0,bt.b)(function(r){return e.mutated$.next({classes:r.classes})})).subscribe()}return(0,v.Z)(n,[{key:"classify",value:function(e){var r=this,s=e.targetNode,u=new Map,l=new Map;new MutationObserver(function(y){y.forEach(function(E){r.mutate.next({record:E,overlay:u,originals:l})})}).observe(s,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"],attributeOldValue:!0})}},{key:"mapRecord",value:function(e){var r=this,s=e.record,u=e.overlay,l=e.originals;return new hr.y(function(c){var p=VM.default(s.target),y="",E=s.oldValue.split(" ").map(function(we){return we.trim()}),R=p.split(" ").reduce(function(we,$e,Ye){return-1!==$e.indexOf(".pane-")||-1!==$e.indexOf(".panel-")?{selector:[].concat((0,_.Z)(we.selector),[$e.replace(/^(.*?)(\.pane-|\.panel-page|\.panel-)([0-9]*)(.*?)$/,"$2$3")]),chars:we.chars+$e.length,lastIndex:we.chars+Ye+$e.length}:(0,ue.Z)((0,ue.Z)({},we),{},{chars:we.chars+$e.length})},{selector:[],chars:0,lastIndex:0});if(0!==R.selector.length){var B=p.substring(R.lastIndex).split(">").map(function(we){return we.trim()}).filter(function(we){return""!==we}).map(function(we,$e){var Ye=we.indexOf("."),lt=-1===Ye?B:we.substring(0,Ye),pt=(-1===Ye?[]:we.substring(Ye+1).split(".")).filter(function(Zt){return void 0!==E.find(function(Gt){return Zt===Gt})});return(0===$e?" > ":"")+lt+(0===pt.length?"":"."+pt.join("."))});0===(y=(R.selector.join(" ")+B.join(" > ")).replace(/(\.ng\-[a-zA-Z0-9_-]*)/gm,"")).indexOf(".panel-page")&&(y=y.substr(12).trim())}if(Df({selector:y,document:r.document})){l.has(y)||l.set(y,new Set(E));var ne=s.target.classList,he=new Map(Array.from(ne.values()).map(function(we){return["".concat(we),!l.has(y)||!l.get(y).has("".concat(we))&&0!=="".concat(we).indexOf("ng-")&&0!=="".concat(we).indexOf("mat-")?Ho.ADD:Ho.KEEP]})),Se=Array.from(l.get(y)).reduce(function(we,$e){return[-1===Array.from(ne.values()).findIndex(function(Ye){return Ye===$e})?$e:void 0]},[]).filter(function(we){return void 0!==we});0!==Se.length&&Se.forEach(function(we){return he.set(we,Ho.REMOVE)}),0===he.size&&u.has(y)?u.delete(y):0!==he.size&&u.set(y,he),c.next({classes:u}),c.complete()}else c.error(new Error('Selector invalid "'+y+'"')),c.complete()})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(w.DOCUMENT))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}();function OK(a,n){}function FK(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("panelPage",t.panelPage)("nested",!0)("contexts",t.contexts)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf)}}function MK(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-panel-page",5),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("id",t.linkedPageId)("nested",!0)("contexts",t.contexts)("ancestory",t.ancestoryWithSelf)}}function NK(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-panel-page",4),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("panelPage",t.embedPanel)("nested",!0)("contexts",t.contexts)("css",t.filteredCss)("listeners",t.filteredListeners)("ancestory",t.ancestoryWithSelf)}}var BK=["panes"];function ZK(a,n){}function jK(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-render-pane",8),2&a){var t=n.$implicit,e=n.index,r=o.\u0275\u0275nextContext(3),s=o.\u0275\u0275reference(1);o.\u0275\u0275property("formControlName",e)("pluginName",t.contentPlugin)("settings",t.settings)("name",t.name)("label",t.label)("originPane",r.panel.panes[r.originMappings[e]])("contexts",t.contexts)("displayType",r.displayType)("resolvedContext",t.resolvedContext)("indexPosition",e)("css",r.filteredCss)("listeners",r.filteredListeners)("ancestory",r.ancestoryWithSelf$.value)("panes",s)("originPanes",r.originPanes)}}function $K(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0)(1)(2,6),o.\u0275\u0275template(3,jK,1,15,"classifieds-ui-render-pane",7),o.\u0275\u0275elementContainerEnd()()()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",t.resolvedPanes)}}function LK(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-render-pane",10),2&a){var t=n.$implicit,e=n.index,r=o.\u0275\u0275nextContext(3),s=o.\u0275\u0275reference(1);o.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("name",t.name)("label",t.label)("originPane",r.panel.panes[r.originMappings[e]])("contexts",t.contexts)("linkedPageId",t.linkedPageId)("displayType",r.displayType)("resolvedContext",t.resolvedContext)("indexPosition",e)("css",r.filteredCss)("listeners",r.filteredListeners)("ancestory",r.ancestoryWithSelf$.value)("panes",s)("originPanes",r.originPanes)}}function UK(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,LK,1,15,"classifieds-ui-render-pane",9),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.resolvedPanes)}}function zK(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0)(1,4),o.\u0275\u0275template(2,$K,4,1,"ng-container",5),o.\u0275\u0275template(3,UK,2,1,"ng-container",5),o.\u0275\u0275elementContainerEnd()()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitch",t.displayType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","form"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","page")}}var VK=["renderPanelTpl"];function GK(a,n){}function HK(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.submit())}),o.\u0275\u0275text(1,"Submit"),o.\u0275\u0275elementEnd()}}function qK(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0,0)(1,5),o.\u0275\u0275element(2,"classifieds-ui-render-panel",6),o.\u0275\u0275elementContainerEnd()()),2&a){var t=n.i,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",e.pageForm),o.\u0275\u0275advance(2),o.\u0275\u0275property("formControlName",t)("panel",e.panelPageCached.panels[t])("nested",e.nested$.value)("contexts",e.contexts$.value)("resolvedContext",e.resolvedContext)("contextsChanged",e.contextsChanged)("displayType",e.panelPageCached.displayType)("indexPosition",t)("css",e.filteredCss)("listeners",e.filteredListeners)("ancestory",e.ancestory$.value)}}var K2=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiPaneContentHost",""]]}),a}(),GM=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiLayoutRendererHost",""]]}),a}(),mu=function(){function a(n,t,e,r,s,u,l,c,p,y,E,D,R,B,te,ne,he,Se,we,$e,Ye,lt,Ft,pt,Zt,Gt,Yt){var qt=this;(0,h.Z)(this,a),this.platformId=n,this.mediaSettings=t,this.routerStore=e,this.fb=r,this.el=s,this.inlineContextResolver=u,this.pageBuilderFacade=l,this.cpm=c,this.cxm=p,this.lpm=y,this.componentFactoryResolver=E,this.styleLoader=D,this.http=R,this.cssHelper=B,this.attributeSerializer=te,this.formService=ne,this.panelsContextService=he,this.asyncApiCallHelperSvc=Se,this.crudDataHelperService=we,this.entityDefinitionService=$e,this.ngZone=Ye,this.persistService=lt,this.stylizerService=Ft,this.classifyService=pt,this.fileService=Zt,this.authFacade=Gt,this.resolvedContext={},this.contextsChanged=[],this.persistenceEnabled=!1,this.onInit$=new yn.x,this.afterViewInit$=new yn.x,this.afterContentInit$=new yn.x,this.renderLayout$=new yn.x,this.id$=new en.X(void 0),this.panelPage$=new en.X(void 0),this.nested$=new en.X(!1),this.ancestory$=new en.X([]),this.contexts$=new en.X([]),this.instanceUniqueIdentity=Br(),this.isStable=!1,this.managedCssCache="",this.managedClassesCache={},this.filteredListeners=[],this.css$=new en.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=this.css$.subscribe(function(Ht){qt.nested$.value&&console.log("filtered css nested",Ht),qt.filteredCss=Ht}),this.listeners$=new en.X([]),this.listenersSub=this.listeners$.pipe((0,bt.b)(function(Ht){qt.filteredListeners=Ht})).subscribe(),this.settingsFormArray=this.fb.array([]),this.pageForm=this.fb.group({panels:this.fb.array([])}),this.bridgeSub=this.pageForm.valueChanges.pipe((0,sn.h)(function(){return qt.nested$.value}),(0,Nr.b)(500)).subscribe(function(Ht){console.log("write page"),console.log(Ht),qt.settingsFormArray.clear();var Xt=qt.attributeSerializer.convertToGroup(qt.attributeSerializer.serialize(Ht,"value").attributes[0]);qt.settingsFormArray.push(Xt),console.log(Xt.value)}),this.idOrPanelPageSub=(0,Or.a)([this.id$,this.panelPage$]).pipe((0,Uu.x)(),(0,ke.U)(function(Ht){var Xt=(0,g.Z)(Ht,2);return{id:Xt[0],panelPage:Xt[1]}}),(0,sn.h)(function(Ht){return!!Ht.id||!!Ht.panelPage}),(0,ct.w)(function(Ht){var Xt=Ht.id;return zr(function(){return!Xt},(0,ze.of)({panelPage:Ht.panelPage}),new hr.y(function(fr){var Wi=qt.entityDefinitionService.getDefinition("PanelPage").metadata;return qt.crudDataHelperService.evaluateCollectionPlugins({query:"identity=".concat(Xt),plugins:Wi.crud,op:"query"}).pipe((0,ke.U)(function(qo){return qo&&0!==qo.length?qo[0]:void 0}),(0,bt.b)(function(qo){fr.next({panelPage:qo}),fr.complete()})).subscribe()}))}),(0,ct.w)(function(Ht){var Xt=Ht.panelPage;return qt.cpm.getPlugins(Xt.panels.reduce(function(Zn,fr){return fr.panes.forEach(function(Wi){Zn.includes(Wi.contentPlugin)||Zn.push(Wi.contentPlugin)}),Zn},[])).pipe((0,ke.U)(function(){return{panelPage:Xt}}))}),(0,ct.w)(function(Ht){var Xt=Ht.panelPage;return zr(function(){return!qt.nested$.value},
/*!this.nested ? this.panelsContextService.allActivePageContexts({ panelPage: p }).pipe(
                  map(paneContexts => [p, isDynamic, paneContexts])
                ): of([p, isDynamic, []]),*/
qt.panelsContextService.allActivePageContexts({panelPage:Xt}).pipe((0,ke.U)(function(Zn){return{panelPage:Xt,contexts:Array.from(Zn)}})),(0,ze.of)({panelPage:Xt,contexts:[]}))}),(0,bt.b)(function(Ht){var Xt=Ht.panelPage,Zn=Ht.contexts;qt.hookupFormChange({panelPage:Xt}),qt.populatePanelsFormArray({panelPage:Xt}),qt.panelPageCached=Xt,qt.persistenceEnabled=Xt.persistence&&Xt.persistence.dataduct&&Xt.persistence.dataduct.plugin&&""!==Xt.persistence.dataduct.plugin,qt.filteredListeners=Xt.interactions&&Xt.interactions.interactions&&Xt.interactions.interactions.listeners?Xt.interactions.interactions.listeners:[],qt.renderLayout$.next(Xt),qt.contexts$.next([].concat((0,_.Z)(Xt.contexts?Xt.contexts.map(function(fr){return new Ao(fr)}):[]),(0,_.Z)(Zn))),qt.hookupCss({file:Xt.cssFile?Xt.cssFile.trim():void 0}),console.log("cached panel page: ".concat(Xt.id))})).subscribe(),this.hookupContextSub=(0,Or.a)(this.contexts$,this.afterContentInit$).pipe((0,ke.U)(function(Ht){return(0,g.Z)(Ht,1)[0]}),(0,ct.w)(function(Ht){return qt.inlineContextResolver.resolveMerged(Ht,"panelpage:".concat(Br())).pipe((0,ct.w)(function(Xt){return qt.cxm.getPlugins().pipe((0,ke.U)(function(Zn){return{contexts:Ht,resolvedContext:Xt,globalPlugins:Array.from(Zn.values()).filter(function(fr){return!0===fr.global})}}))}),(0,Vn.q)(1))}),(0,bt.b)(function(){qt.resolveSub&&qt.resolveSub.unsubscribe()}),(0,bt.b)(function(Ht){var Xt=Ht.contexts,fr=Ht.globalPlugins;qt.resolvedContext=Ht.resolvedContext;var Wi=new yn.x;if((0,w.isPlatformServer)(qt.platformId))var qo=setInterval(function(){0===a.registredContextListeners.size&&(Wi.next(),Wi.complete(),clearInterval(qo))},1e3);qt.resolveSub=qt.inlineContextResolver.resolveMergedSingle(Xt).pipe((0,h0.T)(fr.length+(Xt?Xt.length:0)),(0,bt.b)(function(){return a.registredContextListeners.add(qt.instanceUniqueIdentity)}),(0,bt.b)(function(Ds){return console.log("buffer",Ds)}),function EK(a){for(var n,t,e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];var u=null!==(n=(0,SK.yG)(r))&&void 0!==n?n:Yc.z,l=null!==(t=r[0])&&void 0!==t?t:null,c=r[1]||1/0;return(0,m.e)(function(p,y){var E=[],D=!1,R=function(he){var Se=he.buffer;he.subs.unsubscribe(),(0,wK.P)(E,he),y.next(Se),D&&B()},B=function(){if(E){var he=new DF.w0;y.add(he);var we={buffer:[],subs:he};E.push(we),(0,zM.f)(he,u,function(){return R(we)},a)}};null!==l&&l>=0?(0,zM.f)(y,u,B,l,!0):D=!0,B();var te=(0,co.x)(y,function(ne){var we,he=E.slice(),Se=(0,z.Z)(he);try{for(Se.s();!(we=Se.n()).done;){var $e=we.value,Ye=$e.buffer;Ye.push(ne),c<=Ye.length&&R($e)}}catch(lt){Se.e(lt)}finally{Se.f()}},function(){for(;E?.length;)y.next(E.shift().buffer);te?.unsubscribe(),y.complete(),y.unsubscribe()},void 0,function(){return E=null});p.subscribe(te)})}(1),(0,bt.b)(function(Ds){0===Ds.length&&a.registredContextListeners.delete(qt.instanceUniqueIdentity)}),(0,sn.h)(function(Ds){return 0!==Ds.length}),(0,bt.b)(function(Ds){qt.contextsChanged=Ds.reduce(function(Qu,nc){var rc=(0,g.Z)(nc,2)[0];return[].concat((0,_.Z)(Qu),(0,_.Z)(Qu.includes(rc)?[]:[rc]))},[]),qt.resolvedContext=Ds.reduce(function(Qu,nc){var Ju=(0,g.Z)(nc,2),rc=Ju[0],Ff=Ju[1];return(0,ue.Z)((0,ue.Z)({},Qu),{},(0,f.Z)({},rc,Ff))},qt.resolvedContext)}),(0,bt.b)(function(){return a.registredContextListeners.delete(qt.instanceUniqueIdentity)}),(0,w.isPlatformServer)(qt.platformId)?(0,mo.R)(Wi):(0,bt.b)(function(){})).subscribe()})).subscribe(),this.renderLayoutSub=(0,Or.a)([this.renderLayout$,this.afterViewInit$]).pipe((0,gr.g)(1),(0,ke.U)(function(Ht){return{panelPage:(0,g.Z)(Ht,1)[0]}}),(0,ct.w)(function(Ht){var Xt=Ht.panelPage;return qt.lpm.getPlugin(Xt.layoutType).pipe((0,ke.U)(function(Zn){return{panelPage:Xt,plugin:Zn}}))}),(0,bt.b)(function(){return console.log("start render layout")}),(0,ke.U)(function(Ht){return{panelPage:Ht.panelPage,plugin:Ht.plugin,viewContainerRef:qt.layoutRendererHost.viewContainerRef}}),(0,bt.b)(function(Ht){return Ht.viewContainerRef.clear()}),(0,ke.U)(function(Ht){return{panelPage:Ht.panelPage,layoutRendererRef:Ht.viewContainerRef.createComponent(Ht.plugin.renderer)}}),(0,bt.b)(function(Ht){return qt.layoutRendererRef=Ht.layoutRendererRef}),(0,bt.b)(function(Ht){var Xt=Ht.layoutRendererRef,Zn=Ht.panelPage;Xt.instance.renderPanelTpl=qt.renderPanelTpl,Xt.instance.panelPage=Zn}),(0,bt.b)(function(){return console.log("end render layout")})).subscribe(),this.stylizerSub=this.afterViewInit$.pipe((0,sn.h)(function(){return(0,w.isPlatformBrowser)(qt.platformId)}),(0,bt.b)(function(){qt.stylizerService.stylize({targetNode:qt.el.nativeElement})})).subscribe(),this.classifySub=this.afterViewInit$.pipe((0,sn.h)(function(){return(0,w.isPlatformBrowser)(qt.platformId)}),(0,bt.b)(function(){qt.classifyService.classify({targetNode:qt.el.nativeElement})})).subscribe(),this.stylizerMutatedSub=(0,w.isPlatformBrowser)(this.platformId)?this.stylizerService.mutated$.pipe((0,Nr.b)(2e3),(0,h0.T)(1),(0,ct.w)(function(Ht){var Xt=Ht.stylesheet;return qt.authFacade.getUser$.pipe((0,ke.U)(function(Zn){return{stylesheet:Xt,isAuthenticated:!!Zn}}))}),(0,sn.h)(function(Ht){return Ht.isAuthenticated}),(0,bt.b)(function(Ht){console.log("merged css",Ht.stylesheet)}),(0,sn.h)(function(){return!!qt.panelPageCached&&!!qt.panelPageCached.id}),(0,ct.w)(function(Ht){var Xt=Ht.stylesheet;return qt.isStable?(0,ze.of)({stylesheet:Xt}):qt.ngZone.onStable.asObservable().pipe((0,ke.U)(function(){return{stylesheet:Xt}}),(0,Vn.q)(1))}),(0,ke.U)(function(Ht){var Xt=Ht.stylesheet;return{stylesheet:(qt.managedCssCache&&""!==qt.managedCssCache.trim()?qt.managedCssCache+"\n":"")+Xt}}),(0,Mu.b)(function(Ht){return qt.fileService.bulkUpload({nocache:!0,files:[new File([Ht.stylesheet],"panelpage__".concat(qt.panelPageCached.id,".css"))],fileNameOverride:"panelpage__".concat(qt.panelPageCached.id,".css")})}),(0,bt.b)(function(){console.log("stylesheet saved.")})).subscribe():void 0,this.classifyMutatedSub=(0,w.isPlatformBrowser)(this.platformId)?this.classifyService.mutated$.pipe((0,Nr.b)(2e3),(0,h0.T)(1),(0,ct.w)(function(Ht){var Xt=Ht.classes;return qt.authFacade.getUser$.pipe((0,ke.U)(function(Zn){return{classes:Xt,isAuthenticated:!!Zn}}))}),(0,sn.h)(function(Ht){return Ht.isAuthenticated}),(0,bt.b)(function(Ht){console.log("merged classes",Ht.classes)}),(0,sn.h)(function(){return!!qt.panelPageCached&&!!qt.panelPageCached.id}),(0,ct.w)(function(Ht){var Xt=Ht.classes;return qt.isStable?(0,ze.of)({classes:Xt}):qt.ngZone.onStable.asObservable().pipe((0,ke.U)(function(){return{classes:Xt}}),(0,Vn.q)(1))}),(0,ke.U)(function(Ht){var Xt=Ht.classes;return{classes:Array.from(Xt.keys()).reduce(function(Zn,fr){return(0,ue.Z)((0,ue.Z)({},Zn),{},(0,f.Z)({},fr,Array.from(Xt.get(fr).keys()).filter(function(Wi){return Xt.get(fr).get(Wi)!==Ho.KEEP}).reduce(function(Wi,qo){return(0,ue.Z)((0,ue.Z)({},Wi),{},(0,f.Z)({},qo,Xt.get(fr).get(qo)))},{})))},{})}}),(0,ke.U)(function(Ht){return{classes:e0(qt.managedClassesCache,Ht.classes)}}),(0,ke.U)(function(Ht){return{json:JSON.stringify(Ht.classes)}}),(0,Mu.b)(function(Ht){return qt.fileService.bulkUpload({nocache:!0,files:[new File([Ht.json],"panelpage__".concat(qt.panelPageCached.id,"__classes.json"))],fileNameOverride:"panelpage__".concat(qt.panelPageCached.id,"__classes.json")})}),(0,bt.b)(function(){console.log("classes saved.")})).subscribe():void 0,this.onStableSub=this.ngZone.onStable.asObservable().pipe((0,bt.b)(function(){return qt.isStable=!0})).subscribe(),this.onUnstableSub=this.ngZone.onUnstable.asObservable().pipe((0,bt.b)(function(){return qt.isStable=!1})).subscribe(),this.onTouched=function(){},this.panelPageService=Yt.getEntityCollectionService("PanelPage"),this.panelPageFormService=Yt.getEntityCollectionService("PanelPageForm"),this.panelPageStateService=Yt.getEntityCollectionService("PanelPageState")}return(0,v.Z)(a,[{key:"id",set:function(t){this.id$.next(t)}},{key:"panelPage",set:function(t){this.panelPage$.next(t)}},{key:"nested",set:function(t){this.nested$.next(t)}},{key:"contexts",set:function(t){this.contexts$.next(t)}},{key:"ancestory",set:function(t){this.ancestory$.next(t)}},{key:"css",set:function(t){this.css$.next(t)}},{key:"listeners",set:function(t){this.listeners$.next(t)}},{key:"panelsArray",get:function(){return this.pageForm.get("panels")}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"ngOnDestroy",value:function(){a.registredContextListeners.delete(this.instanceUniqueIdentity)}},{key:"populatePanelsFormArray",value:function(t){var e=this,r=t.panelPage;this.panelsArray.clear(),r.panels.forEach(function(){e.panelsArray.push(e.fb.control(""))})}},{key:"hookupFormChange",value:function(t){var e=this,r=t.panelPage;this.pageForm.valueChanges.pipe((0,Nr.b)(100),(0,sn.h)(function(){return void 0!==r&&"form"===r.displayType})).subscribe(function(s){var u=new Wu((0,ue.Z)((0,ue.Z)({},s),{},{name:r.name,title:r.title,derivativeId:r.id}));e.pageBuilderFacade.setForm(r.name,u)})}},{key:"hookupCss",value:function(t){var e=this;(0,nr.D)([(0,ze.of)(void 0),(0,ze.of)(void 0),(0,ze.of)(void 0),this.panelPageCached.id?this.http.get("".concat(this.mediaSettings.imageUrl,"/media/panelpage__").concat(this.panelPageCached.id,"__classes.json")).pipe((0,Hi.K)(function(){return(0,ze.of)(void 0)}),(0,Fi.d)(void 0)):(0,ze.of)(void 0)]).pipe((0,bt.b)(function(s){var u=(0,g.Z)(s,4),l=u[0],c=u[1],p=u[2],y=u[3];console.log("fetched managed panelpage css and class files");var E={};e.managedCssCache="",e.managedClassesCache=y,l&&(E=e0(E,l)),c&&(e.managedCssCache=p,E=e0(E,c)),e.filteredCss={css:E,classes:y}})).subscribe()}},{key:"submit",value:function(){if(this.pageForm.valid){var t=new Wu((0,ue.Z)({},this.pageForm.value)),e=this.formService.serializeForm(t);console.log(t),console.log(this.formService.serializeForm(t)),console.log("form data",e),this.persistService.persist({data:e,persistence:this.panelPageCached.persistence}).subscribe(function(){console.log("persisted data")})}else console.log("detected form invalid")}},{key:"writeValue",value:function(t){t&&this.settingsFormArray.setValue(t,{emitEvent:!1})}},{key:"registerOnChange",value:function(t){this.settingsFormArray.valueChanges.subscribe(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){t?this.settingsFormArray.disable():this.settingsFormArray.enable()}},{key:"validate",value:function(t){var e=this;return this.settingsFormArray.statusChanges.pipe((0,k2.O)(this.settingsFormArray.status),(0,sn.h)(function(r){return"PENDING"!==r}),(0,Nr.b)(1),(0,Vn.q)(1),(0,ke.U)(function(r){return e.settingsFormArray.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}))}}]),a}();mu.registredContextListeners=new Set,mu.\u0275fac=function(n){return new(n||mu)(o.\u0275\u0275directiveInject(o.PLATFORM_ID),o.\u0275\u0275directiveInject(b2),o.\u0275\u0275directiveInject(Vt.yh),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(_f),o.\u0275\u0275directiveInject(Sa),o.\u0275\u0275directiveInject(Sn.ContentPluginManager),o.\u0275\u0275directiveInject(Hu),o.\u0275\u0275directiveInject(G2),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(zn.StyleLoaderService),o.\u0275\u0275directiveInject(O.HttpClient),o.\u0275\u0275directiveInject(aR),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(gM),o.\u0275\u0275directiveInject(dM),o.\u0275\u0275directiveInject(zn.AsyncApiCallHelperService),o.\u0275\u0275directiveInject(J_),o.\u0275\u0275directiveInject(na),o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(kz),o.\u0275\u0275directiveInject(DK),o.\u0275\u0275directiveInject(IK),o.\u0275\u0275directiveInject(C2),o.\u0275\u0275directiveInject(Da),o.\u0275\u0275directiveInject(ci))},mu.\u0275cmp=o.\u0275\u0275defineComponent({type:mu,selectors:[["classifieds-ui-panel-page"]],viewQuery:function(n,t){var e;1&n&&(o.\u0275\u0275viewQuery(MM,5),o.\u0275\u0275viewQuery(VK,7),o.\u0275\u0275viewQuery(GM,5)),2&n&&(o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.gridLayout=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.renderPanelTpl=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.layoutRendererHost=e.first))},hostVars:2,hostBindings:function(n,t){2&n&&o.\u0275\u0275classProp("panel-page",!0)},inputs:{id:"id",panelPage:"panelPage",nested:"nested",contexts:"contexts",ancestory:"ancestory",css:"css",listeners:"listeners",resolvedContext:"resolvedContext"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return mu}),multi:!0},{provide:K.SD,useExisting:(0,o.forwardRef)(function(){return mu}),multi:!0}])],decls:6,vars:2,consts:[[3,"formGroup"],["classifiedsUiLayoutRendererHost",""],["type","button",3,"click",4,"ngIf"],["renderPanelTpl",""],["type","button",3,"click"],["formArrayName","panels"],[3,"formControlName","panel","nested","contexts","resolvedContext","contextsChanged","displayType","indexPosition","css","listeners","ancestory"]],template:function(n,t){1&n&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275elementContainerStart(1),o.\u0275\u0275template(2,GK,0,0,"ng-template",1),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,HK,2,0,"button",2),o.\u0275\u0275template(4,qK,3,12,"ng-template",null,3,o.\u0275\u0275templateRefExtractor)),2&n&&(o.\u0275\u0275property("formGroup",t.pageForm),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",t.persistenceEnabled))},dependencies:function(){return[w.NgIf,K.JJ,K.JL,K.sg,K.u,K.CE,KK,GM]},styles:["[_nghost-%COMP%]     gridster{background-color:#fff}[_nghost-%COMP%]     gridster-item{background-color:#fff}"]});var m0=function(){var a=function(){function n(t,e,r,s,u,l,c,p,y,E,D){var R=this;(0,h.Z)(this,n),this.document=t,this.platformId=e,this.el=r,this.renderer2=s,this.componentFactoryResolver=u,this.panelHandler=l,this.fb=c,this.cpm=p,this.cssHelper=y,this.paneStateService=E,this.settings=[],this.ancestory=[],this.panes=[],this.originPanes=[],this.afterContentInit$=new yn.x,this.resolvedContext$=new en.X({}),this.schedulePluginChange=new yn.x,this.ancestoryWithSelf=[],this.filteredListeners=[],this.css$=new en.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Or.a)([this.css$,this.afterContentInit$,this.schedulePluginChange]).pipe((0,ke.U)(function(B){return(0,g.Z)(B,1)[0]}),(0,ke.U)(function(B){return{css:R.cssHelper.reduceCss(B.css,".pane-".concat(R.indexPosition)),classes:R.cssHelper.reduceSelector(B.classes,".pane-".concat(R.indexPosition))}}),(0,ke.U)(function(B){var te=B.css,ne=B.classes;return[R.cssHelper.reduceCss(te,".panel-page",!1),R.cssHelper.reduceCss(te,".panel-page"),R.cssHelper.reduceSelector(ne,".panel-page",!1),R.cssHelper.reduceSelector(ne,".panel-page")]}),(0,bt.b)(function(B){var te=(0,g.Z)(B,4);return R.filteredCss={css:te[1],classes:te[3]}}),(0,ke.U)(function(B){var te=(0,g.Z)(B,4);return{css:te[0],classes:te[2]}}),(0,ke.U)(function(B){var ne=B.classes;return{css:{children:Object.keys(B.css.children).reduce(function(we,$e){return(0,ue.Z)((0,ue.Z)({},we),0===$e.indexOf(">")?(0,f.Z)({},R.ancestoryWithSelf.map(function(Ye,lt){return(lt+1)%2==0?".pane-".concat(Ye):".panel-".concat(Ye)}).join(" ")+" "+$e,ne[$e]):(0,f.Z)({},$e,ne[$e]))},{})},classes:Object.keys(ne).reduce(function(we,$e){return(0,ue.Z)((0,ue.Z)({},we),0===$e.indexOf(">")?(0,f.Z)({},R.ancestoryWithSelf.map(function(Ye,lt){return(lt+1)%2==0?".pane-".concat(Ye):".panel-".concat(Ye)}).join(" ")+" "+$e,ne[$e]):(0,f.Z)({},$e,ne[$e]))},{})}}),(0,gr.g)(500)).subscribe(function(B){var te=B.css,ne=B.classes;console.log("reduced classes",ne);var he=Object.keys(te.children).filter(function(we){return""===we||Df({selector:we,document:R.document})}),Se=Object.keys(ne).filter(function(we){return""===we||Df({selector:we,document:R.document})});Se.forEach(function(we,$e){for(var Ye=""===we?[R.el.nativeElement]:-1!==we.indexOf(">")?R.document.querySelectorAll(we):R.el.nativeElement.querySelectorAll(we),lt=Ye.length,Ft=0;Ft<lt;Ft++)for(var pt=ne[Se[$e]],Zt=Object.keys(pt),Gt=Zt.length,Yt=0;Yt<Gt;Yt++)Ye[Ft]&&(pt[Zt[Yt]]===Ho.REMOVE?(console.log("remove class ".concat(Zt[Yt])),R.renderer2.removeClass(Ye[Ft],Zt[Yt])):(console.log("add class ".concat(Zt[Yt])),R.renderer2.addClass(Ye[Ft],Zt[Yt])))}),he.forEach(function(we){console.log("search: ".concat(we));for(var $e=""===we?[R.el.nativeElement]:-1!==we.indexOf(">")?R.document.querySelectorAll(we):R.el.nativeElement.querySelectorAll(we),Ye=$e.length,lt=Object.keys(te.children[we].attributes),Ft=function(Gt){$e[Gt]&&lt.forEach(function(Yt){console.log("".concat(we," { ").concat(Yt,": ").concat(te.children[we].attributes[Yt],"; }"));var qt=Kl(Yt.replace("-","_"),!1);R.renderer2.setStyle($e[Gt],qt,te.children[we].attributes[Yt])})},pt=0;pt<Ye;pt++)Ft(pt)})}),this.listeners$=new en.X([]),this.listenersSub=(0,Or.a)([this.listeners$,this.schedulePluginChange]).pipe((0,ke.U)(function(B){return(0,g.Z)(B,1)[0]}),(0,bt.b)(function(B){console.log("pane listeners",B)})).subscribe(),this.paneForm=this.fb.group({contentPlugin:this.fb.control("",K.kI.required),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.control("")}),this.paneFormSub=this.paneForm.valueChanges.subscribe(function(B){console.log("pane form value plugin: ".concat(R.pluginName)),console.log(B)}),this.scheduleStateChange$=new yn.x,this.scheduleStateChangeSub=this.scheduleStateChange$.pipe((0,ct.w)(function(B){return R.paneStateService.mergeState({state:B.state,ancestory:(0,_.Z)(R.ancestoryWithSelf),settings:R.settings,plugin:R.contentPlugin})})).subscribe(function(B){R.panelPageStateService.upsert(B.pageState)}),this.onTouched=function(){},this.pluginChangeSub=this.schedulePluginChange.pipe((0,sn.h)(function(){return R.pluginName&&null!==R.pluginName&&""!==R.pluginName}),(0,ct.w)(function(){return R.cpm.getPlugin(R.pluginName)})).subscribe(function(B){R.contentPlugin=B,R.paneForm.get("contentPlugin").setValue(B.name),R.paneForm.get("name").setValue(R.name),R.paneForm.get("label").setValue(R.label),"panel"===R.pluginName?R.resolveNestedPanelPage():R.renderPaneContent()}),this.embedPanelSub=this.resolvedContext$.pipe((0,ke.U)(function(B){B&&B._root&&!R.linkedPageId&&0===R.settings.length&&(R.embedPanel=new yi(B._root))})).subscribe(),this.panelPageStateService=D.getEntityCollectionService("PanelPageState")}return(0,v.Z)(n,[{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"css",set:function(e){this.css$.next(e)}},{key:"listeners",set:function(e){this.listeners$.next(e)}},{key:"indexPositionClass",get:function(){return"pane-".concat(this.indexPosition)}},{key:"dynamicPanel",get:function(){return new yi(this.resolvedContext._root)}},{key:"ngOnInit",value:function(){this.ancestoryWithSelf=[].concat((0,_.Z)(this.ancestory?this.ancestory:[]),(0,_.Z)(null!=this.indexPosition?[this.indexPosition]:[])),this.schedulePluginChange.next(void 0)}},{key:"ngOnChanges",value:function(e){if(e.ancestory||e.indexPosition){var r=[].concat((0,_.Z)(e.ancestory.currentValue?e.ancestory.currentValue:this.ancestory?this.ancestory:[]),(0,_.Z)(null!=e.indexPosition.currentValue?[e.indexPosition.currentValue]:this.indexPosition?[this.indexPosition]:[]));(r.length!==this.ancestoryWithSelf.length||0!==this.ancestoryWithSelf.filter(function(s,u){return r[u]!==s}).length)&&(this.ancestoryWithSelf=r)}this.schedulePluginChange.next(void 0)}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.paneForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.paneForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.paneForm.disable():this.paneForm.enable()}},{key:"validate",value:function(e){var r=this;return this.paneForm.statusChanges.pipe((0,k2.O)(this.paneForm.status),(0,sn.h)(function(s){return"PENDING"!==s}),(0,Nr.b)(1),(0,Vn.q)(1),(0,ke.U)(function(s){return r.paneForm.valid?null:{invalidForm:{invalidForm:{valid:!1,message:"pane is invalid"}}}}))}},{key:"resolveNestedPanelPage",value:function(){var e=this;this.panelHandler.toObject(this.settings).subscribe(function(r){e.panelPage=new yi((0,ue.Z)((0,ue.Z)({},r),{},{contexts:e.contexts}))})}},{key:"renderPaneContent",value:function(){var e=this,r=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),s=this.contentPaneHost.viewContainerRef;s.clear(),this.componentRef=s.createComponent(r),this.componentRef.instance.settings=this.settings,this.componentRef.instance.name=this.name,this.componentRef.instance.label=this.label,this.componentRef.instance.panes=this.panes,this.componentRef.instance.originPanes=this.originPanes,this.componentRef.instance.contexts=this.contexts.map(function(u){return new Ao(u)}),this.componentRef.instance.displayType=this.displayType,this.componentRef.instance.resolvedContext=this.resolvedContext$.value,this.componentRef.instance.ancestory=this.ancestoryWithSelf,this.componentRef.instance.state&&this.contentPlugin.handler&&this.contentPlugin.handler.stateDefinition(this.settings).pipe((0,Vn.q)(1)).subscribe(function(u){e.componentRef.instance.state=u||{}}),this.componentRef.instance.stateChange&&this.componentRef.instance.stateChange.subscribe(function(u){e.scheduleStateChange$.next({state:u})})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(w.DOCUMENT),o.\u0275\u0275directiveInject(o.PLATFORM_ID),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(Vo),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Sn.ContentPluginManager),o.\u0275\u0275directiveInject(aR),o.\u0275\u0275directiveInject(FV),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-render-pane"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(K2,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contentPaneHost=r.first)},hostVars:5,hostBindings:function(t,e){2&t&&(o.\u0275\u0275attribute("data-index",e.indexPosition),o.\u0275\u0275classMap(e.indexPositionClass),o.\u0275\u0275classProp("pane",!0))},inputs:{pluginName:"pluginName",settings:"settings",linkedPageId:"linkedPageId",contexts:"contexts",originPane:"originPane",displayType:"displayType",name:"name",label:"label",indexPosition:"indexPosition",ancestory:"ancestory",panes:"panes",originPanes:"originPanes",resolvedContext:"resolvedContext",css:"css",listeners:"listeners"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.SD,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}]),o.\u0275\u0275NgOnChangesFeature],decls:6,vars:4,consts:[["fxFlex","",3,"formGroup"],["classifiedsUiPaneContentHost",""],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory",4,"ngIf"],["fxFlex","","formControlName","settings",3,"panelPage","nested","contexts","css","listeners","ancestory"],["fxFlex","","formControlName","settings",3,"id","nested","contexts","ancestory"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275elementContainerStart(1),o.\u0275\u0275template(2,OK,0,0,"ng-template",1),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275template(3,FK,1,6,"classifieds-ui-panel-page",2),o.\u0275\u0275template(4,MK,1,4,"classifieds-ui-panel-page",3),o.\u0275\u0275template(5,NK,1,6,"classifieds-ui-panel-page",2),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.paneForm),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf","panel"==e.pluginName&&!e.linkedPageId&&0!==e.settings.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","panel"==e.pluginName&&e.linkedPageId),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","panel"==e.pluginName&&!e.linkedPageId&&0===e.settings.length))},dependencies:[w.NgIf,K.JJ,K.JL,K.sg,K.u,K2,mu],styles:["[_nghost-%COMP%]{height:100%}"]}),a}(),KK=function(){var a=function(){function n(t,e,r,s,u,l,c,p,y,E){var D=this;(0,h.Z)(this,n),this.platformId=t,this.document=e,this.hostEl=r,this.renderer2=s,this.componentFactoryResolver=u,this.fb=l,this.panelResolverService=c,this.spm=p,this.cssHelper=y,this.styleResolverService=E,this.nested=!1,this.resolvedContext={},this.heightChange=new o.EventEmitter,this.panelForm=this.fb.group({name:this.fb.control(""),label:this.fb.control(""),panes:this.fb.array([])}),this.panelFormSub=this.panelForm.valueChanges.subscribe(function(R){console.log("paneL form value"),console.log(R)}),this.filteredListeners=[],this.afterContentInit$=new yn.x,this.schedulePanelRender=new yn.x,this.rendered$=new yn.x,this.css$=new en.X({css:this.cssHelper.makeJsonNode(),classes:{}}),this.cssSub=(0,Or.a)([this.css$,this.afterContentInit$,this.rendered$]).pipe((0,bt.b)(function(R){var B=(0,g.Z)(R,1);return console.log("css node",B[0].css)}),(0,ke.U)(function(R){return(0,g.Z)(R,1)[0]}),(0,ke.U)(function(R){return{css:D.cssHelper.reduceCss(R.css,".panel-".concat(D.indexPosition$.value)),classes:D.cssHelper.reduceSelector(R.classes,".panel-".concat(D.indexPosition$.value))}}),(0,ke.U)(function(R){var B=R.css,te=R.classes;return[D.cssHelper.reduceCss(B,".pane-",!1),B,D.cssHelper.reduceSelector(te,".pane-",!1),te]}),(0,bt.b)(function(R){var B=(0,g.Z)(R,4);return D.filteredCss={css:B[1],classes:B[3]}}),(0,ke.U)(function(R){var B=(0,g.Z)(R,3);return{css:B[0],classes:B[2]}}),(0,ke.U)(function(R){var te=R.classes;return{css:{children:Object.keys(R.css.children).reduce(function(Se,we){return(0,ue.Z)((0,ue.Z)({},Se),0===we.indexOf(">")?(0,f.Z)({},D.ancestoryWithSelf$.value.map(function($e,Ye){return(Ye+1)%2==0?".pane-".concat($e):".panel-".concat($e)}).join(" ")+" "+we,te[we]):(0,f.Z)({},we,te[we]))},{})},classes:Object.keys(te).reduce(function(Se,we){return(0,ue.Z)((0,ue.Z)({},Se),0===we.indexOf(">")?(0,f.Z)({},D.ancestoryWithSelf$.value.map(function($e,Ye){return(Ye+1)%2==0?".pane-".concat($e):".panel-".concat($e)}).join(" ")+" "+we,te[we]):(0,f.Z)({},we,te[we]))},{})}}),(0,gr.g)(1)).subscribe(function(R){var B=R.css,te=R.classes;console.log("classes",te);var ne=Object.keys(B.children).filter(function(Se){return""===Se||Df({selector:Se,document:D.document})}),he=Object.keys(te).filter(function(Se){return""===Se||Df({selector:Se,document:D.document})});he.forEach(function(Se,we){for(var $e=""===Se?[D.hostEl.nativeElement]:-1!==Se.indexOf(">")?D.document.querySelectorAll(Se):D.hostEl.nativeElement.querySelectorAll(Se),Ye=$e.length,lt=0;lt<Ye;lt++)for(var Ft=te[he[we]],pt=Object.keys(Ft),Zt=pt.length,Gt=0;Gt<Zt;Gt++)$e[lt]&&(Ft[pt[Gt]]===Ho.REMOVE?(console.log("remove class ".concat(pt[Gt])),D.renderer2.removeClass($e[lt],pt[Gt])):(console.log("add class ".concat(pt[Gt])),D.renderer2.addClass($e[lt],pt[Gt])))}),ne.forEach(function(Se){console.log("search: ".concat(Se));for(var we=""===Se?[D.hostEl.nativeElement]:-1!==Se.indexOf(">")?D.document.querySelectorAll(Se):D.hostEl.nativeElement.querySelectorAll(Se),$e=we.length,Ye=Object.keys(B.children[Se].attributes),lt=function(Zt){we[Zt]&&Ye.forEach(function(Gt){console.log("".concat(Se," { ").concat(Gt,": ").concat(B.children[Se].attributes[Gt],"; }"));var Yt=Kl(Gt.replace("-","_"),!1);D.renderer2.setStyle(we[Zt],Yt,B.children[Se].attributes[Gt])})},Ft=0;Ft<$e;Ft++)lt(Ft)})}),this.listeners$=new en.X([]),this.listenersSub=this.listeners$.pipe((0,bt.b)(function(R){console.log("panel listeners",R),D.filteredListeners=R})).subscribe(),this.scheduleRender=new yn.x,this.scheduleRenderSub=this.scheduleRender.pipe((0,bt.b)(function(){return console.log("schdule renderer before [".concat(D.panel.name,"]"))}),(0,ct.w)(function(R){var B=(0,g.Z)(R,3),te=B[0];return D.panelResolverService.resolvePanes({panes:te,contexts:B[1],resolvedContext:B[2]}).pipe((0,ke.U)(function(Se){return{resolvedPanes:Se.resolvedPanes,originMappings:Se.originMappings,panes:te}}))}),(0,ct.w)(function(R){var B=R.panes;return D.styleResolverService.alterResolvedPanes({panel:D.panel,resolvedPanes:R.resolvedPanes,originMappings:R.originMappings}).pipe((0,ke.U)(function(he){return{panes:B,resolvedPanes:he.resolvedPanes,originMappings:he.originMappings}}))}),(0,bt.b)(function(){return console.log("schdule renderer after [".concat(D.panel.name,"]"))})).subscribe(function(R){var B=R.panes,te=R.resolvedPanes,ne=R.originMappings;console.log("render panel: ".concat(D.panel.name)),D.resolvedPanes=te,D.originPanes=B,D.originMappings=ne,D.populatePanesFormArray(),void 0!==D.stylePlugin?D.renderPanelContent():D.rendered$.next(void 0)}),this.schduleContextChange=new yn.x,this.schedulePanelRenderSub=this.schedulePanelRender.pipe((0,ct.w)(function(R){return D.spm.getPlugin(R)})).subscribe(function(R){var B=D.componentFactoryResolver.resolveComponentFactory(R.renderComponent),te=D.panelHost.viewContainerRef;te.clear();var ne=te.createComponent(B);D.componentRef=ne,ne.instance.settings=D.panel.settings,ne.instance.panes=D.resolvedPanes,ne.instance.originPanes=D.panel.panes,ne.instance.originMappings=D.originMappings,ne.instance.contexts=D.contexts.map(function(he){return new Ao(he)}),ne.instance.displayType=D.displayType,ne.instance.ancestory=D.ancestoryWithSelf$.value,ne.instance.resolvedContext=D.resolvedContext,ne.instance.panel=D.panel,ne.instance.indexPosition=D.indexPosition$.value,D.rendered$.next(void 0)}),this.originMappings=[],this.resolvedContexts=[],this.ancestoryWithSelf$=new en.X([]),this.ancestory$=new en.X([]),this.indexPosition$=new en.X(void 0),this.onTouched=function(){},this.ancestorySub=(0,Or.a)([this.ancestory$,this.indexPosition$]).pipe((0,bt.b)(function(R){var B=(0,g.Z)(R,2),ne=B[1];D.ancestoryWithSelf$.next([].concat((0,_.Z)(B[0]),[ne]))})).subscribe(),this.counter=n.COUNTER++}return(0,v.Z)(n,[{key:"contextChanged",set:function(e){}},{key:"contextsChanged",set:function(e){var r=this;e.map(function(s){return r.schduleContextChange.next(s)})}},{key:"indexPosition",set:function(e){this.indexPosition$.next(e)}},{key:"ancestory",set:function(e){this.ancestory$.next(e)}},{key:"css",set:function(e){this.css$.next(e)}},{key:"listeners",set:function(e){this.listeners$.next(e)}},{key:"indexPositionClass",get:function(){return"panel-".concat(this.indexPosition$.value)}},{key:"panesArray",get:function(){return this.panelForm.get("panes")}},{key:"ngOnInit",value:function(){var e=this;this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,void 0!==this.panel&&void 0!==this.panelHost&&(console.log("panel render init [".concat(this.panel.name)),this.panelResolverService.usedContexts(this.panel.panes).pipe((0,ke.U)(function(r){return r.filter(function(s){return"_page"!==s&&"_root"!==s&&"."!==s&&0!==s.indexOf("panestate-"+e.ancestoryWithSelf$.value.join("-"))})}),(0,bt.b)(function(r){return console.log("contexts [".concat(e.panel.name,"]: ").concat(r.join(",")))}),(0,ct.w)(function(r){return e.schduleContextChange.pipe((0,bt.b)(function(s){return console.log("detected change [".concat(e.panel.name,"]: ").concat(s))}),(0,ke.U)(function(s){return[r,s]}))}),(0,bt.b)(function(r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];return console.log("detected change [".concat(e.panel.name,"]: ").concat(l," : ctx: ").concat(u.join(",")))}),(0,sn.h)(function(r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];return Array.isArray(u)&&-1!==u.findIndex(function(c){return c===l})}),(0,Nr.b)(100)).subscribe(function(r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];console.log("Context changed [".concat(e.panel.name,"]: ").concat(l)),console.log("contexts detected [".concat(e.panel.name,"]: ").concat(u.join(","))),e.scheduleRender.next([e.panel.panes,e.contexts,e.resolvedContext])}))}},{key:"ngOnChanges",value:function(e){this.stylePlugin=void 0!==this.panel.stylePlugin&&""!==this.panel.stylePlugin?this.panel.stylePlugin:void 0,e.resolvedContext&&void 0===e.resolvedContext.previousValue&&this.scheduleRender.next([this.panel.panes,this.contexts,this.resolvedContext])}},{key:"ngAfterViewInit",value:function(){}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(void 0)}},{key:"writeValue",value:function(e){e&&this.panelForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.panelForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.panelForm.disable():this.panelForm.enable()}},{key:"validate",value:function(e){var r=this;return this.panelForm.statusChanges.pipe((0,k2.O)(this.panelForm.status),(0,sn.h)(function(s){return"PENDING"!==s}),(0,Nr.b)(1),(0,Vn.q)(1),(0,ke.U)(function(s){return r.panelForm.valid?null:{invalidForm:{valid:!1,message:"panel are invalid"}}}))}},{key:"populatePanesFormArray",value:function(){var e=this;this.panesArray.clear(),this.resolvedPanes.forEach(function(r,s){e.panesArray.push(e.fb.control(""))})}},{key:"renderPanelContent",value:function(){this.schedulePanelRender.next(this.stylePlugin)}}]),n}();return a.COUNTER=0,a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.PLATFORM_ID),o.\u0275\u0275directiveInject(w.DOCUMENT),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.Renderer2),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(iR),o.\u0275\u0275directiveInject(Ef),o.\u0275\u0275directiveInject(aR),o.\u0275\u0275directiveInject(fM))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-render-panel"]],viewQuery:function(t,e){var r;1&t&&(o.\u0275\u0275viewQuery(K2,7),o.\u0275\u0275viewQuery(BK,7),o.\u0275\u0275viewQuery(m0,5)),2&t&&(o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.panelHost=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.paneContainer=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.renderedPanes=r))},hostVars:5,hostBindings:function(t,e){2&t&&(o.\u0275\u0275attribute("data-index",e.indexPosition$.value),o.\u0275\u0275classMap(e.indexPositionClass),o.\u0275\u0275classProp("panel",!0))},inputs:{panel:"panel",contexts:"contexts",nested:"nested",displayType:"displayType",resolvedContext:"resolvedContext",contextChanged:"contextChanged",contextsChanged:"contextsChanged",indexPosition:"indexPosition",ancestory:"ancestory",css:"css",listeners:"listeners"},outputs:{heightChange:"heightChange"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.SD,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}]),o.\u0275\u0275NgOnChangesFeature],decls:5,vars:2,consts:[[1,"render-panel",3,"formGroup"],["panes",""],["classifiedsUiPaneContentHost",""],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formArrayName","panes"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"formControlName","pluginName","settings","name","label","originPane","contexts","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes",4,"ngFor","ngForOf"],[3,"pluginName","settings","name","label","originPane","contexts","linkedPageId","displayType","resolvedContext","indexPosition","css","listeners","ancestory","panes","originPanes"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0,1),o.\u0275\u0275elementContainerStart(2),o.\u0275\u0275template(3,ZK,0,0,"ng-template",2),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275template(4,zK,4,3,"ng-container",3),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.panelForm),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",!e.stylePlugin&&e.resolvedPanes))},dependencies:[w.NgForOf,w.NgIf,w.NgSwitch,w.NgSwitchCase,K.JJ,K.JL,K.sg,K.u,K.CE,K2,m0],styles:["[_nghost-%COMP%]{height:100%}.render-panel[_ngcontent-%COMP%]{height:100%}"]}),a}(),yR=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),t.register(new ZF({id:"panels_form_submit",title:"Submit Panels Form"})),t.register(new ZF({id:"panels_dialog",title:"Open Panels Dialog"}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(BF))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,zn.UtilsModule,K.UX,rR,$M]}),a}(),Yl={},g0={},HM={},qM=!1;function QK(a,n){return _R.apply(this,arguments)}function _R(){return _R=zt((0,We.Z)().mark(function a(n,t){var e,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=g0[n],l.next=3,e.get(t);case 3:return s=(0,l.sent)(),l.abrupt("return",s);case 6:case"end":return l.stop()}},a)})),_R.apply(this,arguments)}function KM(a,n){return xR.apply(this,arguments)}function xR(){return xR=zt((0,We.Z)().mark(function a(n,t){return(0,We.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!HM[t]){r.next=2;break}return r.abrupt("return",n);case 2:if(qM){r.next=6;break}return r.next=5,S.I("default");case 5:qM=!0;case 6:return r.next=8,n.init(S.S.default);case 8:return HM[t]=!0,r.abrupt("return",n);case 10:case"end":return r.stop()}},a)})),xR.apply(this,arguments)}function bR(a,n){return CR.apply(this,arguments)}function CR(){return CR=zt((0,We.Z)().mark(function a(n,t){var e,r,s;return(0,We.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("string"!=typeof n){l.next=7;break}return e=n,l.next=4,WM(e,t);case 4:case 11:return l.abrupt("return",l.sent);case 7:if("script"!==n.type){l.next=14;break}return r=n,l.next=11,WM(r.remoteEntry,r.remoteName);case 14:if("module"!==n.type){l.next=18;break}return s=n,l.next=18,JK(s.remoteEntry);case 18:case"end":return l.stop()}},a)})),CR.apply(this,arguments)}function JK(a){return wR.apply(this,arguments)}function wR(){return wR=zt((0,We.Z)().mark(function a(n){return(0,We.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g0[n]){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,import(n).then(function(r){KM(r,n),g0[n]=r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},a)})),wR.apply(this,arguments)}function WM(a,n){return SR.apply(this,arguments)}function SR(){return SR=zt((0,We.Z)().mark(function a(n,t){return(0,We.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(s,u){if(g0[t])s();else{var l=document.createElement("script");l.src=n,l.onerror=u,l.onload=function(){var c=window[t];KM(c,t),g0[t]=c,s()},document.body.appendChild(l)}}));case 1:case"end":return r.stop()}},a)})),SR.apply(this,arguments)}function If(a,n){return ER.apply(this,arguments)}function ER(){return ER=zt((0,We.Z)().mark(function a(n,t){var e,r,s,u,l,c;return(0,We.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if((u="string"==typeof n?{type:"manifest",remoteName:n,exposedModule:t}:n).type||(l=Object.keys(Yl).length>0,u.type=l?"manifest":"script"),"manifest"!==u.type){y.next=10;break}if(c=Yl[u.remoteName]){y.next=6;break}throw new Error("Manifest does not contain "+u.remoteName);case 6:u={type:c.type,exposedModule:u.exposedModule,remoteEntry:c.remoteEntry,remoteName:"script"===c.type?u.remoteName:void 0},s=c.remoteEntry,y.next=11;break;case 10:s=u.remoteEntry;case 11:if("script"===u.type?(e={type:"script",remoteEntry:u.remoteEntry,remoteName:u.remoteName},r=u.remoteName):"module"===u.type&&(e={type:"module",remoteEntry:u.remoteEntry},r=u.remoteEntry),!s){y.next=15;break}return y.next=15,bR(e);case 15:return y.next=17,QK(r,u.exposedModule);case 17:return y.abrupt("return",y.sent);case 18:case"end":return y.stop()}},a)})),ER.apply(this,arguments)}var W2=S(374),X2=S(8428),JM=S(5096),Ts=S(4754);function tW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",4),o.\u0275\u0275listener("click",function(){var u=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onEntitySelected(u.value))}),o.\u0275\u0275elementStart(1,"span",5),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.value.title)}}function nW(a,n){}function rW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),o.\u0275\u0275listener("docRendered",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onDocRendered())}),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("content",o.\u0275\u0275pipeBind1(1,1,e.content$))}}function iW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"classifieds-ui-dynamic-content-viewer",1),o.\u0275\u0275listener("docRendered",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onDocRendered())}),o.\u0275\u0275pipe(1,"async"),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("content",o.\u0275\u0275pipeBind1(1,1,e.content$))}}function oW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",4),o.\u0275\u0275listener("click",function(){var u=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onStyleSelected(u.value))}),o.\u0275\u0275elementStart(1,"span",5),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.value.title)}}function aW(a,n){}var sW=["contentEditor"];function uW(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function lW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",19),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(r.onOverrideClick())}),o.\u0275\u0275text(1,"Override"),o.\u0275\u0275elementEnd()}}function cW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",19),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(r.onRemoveOverrideClick())}),o.\u0275\u0275text(1,"Remove Override"),o.\u0275\u0275elementEnd()}}function dW(a,n){}var Q2=function(n){return{settings:n}},fW=function(n){return{visible:n}};function pW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12)(4,"mat-icon"),o.\u0275\u0275text(5,"more_vert"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(6,"mat-expansion-panel",13),o.\u0275\u0275listener("afterCollapse",function(){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onAfterCollapse())})("afterExpand",function(){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onAfterExpand())}),o.\u0275\u0275elementStart(7,"mat-expansion-panel-header")(8,"mat-panel-title"),o.\u0275\u0275text(9),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(10,"div",14)(11,"ul"),o.\u0275\u0275template(12,uW,1,0,"ng-container",15),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(13,"div",16),o.\u0275\u0275template(14,lW,2,0,"button",17),o.\u0275\u0275template(15,cW,2,0,"button",17),o.\u0275\u0275elementContainerStart(16),o.\u0275\u0275template(17,dW,0,0,"ng-template",18),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()()()()}if(2&a){var e=o.\u0275\u0275nextContext(),r=o.\u0275\u0275reference(6),s=o.\u0275\u0275reference(2);o.\u0275\u0275advance(3),o.\u0275\u0275property("matMenuTriggerFor",r),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate2("",e.contentPlugin.title," : ",e.name,""),o.\u0275\u0275advance(1),o.\u0275\u0275property("hidden",e.preview),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(9,Q2,e.settings)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(11,fW,e.preview)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.displayOverride&&!e.hasOverride),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.displayOverride&&e.hasOverride)}}function hW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"attribute"),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit,e=o.\u0275\u0275nextContext().settings;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind2(2,1,e,t.name))}}function mW(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function gW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"ul"),o.\u0275\u0275template(1,mW,1,0,"ng-container",15),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275nextContext(2);var e=o.\u0275\u0275reference(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Q2,t.attributes))}}function vW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"li"),o.\u0275\u0275text(1),o.\u0275\u0275template(2,hW,3,4,"span",21),o.\u0275\u0275template(3,gW,2,4,"ul",21),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit,e=o.\u0275\u0275nextContext().settings;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.displayName,": "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.attributes||0==t.attributes.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.attributes&&t.attributes.length>0)}}function yW(a,n){1&a&&o.\u0275\u0275template(0,vW,4,3,"li",20),2&a&&o.\u0275\u0275property("ngForOf",n.settings)}function _W(a,n){}function xW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",22)(1,"classifieds-ui-content-editor",23,24),o.\u0275\u0275listener("nestedUpdate",function(s){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.onNestedUpdate(s))})("delete",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onDeleteClick())})("rules",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onRulesClick())})("props",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onPropsClick())}),o.\u0275\u0275template(3,_W,0,0,"ng-template",null,25,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("panelPage",e.panelPage)("savable",!1)("nested",!0)("locked",e.locked)("contexts",e.contexts)("rootContext",e.rootContext)("ancestory",e.paneAncestoryWithSelf)}}function bW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",26),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.onPreviewClick())}),o.\u0275\u0275text(1,"Preview"),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("disabled",e.locked)}}function CW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",27),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var r=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(r.onDisablePreviewClick())}),o.\u0275\u0275text(1,"Disable Preview"),o.\u0275\u0275elementEnd()}}var wW=["extraActionsArea"],SW=["contextsMenuTpl"],EW=["editablePaneTpl"],kW=["panes"];function PW(a,n){}var YM=function(n){return{nested:n}};function AW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"form",7),o.\u0275\u0275listener("ngSubmit",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.submit())}),o.\u0275\u0275elementContainerStart(1),o.\u0275\u0275template(2,PW,0,0,"ng-template",8),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",e.contentForm)("ngClass",o.\u0275\u0275pureFunction1(2,YM,e.nested))}}function RW(a,n){}function TW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275elementContainerStart(1),o.\u0275\u0275template(2,RW,0,0,"ng-template",8),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",t.contentForm)("ngClass",o.\u0275\u0275pureFunction1(2,YM,t.nested))}}function DW(a,n){1&a&&o.\u0275\u0275element(0,"div",12)}function IW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"classifieds-ui-editable-pane",10),o.\u0275\u0275listener("delete",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onDeletePane(c,p))})("rules",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onRulesPane(c,p))})("nestedUpdate",function(l){var c=o.\u0275\u0275restoreView(t),p=c.i,y=c.j,E=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(E.onNestedUpdate(l,p,y))})("rendererOverride",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onOverrideRenderer(c,p))})("removeRendererOverride",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onRemoveOverrideRenderer(c,p))})("edit",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onPaneEdit(c,p))})("props",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.editPaneProps(c,p))})("delete",function(){var l=o.\u0275\u0275restoreView(t),c=l.i,p=l.j,y=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(y.onPaneDelete(c,p))}),o.\u0275\u0275template(1,DW,1,0,"div",11),o.\u0275\u0275elementEnd()}if(2&a){var e=n.i,r=n.j,s=o.\u0275\u0275nextContext();o.\u0275\u0275property("panelIndex",e)("paneIndex",r)("name",s.panelPaneName(e,r))("label",s.panelPaneLabel(e,r))("locked",s.panelPaneLocked(e,r))("contexts",s.contexts)("pluginName",s.panelPanePlugin(e,r))("settings",s.panelPaneSettings(e,r))("ancestory",s.ancestory)}}function OW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"button",13),o.\u0275\u0275text(1,"( x )"),o.\u0275\u0275elementEnd()),2&a){o.\u0275\u0275nextContext();var t=o.\u0275\u0275reference(8);o.\u0275\u0275property("matMenuTriggerFor",t)}}function FW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",5),o.\u0275\u0275listener("click",function(){var u=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onEditContext(u.name))}),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()}if(2&a){var e=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.name)}}function MW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",1),o.\u0275\u0275listener("click",function(){var u=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onItemSelect(u.value))}),o.\u0275\u0275elementStart(1,"span",2),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.value.name)}}function NW(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function BW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1("",t.displayName,": ")}}function ZW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"attribute"),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit,e=o.\u0275\u0275nextContext().settings;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind2(2,1,e,t.name))}}function jW(a,n){1&a&&o.\u0275\u0275elementContainer(0)}function $W(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,jW,1,0,"ng-container",4),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275nextContext(2);var e=o.\u0275\u0275reference(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Q2,t.attributes))}}function LW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,BW,2,1,"span",2),o.\u0275\u0275template(2,ZW,3,4,"span",2),o.\u0275\u0275template(3,$W,2,4,"div",2),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",0==t.attributes.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",0==t.attributes.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.attributes.length>0)}}function UW(a,n){1&a&&o.\u0275\u0275template(0,LW,4,3,"div",6),2&a&&o.\u0275\u0275property("ngForOf",n.settings)}function zW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,NW,1,0,"ng-container",4),o.\u0275\u0275template(2,UW,1,1,"ng-template",null,5,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275reference(3),e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",o.\u0275\u0275pureFunction1(2,Q2,e.attributeValues))}}function VW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275element(1,"classifieds-ui-attributes-builder",8),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("formGroup",t.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("attributes",t.attributes)("attributeValues",t.attributeValues)}}function GW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,zW,4,4,"div",2),o.\u0275\u0275template(2,VW,2,3,"div",3),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","page"==t.displayType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","form"==t.displayType)}}function HW(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-snippet-pane-renderer",9),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275property("settings",t.rendererSettings)("tokens",t.tokens)}}function qW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",2),o.\u0275\u0275listener("removed",function(s){o.\u0275\u0275restoreView(t);var u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.onRemoveMedia(s))}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275property("removable",!0)("file",e.media),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2("",e.media.name," (",e.media.type,")")}}var KW=["img"];function WW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",26),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function XW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",23)(2,"mat-label"),o.\u0275\u0275text(3,"Pane"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",24),o.\u0275\u0275template(5,WW,2,2,"mat-option",25),o.\u0275\u0275elementEnd()()()),2&a){var t=n.index,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroupName",t),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngForOf",e.panes)}}function QW(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",20)(1,"button",21),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(s.addPane())}),o.\u0275\u0275text(2,"Add Pane"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div"),o.\u0275\u0275template(4,XW,6,2,"div",22),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(4),o.\u0275\u0275property("ngForOf",e.bindings.controls)}}function JW(a,n){1&a&&(o.\u0275\u0275elementStart(0,"div",27)(1,"mat-form-field"),o.\u0275\u0275element(2,"input",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-form-field"),o.\u0275\u0275element(4,"input",29),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-form-field"),o.\u0275\u0275element(6,"input",30),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"div")(8,"mat-checkbox",31),o.\u0275\u0275text(9,"Multiple"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(10,"mat-form-field"),o.\u0275\u0275element(11,"input",32),o.\u0275\u0275elementEnd()())}function YW(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function eX(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-select",5),o.\u0275\u0275template(5,YW,2,2,"mat-option",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(t.label),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",t.options)}}function tX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-radio-button",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function nX(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div")(2,"label"),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-radio-group",5),o.\u0275\u0275template(5,tX,2,2,"mat-radio-button",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(t.label),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",t.options)}}function rX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div")(1,"div",9)(2,"mat-checkbox",10),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd()()()),2&a){var t=n.$implicit,e=n.index;o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroupName",e),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(t.label)}}function iX(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div")(2,"div",1),o.\u0275\u0275template(3,rX,4,2,"div",8),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",t.options)}}function oX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function aX(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"mat-form-field"),o.\u0275\u0275element(2,"input",11),o.\u0275\u0275elementStart(3,"mat-autocomplete",12,13),o.\u0275\u0275listener("optionSelected",function(u){o.\u0275\u0275restoreView(t);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.onOptionSelected(u))}),o.\u0275\u0275template(5,oX,2,2,"mat-option",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()}if(2&a){var e=o.\u0275\u0275reference(4),r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("placeholder",r.label)("matAutocomplete",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("displayWith",r.displayAuto),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",r.options)}}function sX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.name),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.name)}}function uX(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",5),o.\u0275\u0275element(1,"druid-panels-panelpage-linkedlist",6),o.\u0275\u0275elementStart(2,"button",3),o.\u0275\u0275listener("click",function(){var l=o.\u0275\u0275restoreView(t).index,c=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(c.onRemoveMapping(l))}),o.\u0275\u0275text(3,"Remove"),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.index,r=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroupName",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("panes",r.panes)}}function lX(a,n){if(1&a&&o.\u0275\u0275element(0,"classifieds-ui-render-pane",4),2&a){var t=o.\u0275\u0275nextContext().index,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("pluginName",e.panes[2*t].contentPlugin)("settings",e.panes[2*t].settings)("contexts",e.panes[2*t].contexts)}}function cX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-tab"),o.\u0275\u0275template(1,lX,1,3,"ng-template",3),o.\u0275\u0275element(2,"classifieds-ui-render-pane",4),o.\u0275\u0275elementEnd()),2&a){var t=n.index,e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("pluginName",e.panes[2*t+1].contentPlugin)("settings",e.panes[2*t+1].settings)("contexts",e.panes[2*t+1].contexts)}}function dX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-tab-group",1),o.\u0275\u0275template(1,cX,3,3,"mat-tab",2),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("for",t.panes.length/2)}}function fX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-tab",6),o.\u0275\u0275element(1,"classifieds-ui-render-pane",4),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("contexts",t.contexts)}}function pX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-tab-group",1),o.\u0275\u0275template(1,fX,2,3,"mat-tab",5),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.panes)}}function hX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275element(1,"classifieds-ui-render-pane",3),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("pluginName",t.contentPlugin)("settings",t.settings)("contexts",t.contexts)("resolvedContext",t.resolvedContext)}}function mX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"th",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function gX(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"td",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit,e=o.\u0275\u0275nextContext().$implicit,r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(r.rowData(e,t))}}function vX(a,n){1&a&&(o.\u0275\u0275elementContainerStart(0,4),o.\u0275\u0275template(1,mX,2,1,"th",5),o.\u0275\u0275template(2,gX,2,1,"td",6),o.\u0275\u0275elementContainerEnd()),2&a&&o.\u0275\u0275property("matColumnDef",n.$implicit)}function yX(a,n){1&a&&o.\u0275\u0275element(0,"tr",9)}function _X(a,n){1&a&&o.\u0275\u0275element(0,"tr",10)}var MR,xX={GridLayout:{entityName:"GridLayout"},PanelPageForm:{crud:{panelpageform_serialize:{plugins:{idb_keyval:{params:{prefix:"panelpageform__"}}}}}}},J2=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiContentSelectionHost",""]]}),a}(),bX=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.data=t,this.bottomSheetRef=e,this.dialog=r,this.componentFactoryResolver=s,this.fb=u,this.contentPluginManager=l,this.selectedIndex=0}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.contentPlugins=this.contentPluginManager.getPlugins()}},{key:"onEntitySelected",value:function(e){var r=this;this.plugin=e,void 0!==this.plugin.selectionComponent?(this.selectedIndex=1,this.renderSelectionComponent()):void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),e.handler?this.plugin.handler.editorOptions([]).subscribe(function(u){r.dialog.open(r.plugin.editorComponent,(0,ue.Z)({data:{panelFormGroup:r.data.panelForm,panelIndex:r.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:r.data.contexts,contentAdded:r.data.contentAdded,plugin:e}},u.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{}))}):this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,pane:void 0,paneIndex:void 0,contexts:this.data.contexts,contentAdded:this.data.contentAdded}})):this.data.panelForm.get("panes").push(this.fb.group({contentPlugin:this.fb.control(this.plugin.id),name:this.fb.control(""),label:this.fb.control(""),settings:this.fb.array([])}))}},{key:"renderSelectionComponent",value:function(){var e=this.componentFactoryResolver.resolveComponentFactory(this.plugin.selectionComponent),r=this.selectionHost.viewContainerRef;r.clear();var s=r.createComponent(e);s.instance.panelFormGroup=this.data.panelForm,s.instance.contexts=this.data.contexts}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(ql.OG),o.\u0275\u0275directiveInject(ql.oL),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Sn.ContentPluginManager))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-content-selector"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(J2,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.selectionHost=r.first)},decls:10,vars:6,consts:[[1,"content-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),o.\u0275\u0275template(4,tW,3,1,"a",2),o.\u0275\u0275pipe(5,"keyvalue"),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(7,"mat-tab"),o.\u0275\u0275elementContainerStart(8),o.\u0275\u0275template(9,nW,0,0,"ng-template",3),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("selectedIndex",e.selectedIndex),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(5,2,o.\u0275\u0275pipeBind1(6,4,e.contentPlugins))))},dependencies:[w.NgForOf,M2.X2,qu.U,qu.oh,Ps.SK,Ps.R7,J2,w.AsyncPipe,w.KeyValuePipe],styles:[".content-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),a}(),ec=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.attributeSerializer=t,this.tokenizrService=e,this.types=["text/markdown","text/html"]}return(0,v.Z)(n,[{key:"handleFile",value:function(e){var r=this;return new hr.y(function(s){var u=new FileReader;u.onload=function(){s.next(r.buildSettings(new Ul({contentType:e.type,content:"".concat(u.result)}))),s.complete()},u.readAsText(e)})}},{key:"handlesType",value:function(e){return void 0!==this.types.find(function(r){return r===e})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,r,s){var u=this;return"context"===r?this.toObject(e).pipe((0,ke.U)(function(l){return u.tokenizrService.discoverTokens(l.content).map(function(p){return new Sn.ContentBinding({id:p,type:"context"})})})):(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(new Ul(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions({fullscreen:!0}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(Mr))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),e5=function(){var a=function(){function n(t,e,r,s){var u=this;(0,h.Z)(this,n),this.hostEl=t,this.handler=e,this.tokenizerService=r,this.markdownService=s,this.contexts=[],this.afterContentInit$=new yn.x,this.content="",this.content$=new en.X(""),this.settings$=new en.X([]),this.snippet$=new en.X(void 0),this.resolvedContext$=new en.X(void 0),this.docRendered$=new yn.x,this.contentSub=(0,Or.a)([this.afterContentInit$,this.content$,this.snippet$,this.docRendered$]).subscribe(function(l){var E=(0,g.Z)(l,3)[2];E&&E.jsScript&&""!==E.jsScript&&setTimeout(function(){return u.appendScript(E.jsScript)})}),this.renderContentSub=(0,Or.a)([this.settings$,this.resolvedContext$]).pipe((0,ct.w)(function(l){var c=(0,g.Z)(l,2);return u.handler.toObject(c[0])}),(0,ct.w)(function(l){return u.resolveContexts().pipe((0,ke.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),p=c[0],y=c[1];void 0!==y&&(u.tokens=y),u.contentType=p.contentType,u.snippet$.next(p);var E=u.replaceTokens(p.content),D=p.contentType&&-1!==p.contentType.indexOf("markdown")?u.markdownService.parse(E):E;u.content$.next(D)})}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){console.log("pane changed")}},{key:"ngAfterContentInit",value:function(){this.afterContentInit$.next(),this.afterContentInit$.complete()}},{key:"replaceTokens",value:function(e){return void 0!==this.tokens&&this.tokens.forEach(function(r,s){e=e.split("[".concat(s,"]")).join("".concat(r))}),e}},{key:"resolveContexts",value:function(){var e=this;return new hr.y(function(r){var s=new Map;if(e.resolvedContext$.value)for(var u in e.resolvedContext$.value)s=new Map([].concat((0,_.Z)(s),(0,_.Z)(e.tokenizerService.generateGenericTokens(e.resolvedContext$.value[u],"_root"===u?"":u))));r.next(s),r.complete()})}},{key:"appendScript",value:function(e){var r=document.createElement("script");r.type="text/javascript",r.appendChild(document.createTextNode(e)),this.hostEl.nativeElement.appendChild(r),console.log("add script")}},{key:"onDocRendered",value:function(){this.docRendered$.next(void 0)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(ec),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(D2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-snippet-pane-renderer"]],inputs:{settings:"settings",contexts:"contexts",tokens:"tokens",resolvedContext:"resolvedContext"},features:[o.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"content","docRendered",4,"ngIf"],[3,"content","docRendered"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,rW,2,3,"classifieds-ui-dynamic-content-viewer",0),o.\u0275\u0275template(1,iW,2,3,"classifieds-ui-dynamic-content-viewer",0)),2&t&&(o.\u0275\u0275property("ngIf","text/markdown"==e.contentType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","text/html"==e.contentType))},dependencies:[w.NgIf,zn.DynamicContentViewer,w.AsyncPipe]}),a}(),tc=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.snippetHandler=t}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return this.rendererSnippet(e).pipe((0,ke.U)(function(r){return void 0!==r}))}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"getBindings",value:function(e,r,s){return(0,ze.of)([])}},{key:"valueSettings",value:function(e){var r=[];return e.forEach(function(s){"value"===s.name&&r.push(s)}),r}},{key:"rendererSnippet",value:function(e){var s,r=this;return e.forEach(function(u){"_renderer"===u.name&&(s=r.snippetHandler.toObject(u.attributes))}),void 0!==s?s:(0,ze.of)(void 0)}},{key:"rendererOverrideSettings",value:function(e){return[new Ut.AttributeValue({name:"_renderer",type:Ut.AttributeTypes.Complex,displayName:"Renderer Override",value:void 0,computedValue:void 0,intValue:0,attributes:this.snippetHandler.buildSettings(e)})]}},{key:"widgetSettings",value:function(e){return[new Ut.AttributeValue({name:"widget",type:e.schema.type,displayName:"Widget",value:e.name,computedValue:e.name,intValue:0,attributes:[]})]}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ec))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),CX=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.tokenizerService=r,this.handler=s,this.fb=u}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.tokens=this.tokenizerService.generateTokens(this.data.pane.settings)}},{key:"submitted",value:function(e){this.replaceRenderer(e),this.dialogRef.close()}},{key:"replaceRenderer",value:function(e){var r,s=this.handler.rendererOverrideSettings(e)[0],u=this.convertToGroup(s),l=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("settings");l.controls.forEach(function(c,p){"_renderer"===c.get("name").value&&(r=p)}),void 0!==r?(l.insert(r,u),l.removeAt(r+1)):l.push(u)}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(tc),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rendering-editor"]],decls:2,vars:1,consts:[[3,"tokens","submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),o.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),o.\u0275\u0275element(1,"classifieds-ui-snippet-form"),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("tokens",e.tokens)},dependencies:[I2]}),a}(),wX=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.data=t,this.spm=e,this.bottomSheetRef=r,this.dialog=s,this.componentFactoryResolver=u,this.fb=l,this.selectedIndex=0}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.stylePlugins=this.spm.getPlugins()}},{key:"onStyleSelected",value:function(e){this.plugin=e,void 0!==this.plugin.editorComponent?(this.bottomSheetRef.dismiss(),this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.dialog.open(this.plugin.editorComponent,{data:{panelFormGroup:this.data.panelForm,panelIndex:this.data.panelIndex,contexts:this.data.contexts}})):(this.data.panelForm.get("stylePlugin").setValue(this.plugin.name),this.data.panelForm.get("styleTitle").setValue(this.plugin.title),this.data.panelForm.get("settings").clear(),this.bottomSheetRef.dismiss())}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(ql.OG),o.\u0275\u0275directiveInject(Ef),o.\u0275\u0275directiveInject(ql.oL),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-style-selector"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(J2,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.selectionHost=r.first)},decls:10,vars:6,consts:[[1,"style-selector-wrapper"],[3,"selectedIndex"],["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["classifiedsUiContentSelectionHost",""],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"mat-nav-list"),o.\u0275\u0275template(4,oW,3,1,"a",2),o.\u0275\u0275pipe(5,"keyvalue"),o.\u0275\u0275pipe(6,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(7,"mat-tab"),o.\u0275\u0275elementContainerStart(8),o.\u0275\u0275template(9,aW,0,0,"ng-template",3),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("selectedIndex",e.selectedIndex),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(5,2,o.\u0275\u0275pipeBind1(6,4,e.stylePlugins))))},dependencies:[w.NgForOf,M2.X2,qu.U,qu.oh,Ps.SK,Ps.R7,J2,w.AsyncPipe,w.KeyValuePipe],styles:[".style-selector-wrapper[_ngcontent-%COMP%]     .mat-tab-header{display:none}"]}),a}(),SX=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.inlineContextResolver=s,this.rulesParser=u,this.rulesForm=this.fb.group({rules:this.fb.control("")}),this.config={fields:{}}}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.inlineContextResolver.resolveMerged(this.data.contexts).subscribe(function(r){var s={};for(var u in r)e.rulesParser.buildFields(r[u],u).forEach(function(l,c){s[c]=l});e.config=(0,ue.Z)((0,ue.Z)({},e.config),{},{fields:s}),void 0!==e.data.rule&&e.rulesForm.get("rules").setValue(e.data.rule)})}},{key:"submit",value:function(){console.log("the rules"),console.log(this.rulesForm.get("rules").value),this.dialogRef.close(this.rulesForm.get("rules").value)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(_f),o.\u0275\u0275directiveInject(LF))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rules-dialog"]],decls:6,vars:3,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["formControlName","rules",3,"config"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content"),o.\u0275\u0275element(2,"query-builder",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),o.\u0275\u0275text(5,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.rulesForm),o.\u0275\u0275advance(2),o.\u0275\u0275property("config",e.config),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.rulesForm.valid))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,cR]}),a}(),EX=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.propertiesForm=this.fb.group({name:this.fb.control(this.data.props.name),title:this.fb.control(this.data.props.title),path:this.fb.control(this.data.props.path),cssFile:this.fb.control(this.data.props.cssFile),readUserIds:this.fb.array([this.fb.group({userId:this.fb.control(this.data.props.readUserIds&&this.data.props.readUserIds.length>0?this.data.props.readUserIds[0]:"")})])})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new r0((0,ue.Z)((0,ue.Z)({},this.propertiesForm.value),{},{readUserIds:this.propertiesForm.value.readUserIds.map(function(e){return e.userId})})))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-properties-dialog"]],decls:18,vars:2,consts:[[1,"properties-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","title","placeholder","Title"],["matInput","","formControlName","path","placeholder","Path"],["matInput","","formControlName","cssFile","placeholder","Css File"],["formArrayName","readUserIds"],["formGroupName","0"],["matInput","","formControlName","userId","placeholder","Read User Id"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.\u0275\u0275element(5,"input",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-form-field"),o.\u0275\u0275element(7,"input",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"mat-form-field"),o.\u0275\u0275element(9,"input",5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"mat-form-field"),o.\u0275\u0275element(11,"input",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"mat-form-field",7)(13,"div",8),o.\u0275\u0275element(14,"input",9),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(15,"mat-dialog-actions")(16,"button",10),o.\u0275\u0275text(17,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.propertiesForm),o.\u0275\u0275advance(16),o.\u0275\u0275property("disabled",!e.propertiesForm.valid))},dependencies:[K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,K.x0,K.CE,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,ai.k0,Ji]}),a}(),t5=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.contextForm=this.fb.group({context:this.fb.control("")}),this.context=t.context}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;this.data.context&&setTimeout(function(){e.contextFormComp.contextForm.setValue({name:e.data.context.name,plugin:e.data.context.plugin}),"rest"===e.data.context.plugin?setTimeout(function(){e.contextFormComp.componentRef.instance.restSourceFormComp.restSource={url:e.data.context.rest.url,params:e.data.context.rest.params}}):"datasource"===e.data.context.plugin&&setTimeout(function(){e.contextFormComp.componentRef.instance.datasourceFormComp.datasource=e.data.context.datasource})})}},{key:"submit",value:function(){""!==this.contextForm.get("context").value.name?this.dialogRef.close(new Ao(this.contextForm.get("context").value)):this.dialogRef.close()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-dialog"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(kF,5),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contextFormComp=r.first)},decls:6,vars:3,consts:[[1,"context-form",3,"formGroup","ngSubmit"],["formControlName","context",3,"context"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content"),o.\u0275\u0275element(2,"classifieds-ui-context-form",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"mat-dialog-actions")(4,"button",2),o.\u0275\u0275text(5,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.contextForm),o.\u0275\u0275advance(2),o.\u0275\u0275property("context",e.context),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.contextForm.valid))},dependencies:[K._Y,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,kF]}),a}(),kX=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new hM(this.propsForm.value))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-panel-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.\u0275\u0275element(5,"input",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-form-field"),o.\u0275\u0275element(7,"input",4),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),o.\u0275\u0275text(10,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.propsForm),o.\u0275\u0275advance(9),o.\u0275\u0275property("disabled",!e.propsForm.valid))},dependencies:[K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,ai.k0,Ji]}),a}(),PX=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.propsForm=this.fb.group({name:this.fb.control(this.data.props.name),label:this.fb.control(this.data.props.label)})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){this.dialogRef.close(new mM(this.propsForm.value))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-pane-props-dialog"]],decls:11,vars:2,consts:[[1,"props-form",3,"formGroup","ngSubmit"],[1,"content-inner"],["fxLayout","column"],["matInput","","formControlName","name","placeholder","Name"],["matInput","","formControlName","label","placeholder","Label"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"div",1)(3,"div",2)(4,"mat-form-field"),o.\u0275\u0275element(5,"input",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-form-field"),o.\u0275\u0275element(7,"input",4),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(8,"mat-dialog-actions")(9,"button",5),o.\u0275\u0275text(10,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.propsForm),o.\u0275\u0275advance(9),o.\u0275\u0275property("disabled",!e.propsForm.valid))},dependencies:[K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,ai.k0,Ji]}),a}(),n5=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiLayoutEditorHost",""]]}),a}(),r5=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","classifiedsUiPaneContentHost",""]]}),a}(),TR=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.entityServices=t,this.attributeSerializer=e}return(0,v.Z)(n,[{key:"entityCollectionService",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState")}},{key:"resolve",value:function(e,r){var E,R,s=this,u=function(E){return E.entities},p="$."+r.selectionPath.map(function(y,E){return"".concat((E+1)%2==0?"panes":(0===E?"":"nestedPage.")+"panels","[").concat(y,"]")}).join(".");return this.entityCollectionService.collection$.pipe((0,Vt.Ys)((R=(E={id:r.id,path:p}).path,(0,Vt.P1)(function(E){var D=E.id;return(0,Vt.P1)(u,function(R){return R[D]?R[D]:void 0})}({id:E.id}),function(B){return(0,du.JSONPath)({path:R,json:B})}))),(0,ke.U)(function(y){return y&&Array.isArray(y)&&0!==y.length?y[0]:s.defaultPaneState(r.value?r.value:{})}),(0,ke.U)(function(y){return s.attributeSerializer.deserialize(y.state)}),(0,ke.U)(function(y){return y?y.root?y.root:y:{}}),(0,bt.b)(function(y){console.log("resolved panestate[id=".concat(r.id,"]").concat(p)),console.log(y)}))}},{key:"defaultPaneState",value:function(e){return new wa({state:this.attributeSerializer.serialize(e,"root")})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ci),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),i5=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.componentFactoryResolver=t,this.panelHandler=e,this.cpm=r,this.settings=[],this.locked=!1,this.contexts=[],this.edit=new o.EventEmitter,this.props=new o.EventEmitter,this.delete=new o.EventEmitter,this.rules=new o.EventEmitter,this.rendererOverride=new o.EventEmitter,this.removeRendererOverride=new o.EventEmitter,this.nestedUpdate=new o.EventEmitter,this.heightChange=new o.EventEmitter,this.displayOverride=!1,this.hasOverride=!1,this.preview=!1,this.schedulePluginChange=new yn.x,this.pluginChangeSub=this.schedulePluginChange.pipe((0,ct.w)(function(u){return s.cpm.getPlugin(s.pluginName).pipe((0,ct.w)(function(l){return l.handler.hasRendererOverride(s.settings).pipe((0,ke.U)(function(c){return[u,l,c]}))}))})).subscribe(function(u){var l=(0,g.Z)(u,3),c=l[0],p=l[1],y=l[2];s.contentPlugin=p,s.displayOverride=p.handler.implementsRendererOverride(),s.hasOverride=!!y,c&&"panel"===s.pluginName&&s.panelHandler.toObject(s.settings).subscribe(function(E){s.panelPage=E})}),this.ancestory$=new yn.x,this.panelIndex$=new yn.x,this.paneIndex$=new yn.x,this.paneAncestoryWithSelf=[],this.paneAncestoryWithSelfSub=(0,Or.a)([this.ancestory$,this.panelIndex$,this.paneIndex$]).pipe((0,ke.U)(function(u){var l=(0,g.Z)(u,3),p=l[1],y=l[2];return[].concat((0,_.Z)(l[0]),[p,y])})).subscribe(function(u){s.paneAncestoryWithSelf=u})}return(0,v.Z)(n,[{key:"panelIndex",set:function(e){this.panelIndex$.next(e)}},{key:"paneIndex",set:function(e){this.paneIndex$.next(e)}},{key:"ancestory",set:function(e){this.ancestory$.next(e)}},{key:"ngOnInit",value:function(){this.schedulePluginChange.next(!0),console.log("here 1")}},{key:"ngOnChanges",value:function(e){this.schedulePluginChange.next(!1),console.log("here 2"),console.log(e)}},{key:"onEditClick",value:function(){this.edit.emit()}},{key:"onPropsClick",value:function(){this.props.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onPreviewClick",value:function(){var e=this;this.preview=!0,void 0!==this.contentPaneHost&&this.renderPaneContent(),setTimeout(function(){return e.heightChange.emit()})}},{key:"onOverrideClick",value:function(){this.rendererOverride.emit()}},{key:"onRemoveOverrideClick",value:function(){this.removeRendererOverride.emit()}},{key:"onNestedUpdate",value:function(e){this.nestedUpdate.emit(e)}},{key:"onDisablePreviewClick",value:function(){var e=this;this.preview=!1,void 0!==this.contentPaneHost&&this.contentPaneHost.viewContainerRef.clear(),setTimeout(function(){return e.heightChange.emit()})}},{key:"onAfterCollapse",value:function(){this.heightChange.emit()}},{key:"onAfterExpand",value:function(){this.heightChange.emit()}},{key:"renderPaneContent",value:function(){var e=this.componentFactoryResolver.resolveComponentFactory(this.contentPlugin.renderComponent),r=this.contentPaneHost.viewContainerRef;r.clear(),r.createComponent(e).instance.settings=this.settings}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(Vo),o.\u0275\u0275directiveInject(Sn.ContentPluginManager))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-editable-pane"]],viewQuery:function(t,e){var r;1&t&&(o.\u0275\u0275viewQuery(r5,5),o.\u0275\u0275viewQuery(sW,5)),2&t&&(o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contentPaneHost=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contentEditor=r.first))},inputs:{pluginName:"pluginName",settings:"settings",name:"name",label:"label",panelIndex:"panelIndex",paneIndex:"paneIndex",locked:"locked",rootContext:"rootContext",contexts:"contexts",ancestory:"ancestory"},outputs:{edit:"edit",props:"props",delete:"delete",rules:"rules",rendererOverride:"rendererOverride",removeRendererOverride:"removeRendererOverride",nestedUpdate:"nestedUpdate",heightChange:"heightChange"},features:[o.\u0275\u0275NgOnChangesFeature],decls:17,vars:6,consts:[["class","editable-pane-wrapper",4,"ngIf","ngIfElse"],["settingsTmpl",""],["nestedPanelTpl",""],["paneMenu","matMenu"],["type","button","mat-menu-item","",3,"disabled","click"],["type","button","mat-menu-item","",3,"click"],["mat-menu-item","","type","button",3,"disabled","click",4,"ngIf"],["mat-menu-item","","type","button",3,"click",4,"ngIf"],["type","button","mat-menu-item","",1,"delete",3,"click"],[1,"editable-pane-wrapper"],["fxLayout","row",1,"inner-pane-wrapper"],[1,"pane-menu-trigger-wrapper"],["mat-button","","type","button",3,"matMenuTriggerFor"],["fxFlex","",3,"afterCollapse","afterExpand"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"preview-area",3,"ngClass"],["class","override","type","button",3,"click",4,"ngIf"],["classifiedsUiPaneContentHost",""],["type","button",1,"override",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"nested-panel-wrapper"],[3,"panelPage","savable","nested","locked","contexts","rootContext","ancestory","nestedUpdate","delete","rules","props"],["contentEditor",""],["extraActionsArea",""],["mat-menu-item","","type","button",3,"disabled","click"],["mat-menu-item","","type","button",3,"click"]],template:function(t,e){if(1&t&&(o.\u0275\u0275template(0,pW,18,13,"div",0),o.\u0275\u0275template(1,yW,1,1,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(3,xW,5,7,"ng-template",null,2,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(5,"mat-menu",null,3)(7,"button",4),o.\u0275\u0275listener("click",function(){return e.onEditClick()}),o.\u0275\u0275text(8,"Edit"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"button",4),o.\u0275\u0275listener("click",function(){return e.onPropsClick()}),o.\u0275\u0275text(10,"Props"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"button",5),o.\u0275\u0275listener("click",function(){return e.onRulesClick()}),o.\u0275\u0275text(12,"Rules"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(13,bW,2,1,"button",6),o.\u0275\u0275template(14,CW,2,0,"button",7),o.\u0275\u0275elementStart(15,"button",8),o.\u0275\u0275listener("click",function(){return e.onDeleteClick()}),o.\u0275\u0275text(16,"Delete"),o.\u0275\u0275elementEnd()()),2&t){var r=o.\u0275\u0275reference(4);o.\u0275\u0275property("ngIf","panel"!=e.pluginName||e.locked)("ngIfElse",r),o.\u0275\u0275advance(7),o.\u0275\u0275property("disabled",e.locked),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",e.locked&&0!==e.settings.length),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",!e.preview),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.preview)}},dependencies:function(){return[w.NgClass,w.NgForOf,w.NgIf,w.NgTemplateOutlet,Oi.eB,vR.ib,vR.yz,vR.yK,d0.Hw,Go.W0,Go.tN,Go.D8,Ji,Gs,np,DR,r5,Ut.AttributePipe]},styles:[".editable-pane-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em;border-radius:4px;padding-left:.25em;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nested-panel-wrapper[_ngcontent-%COMP%]{margin-bottom:.25em}.inner-pane-wrapper[_ngcontent-%COMP%]{padding:0}.pane-header[_ngcontent-%COMP%]{background-color:#ccc;padding:0}.mat-menu-trigger[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0}button.delete[_ngcontent-%COMP%]{float:right}.preview-area[_ngcontent-%COMP%]{display:none;position:relative}.preview-area.visible[_ngcontent-%COMP%]{display:block;height:300px;overflow-y:scroll;border:1px solid black;padding:.5em}.panel-name[_ngcontent-%COMP%]{float:right;padding-right:.5em}.pane-menu-trigger-wrapper[_ngcontent-%COMP%]{display:flex}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 1em 0 .25em}"]}),a}(),DR=function(){var a=function(){function n(t,e,r,s,u,l,c,p,y,E,D,R,B,te){var ne=this;(0,h.Z)(this,n),this.siteName=t,this.cpm=e,this.spm=r,this.lpm=s,this.cxtm=u,this.fb=l,this.bs=c,this.dialog=p,this.panelHandler=y,this.tokenizerService=E,this.componentFactoryResolver=D,this.pageBuilderFacade=R,this.paneStateContextResolver=B,this.panelsContextService=te,this.submitted=new o.EventEmitter,this.nestedUpdate=new o.EventEmitter,this.delete=new o.EventEmitter,this.rules=new o.EventEmitter,this.props=new o.EventEmitter,this.savable=!0,this.nested=!1,this.locked=!1,this.pageBuilder=!1,this.contexts=[],this.contentAdded=new yn.x,this.contentAdddedSub=this.contentAdded.subscribe(function(he){var Se=(0,g.Z)(he,2);ne.resolvePaneContexts(Se[0],Se[1])}),this.dashboard=[],this.pageProperties=new r0,this.persistence=new bf,this.interactions=new Hl,this.layoutSetting=new Pr,this.rowSettings=[],this.ancestory$=new en.X([]),this.onTouched=function(){},this.contentForm=this.fb.group({name:this.fb.control(""),title:this.fb.control(""),layoutType:this.fb.control("split",K.kI.required),displayType:this.fb.control("page",K.kI.required),panels:this.fb.array([])}),this.options={gridType:er.Fit,displayGrid:Xu.Always,pushItems:!0,draggable:{enabled:!0},resizable:{enabled:!0},mobileBreakpoint:0,itemChangeCallback:function(Se,we){},itemInitCallback:function(Se,we){if(ne.nested&&0!==Se.y){var $e=ne.gridLayout.grid.findIndex(function(Ye){return Ye.x===Se.x&&Ye.y===Se.y&&Ye.cols===Se.cols&&Ye.rows===Se.rows});0===ne.panelPanes($e).length&&ne.gridLayout.setItemContentHeight($e,200)}}},this.ancestorySub=this.ancestory$.pipe((0,sn.h)(function(){return!!ne.layoutEditorRef})).subscribe(function(he){ne.layoutEditorRef.instance.ancestory=he})}return(0,v.Z)(n,[{key:"ancestory",get:function(){return this.ancestory$.value},set:function(e){this.ancestory$.next(e)}},{key:"panels",get:function(){return this.contentForm.get("panels")}},{key:"layoutType",get:function(){return this.contentForm.get("layoutType")}},{key:"displayType",get:function(){return this.contentForm.get("displayType")}},{key:"columnSettings",get:function(){for(var e=this.panels.length,r=[],s=0;s<e;s++)r=[].concat((0,_.Z)(r),[new Pr(this.panels.at(s).get("columnSetting").value)]);return r}},{key:"ngOnInit",value:function(){var e=this;this.contentForm.valueChanges.pipe((0,sn.h)(function(){return e.nested}),(0,Nr.b)(500)).subscribe(function(){e.nestedUpdate.emit(e.packageFormData())}),this.contentForm.get("layoutType").valueChanges.pipe((0,sn.h)(function(r){return"gridless"===r}),(0,gr.g)(1)).subscribe(function(r){0===e.panels.length&&e.panels.push(e.fb.group({name:new K.p4(""),label:new K.p4(""),stylePlugin:new K.p4(""),styleTitle:new K.p4(""),settings:new K.vC([]),panes:e.fb.array([]),columnSetting:e.fb.group({settings:e.fb.array([])})}))}),this.contentForm.valueChanges.pipe((0,sn.h)(function(){return!e.nested}),(0,Nr.b)(500)).subscribe(function(){var r=e.packageFormData();e.pageBuilderFacade.setPage(r)})}},{key:"ngAfterViewInit",value:function(){var e=this;this.layoutType.valueChanges.pipe((0,sn.h)(function(){return!!e.layoutEditorHost})).subscribe(function(r){e.renderEditorLayout(r)}),this.layoutType.value&&this.renderEditorLayout(this.layoutType.value)}},{key:"ngAfterContentInit",value:function(){var e=this;setTimeout(function(){e.panelPage||e.contentForm.get("layoutType").setValue("split")},1e3)}},{key:"ngOnChanges",value:function(e){var r=this;e.panelPage&&e.panelPage.previousValue!==e.panelPage.currentValue&&(this.panels.clear(),this.panelPageId=e.panelPage.currentValue.panelPageId,this.dashboard=e.panelPage.currentValue.gridItems.map(function(s){return Object.assign({},s)}),this.layoutType.setValue(e.panelPage.currentValue.layoutType),this.layoutSetting=new Pr(e.panelPage.currentValue.layoutSetting),this.rowSettings=e.panelPage.currentValue.rowSettings?e.panelPage.currentValue.rowSettings.map(function(s){return new Pr(s)}):[],this.persistence=e.panelPage.currentValue.persistence?new bf(e.panelPage.currentValue.persistence):new bf,this.interactions=e.panelPage.currentValue.interactions?new Hl(e.panelPage.currentValue.interactions):new Hl,this.nested?(this.pageProperties=new r0({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:"",readUserIds:[],cssFile:""}),this.contentForm.get("name").setValue(e.panelPage.currentValue.name),this.contentForm.get("title").setValue(e.panelPage.currentValue.title)):(this.pageProperties=new r0({name:e.panelPage.currentValue.name,title:e.panelPage.currentValue.title,path:e.panelPage.currentValue.path,readUserIds:e.panelPage.currentValue.entityPermissions.readUserIds,cssFile:e.panelPage.currentValue.cssFile}),this.contexts=e.panelPage.currentValue.contexts),e.panelPage.currentValue.panels.forEach(function(s,u){var l;r.panels.push(r.fb.group({name:new K.p4(s.name),label:new K.p4(s.label),stylePlugin:new K.p4(s.stylePlugin),styleTitle:new K.p4(""),settings:r.fb.array(void 0!==s.settings?s.settings.map(function(l){return r.convertToGroup(l)}):[]),panes:r.fb.array([]),columnSetting:r.fb.group({settings:r.fb.array(s.columnSetting?s.columnSetting.settings.map(function(l){return r.convertToGroup(l)}):[])})})),s.stylePlugin&&""!==s.stylePlugin&&r.spm.getPlugin(s.stylePlugin).subscribe(function(l){r.panels.at(u).get("styleTitle").setValue(l.title)}),r.nested&&r.panelPanes(r.panels.length-1).valueChanges.pipe((0,Nr.b)(5),(0,gr.g)(1)).subscribe((l=r.panels.length-1,function(){if(void 0!==r.gridLayout){var c=r.paneContainers.find(function(p,y){return y===l});r.gridLayout.setItemContentHeight(l,c.nativeElement.offsetHeight)}})),s.panes.forEach(function(l,c){r.panels.at(u).get("panes").push(r.fb.group({contentPlugin:l.contentPlugin,name:new K.p4(l.name),label:new K.p4(l.label),locked:new K.p4(l.locked),linkedPageId:new K.p4(l.linkedPageId),rule:new K.p4(l.rule&&null!==l.rule?(0,ue.Z)((0,ue.Z)({},l.rule),{},{rules:l.rule.rules&&Array.isArray(l.rule.rules)?l.rule.rules:[]}):{condition:"",rules:[]}),settings:new K.vC(l.settings.map(function(p){return r.convertToGroup(p)}))})),setTimeout(function(){return r.resolvePaneContexts(u,c)})})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings))}},{key:"addContent",value:function(e){var r=this;console.log(this.panels.at(e)),this.pageBuilderFacade.getPage$.pipe((0,ct.w)(function(s){return r.panelsContextService.allActivePageContexts({panelPage:s})}),(0,Vn.q)(1)).subscribe(function(s){r.bs.open(bX,{data:{panelForm:r.panels.at(e),panelIndex:e,contexts:[].concat((0,_.Z)(r.rootContext?[r.rootContext]:[]),(0,_.Z)(r.contexts),(0,_.Z)(s))}})})}},{key:"editPanelProps",value:function(e){var r=this.panels.at(e).get("name"),s=this.panels.at(e).get("label");this.dialog.open(kX,{data:{props:new hM({name:r.value,label:s.value})}}).afterClosed().subscribe(function(u){u&&(r.setValue(u.name),s.setValue(u.label))})}},{key:"editPaneProps",value:function(e,r){var s=this.panelPane(e,r).get("name"),u=this.panelPane(e,r).get("label");this.dialog.open(PX,{data:{props:new mM({name:s.value,label:u.value})}}).afterClosed().subscribe(function(l){l&&(s.setValue(l.name),u.setValue(l.label))})}},{key:"applyStyle",value:function(e){this.bs.open(wX,{data:{panelForm:this.panels.controls[e],panelIndex:e,contexts:this.contexts}})}},{key:"removeStyle",value:function(e){this.panels.controls[e].get("stylePlugin").setValue(""),this.panels.controls[e].get("styleTitle").setValue("")}},{key:"onItemAdded",value:function(){var e=this;console.log("item added"),this.panels.push(this.fb.group({name:new K.p4(""),label:new K.p4(""),stylePlugin:new K.p4(""),styleTitle:new K.p4(""),settings:new K.vC([]),panes:this.fb.array([]),columnSetting:this.fb.group({settings:this.fb.array([])})})),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){e.paneContainers.forEach(function(r,s){e.gridLayout.setItemContentHeight(s,r.nativeElement.offsetHeight)})}),this.panelPanes(this.panels.length-1).valueChanges.pipe((0,sn.h)(function(){return e.nested&&void 0!==e.gridLayout}),(0,Nr.b)(5),(0,gr.g)(1)).subscribe(function(r){return function(){var s=e.paneContainers.find(function(u,l){return l===r});e.gridLayout.setItemContentHeight(r,s.nativeElement.offsetHeight)}}(this.panels.length-1)),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onItemRemoved",value:function(e){var r=this;this.panels.removeAt(e),this.nested&&void 0!==this.gridLayout&&setTimeout(function(){r.paneContainers.forEach(function(s,u){r.gridLayout.setItemContentHeight(u,s.nativeElement.offsetHeight)})}),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"onDrop",value:function(e){console.log(e);var r=+e.container.data,s=+e.previousContainer.data;if(r===s){for(var u=e.currentIndex>e.previousIndex?1:-1,l=e.previousIndex,c=e.currentIndex,p=this.panelPanes(r).at(l),y=l;y*u<c*u;y+=u){var E=this.panelPanes(r).at(y+u);this.panelPanes(r).setControl(y,E)}this.panelPanes(r).setControl(c,p)}else{var D=this.panelPanes(s).at(e.previousIndex);this.panelPanes(s).removeAt(e.previousIndex),this.panelPanes(r).insert(e.currentIndex,D)}}},{key:"onOverrideRenderer",value:function(e,r){var s=new fi(this.panelPane(e,r).value);this.dialog.open(CX,{data:{panelFormGroup:this.panels.at(e),paneIndex:r,pane:s}})}},{key:"onRemoveOverrideRenderer",value:function(e,r){var u,s=this.panelPane(e,r).get("settings");s.controls.forEach(function(l,c){"_renderer"===l.get("name").value&&(u=c)}),void 0!==u&&s.removeAt(u)}},{key:"onNestedUpdate",value:function(e,r,s){var u=this,l=this.panelHandler.buildSettings(e),c=this.panelPane(r,s).get("settings");c.clear(),l.forEach(function(p){return c.push(u.convertToGroup(p))})}},{key:"onPaneHeightChange",value:function(e){if(this.nested&&this.gridLayout){var r=this.paneContainers.find(function(s,u){return u===e});this.gridLayout.setItemContentHeight(e,r.nativeElement.offsetHeight)}}},{key:"onDeleteClick",value:function(){this.delete.emit()}},{key:"onRulesClick",value:function(){this.rules.emit()}},{key:"onPropertiesClick",value:function(){var e=this;this.props.emit(),this.dialog.open(EX,{data:{props:this.pageProperties}}).afterClosed().subscribe(function(r){r&&(e.pageProperties=new r0((0,ue.Z)({},r)),e.contentForm.get("name").setValue(r.name),e.contentForm.get("title").setValue(r.title))})}},{key:"onRulesPane",value:function(e,r){var s=this,u=new fi(this.panelPane(e,r).value),l=""!==this.panelPane(e,r).get("rule").value?this.panelPane(e,r).get("rule").value:void 0,c=this.editablePanes.filter(function(E,D){return E.name===u.name}),y=(0,g.Z)(c,1)[0];this.pageBuilderFacade.getPage$.pipe((0,bt.b)(function(){s.pageBuilderFacade.setSelectionPath([].concat((0,_.Z)(s.ancestory),[e,r]))}),(0,ct.w)(function(E){return s.panelsContextService.allActivePageContexts({panelPage:E})}),(0,ct.w)(function(E){return s.dialog.open(SX,{data:{rule:l,contexts:[].concat((0,_.Z)(y.rootContext?[y.rootContext]:s.rootContext?[s.rootContext]:[]),(0,_.Z)(s.contexts),(0,_.Z)(E))}}).afterClosed()}),(0,Vn.q)(1)).subscribe(function(E){s.panelPane(e,r).get("rule").setValue(E||l||void 0)})}},{key:"onDeletePane",value:function(e,r){console.log("delete nested pane: ".concat(e," | ").concat(r))}},{key:"onAddContextClick",value:function(){var e=this,r=this.packageFormData();this.pageBuilderFacade.setPage(r),this.dialog.open(t5,{data:{}}).afterClosed().subscribe(function(s){s&&(e.contexts=[].concat((0,_.Z)(e.contexts),[s]))})}},{key:"onEditContext",value:function(e){var r=this,s=this.contexts.find(function(l){return l.name===e});if(console.log(s),s){var u=this.packageFormData();this.pageBuilderFacade.setPage(u),this.dialog.open(t5,{data:{context:s}}).afterClosed().subscribe(function(l){l&&(r.contexts=r.contexts.map(function(c){return c.name===e?new Ao(l):c}))})}}},{key:"onLayoutSettingChange",value:function(e){this.layoutSetting=new Pr(e),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.layoutSetting=this.layoutSetting)}},{key:"onRowSettingsChange",value:function(e){this.rowSettings=e.map(function(r){return new Pr(r)}),this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.rowSettings=this.rowSettings)}},{key:"onColumnSettingsChange",value:function(e){for(var r=this.panels.length,s=0;s<r;s++){this.panels.at(s).get("columnSetting").get("settings").clear();for(var u=0;u<e[s].settings.length;u++)this.panels.at(s).get("columnSetting").get("settings").push(this.convertToGroup(e[s].settings[u]))}this.nested&&this.nestedUpdate.emit(this.packageFormData()),this.layoutEditorRef&&(this.layoutEditorRef.instance.columnSettings=this.columnSettings)}},{key:"submit",value:function(){this.submitted.emit(this.packageFormData())}},{key:"packageFormData",value:function(){var r=new yi({id:this.panelPageId,title:this.pageProperties.title,name:this.pageProperties.name,site:this.siteName,path:this.pageProperties.path,cssFile:this.pageProperties.cssFile,displayType:this.displayType.value,layoutType:this.layoutType.value,gridItems:this.layoutEditorRef.instance.gridItems,contexts:this.contexts,panels:this.panels.value,layoutSetting:new Pr(this.layoutSetting),rowSettings:this.rowSettings.map(function(s){return new Pr(s)}),persistence:this.persistence,interactions:this.interactions,entityPermissions:{readUserIds:this.pageProperties.readUserIds,writeUserIds:[],deleteUserIds:[]}});return console.log(r),r}},{key:"syncNestedPanelPages",value:function(){var e=this;console.log("sync nested"),this.editablePanes.forEach(function(r){if(void 0!==r.contentEditor){var s=e.panelHandler.buildSettings(r.contentEditor.packageFormData()),u=e.panelPane(r.panelIndex,r.paneIndex).get("settings");u.clear(),s.forEach(function(l){return u.push(e.convertToGroup(l))})}})}},{key:"resolvePaneContexts",value:function(e,r){var s=this,u=new fi(this.panelPane(e,r).value),l=this.panelPanes(e).controls;this.cpm.getPlugin(u.contentPlugin).pipe((0,sn.h)(function(c){return void 0!==c.handler&&c.handler.isDynamic(u.settings)}),(0,ct.w)(function(c){return c.handler.fetchDynamicData(u.settings,new Map([["tag",Br()],["contexts",(0,_.Z)(s.contexts)]])).pipe((0,ke.U)(function(p){return new Ao({name:"_root",adaptor:"data",data:0!==p.length?p.results[0]:{}})}),(0,ct.w)(function(p){return c.handler.getBindings(u.settings,"pane").pipe((0,ke.U)(function(y){return[p,y.map(function(E){return l.findIndex(function(D){return new fi(D.value).name===E.id})})]}))}))})).subscribe(function(c){var p=(0,g.Z)(c,2),y=p[0],E=p[1];s.editablePanes.forEach(function(D,R){E.findIndex(function(B){return B===R})>-1&&(D.rootContext=y)})})}},{key:"onPersistenceClick",value:function(){var e=this;this.dialog.open(Sz,{data:{persistence:this.persistence,contexts:this.contexts}}).afterClosed().subscribe(function(r){console.log("persistence closed",r),e.persistence=r||e.persistence})}},{key:"onInteractionsClick",value:function(){var e=this;this.dialog.open(Tz,(0,ue.Z)({data:{interactions:this.interactions,contexts:this.contexts}},{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})).afterClosed().subscribe(function(r){console.log("interactions closed",r),e.interactions=r||e.interactions})}},{key:"panelPanes",value:function(e){return this.panels.at(e).get("panes")}},{key:"panelPane",value:function(e,r){return this.panelPanes(e).at(r)}},{key:"panelPanePlugin",value:function(e,r){return this.panelPane(e,r).get("contentPlugin").value}},{key:"panelPaneSettings",value:function(e,r){return this.panelPane(e,r).get("settings").value}},{key:"panelPaneName",value:function(e,r){return this.panelPane(e,r).get("name").value}},{key:"panelPaneLabel",value:function(e,r){return this.panelPane(e,r).get("label").value}},{key:"panelPaneLocked",value:function(e,r){if(this.locked)return this.locked;var s=this.panelPane(e,r).get("locked");return null!==s&&s.value}},{key:"panelPaneIsNested",value:function(e,r){return"panel"===this.panelPanePlugin(e,r)}},{key:"panelPanePanelPage",value:function(e,r){var s;return this.panelHandler.toObject(this.panelPaneSettings(e,r)).subscribe(function(u){s=u}),s}},{key:"hasPanelStyle",value:function(e){return void 0!==this.panels.at(e).get("stylePlugin").value&&""!==this.panels.at(e).get("stylePlugin").value}},{key:"panelStyleTitle",value:function(e){return this.panels.at(e).get("styleTitle").value}},{key:"onPaneEdit",value:function(e,r){var s=this,u=new fi(this.panelPane(e,r).value),l=this.panelPanePlugin(e,r),c=this.editablePanes.filter(function(E,D){return E.name===u.name}),y=(0,g.Z)(c,1)[0];this.cpm.getPlugin(l).pipe((0,sn.h)(function(E){return void 0!==E.editorComponent}),(0,ct.w)(function(E){return s.pageBuilderFacade.getPage$.pipe((0,ct.w)(function(D){return s.panelsContextService.allActivePageContexts({panelPage:D}).pipe((0,ke.U)(function(R){return[E,R]}),(0,Vn.q)(1))}),(0,Vn.q)(1))}),(0,ct.w)(function(E){var D=(0,g.Z)(E,2),R=D[0],B=D[1];return R.handler?R.handler.editorOptions(u.settings).pipe((0,ke.U)(function(te){return[R,B,te]})):(0,ze.of)([R,B,new Sn.ContentPluginEditorOptions])})).subscribe(function(E){var D=(0,g.Z)(E,3),B=D[1],te=D[2];s.dialog.open(D[0].editorComponent,(0,ue.Z)({data:{panelFormGroup:s.panels.at(e),panelIndex:e,paneIndex:r,contexts:[].concat((0,_.Z)(y.rootContext?[y.rootContext]:s.rootContext?[s.rootContext]:[]),(0,_.Z)(s.contexts),(0,_.Z)(B)),contentAdded:s.contentAdded,pane:u}},te.fullscreen?{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"}:{})).afterClosed().subscribe(function(){s.resolvePaneContexts(e,r)})})}},{key:"onPaneDelete",value:function(e,r){this.panelPanes(e).removeAt(r)}},{key:"onFileChange",value:function(e,r){var s=this,u=e.addedFiles[0];this.cpm.getPlugins().pipe((0,ke.U)(function(l){return Array.from(l.values()).filter(function(c){return void 0!==c.handler}).find(function(c){return c.handler.handlesType(u.type)})}),(0,sn.h)(function(l){return void 0!==l})).subscribe(function(l){l.handler.handleFile(u).subscribe(function(c){s.panelPanes(r).push(s.fb.group({contentPlugin:l.id,name:new K.p4(""),label:new K.p4(""),settings:s.fb.array(c.map(function(p){return s.fb.group({name:new K.p4(p.name,K.kI.required),type:new K.p4(p.type,K.kI.required),displayName:new K.p4(p.displayName,K.kI.required),value:new K.p4(p.value,K.kI.required),computedValue:new K.p4(p.value,K.kI.required)})}))}))})})}},{key:"writeValue",value:function(e){e&&this.contentForm.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.contentForm.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.contentForm.disable():this.contentForm.enable()}},{key:"validate",value:function(e){return this.contentForm.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}},{key:"renderEditorLayout",value:function(e){var r=this;console.log("render editor layout ".concat(e)),this.lpm.getPlugin(e).subscribe(function(s){var u=r.componentFactoryResolver.resolveComponentFactory(s.editor),l=r.layoutEditorHost.viewContainerRef;l.clear(),r.layoutEditorRef=l.createComponent(u),r.layoutEditorRef.instance.savable=r.savable,r.layoutEditorRef.instance.nested=r.nested,r.layoutEditorRef.instance.ancestory=r.ancestory,r.layoutEditorRef.instance.editor=r,r.layoutEditorRef.instance.extraActionsAreaTmpl=r.extraActionsAreaTmpl,r.layoutEditorRef.instance.contextsMenuTpl=r.contextsMenuTpl,r.layoutEditorRef.instance.editablePaneTpl=r.editablePaneTpl,r.layoutEditorRef.instance.dashboard=r.dashboard,r.layoutEditorRef.instance.layoutSetting=r.layoutSetting,r.layoutEditorRef.instance.rowSettings=r.rowSettings,r.layoutEditorRef.instance.columnSettings=r.columnSettings})}},{key:"updateEditorLayoutVars",value:function(){this.layoutEditorRef.instance.savable=this.savable,this.layoutEditorRef.instance.nested=this.nested,this.layoutEditorRef.instance.ancestory=this.ancestory,this.layoutEditorRef.instance.editor=this,this.layoutEditorRef.instance.extraActionsAreaTmpl=this.extraActionsAreaTmpl,this.layoutEditorRef.instance.contextsMenuTpl=this.contextsMenuTpl,this.layoutEditorRef.instance.editablePaneTpl=this.editablePaneTpl,this.layoutEditorRef.instance.dashboard=this.dashboard,this.layoutEditorRef.instance.layoutSetting=this.layoutSetting,this.layoutEditorRef.instance.rowSettings=this.rowSettings,this.layoutEditorRef.instance.columnSettings=this.columnSettings}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(zn.SITE_NAME),o.\u0275\u0275directiveInject(Sn.ContentPluginManager),o.\u0275\u0275directiveInject(Ef),o.\u0275\u0275directiveInject(G2),o.\u0275\u0275directiveInject(Hu),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(ql.ch),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(Vo),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver),o.\u0275\u0275directiveInject(Sa),o.\u0275\u0275directiveInject(TR),o.\u0275\u0275directiveInject(dM))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-content-editor"]],contentQueries:function(t,e,r){var s;1&t&&o.\u0275\u0275contentQuery(r,wW,5),2&t&&o.\u0275\u0275queryRefresh(s=o.\u0275\u0275loadQuery())&&(e.extraActionsAreaTmpl=s.first)},viewQuery:function(t,e){var r;1&t&&(o.\u0275\u0275viewQuery(MM,5),o.\u0275\u0275viewQuery(BM,5),o.\u0275\u0275viewQuery(n5,5),o.\u0275\u0275viewQuery(SW,7),o.\u0275\u0275viewQuery(EW,7),o.\u0275\u0275viewQuery(kW,5),o.\u0275\u0275viewQuery(i5,5)),2&t&&(o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.gridLayout=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.splitLayout=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.layoutEditorHost=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contextsMenuTpl=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.editablePaneTpl=r.first),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.paneContainers=r),o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.editablePanes=r))},inputs:{panelPage:"panelPage",savable:"savable",nested:"nested",locked:"locked",pageBuilder:"pageBuilder",contexts:"contexts",rootContext:"rootContext",ancestory:"ancestory"},outputs:{submitted:"submitted",nestedUpdate:"nestedUpdate",delete:"delete",rules:"rules",props:"props"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}]),o.\u0275\u0275NgOnChangesFeature],decls:12,vars:3,consts:[["class","content-editor-wrapper",3,"formGroup","ngClass","ngSubmit",4,"ngIf","ngIfElse"],["nestedTpl",""],["editablePaneTpl",""],["contextsMenuTpl",""],["contextMenu","matMenu"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"content-editor-wrapper",3,"formGroup","ngClass","ngSubmit"],["classifiedsUiLayoutEditorHost",""],[1,"content-editor-wrapper",3,"formGroup","ngClass"],[1,"editable-pane",3,"panelIndex","paneIndex","name","label","locked","contexts","pluginName","settings","ancestory","delete","rules","nestedUpdate","rendererOverride","removeRendererOverride","edit","props"],["class","custom-placeholder",4,"cdkDragPlaceholder"],[1,"custom-placeholder"],["type","button","mat-menu-item","",1,"context-button",3,"matMenuTriggerFor"]],template:function(t,e){if(1&t&&(o.\u0275\u0275template(0,AW,3,4,"form",0),o.\u0275\u0275template(1,TW,3,4,"ng-template",null,1,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(3,IW,2,9,"ng-template",null,2,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(5,OW,2,1,"ng-template",null,3,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(7,"mat-menu",null,4)(9,"button",5),o.\u0275\u0275listener("click",function(){return e.onAddContextClick()}),o.\u0275\u0275text(10,"define variable"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,FW,2,1,"button",6),o.\u0275\u0275elementEnd()),2&t){var r=o.\u0275\u0275reference(2);o.\u0275\u0275property("ngIf",!e.nested&&!e.pageBuilder)("ngIfElse",r),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngForOf",e.contexts)}},dependencies:[w.NgClass,w.NgForOf,w.NgIf,K._Y,K.JL,K.sg,Ql.Hk,Go.W0,Go.tN,Go.D8,np,n5,i5],styles:[".content-editor-wrapper[_ngcontent-%COMP%]{height:100%}.panel-inner[_ngcontent-%COMP%]{padding:1em}.content-editor-wrapper[_ngcontent-%COMP%]     ngx-dropzone{height:100%;display:block;padding:0;border:none}.content-editor-wrapper.nested[_ngcontent-%COMP%]     .grid-item-header{border-bottom:1px solid white}.layout-type[_ngcontent-%COMP%], .display-type[_ngcontent-%COMP%]{float:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:1.5em}.layout-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper, .display-type[_ngcontent-%COMP%]     .mat-form-field-label-wrapper{display:none}.layout-type[_ngcontent-%COMP%]     .mat-form-field-infix, .display-type[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:none;padding:0;margin:0}.layout-type[_ngcontent-%COMP%]     .mat-form-field, .display-type[_ngcontent-%COMP%]     .mat-form-field{width:85px}.layout-type[_ngcontent-%COMP%]     .mat-select-value, .display-type[_ngcontent-%COMP%]     .mat-select-value{text-align:right}.layout-type[_ngcontent-%COMP%]     .mat-form-field-underline, .display-type[_ngcontent-%COMP%]     .mat-form-field-underline{display:none}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .main-controls{background-color:#ccc}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .layout-inner{background-color:#ccc;padding:.75em}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .editable-pane-wrapper{border:none;margin-bottom:0}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .pane-header{background-color:#fff}classifieds-ui-gridless-layout[_ngcontent-%COMP%]     .nested-panel-wrapper{padding:.75em;margin-bottom:0}.custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;transition:transform .25s cubic-bezier(0,0,.2,1)}.context-button[_ngcontent-%COMP%]{font-style:italic;font-family:serif;font-weight:bolder;font-size:medium}"]}),a}(),AX=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.data=t,this.fb=e,this.handler=r}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(r){e.snippet=r})}},{key:"onSubmit",value:function(e){if(void 0===this.data.paneIndex)this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"snippet",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:new K.vC(this.buildSettings(e))}));else{var r=this.data.panelFormGroup.get("panes").at(this.data.paneIndex);r.get("settings").clear(),this.buildSettings(e).forEach(function(s){r.get("settings").push(s)})}}},{key:"buildSettings",value:function(e){return[this.fb.group({name:new K.p4("contentType",K.kI.required),type:new K.p4(Ut.AttributeTypes.Text,K.kI.required),displayName:new K.p4("Content Type",K.kI.required),value:new K.p4(e.contentType,K.kI.required),computedValue:new K.p4(e.contentType,K.kI.required)}),this.fb.group({name:new K.p4("content",K.kI.required),type:new K.p4(Ut.AttributeTypes.Text,K.kI.required),displayName:new K.p4("Content",K.kI.required),value:new K.p4(e.content,K.kI.required),computedValue:new K.p4(e.content,K.kI.required)}),this.fb.group({name:new K.p4("jsScript",K.kI.required),type:new K.p4(Ut.AttributeTypes.Text,K.kI.required),displayName:new K.p4("jsScript",K.kI.required),value:new K.p4(e.jsScript),computedValue:new K.p4(e.jsScript)})]}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(ec))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-snippet-editor2"]],decls:1,vars:1,consts:[[3,"snippet","submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-snippet-form",0),o.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("snippet",e.snippet)},dependencies:[I2]}),a}(),Y2=function(){var a=function(){function n(t,e,r,s,u,l,c){var p=this;(0,h.Z)(this,n),this.route=t,this.pageBuilderFacade=e,this.routerStore=r,this.asyncApiCallHelperSvc=s,this.crudDataHelperService=u,this.entityDefinitionService=l,this.paramMapSub=this.route.paramMap.pipe((0,bt.b)(function(){return console.log("param map panelPageId")}),(0,ke.U)(function(y){return y.get("panelPageId")}),(0,sn.h)(function(y){return void 0!==y}),(0,ct.w)(function(){return p.route.data}),(0,ma.M)(this.routerStore.pipe((0,Vt.Ys)(W_(function(y){return y.router}).selectCurrentRoute),(0,ke.U)(function(y){return y.params}),(0,Vn.q)(1))),(0,bt.b)(function(y){var E=(0,g.Z)(y,2),D=E[0],R=E[1];console.log("route page"),p.pageBuilderFacade.setPageInfo(new n0({id:D.panelPageListItem.id,realPath:"/pages/panelpage/"+D.panelPageListItem.id,path:D.panelPageListItem.path,args:R})),p.panelPageId=D.panelPageListItem.id})).subscribe(),this.panelPageService=c.getEntityCollectionService("PanelPage")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this,s=W_(function(u){return u.router}).selectCurrentRoute;this.route.paramMap.pipe((0,bt.b)(function(){return console.log("param map page builder facade info")}),(0,ma.M)(this.pageBuilderFacade.getPageInfo$),(0,sn.h)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return void 0!==p&&void 0!==c.get("panelPageId")&&c.get("panelPageId")===p.id}),(0,ct.w)(function(u){var p=(0,g.Z)(u,2)[1];return e.routerStore.pipe((0,Vt.Ys)(s),(0,ke.U)(function(y){return[p,y.params]}),(0,Vn.q)(1))})).subscribe(function(u){var l=(0,g.Z)(u,2),p=l[1];e.pageBuilderFacade.setPageInfo(new n0((0,ue.Z)((0,ue.Z)({},l[0]),{},{args:p})))})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Cr.ActivatedRoute),o.\u0275\u0275directiveInject(Sa),o.\u0275\u0275directiveInject(Vt.yh),o.\u0275\u0275directiveInject(zn.AsyncApiCallHelperService),o.\u0275\u0275directiveInject(J_),o.\u0275\u0275directiveInject(na),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-panel-page-router"]],decls:1,vars:1,consts:[[3,"id"]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"classifieds-ui-panel-page",0),2&t&&o.\u0275\u0275property("id",e.panelPageId)},dependencies:[mu]}),a}(),RX=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.panelPageService=t.getEntityCollectionService("PanelPage"),this.panelPageListItemService=t.getEntityCollectionService("PanelPageListItem")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){console.log("here")}},{key:"onSubmit",value:function(e){console.log("create panel page",e),e.id=Br(),this.panelPageService.add(e).subscribe(function(){console.log("panel page created")})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-create-panel-page"]],decls:1,vars:0,consts:[[3,"submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),o.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),o.\u0275\u0275elementEnd())},dependencies:[DR]}),a}(),ek=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.route=t,this.pageBuilderFacade=e,this.routerStore=r,this.moduleLoader=s,this.panelPageService=u.getEntityCollectionService("PanelPage"),this.panelPageListItemService=u.getEntityCollectionService("PanelPageListItem")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.pipe((0,ke.U)(function(r){return r.get("panelPageId")}),(0,sn.h)(function(r){return void 0!==r}),(0,Uu.x)(),(0,ct.w)(function(r){return e.panelPageService.getByKey(r)}),(0,ct.w)(function(r){return r?(0,nr.D)(r.contexts.filter(function(s){return"module"===s.plugin}).map(function(s){return e.moduleLoader.loadModule(function(){return If({type:"module",remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule}).then(function(u){return u[s.data.moduleName]})})})).pipe((0,gr.g)(1),(0,ke.U)(function(){return r}),(0,Fi.d)(r)):(0,ze.of)(r)}),(0,ct.w)(function(r){return e.routerStore.pipe((0,Vt.Ys)(W_(function(s){return s.router}).selectCurrentRoute),(0,ke.U)(function(s){return[r,s.params]}),(0,Vn.q)(1))}),(0,bt.b)(function(r){var s=(0,g.Z)(r,2),u=s[0],l=s[1];return e.pageBuilderFacade.setPageInfo(new n0({id:u.id,realPath:"/pages/panelpage/".concat(u.id),path:u.path,args:l}))})).subscribe(function(r){var u=(0,g.Z)(r,1)[0];console.log(u),e.panelPage=u})}},{key:"onSubmit",value:function(e){console.log("submitted"),this.panelPageService.update(new yi((0,ue.Z)((0,ue.Z)({},e),{},{id:this.panelPage.id}))).subscribe(function(){alert("panel page updated")})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Cr.ActivatedRoute),o.\u0275\u0275directiveInject(Sa),o.\u0275\u0275directiveInject(Vt.yh),o.\u0275\u0275directiveInject(zn.ModuleLoaderService),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-edit-panel-page"]],decls:1,vars:1,consts:[[3,"panelPage","submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-content-editor",0),o.\u0275\u0275listener("submitted",function(s){return e.onSubmit(s)}),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("panelPage",e.panelPage)},dependencies:[DR]}),a}(),TX=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.bottomSheetRef=t,this.handler=e,this.fb=r,this.dialog=s,this.cpm=u,this.wpm=l}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.attributeWidgets=this.wpm.getPlugins()}},{key:"onItemSelect",value:function(e){var r=this;console.log(e),this.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"attribute",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array(this.handler.widgetSettings(e).map(function(c){return r.fb.group({name:new K.p4(c.name,K.kI.required),type:new K.p4(c.type,K.kI.required),displayName:new K.p4(c.displayName,K.kI.required),value:new K.p4(c.value,K.kI.required),computedValue:new K.p4(c.computedValue,K.kI.required)})}))}));var s=this.panelFormGroup.get("panes"),u=s.length-1,l=new fi(s.at(u).value);this.cpm.getPlugin("attribute").subscribe(function(c){r.dialog.open(c.editorComponent,{data:{panelFormGroup:r.panelFormGroup,pane:l,paneIndex:u}})}),this.bottomSheetRef.dismiss()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(ql.oL),o.\u0275\u0275directiveInject(tc),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(rn.on),o.\u0275\u0275directiveInject(Sn.ContentPluginManager),o.\u0275\u0275directiveInject(Ut.WidgetPluginManager))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-attribute-selector"]],inputs:{panelFormGroup:"panelFormGroup"},decls:4,vars:5,consts:[["mat-list-item","","mat-list-item","",3,"click",4,"ngFor","ngForOf"],["mat-list-item","","mat-list-item","",3,"click"],["mat-line",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-nav-list"),o.\u0275\u0275template(1,MW,3,1,"a",0),o.\u0275\u0275pipe(2,"keyvalue"),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(2,1,o.\u0275\u0275pipeBind1(3,3,e.attributeWidgets))))},dependencies:[w.NgForOf,M2.X2,qu.U,qu.oh,w.AsyncPipe,w.KeyValuePipe]}),a}(),DX=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=r,this.fb=s,this.handler=u,this.attributes=[],this.attributeValues=[],this.attributesFormGroup=this.fb.group({name:new K.p4(""),label:new K.p4(""),attributes:new K.p4("")});var l=this.data.pane.settings.find(function(c){return"widget"===c.name});this.widget=e.find(function(c){return c.name===l.value})}return(0,v.Z)(n,[{key:"name",get:function(){return this.attributesFormGroup.get("name")}},{key:"label",get:function(){return this.attributesFormGroup.get("label")}},{key:"ngOnInit",value:function(){var e=this.data.pane.settings.find(function(u){return"value"===u.name});this.attributes=[new Ut.Attribute((0,ue.Z)((0,ue.Z)({},this.widget.schema),{},{widget:this.widget.name,label:"Value",name:"value"}))];var r=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").value,s=this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").value;this.attributesFormGroup.get("name").setValue(r),this.attributesFormGroup.get("label").setValue(s),void 0!==e?(this.attributeValues=this.handler.valueSettings(this.data.pane.settings),console.log(this.attributeValues)):this.attributeValues=[new Ut.AttributeValue({name:"value",type:this.widget.schema.type,displayName:"Value",value:"",computedValue:"",intValue:0,attributes:[]})]}},{key:"submit",value:function(){var e=this,r=this.name.value,s=this.label.value;this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("name").setValue(r),this.data.panelFormGroup.get("panes").at(this.data.paneIndex).get("label").setValue(s);var u=new fi({name:r,label:s,contentPlugin:"attribute",settings:""===this.attributesFormGroup.get("attributes").value?[]:this.attributesFormGroup.get("attributes").value});0!==u.settings.length?this.handler.rendererSnippet(this.data.pane.settings).subscribe(function(l){var c=void 0!==l?e.handler.rendererOverrideSettings(l):[],p=e.data.panelFormGroup.get("panes").at(e.data.paneIndex).get("settings");p.clear(),[].concat((0,_.Z)(e.handler.widgetSettings(e.widget)),(0,_.Z)(u.settings),(0,_.Z)(c)).forEach(function(y){return p.push(e.convertToGroup(y))}),e.dialogRef.close()}):this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(Ut.ATTRIBUTE_WIDGET),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(tc))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-attribute-editor"]],decls:10,vars:3,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Label","formControlName","label"],["formControlName","attributes",3,"attributes","attributeValues"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"mat-form-field"),o.\u0275\u0275element(3,"input",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"mat-form-field"),o.\u0275\u0275element(5,"input",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(6,"classifieds-ui-attributes-builder",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"mat-dialog-actions")(8,"button",5),o.\u0275\u0275text(9,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.attributesFormGroup),o.\u0275\u0275advance(6),o.\u0275\u0275property("attributes",e.attributes)("attributeValues",e.attributeValues))},dependencies:[K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,ai.k0,Ji,Ut.AttributesBuilderComponent]}),a}(),IX=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.widgets=t,this.handler=e,this.tokenizerService=r,this.fb=s,this.controlContainer=u,this.settings=[],this.appearance="legacy",this.attributes=[]}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.attributes=[new Ut.Attribute((0,ue.Z)((0,ue.Z)({},this.widgets.find(function(r){return r.name===e.settings.find(function(s){return"widget"===s.name}).value}).schema),{},{name:"value",label:"Value"}))],this.attributeValues=this.handler.valueSettings(this.settings),this.tokens=this.tokenizerService.generateTokens(this.attributeValues),this.handler.rendererSnippet(this.settings).subscribe(function(r){e.rendererOverride=r,void 0!==r&&(e.rendererSettings=e.handler.rendererOverrideSettings(r)[0].attributes)})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.ATTRIBUTE_WIDGET),o.\u0275\u0275directiveInject(tc),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN,8))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-attribute-pane-renderer"]],inputs:{settings:"settings",appearance:"appearance",name:"name",label:"label",displayType:"displayType"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overrideTpl",""],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["settingsTmpl",""],[4,"ngFor","ngForOf"],[3,"formGroup"],["formControlName","settings",3,"attributes","attributeValues"],[3,"settings","tokens"]],template:function(t,e){if(1&t&&(o.\u0275\u0275template(0,GW,3,2,"div",0),o.\u0275\u0275template(1,HW,1,2,"ng-template",null,1,o.\u0275\u0275templateRefExtractor)),2&t){var r=o.\u0275\u0275reference(2);o.\u0275\u0275property("ngIf",!e.rendererOverride)("ngIfElse",r)}},dependencies:[w.NgForOf,w.NgIf,w.NgTemplateOutlet,K.JJ,K.JL,K.sg,K.u,Ut.AttributesBuilderComponent,e5,Ut.AttributePipe],styles:[".override[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em}"]}),a}(),Of=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.filesService=t,this.attributeSerializer=e,this.types=["image/png","image/jpg","image/jpeg","image/gif"]}return(0,v.Z)(n,[{key:"handleFile",value:function(e){var r=this;return this.filesService.bulkUpload({files:[e]}).pipe((0,ke.U)(function(s){return r.buildSettings(s[0])}))}},{key:"handlesType",value:function(e){return void 0!==this.types.find(function(r){return r===e})}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"getBindings",value:function(e,r,s){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return e.fileName="placeholdername",this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,ze.of)({mediaLoading:"y",mediaLoaded:"n",loadError:"n",loadDuration:"y"})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(C2),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),OX=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.filesService=s,this.handler=u,this.mediaTypes=".png,.jpg,.jpeg,.gif,.svg"}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).pipe((0,ct.w)(function(r){return e.filesService.convertToFiles([r])})).subscribe(function(r){e.media=r[0]})}},{key:"onSelectMedia",value:function(e){var r=this;this.media=e.addedFiles[0],this.handler.handleFile(this.media).subscribe(function(s){void 0===r.data.paneIndex&&r.data.panelFormGroup.get("panes").push(r.fb.group({contentPlugin:"media",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:new K.vC(s.map(function(u){return r.fb.group({name:new K.p4(u.name,K.kI.required),type:new K.p4(u.type,K.kI.required),displayName:new K.p4(u.displayName,K.kI.required),value:new K.p4(u.value,K.kI.required),computedValue:new K.p4(u.value,K.kI.required)})}))})),r.dialogRef.close()})}},{key:"onRemoveMedia",value:function(e){this.media=void 0}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(C2),o.\u0275\u0275directiveInject(Of))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-media-editor"]],decls:4,vars:3,consts:[[3,"multiple","accept","change"],[3,"removable","file","removed",4,"ngIf"],[3,"removable","file","removed"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"ngx-dropzone",0),o.\u0275\u0275listener("change",function(s){return e.onSelectMedia(s)}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2,"Drag and Drop Media Here"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,qW,3,4,"ngx-dropzone-image-preview",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("multiple",!1)("accept",e.mediaTypes),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",e.media))},dependencies:[w.NgIf,U2,vM,_M]}),a}(),FX=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.mediaSettings=t,this.handler=e,this.attributeSerializer=r,this.settings=[],this.ancestory=[],this.state={},this.stateChange=new o.EventEmitter,this.panelPageStateService=s.getEntityCollectionService("PanelPageState")}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;console.log("media ancestory is"),console.log(this.ancestory),console.log("my state is:"),console.log(this.state),this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(r){e.mediaFile=r})}},{key:"ngAfterViewInit",value:function(){var e=this;this.image.nativeElement.onload=function(){console.log("image loaded"),e.stateChange.emit({mediaLoading:"n"})}}},{key:"ngOnChanges",value:function(){var e=this;this.mediaBaseUrl=this.mediaSettings.imageUrl,this.handler.toObject(this.settings).subscribe(function(r){e.mediaFile=r})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(b2),o.\u0275\u0275directiveInject(Of),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(ci))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-media-pane-renderer"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(KW,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.image=r.first)},inputs:{settings:"settings",ancestory:"ancestory",state:"state"},outputs:{stateChange:"stateChange"},features:[o.\u0275\u0275NgOnChangesFeature],decls:2,vars:2,consts:[[3,"src"],["img",""]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"img",0,1),2&t&&o.\u0275\u0275propertyInterpolate2("src","",e.mediaBaseUrl,"/",e.mediaFile.path,"",o.\u0275\u0275sanitizeUrl)},styles:["img[_ngcontent-%COMP%]{max-width:100%}"]}),a}(),v0=function(){var a=function(){function n(t,e,r,s,u,l,c,p,y){(0,h.Z)(this,n),this.siteName=t,this.snippetHandler=e,this.pageBuilderFacade=r,this.store=s,this.tokenizerService=u,this.panelHandler=l,this.urlGeneratorService=c,this.attributeSerializer=p,this.rulesResolver=y}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!0}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return["snippet","pane"].indexOf(this.getRenderType(e))>-1}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,r){var s=this,u=new yn.x;return this.toObject(e).pipe((0,ct.w)(function(l){return s.urlGeneratorService.getUrl(l.url,l.params,r).pipe((0,ke.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),p=c[0],y=c[1];s.pageBuilderFacade.loadRestData("".concat(r.get("tag")),new lu((0,ue.Z)((0,ue.Z)({},p),{},{url:y}))),s.store.pipe((0,Vt.Ys)(L2("".concat(r.get("tag")))),(0,sn.h)(function(E){return void 0!==E})).subscribe(function(E){u.next(E),u.complete()})}),u}},{key:"buildDynamicItems",value:function(e,r){var s=this,u=new yn.x;return console.log("build dynamic items rest"),this.toObject(e).pipe((0,ct.w)(function(l){return s.urlGeneratorService.getUrl(l.url,l.params,r).pipe((0,ke.U)(function(c){return[l,c]}))})).subscribe(function(l){var c=(0,g.Z)(l,2),p=c[0],y=c[1];console.log("Load in rest data"),s.pageBuilderFacade.loadRestData("".concat(r.get("tag")),new lu((0,ue.Z)((0,ue.Z)({},p),{},{url:y}))),s.store.pipe((0,Vt.Ys)(L2("".concat(r.get("tag")))),(0,sn.h)(function(E){return void 0!==E}),(0,ct.w)(function(E){return s.getBindings(e,"pane").pipe((0,ke.U)(function(D){return[E,D]}))}),(0,ct.w)(function(E){var D=(0,g.Z)(E,2),R=D[0],B=D[1];return zr(function(){return 0!==R.results.length&&B.length>0},new hr.y(function(te){(0,nr.D)(R.results.map(function(ne){return(0,XA.D)(B).pipe((0,ke.U)(function(he){return r.get("panes").find(function(Se){return Se.name===he.id})}),(0,ct.w)(function(he){return zr(function(){return he.rule&&null!==he.rule&&""!==he.rule.condition},s.rulesResolver.evaluate(he.rule,[].concat((0,_.Z)(r.get("contexts")),(0,_.Z)(void 0!==he.contexts?he.contexts:[]),[new Ao({name:"_root",adaptor:"data",data:ne})])).pipe((0,ke.U)(function(Se){return[he,Se]})),(0,ze.of)(!1).pipe((0,ke.U)(function(Se){return[he,Se]})))}),(0,sn.h)(function(he){return(0,g.Z)(he,2)[1]}),(0,ke.U)(function(he){return(0,g.Z)(he,2)[0].name}),(0,Fi.d)(B[0].id),(0,Vn.q)(1))})).pipe((0,ke.U)(function(ne){return[R,ne]})).subscribe(function(ne){te.next(ne),te.complete()})}),new hr.y(function(te){te.next([R]),te.complete()}))}),(0,ke.U)(function(E){var D=(0,g.Z)(E,2),B=D[1];return D[0].results.map("pane"===p.renderer.type?function(te,ne){var he=r.get("panes").find(function(we){return we.name===B[ne]}),Se=Br();return new fi((0,ue.Z)((0,ue.Z)({},he),{},{rule:void 0,label:Se,contexts:[].concat((0,_.Z)(r.get("contexts")),[new Ao({name:"_root",adaptor:"data",data:te})])}))}:function(te){return new fi({contentPlugin:"snippet",name:Br(),label:void 0,contexts:[].concat((0,_.Z)(r.get("contexts")),[new Ao({name:"_root",adaptor:"data",data:te})]),settings:s.snippetHandler.buildSettings((0,ue.Z)((0,ue.Z)({},p.renderer.data),{},{content:p.renderer.data.content}))})})}),(0,ke.U)(function(E){return new fu({stylePlugin:void 0,settings:[],panes:E,columnSetting:new Pr})}),(0,ke.U)(function(E){return s.panelHandler.buildSettings(new yi({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new Pr,rowSettings:[],panels:[E]}))})).subscribe(function(E){u.next(E.find(function(D){return"panels"===D.name}).attributes[0].attributes.find(function(D){return"panes"===D.name}).attributes),u.complete()})}),u}},{key:"buildSelectOptionItems",value:function(e,r){var s=this;return this.toObject(e).pipe((0,ct.w)(function(u){return s.urlGeneratorService.getUrl(u.url,u.params,r).pipe((0,ke.U)(function(l){return[u,l]}))}),(0,ke.U)(function(u){var l=(0,g.Z)(u,2),p=l[1];return new lu((0,ue.Z)((0,ue.Z)({},l[0]),{},{url:p}))})).subscribe(function(u){s.pageBuilderFacade.loadRestData("".concat(r.get("tag")),u)}),this.store.pipe((0,Vt.Ys)(L2("".concat(r.get("tag")))),(0,sn.h)(function(u){return void 0!==u}),(0,ke.U)(function(u){return[u,u.results.map(function(l){return s.tokenizerService.generateGenericTokens(l)})]}),(0,ke.U)(function(u){var l=(0,g.Z)(u,2);return[l[0],l[1],new bF(JSON.parse(r.get("snippet").content))]}),(0,ke.U)(function(u){var l=(0,g.Z)(u,3),c=l[0],y=l[2];return l[1].map(function(E,D){return new xF({dataItem:c.results[D],value:s.attributeSerializer.serialize("[.]"===y.value?c.results[D]:s.tokenizerService.replaceTokens(y.value,E),"value"),label:s.tokenizerService.replaceTokens(y.label,E)})})}))}},{key:"getBindings",value:function(e,r,s){return"context"===r?this.toObject(e).pipe((0,ke.U)(function(u){return u.params.reduce(function(l,c){return[].concat((0,_.Z)(l),(0,_.Z)("form"===c.mapping.type?[new Sn.ContentBinding({id:"form__".concat(c.mapping.value.split(".",2)[0].trim()),type:"context"})]:[]))},[])})):this.toObject(e).pipe((0,ct.w)(function(u){return zr(function(){return u.renderer.type===r},(0,ze.of)(u.renderer.bindings),(0,ze.of)([]))}))}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"getRenderType",value:function(e){var r=[e.find(function(s){return"renderer"===s.name})].map(function(s){return s.attributes.find(function(u){return"type"===u.name})});return r.length>0?r[0].value:void 0}},{key:"stateDefinition",value:function(e){return(0,ze.of)({autocomplete:{input:""}})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(ec),o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(Mr),o.\u0275\u0275inject(Vo),o.\u0275\u0275inject(X_),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(WA))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),MX=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.fb=t,this.tokenizerService=e,this.panes=[],this.submitted=new o.EventEmitter,this.contexts=[],this.forms=[],this.snippetValidation=!0,this.restForm=this.fb.group({source:this.fb.control(""),renderer:this.fb.group({type:"snippet",query:this.fb.control(""),trackBy:this.fb.control(""),data:this.fb.control(""),bindings:this.fb.array([]),select:this.fb.group({value:this.fb.control(""),label:this.fb.control(""),id:this.fb.control(""),multiple:this.fb.control(""),limit:this.fb.control("")})})})}return(0,v.Z)(n,[{key:"rest",set:function(e){var r=this;void 0!==e&&(this._rest=e,this.restForm.setValue({renderer:(0,ue.Z)((0,ue.Z)({trackBy:"",query:""},e.renderer),{},{data:e.renderer.data?(0,ue.Z)((0,ue.Z)({},e.renderer.data),{},{jsScript:e.renderer.data.jsScript?e.renderer.data.jsScript:""}):{content:"",contentType:"",jsScript:""},select:["pane","snippet"].findIndex(function(u){return u===e.renderer.type})>-1?{value:"",label:"",id:"",multiple:"",limit:""}:JSON.parse(e.renderer.data.content),bindings:[]}),source:{url:"",params:[],method:"",body:""}}),"pane"===e.renderer.type&&(this.bindings.clear(),e.renderer.bindings.forEach(function(u){"pane"===u.type&&r.bindings.push(r.fb.group({id:r.fb.control(u.id,K.kI.required),type:r.fb.control(u.type,K.kI.required)}))})),"pane"===e.renderer.type?this.restForm.get("renderer").get("data").disable():this.restForm.get("renderer").get("data").enable(),setTimeout(function(){r.restSource={url:e.url,params:e.params,method:e.method?e.method:"",body:e.body?(0,ue.Z)((0,ue.Z)({},e.body),{},{jsScript:""}):""},r.sourceForm.refreshData$.next(void 0)}))}},{key:"rendererType",get:function(){return this.restForm.get("renderer").get("type")}},{key:"isSelectable",get:function(){return this.restForm.get("renderer").get("type").value&&"snippet"!==this.restForm.get("renderer").get("type").value&&"pane"!==this.restForm.get("renderer").get("type").value}},{key:"bindings",get:function(){return this.restForm.get("renderer").get("bindings")}},{key:"valid",get:function(){return this.restForm.valid}},{key:"ngOnInit",value:function(){var e=this;console.log(this.contexts),this.restForm.get("renderer").get("type").valueChanges.subscribe(function(r){"pane"===e.rendererType.value?e.restForm.get("renderer").get("data").disable():e.restForm.get("renderer").get("data").enable(),e.restForm.get("renderer").get("data").setValue({contentType:"",content:"",jsScript:""})}),this.restForm.get("renderer").get("select").valueChanges.subscribe(function(r){e.restForm.get("renderer").get("data").setValue({contentType:"application/json",content:JSON.stringify({value:r.value,label:r.label,id:r.id,multiple:r.multiple,limit:r.limit}),jsScript:""})})}},{key:"ngAfterViewInit",value:function(){}},{key:"onDataChange",value:function(e){this.tokens=this.tokenizerService.generateGenericTokens(e[0])}},{key:"addPane",value:function(){this.bindings.push(this.fb.group({type:this.fb.control("pane",K.kI.required),id:this.fb.control("",K.kI.required)}))}},{key:"submit",value:function(){var e=new lu((0,ue.Z)((0,ue.Z)({},this.restForm.value),{},{url:this.restForm.value.source.url,params:this.restForm.value.source.params,method:this.restForm.value.source.method,body:this.restForm.value.source.body}));this.submitted.emit(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Mr))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rest-form"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(f0,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.sourceForm=r.first)},inputs:{panes:"panes",contexts:"contexts",rest:"rest"},outputs:{submitted:"submitted"},decls:34,vars:9,consts:[[1,"rest-form",3,"formGroup","ngSubmit"],["direction","vertical",1,"content-inner"],["as-split-area","","size","50"],["formControlName","source",3,"contexts","restSource","dataChange"],["size","50","formGroupName","renderer"],["matInput","","formControlName","query","placeholder","Query"],["matInput","","formControlName","trackBy","placeholder","Track By"],["required","","formControlName","type"],["label","Output"],["value","snippet"],["value","pane"],["label","Input"],["value","select"],["value","radiogroup"],["value","checkboxgroup"],["value","autocomplete"],["formControlName","data","splitDirection","horizontal","rows","10","cols","40",3,"hidden","rootForm","tokens"],["formArrayName","bindings",4,"ngIf"],["formGroupName","select",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["formArrayName","bindings"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formGroupName","select"],["matInput","","formControlName","id","placeholder","Id"],["matInput","","formControlName","value","placeholder","Value"],["matInput","","formControlName","label","placeholder","Label"],["formControlName","multiple"],["matInput","","formControlName","limit","placeholder","Limit"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"as-split",1)(3,"div",2)(4,"classifieds-ui-rest-source-form",3),o.\u0275\u0275listener("dataChange",function(s){return e.onDataChange(s)}),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(5,"as-split-area",4)(6,"mat-form-field"),o.\u0275\u0275element(7,"input",5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"mat-form-field"),o.\u0275\u0275element(9,"input",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"mat-form-field")(11,"mat-label"),o.\u0275\u0275text(12,"Type"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"mat-select",7)(14,"mat-optgroup",8)(15,"mat-option",9),o.\u0275\u0275text(16,"Snippet"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"mat-option",10),o.\u0275\u0275text(18,"Pane"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(19,"mat-optgroup",11)(20,"mat-option",12),o.\u0275\u0275text(21,"Select"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"mat-option",13),o.\u0275\u0275text(23,"Radio Group"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(24,"mat-option",14),o.\u0275\u0275text(25,"Checkbox Group"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(26,"mat-option",15),o.\u0275\u0275text(27,"Autocomplete"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275element(28,"classifieds-ui-snippet-form",16),o.\u0275\u0275template(29,QW,5,1,"div",17),o.\u0275\u0275template(30,JW,12,0,"div",18),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(31,"mat-dialog-actions")(32,"button",19),o.\u0275\u0275text(33,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.restForm),o.\u0275\u0275advance(4),o.\u0275\u0275property("contexts",e.contexts)("restSource",e.restSource),o.\u0275\u0275advance(24),o.\u0275\u0275property("hidden","snippet"!=e.rendererType.value)("rootForm",!1)("tokens",e.tokens),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","pane"==e.rendererType.value),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isSelectable),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",!e.valid))},dependencies:[w.NgForOf,w.NgIf,K._Y,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,K.x0,K.CE,Li.CK,Li.NA,Oi.eB,q_.FC,rn.aO,rn.Rb,rn.ev,Dn.v_,Dn.$V,ai.k0,ro.x8,z_,V_,f0,I2],styles:[".rest-form[_ngcontent-%COMP%]     .content-inner{height:auto}"]}),a}(),NX=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.handler=s,this.panes=[],this.contexts=[],this.contexts=this.data.contexts}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.panes=this.data.panelFormGroup.get("panes").controls.reduce(function(r,s){return s.get("name").value?[].concat((0,_.Z)(r),[s.get("name").value]):(0,_.Z)(r)},[]),void 0!==this.data.pane&&this.handler.toObject(this.data.pane.settings).subscribe(function(r){e.rest=r})}},{key:"submitted",value:function(e){var r=this,s=this.data.panelFormGroup.get("panes");if(void 0===this.data.paneIndex)s.push(this.fb.group({contentPlugin:"rest",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array(this.handler.buildSettings(e).map(function(l){return r.convertToGroup(l)}))})),this.data.contentAdded.next([this.data.panelIndex,s.length-1]);else{var u=s.at(this.data.paneIndex);u.get("settings").clear(),this.handler.buildSettings(e).forEach(function(l){u.get("settings").push(r.convertToGroup(l))})}this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(v0))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rest-editor"]],decls:1,vars:3,consts:[[3,"panes","rest","contexts","submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-rest-form",0),o.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("panes",e.panes)("rest",e.rest)("contexts",e.contexts)},dependencies:[MX]}),a}(),BX=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.tokenizerService=r,this.searchChange=new o.EventEmitter,this.selectionForm=this.fb.group({attributes:this.fb.array([])}),this.onTouched=function(){},this.displayAuto=function(u){return r.replaceTokens(s.selectMapping.label,s.tokenizerService.generateGenericTokens(u.dataItem))}}return(0,v.Z)(n,[{key:"values",set:function(e){this.options=e,this.buildOptions()}},{key:"attributesArray",get:function(){return this.selectionForm.get("attributes")}},{key:"ngOnInit",value:function(){var e=this;this.attributesArray.push(this.fb.group({name:new K.p4("value",K.kI.required),type:new K.p4(Ut.AttributeTypes.Array,K.kI.required),displayName:new K.p4("Value",K.kI.required),value:new K.p4(""),attributes:["checkboxgroup"].findIndex(function(r){return r===e.renderType})>-1?this.fb.array([]):new K.p4("")})),"autocomplete"===this.renderType&&(this.attributesArray.at(0).addControl("_proxy",this.fb.control("")),this.attributesArray.at(0).get("_proxy").valueChanges.pipe((0,Uu.x)(),(0,Nr.b)(500)).subscribe(function(r){e.searchChange.emit(r)}))}},{key:"onOptionSelected",value:function(e){this.attributesArray.at(0).get("attributes").setValue(e.option.value.value),this.attributesArray.at(0).get("attributes").updateValueAndValidity()}},{key:"writeValue",value:function(e){e&&this.attributesArray.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.attributesArray.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.attributesArray.disable():this.attributesArray.enable()}},{key:"validate",value:function(e){return this.selectionForm.valid?null:{invalidForm:{valid:!1,message:"selection is invalid"}}}},{key:"buildOptions",value:function(){var e=this;if("checkboxgroup"===this.renderType&&void 0!==this.options){var r=this.attributesArray.controls[0].get("attributes");r.clear(),this.options.forEach(function(s){var u=e.attributeSerializer.convertToGroup(s.value);u.addControl("_store",new K.p4(!1)),r.push(u)})}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Mr))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-selection"]],inputs:{name:"name",label:"label",values:"values",renderType:"renderType",selectMapping:"selectMapping"},outputs:{searchChange:"searchChange"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:9,vars:6,consts:[[3,"formGroup"],["formArrayName","attributes"],["formGroupName","0"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","attributes"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","_store"],["matInput","","formControlName","_proxy",3,"placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),o.\u0275\u0275elementContainerStart(4,3),o.\u0275\u0275template(5,eX,6,2,"ng-container",4),o.\u0275\u0275template(6,nX,6,2,"ng-container",4),o.\u0275\u0275template(7,iX,4,1,"ng-container",4),o.\u0275\u0275template(8,aX,6,4,"ng-container",4),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()()()()),2&t&&(o.\u0275\u0275property("formGroup",e.selectionForm),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngSwitch",e.renderType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","select"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","radiogroup"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","checkboxgroup"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase","autocomplete"))},dependencies:[w.NgForOf,w.NgSwitch,w.NgSwitchCase,K.Fj,K.JJ,K.JL,K.sg,K.u,K.x0,K.CE,W2.VN,W2.QJ,Li.CK,q_.FC,Dn.v_,Dn.$V,ai.k0,X2.OY,X2.vy,ro.x8]}),a}(),ZX=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.restHandler=t,this.controlContainer=e,this.settings=[],this.contexts=[],this.state={},this.stateChange=new o.EventEmitter,this.tag=Br(),this.searchChange$=new yn.x}return(0,v.Z)(n,[{key:"renderType",get:function(){return this.restHandler.getRenderType(this.settings)}},{key:"ngOnInit",value:function(){var e=this;this.restHandler.toObject(this.settings).pipe((0,bt.b)(function(r){e.snippet=r.renderer.data,e.selectMapping=new bF(JSON.parse(e.snippet.content))}),(0,sn.h)(function(){return"autocomplete"!==e.renderType}),(0,ct.w)(function(r){return e.restHandler.buildSelectOptionItems(e.settings,new Map([["tag",e.tag],["snippet",r.renderer.data],["contexts",e.contexts]]))})).subscribe(function(r){e.options=r}),this.searchChange$.pipe((0,bt.b)(function(r){e.stateChange.emit({autocomplete:{input:r}})}),(0,ct.w)(function(r){return e.restHandler.buildSelectOptionItems(e.settings,new Map([["tag",Br()],["snippet",e.snippet],["contexts",e.contexts]]))})).subscribe(function(r){e.options=r})}},{key:"onSearchChange",value:function(e){this.searchChange$.next(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(v0),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-rest-pane-renderer"]],inputs:{settings:"settings",name:"name",label:"label",displayType:"displayType",contexts:"contexts",state:"state"},outputs:{stateChange:"stateChange"},decls:2,vars:6,consts:[[3,"formGroup"],["formControlName","settings",3,"name","label","renderType","values","selectMapping","searchChange"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"classifieds-ui-selection",1),o.\u0275\u0275listener("searchChange",function(s){return e.onSearchChange(s)}),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("name",e.name)("label",e.label)("renderType",e.renderType)("values",e.options)("selectMapping",e.selectMapping))},dependencies:[K.JJ,K.JL,K.sg,K.u,BX]}),a}(),tk=function(){var a=function(){function n(t,e,r,s,u,l){(0,h.Z)(this,n),this.siteName=t,this.tokenizerService=e,this.panelHandler=r,this.mediaHandler=s,this.attributeSerializer=u,this.inlineContextResolver=l}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!0}},{key:"isData",value:function(e){return!1}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"buildDynamicItems",value:function(e,r){var s=this;return this.toObject(e).pipe((0,ke.U)(function(u){return[u,r.get("contexts").find(function(l){return l.name===u.context})]}),(0,ct.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return s.extractDataArray(p,c.query).pipe((0,ke.U)(function(y){return[c,p,y]}))}),(0,ct.w)(function(u){var l=(0,g.Z)(u,3);return s.transformDataArray(l[2],l[0].plugin)}),(0,ke.U)(function(u){return new fu({stylePlugin:void 0,settings:[],panes:u,columnSetting:new Pr})}),(0,ke.U)(function(u){return s.panelHandler.buildSettings(new yi({id:void 0,layoutType:"grid",displayType:"page",site:s.siteName,gridItems:[],layoutSetting:new Pr,rowSettings:[],panels:[u]}))}),(0,ke.U)(function(u){return u.find(function(l){return"panels"===l.name}).attributes[0].attributes.find(function(l){return"panes"===l.name}).attributes}))}},{key:"getBindings",value:function(e,r,s){return"context"===r?this.toObject(e).pipe((0,ke.U)(function(u){return[new Sn.ContentBinding({id:u.context,type:"context"})]})):(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"extractDataArray",value:function(e,r){return this.inlineContextResolver.resolve(e).pipe((0,ke.U)(function(s){var u=r.split("."),l=u.length;if(void 0===e)return(0,ze.of)([]);for(var c=Array.isArray(s)?s[0]:s,p=0;p<l;p++)""!==u[p]&&(c=c[u[p]]);return c}))}},{key:"transformDataArray",value:function(e,r){var s=this;return"media"===r?(0,ze.of)(e.map(function(u){return new RA(u)}).map(function(u){return new fi({contentPlugin:"media",name:void 0,label:void 0,settings:s.mediaHandler.buildSettings(u)})})):(0,ze.of)()}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(Mr),o.\u0275\u0275inject(Vo),o.\u0275\u0275inject(Of),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(_f))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),jX=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.context=n.context,this.query=n.query,this.plugin=n.plugin)}),$X=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.fb=t,this.contexts=[],this.submitted=new o.EventEmitter,this.sliceForm=this.fb.group({context:this.fb.control("",K.kI.required),query:this.fb.control("",K.kI.required),plugin:this.fb.control("",K.kI.required)})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=new jX(this.sliceForm.value);this.submitted.emit(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-slice-form"]],inputs:{contexts:"contexts"},outputs:{submitted:"submitted"},decls:20,vars:3,consts:[[1,"slice-form",3,"formGroup","ngSubmit"],["required","","formControlName","context"],["value","_root"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Query","formControlName","query","required",""],["required","","formControlName","plugin"],["value","media"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Type"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),o.\u0275\u0275text(7,"_root"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,sX,2,2,"mat-option",3),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(9,"mat-form-field"),o.\u0275\u0275element(10,"input",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"mat-form-field")(12,"mat-label"),o.\u0275\u0275text(13,"Plugin"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"mat-select",5)(15,"mat-option",6),o.\u0275\u0275text(16,"Media"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(17,"mat-dialog-actions")(18,"button",7),o.\u0275\u0275text(19,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.sliceForm),o.\u0275\u0275advance(8),o.\u0275\u0275property("ngForOf",e.contexts),o.\u0275\u0275advance(10),o.\u0275\u0275property("disabled",!e.sliceForm.valid))},dependencies:[w.NgForOf,K._Y,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,Dn.$V,ai.k0,ro.x8]}),a}(),LX=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.handler=s,this.contexts=[],this.contexts=this.data.contexts}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submitted",value:function(e){var r=this;this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:"slice",name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array(this.handler.buildSettings(e).map(function(s){return r.convertToGroup(s)}))})),this.dialogRef.close()}},{key:"convertToGroup",value:function(e){var r=this,s=this.fb.group({name:new K.p4(e.name,K.kI.required),type:new K.p4(e.type,K.kI.required),displayName:new K.p4(e.displayName,K.kI.required),value:new K.p4(e.value,K.kI.required),computedValue:new K.p4(e.value,K.kI.required),attributes:new K.vC([])});return e.attributes&&e.attributes.length>0&&e.attributes.forEach(function(u){s.get("attributes").push(r.convertToGroup(u))}),s}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(tk))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-slice-editor"]],decls:1,vars:1,consts:[[3,"contexts","submitted"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"classifieds-ui-slice-form",0),o.\u0275\u0275listener("submitted",function(s){return e.submitted(s)}),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("contexts",e.contexts)},dependencies:[$X]}),a}(),UX=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("rest",K.kI.required)),this.controlContainer.control.addControl("rest",this.fb.control(""))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-editor"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(f0,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.restSourceFormComp=r.first)},decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","rest"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-rest-source-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&o.\u0275\u0275property("formGroup",e.controlContainer.control)},dependencies:[K.JJ,K.JL,K.sg,K.u,f0]}),a}(),zX=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.attributeSerializer=s,this.contexts=[],this.panes=[],this.formGroup=this.fb.group({labels:this.fb.array([this.buildLabelGroup()])}),this.contexts=this.data.contexts}return(0,v.Z)(n,[{key:"labels",get:function(){return this.formGroup.get("labels")}},{key:"ngOnInit",value:function(){this.panes=new fu(this.data.panelFormGroup.value).panes}},{key:"submit",value:function(){var e=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(r){console.log("label mappings"),console.log(e.attributeSerializer.convertToGroup(r)),e.data.panelFormGroup.get("settings").push(e.attributeSerializer.convertToGroup(r))})}},{key:"onRemoveMapping",value:function(e){this.labels.removeAt(e)}},{key:"onAddMapping",value:function(){this.labels.push(this.buildLabelGroup())}},{key:"buildLabelGroup",value:function(){return this.fb.group({mapping:this.fb.control("")})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-tabs-panel-editor"]],decls:7,vars:3,consts:[[3,"formGroup","ngSubmit"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],[3,"formGroupName"],["formControlName","mapping",3,"panes"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275template(2,uX,4,2,"div",2),o.\u0275\u0275elementStart(3,"button",3),o.\u0275\u0275listener("click",function(){return e.onAddMapping()}),o.\u0275\u0275text(4,"Add"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(5,"button",4),o.\u0275\u0275text(6,"Save"),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.labels.controls),o.\u0275\u0275advance(3),o.\u0275\u0275property("disabled",!e.formGroup.valid))},dependencies:[w.NgForOf,K._Y,K.JJ,K.JL,K.sg,K.u,K.x0,K.CE,Oi.eB,rn.aO,dV],encapsulation:2}),a}(),VX=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t,this.settings=[],this.panes=[],this.originMappings=[],this.labelMappingsEnabled=!1}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){console.log("tabs panels contexts"),console.log(this.panes);var e=this.attributeSerializer.deserialize(new Ut.AttributeValue({name:"",displayName:"",computedValue:"",type:Ut.AttributeTypes.Complex,value:"",intValue:0,attributes:this.settings}));this.labelMappingsEnabled=!!(e&&void 0!==e.labels&&Array.isArray(e.labels)&&e.labels.length>0)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-tabs-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings"},decls:2,vars:2,consts:[["mat-align-tabs","start",4,"ngIf"],["mat-align-tabs","start"],[4,"for"],["mat-tab-label",""],[3,"pluginName","settings","contexts"],["label","The Label",4,"ngFor","ngForOf"],["label","The Label"]],template:function(t,e){1&t&&(o.\u0275\u0275template(0,dX,2,1,"mat-tab-group",0),o.\u0275\u0275template(1,pX,2,1,"mat-tab-group",0)),2&t&&(o.\u0275\u0275property("ngIf",e.labelMappingsEnabled),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.labelMappingsEnabled))},dependencies:[w.NgForOf,w.NgIf,Ps.SK,Ps.gz,Ps.R7,zn.ForDirective,m0]}),a}(),o5=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.controlContainer=e,this.panelPages=[],this.panelPage$=new en.X(new yi),this.context$=new en.X(void 0),this.formGroup=this.fb.group({state:this.fb.control("",[K.kI.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Nr.b)(250),(0,Uu.x)(),(0,sn.h)(function(s){try{return JSON.parse(s),!0}catch{return!1}}),(0,ke.U)(function(s){return JSON.parse(s)})).subscribe(function(s){console.log("write state"),console.log(s),r.formGroup.get("state").setValue(s)}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"panelPage",set:function(e){this.panelPage$.next(e)}},{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.panelPage$.subscribe(function(r){e.panelPages=[r]}),this.context$.subscribe(function(r){e.stateCtrl.setValue(r?JSON.stringify(r.data.state):"")})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}},{key:"flattenSelector",value:function(e){var r=[];return null!=e.panel&&r.push(e.panel),null!=e.pane&&r.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(function(s){return r.push(s)}),r}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-page-state-form"]],inputs:{panelPage:"panelPage",context:"context"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:3,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275text(1," <"),o.\u0275\u0275element(2,"textarea",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(2),o.\u0275\u0275property("formControl",e.stateCtrl))},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.oH,K.sg]}),a}(),GX=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.fb=t,this.pageBuilderFacade=e,this.controlContainer=r}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.controlContainer.control.addControl("adaptor",this.fb.control("data",K.kI.required)),this.controlContainer.control.addControl("data",this.fb.control("")),this.pageBuilderFacade.getPage$.pipe((0,Vn.q)(1)).subscribe(function(r){e.panelPage=r})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Sa),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-page-state-editor"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(o5,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.restSourceFormComp=r.first)},inputs:{context:"context"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","data",3,"panelPage","context"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-page-state-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("panelPage",e.panelPage)("context",e.context))},dependencies:[K.JJ,K.JL,K.sg,K.u,o5]}),a}(),HX=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new en.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[K.kI.required]),field:this.fb.control("",[K.kI.required])}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?new oR(r.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?(r.formGroup.get("name").setValue(s.name),r.formGroup.get("field").setValue(s.field)):(r.formGroup.get("name").setValue(""),r.formGroup.get("field").setValue(""))}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-form-datasource-form"]],inputs:{settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:11,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","field","required",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Name"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"input",1),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),o.\u0275\u0275text(9,"Field"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(10,"input",2),o.\u0275\u0275elementEnd()()()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Dn.v_,Dn.$V,ai.k0]}),a}(),qX=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-form-datasource"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-form-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings))},dependencies:[K.JJ,K.JL,K.sg,K.u,HX],encapsulation:2}),a}(),KX=function(n){return new Sn.ContentPlugin({id:"snippet",title:"Snippet",selectionComponent:void 0,editorComponent:AX,renderComponent:e5,handler:n})},WX=function(n){return new Sn.ContentPlugin({id:"attribute",title:"Attribute",selectionComponent:TX,editorComponent:DX,renderComponent:IX,handler:n})},XX=function(n){return new Sn.ContentPlugin({id:"media",title:"Media",selectionComponent:void 0,editorComponent:OX,renderComponent:FX,handler:n})},QX=function(n){return new Sn.ContentPlugin({id:"rest",title:"REST",selectionComponent:void 0,editorComponent:NX,renderComponent:ZX,handler:n})},JX=function(n){return new Sn.ContentPlugin({id:"slice",title:"Slice",selectionComponent:void 0,editorComponent:LX,renderComponent:void 0,handler:n})},YX=function(n){return new cu({id:"page",name:"page",title:"Page",global:!0,group:"pages",baseObject:{path:""},resolver:n})},eQ=function(n){var t={dataset:new Sr};return new cu({id:"rest",name:"rest",title:"Rest",baseObject:t,resolver:n,editorComponent:UX})},tQ=function(n){var t={dataset:new Sr};return new cu({id:"form",name:"form",title:"Form",baseObject:t,resolver:n})},nQ=function(n){var t=new wa({state:new Ut.AttributeValue});return new cu({id:"panestate",name:"panestate",title:"Pane State",internal:!0,baseObject:t,resolver:n})},rQ=function(n){var t=new wa({state:new Ut.AttributeValue});return new cu({id:"pagestate",name:"pagestate",title:"Page State",internal:!0,baseObject:t,resolver:n,editorComponent:GX})},iQ=function(n){return new j2({id:"tabs",name:"tabs",title:"Tabs",handler:n,editorComponent:zX,renderComponent:VX})},IR=function(n){return function(t){if(0===("/"+t.map(function(r){return r.path}).join("/")).indexOf(n.path)){var e=n.path.substr(1).split("/").length;return{consumed:t,posParams:t.reduce(function(r,s,u){return 0===u?(0,ue.Z)((0,ue.Z)({},r),{},{panelPageId:new Cr.UrlSegment(n.id,{})}):u>e-1?(0,ue.Z)((0,ue.Z)({},r),{},(0,f.Z)({},"arg".concat(u-e),new Cr.UrlSegment(s.path,{}))):(0,ue.Z)({},r)},{})}}return null}},OR=function(n){return function(t){return 0===("/"+t.map(function(r){return r.path}).join("/")).indexOf(n.path)&&t.map(function(r){return r.path}).join("/").indexOf("/manage")>-1?(n.path.substr(1).split("/"),{consumed:t,posParams:t.reduce(function(r,s,u){return 0===u?(0,ue.Z)((0,ue.Z)({},r),{},{panelPageId:new Cr.UrlSegment(n.id,{})}):(0,ue.Z)({},r)},{})}):null}},cQ=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.tokenizerService=t,this.panelResolverService=e,this.styleResolverService=r,this.paneDatasource=s,this.settings=[],this.panes=[],this.originMappings=[],this.resolvedContext={}}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.paneDatasource.pageChange$.pipe((0,h0.T)(1),(0,ct.w)(function(r){return e.panelResolverService.resolvePanes({panes:e.originPanes.map(function(s){return new fi((0,ue.Z)((0,ue.Z)({},s),{},{metadata:new Map([].concat((0,_.Z)(s.metadata?s.metadata:[]),[["page",r],["limit",e.paneDatasource.pageSize]]))}))}),contexts:e.contexts,resolvedContext:e.resolvedContext})}),(0,ct.w)(function(r){return e.styleResolverService.alterResolvedPanes({panel:e.panel,resolvedPanes:r.resolvedPanes,originMappings:r.originMappings})})).subscribe(function(r){var s=r.resolvedPanes;e.originMappings=r.originMappings,e.paneDatasource.panes=s}),this.paneDatasource.panes=this.panes,this.trackByTpl="[._root.id]"}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(iR),o.\u0275\u0275directiveInject(fM),o.\u0275\u0275directiveInject($2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-virtual-list-panel-renderer"]],inputs:{settings:"settings",panes:"panes",originPanes:"originPanes",originMappings:"originMappings",contexts:"contexts",resolvedContext:"resolvedContext",panel:"panel"},features:[o.\u0275\u0275ProvidersFeature([$2])],decls:2,vars:2,consts:[[1,"panes-viewport",3,"itemSize"],["class","pane-item",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"pane-item"],[3,"pluginName","settings","contexts","resolvedContext"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",0),o.\u0275\u0275template(1,hX,2,4,"div",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("itemSize",75),o.\u0275\u0275advance(1),o.\u0275\u0275property("cdkVirtualForOf",e.paneDatasource))},dependencies:[Tf.xd,Tf.x0,Tf.N7,m0],styles:["[_nghost-%COMP%]{position:relative}.panes-viewport[_ngcontent-%COMP%]{height:100%;width:100%}"]}),a}(),dQ=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.router=t}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.router.navigateByUrl(this.href)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Cr.Router))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-page-router-link"]],inputs:{href:"href",text:"text"},decls:2,vars:1,consts:[[3,"click"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"a",0),o.\u0275\u0275listener("click",function(){return e.onClick()}),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.text))},styles:["[_nghost-%COMP%]:hover{cursor:pointer}"]}),a}(),a5=new o.InjectionToken("PagesSettings"),fQ=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.disableRouting=!1,n&&(this.disableRouting=n.disableRouting)}),pQ=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.siteName=t,this.pagesSettings=e,this.router=r,this.routesLoaded=!1,this.panelPageListItemsService=s.getEntityCollectionService("PanelPageListItem")}return(0,v.Z)(n,[{key:"canActivate",value:function(e,r){var s=this;return new Promise(this.pagesSettings.disableRouting?function(u){return u(!0)}:function(u){var l=r.url;-1!==l.indexOf("?")&&(l=r.url.substr(0,l.indexOf("?")));var c="path="+l.substr(1).split("/").reduce(function(p,y,E){return[].concat((0,_.Z)(p),[0===E?"/".concat(y):"".concat(p[E-1],"/").concat(y)])},[]).map(function(p){return s.encodePathComponent(p)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(s.siteName,'"}}}')));setTimeout(function(){}),(0,nr.D)([zr(function(){return!s.routesLoaded},s.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(s.siteName,'"}}}')),'&path={"wildcard":{"path.keyword":{"value":"*"}}}')).pipe((0,bt.b)(function(){return console.log("loaded page list items")}),(0,ke.U)(function(p){return p.filter(function(y){return void 0!==y.path&&""!==y.path})}),(0,ke.U)(function(p){return p.map(function(y){return new yi(y)}).sort(function(y,E){return y.path.split("/").length===E.path.split("/").length?y.path.split("/")[y.path.split("/").length-1]>E.path.split("/")[E.path.split("/").length-1]?-1:1:y.path.split("/").length>E.path.split("/").length?-1:1})}),(0,bt.b)(function(p){return p.sort(function(y,E){return y.path.length>E.path.length?1:-1})}),(0,bt.b)(function(p){var y=s.router.config;p.forEach(function(E){y.unshift({matcher:OR(E),component:ek}),y.unshift({matcher:IR(E),component:Y2,data:{panelPageListItem:E}}),console.log("panels matcher: ".concat(E.path))}),s.routesLoaded=!0}),(0,ke.U)(function(){return[]})),(0,ze.of)([])),s.panelPageListItemsService.getWithQuery(c).pipe((0,Hi.K)(function(p){return(0,ze.of)([])}),(0,bt.b)(function(){return console.log("loaded specific matched")}),(0,ke.U)(function(p){return p.reduce(function(y,E){return void 0===y||y.path.split("/").length<E.path.split("/").length?E:y},void 0)}),(0,ke.U)(function(p){var y=r.url.substr(1).split("/").slice(p.path.split("/").length-1).join("/");return[p,y]}))]).pipe((0,ke.U)(function(p){var y=(0,g.Z)(p,2),D=(0,g.Z)(y[1],2);return[D[0],D[1]]})).subscribe(function(p){var y=(0,g.Z)(p,2),E=y[0],D=y[1],R="".concat(E.path).concat(""===D?"":"/".concat(D),"?").concat(aa.stringify(e.queryParams)),B=s.router.parseUrl(R);console.log("panels garud navigate: ".concat(E.path).concat(""===D?"":"/".concat(D),"?").concat(aa.stringify(e.queryParams))),u(B)})})}},{key:"encodePathComponent",value:function(e){return'{"term":{"path.keyword":{"value":"'.concat(e,'"}}}')}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(a5),o.\u0275\u0275inject(Cr.Router),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),s5=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.pageBuilderFacade=t}return(0,v.Z)(n,[{key:"resolve",value:function(e,r){return this.pageBuilderFacade.getPageInfo$}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sa))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),u5=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.pageBuilderFacade=t,this.store=e,this.urlGeneratorService=r,this.routerStore=s}return(0,v.Z)(n,[{key:"resolve",value:function(e,r){var s=this,u=new lu(r);return(u.params&&Array.isArray(u.params)&&u.params.length>0?this.changePipeline(u.params):(0,ze.of)([])).pipe((0,ct.w)(function(){return u.params&&Array.isArray(u.params)&&u.params.length>0?s.rebuildParams(u.params):(0,ze.of)([])}),(0,ke.U)(function(l){return[l,new Map([["tag",Br()]])]}),(0,ct.w)(function(l){var c=(0,g.Z)(l,2),y=c[1];return s.urlGeneratorService.getUrl(u.url,c[0],y).pipe((0,ke.U)(function(E){return[E,y]}))}),(0,ct.w)(function(l){var c=(0,g.Z)(l,2),p=c[0],y=c[1];return s.pageBuilderFacade.loadRestData("".concat(y.get("tag")),new lu((0,ue.Z)((0,ue.Z)({},u),{},{url:p}))),s.store.pipe((0,Vt.Ys)(L2("".concat(y.get("tag")))),(0,sn.h)(function(E){return void 0!==E}),(0,ke.U)(function(E){return E.results}),(0,Vn.q)(1))}))}},{key:"changePipeline",value:function(e){var r=this,s=e.reduce(function(u,l){switch(l.mapping.type){case"route":return[].concat((0,_.Z)(u),[r.routeArgChange(l.mapping.value)]);case"querystring":return[].concat((0,_.Z)(u),[r.queryStringChange(l.mapping.value)]);case"form":return[].concat((0,_.Z)(u),[r.formChange(l.mapping.value)]);default:return(0,_.Z)(u)}},[]);return ho.T.apply(void 0,(0,_.Z)(s))}},{key:"routeArgChange",value:function(e){return this.pageBuilderFacade.getPageInfo$.pipe((0,ke.U)(function(){}))}},{key:"queryStringChange",value:function(e){return new yn.x}},{key:"formChange",value:function(e){var r=e.split(".",2),s=(0,g.Z)(r,2);return this.pageBuilderFacade.getForm$(s[0]).pipe((0,bt.b)(function(){return console.log("form change")}),(0,ke.U)(function(){}))}},{key:"rebuildParams",value:function(e){var r=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,ke.U)(function(s){return s?e:r.testParams(e)}))}},{key:"testParams",value:function(e){for(var r=[],s=e.length,u=0;u<s;u++)r.push(new io("route"===e[u].mapping.type?(0,ue.Z)((0,ue.Z)({},e[u]),{},{mapping:{type:"static",value:e[u].mapping.testValue,context:void 0,testValue:void 0}}):e[u]));return r}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(Vt.yh),o.\u0275\u0275inject(X_),o.\u0275\u0275inject(Vt.yh))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),l5=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.pageBuilderFacade=t}return(0,v.Z)(n,[{key:"resolve",value:function(e,r){return this.pageBuilderFacade.getForm$(r)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sa))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),hQ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s){var u;return(0,h.Z)(this,e),(u=t.call(this)).tokenizerService=r,u.paneDatasource=s,u.trackByMapping=function(l,c){return u.tokenizerService.replaceTokens(u.trackByTpl,u.tokenizerService.generateGenericTokens(c.contexts[0].data))},u}return(0,v.Z)(e,[{key:"displayedColumns",get:function(){var s=this.panes.findIndex(function(u){return u.contexts.findIndex(function(l){return"_root"===l.name})>-1});return s>-1?Object.keys(this.panes[s].contexts.find(function(u){return"_root"===u.name}).data):[]}},{key:"ngOnInit",value:function(){console.log(this.panes),this.paneDatasource.panes=this.panes}},{key:"rowData",value:function(s,u){return console.log("name: ".concat(s)),"".concat(u.contexts.find(function(l){return"_root"===l.name}).data[s])}}]),e}(CV);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject($2))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["lib-table-panel-renderer"]],features:[o.\u0275\u0275ProvidersFeature([$2]),o.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"table",0),o.\u0275\u0275template(1,vX,3,1,"ng-container",1),o.\u0275\u0275template(2,yX,1,0,"tr",2),o.\u0275\u0275template(3,_X,1,0,"tr",3),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("dataSource",e.paneDatasource),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.displayedColumns),o.\u0275\u0275advance(1),o.\u0275\u0275property("matHeaderRowDef",e.displayedColumns),o.\u0275\u0275advance(1),o.\u0275\u0275property("matRowDefColumns",e.displayedColumns))},dependencies:[w.NgForOf,JM.YE,JM.nU,Ts.ty,Ts.wO,Ts.S4,Ts.t3,Ts.R3,Ts.Al,Ts.L7,Ts.ML,Ts.fg,Ts.Zw]}),a}(),mQ=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)()}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"getBindings",value:function(e,r){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(this.attributeSerializer.deserializeAsObject(e))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"fromPanes",value:function(e){var r=this;return e.map(function(s){return new fi(r.attributeSerializer.deserialize(s))})}},{key:"wrapPanel",value:function(e){return new fu({stylePlugin:void 0,settings:[],panes:e,columnSetting:new Pr})}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),FR=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.panelHandler=t,this.attributeSerializer=e,this.panelsLoaderService=r,this.panelsSelectorService=s}return(0,v.Z)(n,[{key:"alterResolvedPanes",value:function(e){var r=this,u=e.resolvedPanes,l=e.originMappings,c=this.attributeSerializer.deserialize(new Ut.AttributeValue({name:"",displayName:"",computedValue:"",type:Ut.AttributeTypes.Complex,value:"",intValue:0,attributes:e.settings})),p=c&&void 0!==c.labels&&Array.isArray(c.labels)?c.labels.map(function(E){return new sM(E.mapping)}):[],y=[];return 0===p.length?(0,ze.of)({resolvedPanes:u,originMappings:l}):(y=u.length!==p.length?u.map(function(E,D){return new sM((0,ue.Z)((0,ue.Z)({},D<p.length?p[D]:p[p.length-1]),{},{pane:D}))}).map(function(E){return r.flattenSelector(E)}):p.map(function(E){return r.flattenSelector(E)}),(0,nr.D)(u.map(function(E,D){return r.panelsLoaderService.reducePanes([],E,0)[0]})).pipe((0,ke.U)(function(E){return E.reduce(function(D,R){var ne=(0,g.Z)(R,2)[1];return[].concat((0,_.Z)(D),[ne])},[])}),(0,ke.U)(function(E){for(var D=y.map(function(we){return r.selectWithTarget(we)}),R=y.map(function(we){return r.selectWithoutTarget(we)}),B=D.map(function(we,$e){return r.panelsSelectorService.rebuildPage(E[y[$e][0]],we.slice(1))}),te=R.map(function(we,$e){return r.panelsSelectorService.rebuildPage(E[y[$e][0]],we.slice(1))}),ne=[],he=u.length,Se=0;Se<he;Se++)ne.push(new fi((0,ue.Z)((0,ue.Z)({},u[Se]),{},{settings:r.panelHandler.buildSettings(B[Se])}))),ne.push(new fi((0,ue.Z)((0,ue.Z)({},u[Se]),{},{settings:r.panelHandler.buildSettings(te[Se])})));return{resolvedPanes:ne,originMappings:l}})))}},{key:"stateDefinition",value:function(e){return(0,ze.of)({})}},{key:"flattenSelector",value:function(e){var r=[];return null!=e.panel&&r.push(e.panel),null!=e.pane&&r.push(e.pane),null!=e.nested&&"object"==typeof e.nested&&this.flattenSelector(e.nested).forEach(function(s){return r.push(s)}),r}},{key:"selectWithTarget",value:function(e){return e.map(function(r){return r+1})}},{key:"selectWithoutTarget",value:function(e){return e.map(function(r,s){return s===e.length-1?-1*(r+1):0})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(mQ),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(cM),o.\u0275\u0275inject(wV))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),c5=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.entityServices=t,this.pageBuilderFacade=e,this.panelStateConverterService=r,this.attributeSerializer=s,this.resolverCache$=new Map}return(0,v.Z)(n,[{key:"emptyPaneState",get:function(){return new wa({state:this.attributeSerializer.serialize({displayAssociatedPane:""},"root")})}},{key:"entities$",get:function(){return this.entityServices.getEntityCollectionService("PanelPageState").entities$.pipe((0,bt.b)(function(e){console.log("entities in store"),console.log(e)}))}},{key:"panelPage$",get:function(){return(0,Or.a)([this.pageBuilderFacade.getPageInfo$,this.entityServices.getEntityCollectionService("PanelPage").entities$]).pipe((0,ke.U)(function(e){var r=(0,g.Z)(e,2),s=r[0],u=r[1];return s&&void 0!==s.id&&""!==s.id&&null!==s.id&&-1!==u.findIndex(function(l){return l.id===s.id})?u.find(function(l){return l.id===s.id}):void 0}))}},{key:"fakePageInfo",get:function(){return new n0({id:"948d6e7b-12ab-11ec-8ecd-661fdd19e6df",path:"",realPath:"",args:new Map})}},{key:"resolve",value:function(e,r){var s=r&&r.selectionMethod&&0!==r.selectionMethod.length&&r.id&&null!==r.id&&""!==r.id?"ps[id=".concat(r.id,"]").concat(r.selectionMethod.map(function(l){return"".concat(l)}).join("")):void 0;if(s&&this.resolverCache$.has(s))return this.resolverCache$.get(s);var u=this.resolve$(e,r);return s&&this.resolverCache$.set(s,u),u}},{key:"resolve$",value:function(e,r){var s=this;return(0,Or.a)([this.panelPage$,this.entities$]).pipe((0,ke.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return[c,c&&-1!==p.findIndex(function(y){return y.id===c.id})?p.find(function(y){return y.id===c.id}):new Rs]}),(0,ct.w)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return s.pageBuilderFacade.getSelectionPath$.pipe((0,ke.U)(function(y){return r&&r.selectionPath?r.selectionPath:y}),(0,bt.b)(function(y){return y.join(",")}),(0,ke.U)(function(y){return y.map(function(E,D){return"".concat((D+1)%2==0?"panes":(0===D?"":"nestedPage.")+"panels","[").concat(E,"]")})}),(0,ke.U)(function(y){return 0===y.length?void 0:"$."+y.join(".")}),(0,ke.U)(function(y){return[c,p,y]}))}),(0,bt.b)(function(u){var l=(0,g.Z)(u,3),c=l[0],y=l[2];console.log("page state context resolver"),console.log(c),console.log("query: "+y)}),(0,ct.w)(function(u){var l=(0,g.Z)(u,3),c=l[0],p=l[1],y=l[2];return zr(function(){return!!c&&!p},s.panelStateConverterService.convertPageToState(c).pipe((0,ke.U)(function(E){return new Rs((0,ue.Z)((0,ue.Z)({},E),{},{panels:E.panels.map(function(D){return new Wl((0,ue.Z)((0,ue.Z)({},D),{},{panes:D.panes.map(function(R){return new wa((0,ue.Z)((0,ue.Z)({},R),{},{state:s.attributeSerializer.serialize({displayAssociatedPane:"y"},"root")}))})}))})}))}),(0,ke.U)(function(E){return[E,y]})),(0,ze.of)([p,y]))}),(0,bt.b)(function(u){var c=(0,g.Z)(u,2)[0];console.log("rebuilt state from realtime page"),console.log(c)}),(0,ke.U)(function(u){var l=(0,g.Z)(u,2),p=l[1];return p?(0,du.JSONPath)({path:p,json:l[0]}):s.emptyPaneState}),(0,ke.U)(function(u){return u&&Array.isArray(u)&&0!==u.length?u[0]:s.emptyPaneState}),(0,bt.b)(function(u){console.log("json path match"),console.log(u)}),(0,ke.U)(function(u){return s.attributeSerializer.deserializeAsObject(u.state)}),(0,bt.b)(function(u){console.log("final state"),console.log(u)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(ci),o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(SV),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),gQ=[{path:"pages",children:[{path:"create-panel-page",component:RX},{path:"panelpage/:panelPageId/manage",component:ek}]}],vQ=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c,p,y,E,D,R,B,te,ne,he,Se,we,$e,Ye,lt,Ft,pt,Zt,Gt,Yt,qt,Ht,Xt){(0,h.Z)(this,n),l.registerMetadataMap(xX),[YX(te),eQ(ne),tQ(he),nQ(Se),rQ(we)].forEach(function(fr){s.register(fr)}),t.forEach(function(fr){return r.register(fr)}),e.forEach(function(fr){return u.register(fr)}),c.register(function(n,t,e){return new ou({id:"form",title:"Form",usedContexts:function(s){var u=s.param;return(0,ze.of)(["form__".concat(u.mapping.value.substr(0,u.mapping.value.indexOf(".")))])},evalParam:function(s){var u=s.param,c=u.mapping.value.substr(0,u.mapping.value.indexOf(".")),p=u.mapping.value.substr(u.mapping.value.indexOf(".")+1);return console.log("form: ".concat(c," || ").concat(p)),e.getForm$(c).pipe((0,Vn.q)(1),(0,ke.U)(function(y){return y||new Wu}),(0,ke.U)(function(y){return t.serializeForm(y)}),(0,ke.U)(function(y){return n.generateGenericTokens(y)}),(0,bt.b)(function(y){return console.log(y)}),(0,ke.U)(function(y){return y.has(".".concat(p))?n.replaceTokens("[.".concat(p,"]"),y):""}),(0,bt.b)(function(y){console.log("form value"),console.log(y)}))}})}(D,R,B)),p.register(function(n){return new mz({id:"form",title:"Form",resolve:function(){return n.getFormNames$.pipe((0,ct.w)(function(e){return 0===e.length?(0,ze.of)([]):(0,Or.a)(e.map(function(r){return n.getForm$(r).pipe((0,ke.U)(function(s){return[r,s]}))}))}),(0,ke.U)(function(e){return e.reduce(function(r,s){var u=(0,g.Z)(s,2),l=u[0],c=u[1];return(0,ue.Z)((0,ue.Z)({},r),{},(0,f.Z)({},"form__".concat(l),c))},{})}))},resolveSingle:function(){return n.getFormNames$.pipe((0,ct.w)(function(e){return ho.T.apply(void 0,(0,_.Z)(e.map(function(r){return n.getForm$(r).pipe((0,ke.U)(function(s){return["form__".concat(r),s]}))})))}))}})}(B)),$e.register(function(n){return new Q_({id:"pages_form",title:"Pages Form",build:function(){Gl.prototype.serializePageForm=function(e){return new Promise(function(r){r(n.serializeForm(e))})}}})}(R)),$e.getPlugin("pages_form").subscribe(function(fr){return fr.build()}),pt.register(function(n,t){return new wf({id:"panelpageform_serialize",title:"Panelpageform Serialize",create:function(r){return(0,ze.of)({success:!1,entity:t.serializeForm(new Wu(r.object))})},read:function(r){return Ca(r),(0,ze.of)({success:!1})},update:function(r){return Ca(r),(0,ze.of)({success:!1})},delete:function(r){return Ca(r),(0,ze.of)({success:!1})}})}(0,R)),qt.register(function(n,t,e){return new ks({id:"form",title:"Form",editor:qX,fetch:function(s){var u=s.settings;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return new oR(n.deserializeAsObject(u))}),(0,ct.w)(function(l){return t.getForm$(l.name).pipe((0,ke.U)(function(c){return[l,c||new Wu]}),(0,Fi.d)([l,new Wu]),(0,Vn.q)(1))}),(0,ke.U)(function(l){var c=(0,g.Z)(l,2);return[c[0],e.serializeForm(c[1])]}),(0,ke.U)(function(l){var c=(0,g.Z)(l,2),y=c[1];return new Sr({results:(0,du.JSONPath)({path:"$.".concat(c[0].field,".*"),json:y})})}))},getBindings:function(s){var u=s.settings;return(0,ze.of)([]).pipe((0,ke.U)(function(){return new oR(n.deserializeAsObject(u))}),(0,ke.U)(function(c){return[new Sn.ContentBinding({id:"form__".concat(c.name),type:"context"})]}))}})}(Ht,B,R))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sn.CONTENT_PLUGIN),o.\u0275\u0275inject(Z2),o.\u0275\u0275inject(Sn.ContentPluginManager),o.\u0275\u0275inject(Hu),o.\u0275\u0275inject(Ef),o.\u0275\u0275inject(na),o.\u0275\u0275inject(Vu),o.\u0275\u0275inject(PF),o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(hz),o.\u0275\u0275inject(Mr),o.\u0275\u0275inject(gM),o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(s5),o.\u0275\u0275inject(u5),o.\u0275\u0275inject(l5),o.\u0275\u0275inject(TR),o.\u0275\u0275inject(c5),o.\u0275\u0275inject(yf),o.\u0275\u0275inject(O.HttpClient),o.\u0275\u0275inject(th),o.\u0275\u0275inject(rd),o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(na),o.\u0275\u0275inject(nh),o.\u0275\u0275inject(su),o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(J_))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[pQ,s5,u5,l5,TR,c5,{provide:zn.EMBEDDABLE_COMPONENT,useValue:dQ,multi:!0},{provide:zn.EMBEDDABLE_COMPONENT,useValue:nF,multi:!0},{provide:zn.EMBEDDABLE_COMPONENT,useValue:Y2,multi:!0},{provide:ec,useClass:ec},{provide:tc,useClass:tc},{provide:Of,useClass:Of},{provide:v0,useClass:v0},{provide:tk,useClass:tk},{provide:FR,useClass:FR},{provide:Sn.CONTENT_PLUGIN,useFactory:KX,multi:!0,deps:[ec]},{provide:Sn.CONTENT_PLUGIN,useFactory:WX,multi:!0,deps:[tc]},{provide:Sn.CONTENT_PLUGIN,useFactory:XX,multi:!0,deps:[Of]},{provide:Sn.CONTENT_PLUGIN,useFactory:QX,multi:!0,deps:[v0]},{provide:Sn.CONTENT_PLUGIN,useFactory:JX,multi:!0,deps:[tk]},{provide:Z2,useValue:new j2({id:"virtuallist",name:"virtuallist",title:"Virtual List",editorComponent:void 0,renderComponent:cQ}),multi:!0},{provide:Z2,useFactory:iQ,multi:!0,deps:[FR]},{provide:Z2,useValue:new j2({id:"table",name:"table",title:"Table",editorComponent:void 0,renderComponent:hQ}),multi:!0}],imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,go,E2,Cr.RouterModule.forChild(gQ),Wc,DA.forChild(),z2,DM,zn.UtilsModule,$_,xf,Ut.AttributesModule,OO,$M,tH,rR,CK,IA,Gu,wF,Vl,yR]}),a}(),yQ=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(){return(0,h.Z)(this,t),n.apply(this,arguments)}return(0,v.Z)(t)}(AF),_Q=function(){function a(n,t,e){(0,h.Z)(this,a),this.siteName=n,this.es=t,this.router=e,this.routesLoaded=!1}return(0,v.Z)(a,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"isLoaded",value:function(){return this.routesLoaded}},{key:"load",value:function(){var t=this;return this.panelPageListItemsService.getWithQuery("site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')),"&path=").concat(encodeURIComponent('{"wildcard":{"path.keyword":{"value":"*"}}}'))).pipe((0,ke.U)(function(e){return e.filter(function(r){return void 0!==r.path&&""!==r.path})}),(0,ke.U)(function(e){return e.map(function(r){return new yi(r)}).sort(function(r,s){return r.path.split("/").length===s.path.split("/").length?r.path.split("/")[r.path.split("/").length-1]>s.path.split("/")[s.path.split("/").length-1]?-1:1:r.path.split("/").length>s.path.split("/").length?-1:1})}),(0,bt.b)(function(e){return e.sort(function(r,s){return r.path.length>s.path.length?1:-1})}),(0,bt.b)(function(e){e.forEach(function(r){t.router.config.unshift({matcher:IR(r),component:Y2,data:{panelPageListItem:r}}),t.router.config.unshift({matcher:OR(r),component:ek,data:{panelPageListItem:r}})}),t.routesLoaded=!0}),(0,bt.b)(function(){return console.log("panels routes loaded")}),(0,ke.U)(function(){return!0}))}}]),a}(),xQ=function(){function a(n,t,e){(0,h.Z)(this,a),this.siteName=n,this.es=t,this.router=e}return(0,v.Z)(a,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"match",value:function(t){var e=this,r=t.url;-1!==r.indexOf("?")&&(r=t.url.substr(0,r.indexOf("?")));var s="path="+r.substr(1).split("/").reduce(function(u,l,c){return[].concat((0,_.Z)(u),[0===c?"/".concat(l):"".concat(u[c-1],"/").concat(l)])},[]).map(function(u){return e.encodePathComponent(u)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));return this.panelPageListItemsService.getWithQuery(s).pipe((0,Hi.K)(function(u){return(0,ze.of)([])}),(0,ke.U)(function(u){return u.reduce(function(l,c){return void 0===l||l.path.split("/").length<c.path.split("/").length?c:l},void 0)}),(0,ke.U)(function(u){return!!u||t.url.indexOf("pages")>-1}))}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}]),a}(),bQ=function(){function a(n,t,e){(0,h.Z)(this,a),this.siteName=n,this.es=t,this.router=e}return(0,v.Z)(a,[{key:"panelPageListItemsService",get:function(){return this.es.getEntityCollectionService("PanelPageListItem")}},{key:"redirect",value:function(t,e){var r=this;if(e.url.indexOf("pages")>-1)console.log("redirect: ".concat(e.url)),this.router.navigateByUrl(e.url);else{var s=e.url;-1!==s.indexOf("?")&&(s=e.url.substr(0,s.indexOf("?")));var u="path="+s.substr(1).split("/").reduce(function(l,c,p){return[].concat((0,_.Z)(l),[0===p?"/".concat(c):"".concat(l[p-1],"/").concat(c)])},[]).map(function(l){return r.encodePathComponent(l)}).join("&path=")+"&site=".concat(encodeURIComponent('{"term":{"site.keyword":{"value":"'.concat(this.siteName,'"}}}')));this.panelPageListItemsService.getWithQuery(u).pipe((0,ke.U)(function(l){return l.reduce(function(c,p){return void 0===c||c.path.split("/").length<p.path.split("/").length?p:c},void 0)}),(0,ke.U)(function(l){var c=e.url.substr(1).split("/").slice(l.path.split("/").length-1).join("/");return[l,c]})).subscribe(function(l){(0,g.Z)(l,2),r.router.navigate(["reload"])})}}},{key:"encodePathComponent",value:function(t){return'{"term":{"path.keyword":{"value":"'.concat(t,'"}}}')}}]),a}(),wQ=function(){var a=(0,v.Z)(function n(t,e,r,s){(0,h.Z)(this,n),t.register(function(n,t,e){var r=new _Q(n,t,e),s=new xQ(n,t,e),u=new bQ(n,t,e);return new yQ({id:"panels",title:"Panels",loadingStrategy:r,matchingStrategy:s,redirectHandler:u})}(r,s,e))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(RF),o.\u0275\u0275inject(Cr.Router),o.\u0275\u0275inject(zn.SITE_NAME),o.\u0275\u0275inject(ci))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule]}),a}(),d5=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.controlContainer=e,this.context$=new en.X(void 0),this.formGroup=this.fb.group({value:this.fb.control("",[K.kI.required])}),this.stateCtrl=this.fb.control(""),this.stateCtrlSub=this.stateCtrl.valueChanges.pipe((0,Nr.b)(250),(0,Uu.x)(),(0,sn.h)(function(s){try{return JSON.parse(s),!0}catch{return!1}}),(0,ke.U)(function(s){return JSON.parse(s)})).subscribe(function(s){console.log("write state"),console.log(s),r.formGroup.get("value").setValue(s)}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.context$.subscribe(function(r){e.stateCtrl.setValue(r?JSON.stringify(r.data.value):"")})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-state-form"]],inputs:{context:"context"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:2,vars:2,consts:[[3,"formGroup"],["cols","40","rows","20","required","",3,"formControl"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"textarea",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(1),o.\u0275\u0275property("formControl",e.stateCtrl))},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.oH,K.sg]}),a}(),SQ=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",K.kI.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-state-editor"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(d5,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contextStateFormComp=r.first)},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-context-state-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("context",e.context))},dependencies:[K.JJ,K.JL,K.sg,K.u,d5]}),a}(),f5=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.attributeSerializer=t,this.es=e}return(0,v.Z)(n,[{key:"entityCollectionService",get:function(){return this.es.getEntityCollectionService("GlobalState")}},{key:"resolve",value:function(e,r,s){var u=this;console.log("hookup globalstate"),console.log(r);var E,p=s&&s.has("name")&&s.get("name")&&null!==s.get("name")&&""!==s.get("name")?s.get("name"):void 0;return p?this.entityCollectionService.collection$.pipe((0,Vt.Ys)((E=p,(0,Vt.P1)(function(E){return E.entities},function(D){return D[E]?D[E]:void 0}))),(0,ke.U)(function(y){return y?u.attributeSerializer.deserialize(y.value):r.value?r.value:{}}),(0,ke.U)(function(y){return y.root?y.root:y}),(0,bt.b)(function(y){console.log("resolve globalstate"),console.log(y)})):(0,ze.of)(r.value?r.value:{}).pipe((0,bt.b)(function(y){console.log("resolve default globalstate"),console.log(y)}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),EQ=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.id=n.id,this.value=new Ut.AttributeValue(n.value))}),AQ={GlobalState:{entityName:"GlobalState"}},RQ=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l,c){(0,h.Z)(this,n),t.registerMetadataMap(AQ),e.registerService("GlobalState",new zn.NoopDataService("GlobalState")),r.register(function(n){var t=new Ut.AttributeValue;return new cu({id:"state",name:"state",title:"State",baseObject:t,resolver:n,editorComponent:SQ})}(c)),l.register(function(n,t){return new Q_({id:"state",title:"State",build:function(){Gl.prototype.writeState=function(r){return new Promise(function(s){n.getEntityCollectionService("GlobalState").upsert(new EQ({id:r.id,value:t.serialize(r.value,"root")})).pipe((0,bt.b)(function(l){return s(l)})).subscribe()})}}})}(s,u))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(na),o.\u0275\u0275inject(nh),o.\u0275\u0275inject(Hu),o.\u0275\u0275inject(ci),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(yf),o.\u0275\u0275inject(f5))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[f5],imports:[w.CommonModule,K.u5,K.UX]}),a}(),TQ=S(4382);function ua(a){return new Promise(function(n,t){a.oncomplete=a.onsuccess=function(){return n(a.result)},a.onabort=a.onerror=function(){return t(a.error)}})}function ns(){return MR||(MR=function IQ(a,n){var t=indexedDB.open(a);t.onupgradeneeded=function(){return t.result.createObjectStore(n)};var e=ua(t);return function(r,s){return e.then(function(u){return s(u.transaction(n,r).objectStore(n))})}}("keyval-store","keyval")),MR}function p5(a,n){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ns())("readwrite",function(e){return e.put(n,a),ua(e.transaction)})}var NQ=function(n){return new wf({id:"idb_keyval",title:"Idb Keyval",create:function(e){var r=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,ze.of)({success:!1}).pipe((0,ct.w)(function(){return s({object:r,parentObject:l}).pipe((0,ke.U)(function(c){return{identity:c.identity}}))}),(0,ct.w)(function(c){var p=c.identity;return u&&0!==Object.keys(u).length?(0,nr.D)(Object.keys(u).map(function(y){return n.paramValue(u[y],new Map).pipe((0,ke.U)(function(E){return(0,f.Z)({},y,E)}))})).pipe((0,ke.U)(function(y){return y.reduce(function(E,D){return(0,ue.Z)((0,ue.Z)({},E),D)},{})}),(0,ke.U)(function(y){return{identity:p,options:y}})):(0,ze.of)({identity:p,options:{}})}),(0,ke.U)(function(c){return{name:c.options.prefix+c.identity}}),(0,ct.w)(function(c){var p=c.name;return new hr.y(function(y){p5(p,r).then(function(E){console.log("idb write suceeded"),console.log(E),y.next({success:!0}),y.complete()}).catch(function(E){console.log("idb write failed"),console.log(E),y.next({success:!1}),y.complete()})})}))},read:function(e){return Ca(e),(0,ze.of)({success:!1})},update:function(e){var r=e.object,s=e.identity,u=e.params,l=e.parentObject;return(0,ze.of)({success:!1}).pipe((0,ct.w)(function(){return s({object:r,parentObject:l}).pipe((0,ke.U)(function(c){return{identity:c.identity}}))}),(0,ct.w)(function(c){var p=c.identity;return u&&0!==Object.keys(u).length?(0,nr.D)(Object.keys(u).map(function(y){return n.paramValue(u[y],new Map).pipe((0,ke.U)(function(E){return(0,f.Z)({},y,E)}))})).pipe((0,ke.U)(function(y){return y.reduce(function(E,D){return(0,ue.Z)((0,ue.Z)({},E),D)},{})}),(0,ke.U)(function(y){return{identity:p,options:y}})):(0,ze.of)({identity:p,options:{}})}),(0,ke.U)(function(c){return{name:c.options.prefix+c.identity}}),(0,ct.w)(function(c){var p=c.name;return new hr.y(function(y){p5(p,r).then(function(E){console.log("idb write suceeded"),console.log(E),y.next({success:!0}),y.complete()}).catch(function(E){console.log("idb write failed"),console.log(E),y.next({success:!1}),y.complete()})})}))},delete:function(e){return Ca(e),(0,ze.of)({success:!1})},query:function(e){var r=e.params,s=e.rule,u=e.identity;return n.paramValues(new Map(Object.keys(r).map(function(l){return[l,r[l]]}))).pipe((0,ct.w)(function(l){return new hr.y(function(c){(function MQ(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns())("readonly",function(n){if(n.getAllKeys)return ua(n.getAllKeys());var t=[];return function NR(a,n){return a.openCursor().onsuccess=function(){this.result&&(n(this.result),this.result.continue())},ua(a.transaction)}(n,function(e){return t.push(e.key)}).then(function(){return t})})})().then(function(p){return p.filter(function(y){return 0==="".concat(y).indexOf(l.get("prefix"))})}).then(function(p){return function FQ(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns())("readonly",function(t){return Promise.all(a.map(function(e){return ua(t.get(e))}))})}(p)}).then(function(p){c.next({entities:p,success:!0}),c.complete()})})}),(0,ct.w)(function(l){return s?new hr.y(function(c){var p=new Cf.Engine;p.addOperator("startsWith",function(y,E){return"string"==typeof E&&"string"==typeof y&&0===E.indexOf(y)}),p.addOperator("term||wildcard",function(y,E){var D=JSON.parse(decodeURIComponent(E)),R=(0,du.JSONPath)({path:"$.term.*.value.@string()",json:D,flatten:!0});return void 0!==D.wildcard||D.term&&0!==R.lengh&&R[0]===y}),p.addRule(s),p.addFact("identity",function(y,E){return new hr.y(function(D){E.factValue("entity").then(function(R){return u({object:R}).pipe((0,ke.U)(function(B){return B.identity})).toPromise()}).then(function(R){D.next(R),D.complete()})}).toPromise()},{cache:!1}),ze.of.apply(void 0,(0,_.Z)(l.entities)).pipe((0,Mu.b)(function(y){return new hr.y(function(E){p.removeFact("entity"),p.addFact("entity",y,{cache:!1}),p.run().then(function(D){E.next([y,D.events.findIndex(function(R){return"visible"===R.type})>-1]),E.complete()})})}),(0,sn.h)(function(y){return(0,g.Z)(y,2)[1]}),(0,ke.U)(function(y){return(0,g.Z)(y,1)[0]}),function DQ(a,n){return(0,m.e)((0,TQ.U)(a,n,arguments.length>=2,!1,!0))}(function(y,E){return[].concat((0,_.Z)(y),[E])},[]),(0,Fi.d)([])).subscribe(function(y){c.next((0,ue.Z)((0,ue.Z)({},l),{},{entities:y})),c.complete()})}):(0,ze.of)(l)}))}})},ZQ=function(){var a=(0,v.Z)(function n(t,e){(0,h.Z)(this,n),t.register(NQ(e))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ku),o.\u0275\u0275inject(su))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[Y_]}),a}(),jQ=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.authFacade=e,this.router=r,this.title="Spearhead Docs",this.menuClicked=new o.EventEmitter,(0,w.isPlatformBrowser)(t)&&(bridge=s)}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.authFacade.getUser$.subscribe(function(r){e.isAuthenticated=!!r})}},{key:"login",value:function(){this.authFacade.login()}},{key:"menuClick",value:function(){this.menuClicked.emit()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.PLATFORM_ID),o.\u0275\u0275directiveInject(Da),o.\u0275\u0275directiveInject(Cr.Router),o.\u0275\u0275directiveInject(Gl))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["app-root"]],outputs:{menuClicked:"menuClicked"},decls:120,vars:0,consts:[[1,"top-header","border-b","border-b-stone-300","px-4","flex","flex-row","justify-between"],[1,"brand","text-emerald-700","font-semibold"],["href","https://github.com/rollthecloudinc/spearhead-docs"],["width","13.5","height","13.5","aria-hidden","true","viewBox","0 0 24 24",1,"inline","mb-1"],["fill","currentColor","d","M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"],[1,"flex","items-center","h-full"],[1,"mr-6","ml-1"],[1,"text-emerald-700"],[1,"mr-6","text-emerald-700","ml-1"],[1,"ml-1","mr-6"],[1,"bg-white","hover:bg-gray-100","text-gray-800","font-semibold","py-2","px-4","border","border-gray-400","rounded","shadow"],["href","https://github.com/rollthecloudinc",1,"brand","text-slate-600","font-medium","tracking-wide","hover:text-emerald-700","mr-6"],["action","https://www.paypal.com/donate","method","POST","target","_top"],["type","hidden","name","hosted_button_id","value","84YQP5Z9AUZYY"],["type","image","src","https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif","border","0","name","submit","title","PayPal - The safer, easier way to pay online!","alt","Donate with PayPal button"],["type","submit"],["alt","","border","0","src","https://www.paypal.com/en_US/i/scr/pixel.gif","width","1","height","1"],[1,"top-header-push"],[1,"flex-1"],[1,"outlet-wrapper","flex","flex-row"],[1,"px-2","py-2","sidebar"],[1,"text-slate-600"],["routerLink","/",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/introduction",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/carbon-efficiency",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/energy-efficiency",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/carbon-awareness",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/hardware-efficiency",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/measurement",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/climate-commitments",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],["routerLink","/glossary",1,"px-2","py-2","flex","hover:bg-neutral-100","hover:text-emerald-700"],[1,"px-4","py-4","border-l","border-l-stone-300"],[1,"py-10","px-16"],[1,"grid","grid-cols-3"],[1,"font-medium","tracking-wide","text-lime-400","pb-4"],[1,"space-y-1.5"],["href","",1,"text-sm","text-zinc-400","font-light","tracking-wide","hover:text-white","hover:underline"],[1,"text-center","mt-8","text-sm","text-zinc-400","font-thin","tracking-wide"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"p",1)(2,"a",2),o.\u0275\u0275text(3,"Spearhead Docs "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(4,"svg",3),o.\u0275\u0275element(5,"path",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(6,"div")(7,"dl",5)(8,"dt"),o.\u0275\u0275text(9,"Emissions:"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"dt",6),o.\u0275\u0275text(11,"100g"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"dt",7),o.\u0275\u0275text(13,"Offset:"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"dt",8),o.\u0275\u0275text(15,"50g"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"dt"),o.\u0275\u0275text(17,"Remaining:"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"dt",9),o.\u0275\u0275text(19,"50g"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"dt")(21,"button",10),o.\u0275\u0275text(22," Contribute "),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275element(23,"div"),o.\u0275\u0275elementStart(24,"div",5)(25,"a",11),o.\u0275\u0275text(26,"a Roll The Cloud Inc. initiative "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(27,"svg",3),o.\u0275\u0275element(28,"path",4),o.\u0275\u0275elementEnd()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(29,"form",12),o.\u0275\u0275element(30,"input",13)(31,"input",14),o.\u0275\u0275elementStart(32,"button",15),o.\u0275\u0275element(33,"img",16),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275element(34,"div",17),o.\u0275\u0275elementStart(35,"div",18)(36,"div",19)(37,"div",20)(38,"nav")(39,"ul",21)(40,"li")(41,"a",22),o.\u0275\u0275text(42,"Welcome"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(43,"li")(44,"a",23),o.\u0275\u0275text(45,"Introduction"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(46,"li")(47,"a",24),o.\u0275\u0275text(48,"Carbon Efficency"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(49,"li")(50,"a",25),o.\u0275\u0275text(51,"Energy Efficency"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(52,"li")(53,"a",26),o.\u0275\u0275text(54,"Carbon Awareness"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(55,"li")(56,"a",27),o.\u0275\u0275text(57,"Hardware Efficency"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(58,"li")(59,"a",28),o.\u0275\u0275text(60,"Measurement"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(61,"li")(62,"a",29),o.\u0275\u0275text(63,"Climate Comittments"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(64,"li")(65,"a",30),o.\u0275\u0275text(66,"Glossary"),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(67,"div",31),o.\u0275\u0275element(68,"router-outlet"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(69,"footer",32)(70,"div",33)(71,"div")(72,"div",34),o.\u0275\u0275text(73,"Links"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(74,"ul",35)(75,"li")(76,"a",36),o.\u0275\u0275text(77,"Github "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(78,"svg",3),o.\u0275\u0275element(79,"path",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(80,"li")(81,"a",36),o.\u0275\u0275text(82,"Website "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(83,"svg",3),o.\u0275\u0275element(84,"path",4),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(85,"div")(86,"div",34),o.\u0275\u0275text(87,"LEGAL"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(88,"ul",35)(89,"li")(90,"a",36),o.\u0275\u0275text(91,"Trademark Policy "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(92,"svg",3),o.\u0275\u0275element(93,"path",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(94,"li")(95,"a",36),o.\u0275\u0275text(96,"Terms & Privary Policy "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(97,"svg",3),o.\u0275\u0275element(98,"path",4),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(99,"div")(100,"div",34),o.\u0275\u0275text(101,"GSF Info"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(102,"ul",35)(103,"li")(104,"a",36),o.\u0275\u0275text(105,"Green Software Foundation "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(106,"svg",3),o.\u0275\u0275element(107,"path",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(108,"li")(109,"a",36),o.\u0275\u0275text(110,"Twiiter "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(111,"svg",3),o.\u0275\u0275element(112,"path",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(113,"li")(114,"a",36),o.\u0275\u0275text(115,"Linkedin "),o.\u0275\u0275namespaceSVG(),o.\u0275\u0275elementStart(116,"svg",3),o.\u0275\u0275element(117,"path",4),o.\u0275\u0275elementEnd()()()()()(),o.\u0275\u0275namespaceHTML(),o.\u0275\u0275elementStart(118,"p",37),o.\u0275\u0275text(119,"Copyright \xa9 2022 Joint Development Foundation Projects, LLC, Green Software Foundation Series"),o.\u0275\u0275elementEnd()())},dependencies:[K._Y,K.JL,K.F,Cr.RouterOutlet,Cr.RouterLink],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.top-header-push[_ngcontent-%COMP%]{height:3.75rem}.brand[_ngcontent-%COMP%]{line-height:3.75em;position:relative}.outlet-wrapper[_ngcontent-%COMP%]{height:100%}.top-header[_ngcontent-%COMP%]{height:3.75rem;position:fixed;top:0;width:100%;background-color:#fff}.sidebar[_ngcontent-%COMP%]{min-width:20%}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{position:fixed;width:19%}footer[_ngcontent-%COMP%]{background-color:#032629}"]}),a}(),$Q=S(203),rs_production=!1,rs_site="spearhead-docs-docs",rs_apiGatewaySettings={endpointUrl:"https://vertigo.druidcloud.dev/rollthecloudinc/spearhead-docs-objects/shapeshifter"},rs_mediaSettings={endpointUrl:"https://vertigo.druidcloud.dev/rollthecloudinc/spearhead-docs-objects/media",cloudinaryUrl:"https://api.cloudinary.com/v1_1/dj4vvkgzw",uploadPreset:"i0hm4opm",imageUrl:"https://vertigo.druidcloud.dev/rollthecloudinc/spearhead-docs-objects",bucket:"classifieds-ui-dev",prefix:"media/"},rs_cognitoSettings={identityPoolId:"us-east-1:6f5cdc41-35b0-41ca-9f6b-7eca11320942",region:"us-east-1",userPoolId:"us-east-1_z8PhK3D8V"},rs_panelsSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq",s3Bucket:"classifieds-ui-dev",objectsRootUrl:"https://rollthecloudinc.github.io/spearhead-docs-objects"},rs_alienaliasSettings={openSearchDomain:"search-classifieds-ui-dev-eldczuhq3vesgpjnr3vie6cagq"},rs_rumSettings={appId:"",guestRoleArn:"",identityPoolId:"",region:""},rs_clientSettings={authority:"https://sso.druidcloud.dev",client_id:"3lkidn79q4jq8nahkecsguleij",redirect_uri:"https://spearhead-docs.druidcloud.dev/auth-callback",silent_redirect_uri:"https://spearhead-docs.druidcloud.dev/silent-refresh.html",response_type:"code",scope:"openid profile aws.cognito.signin.user.admin ads_api/ads_api taxonomy_api/taxonomy_api chat/chat media_api/media_api profiles_api/profiles_api",filterProtocolClaims:!0,loadUserInfo:!0,automaticSilentRenew:!0,stateStore:void 0,userStore:void 0,metadata:{issuer:"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_z8PhK3D8V",authorization_endpoint:"https://sso.druidcloud.dev/oauth2/authorize",userinfo_endpoint:"https://sso.druidcloud.dev/oauth2/userInfo",end_session_endpoint:"https://sso.druidcloud.dev/logout",token_endpoint:"https://sso.druidcloud.dev/oauth2/token",jwks_uri:"https://sso.druidcloud.dev/us-east-1_z8PhK3D8V"},signingKeys:[{alg:"RS256",e:"AQAB",kid:"LFfHKQ51C81E+ByYd/wucwrvfiEnYJQtJvb4GHbalFQ=",kty:"RSA",n:"gijyjUXIzkAPofeaM7JCAsuLHLc_GP3of-NT8ARjSTTMif-wqJeNww4MJkvRYzfL6mL_owVZgD37O4Dd81jBLY6iEyi6hxHYTUuXR7mYkQ2008Fp3m45wztUKWeeNgzsvuR01STkkwmuf7afkQXJUlHts8eT47Dqc4mrKA3vcHYG4vJXmvtjQT-IirkA-yU36TXyd1TPOetdwlmFOcSYfL4CW7ZZfVg1dCvT1T50mO1AaQDMcA8S3fVfROGW36hjiB8r9q5zQrrfBLTMPSVpn85LscVLbYUxJL9yLygiD4UTCXw7Y1hiE2tDL2nmy6PHumylNf8yj5I7N56Kz4cwtQ",use:"sig"},{alg:"RS256",e:"AQAB",kid:"UNTk4hVhUrq0k8uAGvDYs/w0g/iW+b9PweObMbM6S/w=",kty:"RSA",n:"g7Z-JKiovH7ZnwK1o8hsiLf4GfxA9w11RsQK3yQWG3xR__qKbkvxKxhn3Xt5QsUSo8nhiwWtsjUTyVxRO7WJlCjSHGztvYhoYIlwSL8Mqtf3Plg6CrJoDhq7CZDe_TNeQczfBI8k1w5U6n4h5G-e4Fa41nH-qXrDh2L7onTFKSzZDJRCELmh64ur5RmU6kuhwrejwS4YXuz4gKQRcTuDu9AXH7A7cNO5EF_sVRy8hkFtKCPO-mgwJ5S_e5_Y5gleJRpMZnzWmBv_-GpwO5V9XzxBr5s1O9HqyBMXR1pKU_YykeP7PvukEDpyr8UXu-2drzq-oHzXHDInNHjYPLx3BQ",use:"sig"}]},UQ={router:function TU(a,n){var t=n;switch(t.type){case OA:case MA:case FA:return{state:t.payload.routerState,navigationId:t.payload.event.id};default:return a}}},zQ=[],h5=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.query=n.query)}),VQ=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.settings$=new en.X(void 0),this.formGroup=this.fb.group({query:this.fb.control("",[K.kI.required])}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?new h5(r.attributeSerializer.deserializeAsObject(s)):void 0})).subscribe(function(s){s?r.formGroup.get("query").setValue(s.query):r.formGroup.get("query").setValue("")}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-select-source-form"]],inputs:{settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:5,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","query","required",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"mat-form-field")(2,"mat-label"),o.\u0275\u0275text(3,"Query"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"input",1),o.\u0275\u0275elementEnd()()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Dn.v_,Dn.$V,ai.k0]}),a}(),GQ=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-transform-select"]],inputs:{settings:"settings"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","settings",3,"settings"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-select-source-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings))},dependencies:[K.JJ,K.JL,K.sg,K.u,VQ],encapsulation:2}),a}(),HQ=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-transform-merge"]],decls:2,vars:0,template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"transform merge"),o.\u0275\u0275elementEnd())}}),a}(),qQ=function(n){return new ks({id:"select",title:"Select",editor:GQ,fetch:function(e){var r=e.settings,s=e.dataset;return zr(function(){return!!s},(0,ze.of)(s).pipe((0,ke.U)(function(){return new h5(n.deserializeAsObject(r))}),(0,ke.U)(function(u){return new Sr({results:(0,du.JSONPath)({path:u.query,json:s.results})})})),(0,ze.of)(new Sr))}})},WQ=function(){var a=(0,v.Z)(function n(t,e){(0,h.Z)(this,n),[qQ(e),new ks({id:"merge",title:"Merge",editor:HQ,fetch:function(t){return(0,ze.of)(new Sr)}})].forEach(function(r){return t.register(r)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,Vl]}),a}(),XQ=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.fb=t,this.attributeSerializer=e,this.contexts=[],this.settings$=new en.X(void 0),this.paramValues$=new en.X([]),this.formGroup=this.fb.group({entityName:this.fb.control(""),queryString:this.fb.control(""),params:this.fb.control([])}),this.settingsSub=this.settings$.pipe((0,ke.U)(function(s){return s?r.attributeSerializer.deserializeAsObject(s):void 0})).subscribe(function(s){s?(r.formGroup.get("entityName").setValue(s.entityName),r.formGroup.get("queryString").setValue(s.queryString)):(r.formGroup.get("entityName").setValue(""),r.formGroup.get("queryString").setValue(""))}),this.queryStringChangeSub=this.formGroup.get("queryString").valueChanges.pipe((0,Nr.b)(500)).subscribe(function(s){var u=aa.parse("?"+s);r.paramsParsed=u}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-entity-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:8,vars:4,consts:[[3,"formGroup"],["matInput","","placeholder","Name","formControlName","entityName","required",""],["matInput","","placeholder","Query String","formControlName","queryString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field"),o.\u0275\u0275element(3,"input",1),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"div")(5,"mat-form-field"),o.\u0275\u0275element(6,"input",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(7,"classifieds-ui-params-form",3),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(7),o.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Dn.v_,ai.k0,K_]}),a}(),m5=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-entity-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-entity-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[K.JJ,K.JL,K.sg,K.u,XQ],encapsulation:2}),a}(),g5=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.params=[],n&&(this.entityName=n.entityName,this.queryString=n.queryString?n.queryString:"",n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new io(t)})))}),YQ=function(){var a=(0,v.Z)(function n(t,e,r,s,u,l){(0,h.Z)(this,n),t.register(function(n,t,e,r){return new ks({id:"entity",title:"Entity",editor:m5,fetch:function(u){var l=u.settings,c=u.metadata;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return t.deserializeAsObject(l)}),(0,ke.U)(function(p){return new g5(p)}),(0,ct.w)(function(p){return e.getUrl("?"+p.queryString,p.params,c).pipe((0,ke.U)(function(y){return{e:p,queryString:y}}))}),(0,ke.U)(function(p){return{e:p.e,queryString:p.queryString.substr(1)}}),(0,ct.w)(function(p){var y=p.e,E=p.queryString;return E&&""!==E?r.getEntityCollectionService(y.entityName).getWithQuery(E):r.getEntityCollectionService(y.entityName).getAll()}),(0,ke.U)(function(p){return new Sr({results:p})}))},editorOptions:function(){return(0,ze.of)(new O2({fullscreen:!0}))},getBindings:function(u){var l=u.settings;return(0,ze.of)([]).pipe((0,ke.U)(function(){return t.deserializeAsObject(l)}),(0,ke.U)(function(p){return new g5(p)}),(0,ct.w)(function(p){return n.extractContexts(p.params)}),(0,ke.U)(function(p){return p.map(function(y){return new Sn.ContentBinding({id:y,type:"context"})})}))}})}(r,s,u,l)),e.register(new IF({id:"entity",title:"Entity",editor:m5,send:function(t){return(0,ze.of)(new HA({}))}}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(F2),o.\u0275\u0275inject(GA),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(X_),o.\u0275\u0275inject(ci))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.UX,K.u5,no.MaterialModule,xf,Gu]}),a}(),eJ=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new en.X(void 0),this.datasource$=new en.X(void 0),this.formGroup=this.fb.group({}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"ngOnInit",value:function(){}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-loop-datasource-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:1,vars:1,consts:[[3,"formGroup"]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"div",0),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.JL,K.sg]}),a}(),tJ=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-loop-datasource"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","settings",3,"settings","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-loop-datasource-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[K.JJ,K.JL,K.sg,K.u,eJ],encapsulation:2}),a}(),nJ=(0,v.Z)(function a(n){(0,h.Z)(this,a)}),rJ=function(n,t){return new ks({id:"loop",title:"loop",editor:tJ,fetch:function(r){var s=r.settings,u=r.dataset,l=r.datasource,c=r.metadata,p=r.datasources;return(0,ze.of)(new Sr).pipe((0,ke.U)(function(){return n.deserializeAsObject(s)}),(0,ke.U)(function(y){return y?new nJ(y):void 0}),(0,ct.w)(function(y){return(0,nr.D)(u?u.results.map(function(E){return t.evalDatasource({datasource:new zl({plugin:"data",renderer:l.renderer,settings:n.serialize({data:JSON.stringify(u.results)},"root").attributes}),datasources:p,metadata:new Map([].concat((0,_.Z)(c?Array.from(c).filter(function(D){return"contexts"!==(0,g.Z)(D,1)[0]}):[]),[["contexts",[].concat((0,_.Z)(c.has("contexts")&&Array.isArray(c.get("contexts"))?c.get("contexts").filter(function(D){return"_root"!==D.name}):[]),[new Ao({name:"_root",adaptor:"data",data:E})])]]))}).pipe((0,Vn.q)(1))}):[]).pipe((0,ke.U)(function(E){return new Sr({results:E.reduce(function(D,R){return[].concat((0,_.Z)(D),(0,_.Z)(R.results))},[])})}),(0,Fi.d)(new Sr({results:[]})))}))}})},iJ=function(){var a=(0,v.Z)(function n(t,e,r){(0,h.Z)(this,n),[rJ(e,r)].forEach(function(s){return t.register(s)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Fa),o.\u0275\u0275inject(Ut.AttributeSerializerService),o.\u0275\u0275inject(CF))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.UX,no.MaterialModule,xf,Vl]}),a}();function oJ(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value.id),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.value.title)}}function aJ(a,n){}function sJ(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"druid-ordain-validation-validator",4),o.\u0275\u0275elementStart(2,"button",3),o.\u0275\u0275listener("click",function(){var l=o.\u0275\u0275restoreView(t).index,c=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(c.deleteValidator$.next(l))}),o.\u0275\u0275text(3,"Delete"),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.index,r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("formControlName",e)("validation",r.validation$.value.validators[e])}}var gu=function(a){(0,F.Z)(t,a);var n=(0,L.Z)(t);function t(e){var r;return(0,h.Z)(this,t),r=n.call(this,e),e&&(r.editor=e.editor,r.errorMessage=e.errorMessage,r.builder=e.builder),r}return(0,v.Z)(t)}(Mn.Plugin),uJ=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.name=n.name,this.validator=n.validator,this.overrideErrorMessage=n.overrideErrorMessage,n.paramSettings&&"string"!=typeof n.paramSettings&&(this.paramSettings=new lJ(n.paramSettings)))}),lJ=(0,v.Z)(function a(n){(0,h.Z)(this,a),this.params=[],n&&(this.paramsString=n.paramsString,n.params&&Array.isArray(n.params)&&(this.params=n.params.map(function(t){return new io(t)})))}),y0=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&Array.isArray(n.validators)&&(this.validators=n.validators.map(function(t){return new uJ(t)}))}),v5=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.viewContainerRef=t});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(o.ViewContainerRef))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","druidValidationRendererHost",""]]}),a}(),cJ=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.contexts=[],this.settings$=new en.X(void 0),this.afterViewInit$=new yn.x,this.paramValues$=new en.X([]),this.formGroup=this.fb.group({paramsString:this.fb.control(""),params:this.fb.control([])}),this.paramsStringChangeSub=this.formGroup.get("paramsString").valueChanges.pipe((0,Nr.b)(500)).subscribe(function(r){var s=aa.parse("?"+r);e.paramsParsed=s}),this.settingsSub=this.settings$.pipe((0,bt.b)(function(r){r&&e.formGroup.get("paramsString").setValue(r.paramsString?r.paramsString:"")})).subscribe(),this.settingsParamsSub=(0,Or.a)([this.settings$,this.formGroup.get("paramsString").valueChanges]).pipe((0,sn.h)(function(r){return void 0!==(0,g.Z)(r,1)[0]}),(0,gr.g)(1),(0,bt.b)(function(r){var s=(0,g.Z)(r,1);return e.paramValues$.next(s[0].params)})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:this.formGroup.errors}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-ordain-validation-params-editor-form"]],inputs:{contexts:"contexts",settings:"settings"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:6,vars:4,consts:[[3,"formGroup"],[1,"params-container"],["matInput","","placeholder","Params","formControlName","paramsString"],["formControlName","params",3,"params","paramValues","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field"),o.\u0275\u0275element(4,"input",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(5,"classifieds-ui-params-form",3),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(5),o.\u0275\u0275property("params",e.paramsParsed)("paramValues",e.paramValues$.value)("contexts",e.contexts))},dependencies:[K.Fj,K.JJ,K.JL,K.sg,K.u,Dn.v_,ai.k0,K_]}),a}(),vu=function(){var a=(0,v.Z)(function n(t){(0,h.Z)(this,n),this.controlContainer=t,this.settings=[],this.contexts=[]});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-ordain-validation-params-editor"]],inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:3,consts:[[3,"formGroup"],["formControlName","paramSettings",3,"settings","contexts"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"druid-ordain-validation-params-editor-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("settings",e.settings)("contexts",e.contexts))},dependencies:[K.JJ,K.JL,K.sg,K.u,cJ],encapsulation:2}),a}(),dJ=function(){function a(n,t){(0,h.Z)(this,a),this.pluginManager=n,this.formsValidationUtils=t}return(0,v.Z)(a,[{key:"loadPlugins",value:function(t){var e=this;return(0,ze.of)(!1).pipe((0,bt.b)(function(){return e.pluginManager.register(e.makeRequired())}),(0,bt.b)(function(){return e.pluginManager.register(e.makeRequiredTrue())}),(0,bt.b)(function(){e.pluginManager.register(e.makeMin()),e.pluginManager.register(e.makeMax()),e.pluginManager.register(e.makeMinLength()),e.pluginManager.register(e.makeMaxLength())}),(0,ke.U)(function(){return e.pluginManager.register(e.makeEmail())}),(0,ke.U)(function(){return e.pluginManager.register(e.makePattern())}),(0,ke.U)(function(){return e.pluginManager.register(e.nullValidator())}),(0,ke.U)(function(){return!0}))}},{key:"makeRequired",value:function(){var t=this;return new gu({id:"required",title:"Required",errorMessage:"Field is required",editor:vu,builder:function(r){var s=r.serialized;return(0,ze.of)(function(u){return(0,ze.of)(K.kI.required(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeRequiredTrue",value:function(){var t=this;return new gu({id:"required_true",title:"Required True",errorMessage:"Field is required",editor:vu,builder:function(r){var s=r.serialized;return(0,ze.of)(function(u){return(0,ze.of)(K.kI.requiredTrue(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeEmail",value:function(){var t=this;return new gu({id:"email",title:"Email",errorMessage:"Invalid email",editor:vu,builder:function(r){var s=r.serialized;return(0,ze.of)(function(u){return(0,ze.of)(K.kI.email(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"nullValidator",value:function(){var t=this;return new gu({id:"null",title:"Null",errorMessage:"nota",editor:vu,builder:function(r){var s=r.serialized;return(0,ze.of)(function(u){return(0,ze.of)(K.kI.nullValidator(t.formsValidationUtils.rebuildControl({c:u,serialized:s})))})}})}},{key:"makeMin",value:function(){var t=this;return new gu({id:"min",title:"Min",errorMessage:"Field min [.min]",editor:vu,builder:function(r){var s=r.v,u=r.serialized;return(0,ze.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,ke.U)(function(c){return K.kI.min(+c.min)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMax",value:function(){var t=this;return new gu({id:"max",title:"Max",errorMessage:"Field max [.max]",editor:vu,builder:function(r){var s=r.v,u=r.serialized;return(0,ze.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,ke.U)(function(c){return K.kI.max(+c.max)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMinLength",value:function(){var t=this;return new gu({id:"min_length",title:"Min Length",errorMessage:"minimum of [.min] characters",editor:vu,builder:function(r){var s=r.v,u=r.serialized;return(0,ze.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,ke.U)(function(c){return K.kI.minLength(+c.minLength)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makeMaxLength",value:function(){var t=this;return new gu({id:"max_length",title:"Max Length",errorMessage:"Maximum of [.max] characters",editor:vu,builder:function(r){var s=r.v,u=r.serialized;return(0,ze.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,ke.U)(function(c){return K.kI.maxLength(+c.maxLength)(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}},{key:"makePattern",value:function(){var t=this;return new gu({id:"pattern",title:"Pattern",errorMessage:"Must match pattern",editor:vu,builder:function(r){var s=r.v,u=r.serialized;return(0,ze.of)(function(l){return t.formsValidationUtils.resolveParams({v:s}).pipe((0,ke.U)(function(c){return K.kI.pattern(new RegExp(c.pattern))(t.formsValidationUtils.rebuildControl({c:l,serialized:u}))}))})}})}}]),a}(),fJ=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.paramEvaluatorService=t,this.attributesSerializerService=e}return(0,v.Z)(n,[{key:"resolveParams",value:function(e){var r=this,s=e.v;return(0,ze.of)({}).pipe((0,ke.U)(function(){return{paramNames:s.paramSettings.paramsString?s.paramSettings.paramsString.split("&").filter(function(u){return-1!==u.indexOf("=:")}).map(function(u){return u.split("=",2)[1].substr(1)}):[]}}),(0,ct.w)(function(u){var l=u.paramNames;return r.paramEvaluatorService.paramValues(s.paramSettings.params.reduce(function(c,p,y){return new Map([].concat((0,_.Z)(c),[[l[y],p]]))},new Map)).pipe((0,ke.U)(function(c){return Array.from(c).reduce(function(p,y){var E=(0,g.Z)(y,2),D=E[0],R=E[1];return(0,ue.Z)((0,ue.Z)({},p),{},(0,f.Z)({},D,R))},{})}))}))}},{key:"rebuildControl",value:function(e){var r=e.c;return e.serialized?new K.p4(this.attributesSerializerService.deserializeAsObject(r.value).value):r}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(su),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),la=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u){var l;return(0,h.Z)(this,e),(l=t.call(this,s,u)).addDiscovery(new dJ((0,Fr.Z)(l),r)),l}return(0,v.Z)(e,[{key:"pluginDef",value:function(){return(0,ze.of)(new Mn.PluginDef({name:"validation"}))}},{key:"discovery",value:function(){(0,fa.Z)((0,pa.Z)(e.prototype),"discovery",this).call(this)}}]),e}(Mn.BasePluginManager);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(fJ),o.\u0275\u0275inject(Mn.PluginConfigurationManager),o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),pJ=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.fb=t,this.vpm=e,this.componentFactoryResolver=r,this.contexts=[],this.settings$=new en.X(void 0),this.formGroup=this.fb.group({name:this.fb.control("",[K.kI.required]),validator:this.fb.control("",[K.kI.required]),overrideErrorMessage:this.fb.control(""),paramSettings:this.fb.control("")}),this.validationPlugins$=this.vpm.getPlugins(),this.componentRef$=new en.X(void 0),this.afterViewInit$=new yn.x,this.onInit$=new yn.x,this.validation$=new en.X(void 0),this.validatorChangeSub=this.formGroup.get("validator").valueChanges.pipe((0,bt.b)(function(u){console.log("validator change",u)})).subscribe(),this.validatorSub=(0,Or.a)([this.formGroup.get("validator").valueChanges,this.afterViewInit$]).pipe((0,ke.U)(function(u){return(0,g.Z)(u,1)[0]}),(0,ct.w)(function(u){return u&&""!==u?s.vpm.getPlugin(u):(0,ze.of)(void 0)}),(0,bt.b)(function(u){u&&s.renderValidation(u)})).subscribe(),this.validationSub=this.validation$.pipe((0,bt.b)(function(u){u?(s.formGroup.get("name").setValue(u.name),s.formGroup.get("validator").setValue(u.validator),s.formGroup.get("overrideErrorMessage").setValue(u.overrideErrorMessage),setTimeout(function(){return s.formGroup.get("paramSettings").setValue(u.paramSettings)})):(s.formGroup.get("name").setValue(""),s.formGroup.get("overrideErrorMessage").setValue(""),s.formGroup.get("validator").setValue(""))})).subscribe(),this.contextForwardingSub=this.componentRef$.pipe((0,sn.h)(function(u){return!!u})).subscribe(function(u){u.instance.contexts=s.contexts,u.instance.settings=s.validation$.value?s.validation$.value.paramSettings:void 0}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"validation",set:function(e){this.validation$.next(e)}},{key:"ngOnInit",value:function(){this.onInit$.next(void 0),this.onInit$.complete()}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue((0,ue.Z)((0,ue.Z)({},e),{},{settings:e.settings?e.settings:""}),{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}},{key:"renderValidation",value:function(e){var r=this.componentFactoryResolver.resolveComponentFactory(e.editor),s=this.validationHost.viewContainerRef;s.clear(),this.componentRef$.next(s.createComponent(r))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(o.ComponentFactoryResolver))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-ordain-validation-validator"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(v5,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.validationHost=r.first)},inputs:{contexts:"contexts",validation:"validation"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:19,vars:6,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","name"],["required","","formControlName","validator"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","overrideErrorMessage"],["druidValidationRendererHost",""],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Name"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"input",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"mat-form-field")(7,"mat-label"),o.\u0275\u0275text(8,"Validator"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"mat-select",2),o.\u0275\u0275template(10,oJ,2,2,"mat-option",3),o.\u0275\u0275pipe(11,"keyvalue"),o.\u0275\u0275pipe(12,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(13,"mat-form-field")(14,"mat-label"),o.\u0275\u0275text(15,"Error Message"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(16,"input",4),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerStart(17),o.\u0275\u0275template(18,aJ,0,0,"ng-template",5),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(11,2,o.\u0275\u0275pipeBind1(12,4,e.validationPlugins$))))},dependencies:[w.NgForOf,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Li.CK,Dn.v_,Dn.$V,ai.k0,ro.x8,v5,w.AsyncPipe,w.KeyValuePipe]}),a}(),hJ=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.fb=t,this.formGroup=this.fb.group({validators:this.fb.array([])}),this.addValidator$=new yn.x,this.deleteValidator$=new yn.x,this.afterViewInit$=new yn.x,this.validation$=new en.X(new y0({validators:[]})),this.addValidatorSub=this.addValidator$.pipe((0,bt.b)(function(){e.validators.push(e.fb.control(""))})).subscribe(),this.deleteValidatorSub=this.deleteValidator$.pipe((0,bt.b)(function(r){e.validation$.value.validators.splice(r,1),e.validators.removeAt(r)})).subscribe(),this.validationSub=(0,Or.a)([this.validation$,this.afterViewInit$]).pipe((0,ke.U)(function(r){return(0,g.Z)(r,1)[0]}),(0,sn.h)(function(r){return 0!==r.validators.length}),(0,bt.b)(function(r){e.validators.clear(),r.validators.forEach(function(s,u){e.validators.push(e.fb.control(""))})})).subscribe(),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"validation",set:function(e){this.validation$.next(e)}},{key:"validators",get:function(){return this.formGroup.get("validators")}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0),this.afterViewInit$.complete()}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"content is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-ordain-validation-editor"]],inputs:{validation:"validation"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","validators"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","validation"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1),o.\u0275\u0275template(2,sJ,4,2,"div",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(3,"button",3),o.\u0275\u0275listener("click",function(){return e.addValidator$.next(void 0)}),o.\u0275\u0275text(4,"Add Validator"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.validators.controls))},dependencies:[w.NgForOf,K.JJ,K.JL,K.sg,K.u,K.CE,pJ]}),a}(),mJ=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.vpm=t,this.tokenizerService=e,this.validators$=new en.X([]),this.errors$=new en.X(null),this.message$=new en.X("Field is invalid"),this.resolvedContext$=new en.X(void 0),this.messageSub=(0,Or.a)([this.validators$,this.errors$,this.resolvedContext$]).pipe((0,sn.h)(function(s){var c=(0,g.Z)(s,2)[1];return null!==c&&0!==Object.keys(c).length}),(0,ke.U)(function(s){var u=(0,g.Z)(s,2),l=u[0],c=u[1],p=Object.keys(c),E=(0,g.Z)(p,1)[0],D=l.find(function(R){return R.validator===E});return{k:E,v:D,e:c[E]}}),(0,ct.w)(function(s){var u=s.k,l=s.v,c=s.e;return r.vpm.getPlugin(l.validator).pipe((0,ke.U)(function(p){return{k:u,v:l,p,e:c}}))}),(0,ct.w)(function(s){var u=s.k,l=s.v,c=s.p;return r.resolveContexts({errors:s.e}).pipe((0,ke.U)(function(y){return{k:u,v:l,p:c,t:y}}))}),(0,bt.b)(function(s){var c=s.v,p=r.replaceTokens({message:c.overrideErrorMessage&&""!==c.overrideErrorMessage?c.overrideErrorMessage:s.p.errorMessage,tokens:s.t});r.message$.next(p)})).subscribe()}return(0,v.Z)(n,[{key:"validators",set:function(e){this.validators$.next(e)}},{key:"errors",set:function(e){this.errors$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"replaceTokens",value:function(e){var r=e.message,s=e.tokens;return void 0!==s&&s.forEach(function(u,l){r=r.split("[".concat(l,"]")).join("".concat(u))}),r}},{key:"resolveContexts",value:function(e){var r=this,s=e.errors;return new hr.y(function(u){var l=new Map(r.tokenizerService.generateGenericTokens(s,""));if(r.resolvedContext$.value)for(var c in r.resolvedContext$.value)l=new Map([].concat((0,_.Z)(l),(0,_.Z)(r.tokenizerService.generateGenericTokens(r.resolvedContext$.value[c],"_root"===c?"":c))));u.next(l),u.complete()})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(Mr))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-ordain-default-validation-error"]],inputs:{validators:"validators",errors:"errors",resolvedContext:"resolvedContext"},decls:1,vars:1,template:function(t,e){1&t&&o.\u0275\u0275text(0),2&t&&o.\u0275\u0275textInterpolate(e.message$.value)}}),a}(),y5=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,Gu]}),a}(),gJ=S(3103),vJ=S(3250),BR=S(7329);function yJ(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-error"),o.\u0275\u0275element(1,"druid-ordain-default-validation-error",2),o.\u0275\u0275elementEnd()),2&a){var t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("validators",null==t.formSettings$.value||null==t.formSettings$.value.validation?null:t.formSettings$.value.validation.validators)("errors",t.formControl.errors)("resolvedContext",t.resolvedContext$.value)}}function _J(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",2),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function xJ(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"classifieds-ui-render-pane",4),o.\u0275\u0275elementStart(2,"button",3),o.\u0275\u0275listener("click",function(){var c=o.\u0275\u0275restoreView(t).index,p=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(p.remove$.next(c))}),o.\u0275\u0275text(3,"Remove"),o.\u0275\u0275elementEnd()()}if(2&a){var e=n.$implicit,r=n.index,s=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("formControlName",r)("pluginName",e.contentPlugin)("settings",e.settings)("name",e.name)("label",e.label)("contexts",e.contexts)("panes",s.panes)("resolvedContext",e.resolvedContext)("indexPosition",r)("ancestory",s.ancestory)}}function bJ(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",9),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t)}}function CJ(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-radio-button",2),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function wJ(a,n){if(1&a&&(o.\u0275\u0275elementStart(0,"mat-option",4),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&a){var t=n.$implicit;o.\u0275\u0275property("value",t),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(t.label)}}function SJ(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-image-preview",4),o.\u0275\u0275listener("removed",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext().$implicit,u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.onRemove(s))}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("file",e)("removable",!0),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function EJ(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-video-preview",4),o.\u0275\u0275listener("removed",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext().$implicit,u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.onRemove(s))}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("file",e)("removable",!0),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function kJ(a,n){if(1&a){var t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ngx-dropzone-preview",5),o.\u0275\u0275listener("removed",function(){o.\u0275\u0275restoreView(t);var s=o.\u0275\u0275nextContext().$implicit,u=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(u.onRemove(s))}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()}if(2&a){var e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("removable",!0),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate2("",e.name," (",e.type,")")}}function PJ(a,n){if(1&a&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,SJ,3,4,"ngx-dropzone-image-preview",2),o.\u0275\u0275template(2,EJ,3,4,"ngx-dropzone-video-preview",2),o.\u0275\u0275template(3,kJ,3,3,"ngx-dropzone-preview",3),o.\u0275\u0275elementContainerEnd()),2&a){var t=n.$implicit,e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isType(t,"image")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.isType(t,"video")),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.isType(t,"image")&&!e.isType(t,"video"))}}var ZR=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.value=n.value?n.value:"",n.datasourceBinding&&"object"==typeof n.datasourceBinding&&(this.datasourceBinding=new Sn.ContentBinding(n.datasourceBinding)),n.datasourceOptions&&"object"==typeof n.datasourceOptions&&(this.datasourceOptions=new vF(n.datasourceOptions)),n.validation&&(this.validation=new y0(n.validation)))}),AJ=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.valuesMapping=n.valuesMapping)}),Na=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.tokenizerService=t,this.datasourceContentHandler=e,this.panelResolver=r,this.attributeSerializer=s}return(0,v.Z)(n,[{key:"resolveElementOptions",value:function(e,r){var s=this;return(0,ze.of)(e).pipe((0,ct.w)(function(u){if(u.datasourceBinding&&u.datasourceBinding.id&&""!==u.datasourceBinding.id){var l=r.has("panes")?r.get("panes").find(function(c){return c.name===u.datasourceBinding.id}):void 0;return s.panelResolver.dataPanes(r.get("panes")).pipe((0,ct.w)(function(c){return l?s.datasourceContentHandler.fetchDynamicData(l.settings,new Map([].concat((0,_.Z)(r),[["dataPanes",c]]))):(0,ze.of)([])}),(0,ke.U)(function(c){return[u,c.results]}))}return(0,ze.of)([u,[]])}),(0,ke.U)(function(u){var l=(0,g.Z)(u,2),c=l[0],p=l[1];return[c,c.datasourceOptions&&""!==c.datasourceOptions.query?(0,du.JSONPath)({path:c.datasourceOptions.query,json:p}):p]}),(0,ct.w)(function(u){var l=(0,g.Z)(u,2);return s.mapDataOptions(l[0],l[1])}))}},{key:"mapDataOptions",value:function(e,r){var s=this;return(0,ze.of)([e,r]).pipe((0,ke.U)(function(u){var l=(0,g.Z)(u,2),p=l[1];return[l[0],p,p?p.map(function(y){return s.tokenizerService.generateGenericTokens(y)}):[]]}),(0,ke.U)(function(u){var l=(0,g.Z)(u,3),c=l[0];return l[2].map(function(E){return s.mapDataItem(c,E)})}))}},{key:"mapDataItem",value:function(e,r){return new xF({value:this.tokenizerService.replaceTokens("".concat(e.datasourceOptions.valueMapping),r),label:this.tokenizerService.replaceTokens("".concat(e.datasourceOptions.labelMapping),r),dataItem:void 0})}},{key:"hasDataOptions",value:function(e){return e.datasourceBinding&&e.datasourceBinding.id&&""!==e.datasourceBinding.id}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mr),o.\u0275\u0275inject(eR),o.\u0275\u0275inject(iR),o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ba=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.tokenizerService=t,this.cachedResolvedContexts=[],this.scheduleResolution$=new yn.x,this.scheduleResolutionSub=this.scheduleResolution$.pipe((0,bt.b)(function(r){var s=r.resolvedContext,u=r.index,l=new Map;if(s)for(var c in s)s[c]instanceof Wu||(l=new Map([].concat((0,_.Z)(l),(0,_.Z)(e.tokenizerService.generateGenericTokens(s[c],"_root"===c?"":c)))));e.cachedResolvedContexts[u].resolution$.next(l)})).subscribe()}return(0,v.Z)(n,[{key:"resolveContexts",value:function(e){var r=e.resolvedContext,s=this.cachedResolvedContexts.findIndex(function(u){return 0===(0,qA.getDiff)(u.rContext,r).length});return-1===s?(console.log("resolved context no cache",r),s=this.cachedResolvedContexts.length,this.cachedResolvedContexts.push({rContext:r,resolution$:new $A.t}),this.scheduleResolution$.next({resolvedContext:r,index:s})):console.log("resolved context cache hit",r),this.cachedResolvedContexts[s].resolution$.pipe((0,Vn.q)(1))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Mr))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),is=function(){var a=function(){function n(t,e,r,s,u,l){var c=this;(0,h.Z)(this,n),this.attributeSerializer=t,this.optionsResolver=e,this.tokenizerService=r,this.formsContextHelper=s,this.vpm=u,this.controlContainer=l,this.formControl=new K.p4(""),this.formControlValueChangesSub=this.formControl.valueChanges.pipe((0,bt.b)(function(p){return console.log("serialized form value",c.attributeSerializer.serialize(p,"value"))}),(0,bt.b)(function(p){return c.controlContainer.control.get("settings").setValue([c.attributeSerializer.serialize(p,"value")])})).subscribe(),this.formSettings$=new en.X(void 0),this.settings$=new en.X([]),this.options$=new en.X([]),this.init$=new yn.x,this.afterViewInit$=new yn.x,this.panes$=new en.X([]),this.originPanes$=new en.X([]),this.contexts$=new en.X([]),this.resolvedContext$=new en.X(void 0),this.value$=new yn.x,this.settingsSub=this.settings$.pipe((0,ke.U)(function(p){return p?c.settingsToObject(c.attributeSerializer.deserializeAsObject(p)):void 0}),(0,bt.b)(function(p){return c.formSettings$.next(p)})).subscribe(),this.loadOptionsSub=(0,Or.a)([this.formSettings$,this.panes$,this.originPanes$,this.contexts$,this.init$]).pipe((0,ke.U)(function(p){var y=(0,g.Z)(p,4),D=y[1],R=y[2],B=y[3];return{settings:y[0],metadata:new Map([["panes",[].concat((0,_.Z)(D&&Array.isArray(D)?D:[]),(0,_.Z)(R&&Array.isArray(R)?R:[]))],["contexts",B]])}}),(0,ct.w)(function(p){return c.optionsResolver.resolveElementOptions(p.settings,p.metadata)}),(0,bt.b)(function(p){return c.options$.next(p)})).subscribe(),this.renderContentSub=(0,Or.a)([this.formSettings$,this.resolvedContext$,this.afterViewInit$]).pipe((0,ke.U)(function(p){var y=(0,g.Z)(p,2);return{settings:y[0],resolvedContext:y[1]}}),(0,ct.w)(function(p){var y=p.settings;return c.formsContextHelper.resolveContexts({resolvedContext:p.resolvedContext}).pipe((0,ke.U)(function(D){return{settings:y,tokens:D}}))}),(0,ct.w)(function(p){var y=p.settings,E=p.tokens;return(0,nr.D)(y.validation&&y.validation.validators?y.validation.validators.map(function(D){return c.vpm.getPlugin(D.validator).pipe((0,ct.w)(function(R){return R.builder({v:D,serialized:!1}).pipe((0,ke.U)(function(B){return{v:D,vf:B}}))}))}):[]).pipe((0,ke.U)(function(D){return{settings:y,tokens:E,validators:D}}),(0,Fi.d)({settings:y,tokens:E,validators:[]}))}),(0,ct.w)(function(p){var y=p.settings,E=p.tokens,D=p.validators;return(0,nr.D)(y.validation&&y.validation.validators?y.validation.validators.map(function(R){return c.vpm.getPlugin(R.validator).pipe((0,ct.w)(function(B){return B.builder({v:R,serialized:!0}).pipe((0,ke.U)(function(te){return{v:R,vf:te}}))}))}):[]).pipe((0,ke.U)(function(R){return{settings:y,tokens:E,validators:D,validatorsSerialized:R}}),(0,Fi.d)({settings:y,tokens:E,validators:D,validatorsSerialized:[]}))}),(0,bt.b)(function(p){var y=p.settings,E=p.tokens,R=p.validatorsSerialized;if(c.formControl.setAsyncValidators(p.validators.map(function(Ft){return Ft.vf})),c.controlContainer.control.get("settings").setAsyncValidators(R.map(function(Ft){return Ft.vf})),c.formControl.updateValueAndValidity(),c.controlContainer.control.updateValueAndValidity(),void 0!==E&&(c.tokens=E),y.value&&null!==y.value&&""!==y.value){(-1!==y.value.indexOf(".$i.")||-1!==y.value.indexOf(".$j.")||-1!==y.value.indexOf(".$k."))&&console.log(y.value,c.ancestory);var B=y.value.split("$i"),te=B.map(function(Ft,pt){return c.ancestory[1*pt+(3+(0===pt?0:3))]}),ne=B.reduce(function(Ft,pt,Zt){return[].concat((0,_.Z)(Ft),[0===Zt?"":Zt-1<te.length?"".concat(te[Zt-1]):"",pt])},[]).join("");console.log("path",ne);var he=c.replaceTokens(ne);c.formControl.setValue(he);var Se=c.tokenizerService.discoverTokens(he,!0);if(0!==Se.length)if(Se[0].trim().lastIndexOf(".id")===Se[0].trim().length-3){var we=Br();c.formControl.setValue(we),c.value$.next(we)}else{var $e=Array.from(E).filter(function(Ft){return 0===(0,g.Z)(Ft,1)[0].indexOf(ne.substr(1,ne.length-2))});if(0!==$e.length){var Ye=$e.reduce(function(Ft,pt){var Zt=(0,g.Z)(pt,2),Gt=Zt[0],Yt=Zt[1];return(0,ue.Z)((0,ue.Z)({},Ft),{},(0,f.Z)({},Gt.substr(Gt.lastIndexOf(".")+1),Yt))},{});c.formControl.setValue(Ye),c.value$.next(Ye)}else{var lt=c.tokenizerService.replaceTokens(y.value,new Map(Array.from(Se).map(function(Ft){return[Ft,""]})));c.formControl.setValue(lt),c.value$.next(lt)}}else c.value$.next(he)}else c.formControl.setValue("")}),(0,Vn.q)(1)).subscribe()}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"panes",set:function(e){this.panes$.next(e)}},{key:"originPanes",set:function(e){this.originPanes$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"ngOnInit",value:function(){this.init$.next(void 0)}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}},{key:"settingsToObject",value:function(e){return new ZR(e)}},{key:"replaceTokens",value:function(e){return void 0!==this.tokens&&this.tokens.forEach(function(r,s){e=e.split("[".concat(s,"]")).join("".concat(r))}),e}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275dir=o.\u0275\u0275defineDirective({type:a,selectors:[["","druid-forms-form-element-base",""]],inputs:{tokens:"tokens",settings:"settings",panes:"panes",originPanes:"originPanes",contexts:"contexts",resolvedContext:"resolvedContext",ancestory:"ancestory"}}),a}(),RJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-input"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matInput","",3,"formControl"],[4,"ngIf"],[3,"validators","errors","resolvedContext"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-form-field"),o.\u0275\u0275element(1,"input",0),o.\u0275\u0275template(2,yJ,2,3,"mat-error",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("formControl",e.formControl),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formControl.invalid))},dependencies:[w.NgIf,K.Fj,K.JJ,K.oH,Dn.nI,Dn.v_,ai.k0,mJ]}),a}(),TJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-select"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-select",0),o.\u0275\u0275template(2,_J,2,2,"mat-option",1),o.\u0275\u0275pipe(3,"async"),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("formControl",e.formControl),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(3,2,e.options$)))},dependencies:[w.NgForOf,K.JJ,K.oH,Li.CK,Dn.v_,ro.x8,w.AsyncPipe]}),a}(),DJ=function(){var a=function(){function n(t,e,r){var s=this;(0,h.Z)(this,n),this.attributeSerializer=t,this.fb=e,this.controlContainer=r,this.panes=[],this.originMappings=[],this.ancestory=[],this.add$=new yn.x,this.remove$=new yn.x,this.panes$=new en.X([]),this.settings$=new yn.x,this.resolvedContext$=new yn.x,this.panel$=new yn.x,this.afterViewInit$=new yn.x,this.addSub=this.add$.pipe((0,ke.U)(function(){return new fi(s.panes[0])}),(0,bt.b)(function(){return s.panesFormArray.push(s.fb.control(""))}),(0,bt.b)(function(u){return s.panes.push(u)})).subscribe(),this.removeSub=this.remove$.pipe((0,bt.b)(function(u){return s.panesFormArray.removeAt(u)}),(0,bt.b)(function(u){return s.panes.splice(u,1)})).subscribe(),this.populateDefaultValues=(0,Or.a)([this.settings$.pipe((0,ke.U)(function(u){return u?new AJ(s.attributeSerializer.deserializeAsObject(u)):void 0})),this.resolvedContext$,this.panel$,this.afterViewInit$]).pipe((0,ke.U)(function(u){var l=(0,g.Z)(u,3);return{s:l[0],rc:l[1],p:l[2]}}),(0,bt.b)(function(u){return console.log(u.s.valuesMapping,s.ancestory)}),(0,ke.U)(function(u){var l=u.s,c=u.rc,p=u.p;if(c&&l&&l.valuesMapping&&""!==l.valuesMapping.trim()){var y=l.valuesMapping.split("[$i]"),E=y.map(function(B,te){return s.ancestory[1*te+3]}),D=y.reduce(function(B,te,ne){return[].concat((0,_.Z)(B),[0===ne?"":ne-1<E.length?"[".concat(E[ne-1],"]"):"",te])},[]).join("");return console.log("path",D),{items:(0,du.JSONPath)({path:"$.".concat(D,".*"),json:c}),s:l,p}}return{items:[],p}}),(0,bt.b)(function(u){for(var c=u.items.length-s.panesFormArray.length,p=0;p<c;p++)s.add$.next(void 0)})).subscribe()}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"resolvedContext",set:function(e){this.resolvedContext$.next(e)}},{key:"panel",set:function(e){this.panel$.next(e)}},{key:"panesFormArray",get:function(){return this.controlContainer.control.get("panes")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.afterViewInit$.next(void 0)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-form-section"]],inputs:{panes:"panes",originPanes:"originPanes",originMappings:"originMappings",ancestory:"ancestory",settings:"settings",resolvedContext:"resolvedContext",panel:"panel"},decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","panes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formControlName","pluginName","settings","name","label","contexts","panes","resolvedContext","indexPosition","ancestory"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0)(1,1),o.\u0275\u0275template(2,xJ,4,10,"div",2),o.\u0275\u0275elementContainerEnd()(),o.\u0275\u0275elementStart(3,"button",3),o.\u0275\u0275listener("click",function(){return e.add$.next(void 0)}),o.\u0275\u0275text(4,"Add Item"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.panes))},dependencies:[w.NgForOf,K.JJ,K.JL,K.sg,K.u,K.CE,m0]}),a}(),IJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){var y;return(0,h.Z)(this,e),(y=t.call(this,r,s,u,l,c,p)).cols=20,y.rows=20,y}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-textarea"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"formControl","cols","rows"]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"textarea",0),2&t&&o.\u0275\u0275property("formControl",e.formControl)("cols",e.cols)("rows",e.rows)},dependencies:[K.Fj,K.JJ,K.oH]}),a}(),OJ=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,r,s){return"pane"===r?this.toObject(e).pipe((0,ct.w)(function(u){return zr(function(){return u.datasourceBinding&&u.datasourceBinding.id&&null!==u.datasourceBinding.id},(0,ze.of)([u.datasourceBinding]),(0,ze.of)([]))})):(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(new ZR(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,ze.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),_5=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(){return(0,h.Z)(this,e),t.apply(this,arguments)}return(0,v.Z)(e)}(OJ);return a.\u0275fac=function(){var n;return function(e){return(n||(n=o.\u0275\u0275getInheritedFactory(a)))(e||a)}}(),a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),os=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.handler=s,this.attributeSerializer=u,this.datasourceOptions=ZA,this.validation=new y0({validators:[]}),this.bindableOptions=[],this.formGroup=this.fb.group({value:this.fb.control(""),datasourceOptions:this.fb.control(""),validation:this.fb.control(""),datasourceBinding:this.fb.group({id:this.fb.control(""),type:this.fb.control("pane")})}),this.paneIndex=t.paneIndex,this.pane=t.pane}return(0,v.Z)(n,[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var e=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(r){e.formGroup.get("value").setValue(r.value),e.datasourceOptions=r.datasourceOptions?r.datasourceOptions:ZA,e.validation=new y0(r.validation?r.validation:{validators:[]}),e.formGroup.get("datasourceBinding").get("id").setValue(r.datasourceBinding&&r.datasourceBinding.id&&null!==r.datasourceBinding.id?r.datasourceBinding.id:"")}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new fi(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(r,s){return s.get("name").value?[].concat((0,_.Z)(r),[s.get("name").value]):(0,_.Z)(r)},[])}},{key:"submit",value:function(){var e=this;console.log(this.formGroup.value);var r=new ZR(this.formGroup.value);console.log(r),this.paneGroup.get("settings").clear(),this.handler.buildSettings(r).map(function(u){return e.attributeSerializer.convertToGroup(u)}).forEach(function(u){return e.paneGroup.get("settings").push(u)}),this.dialogRef.close()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(_5),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-element-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:17,vars:4,consts:[[3,"formGroup","ngSubmit"],["fxLayout","column"],["matInput","","formControlName","value"],["formGroupName","datasourceBinding"],["required","","formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","datasourceOptions",3,"datasourceOptions"],["formControlName","validation",3,"validation"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"mat-dialog-content",1)(2,"div")(3,"mat-form-field")(4,"mat-label"),o.\u0275\u0275text(5,"Value"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(6,"input",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(7,"mat-form-field",3)(8,"mat-label"),o.\u0275\u0275text(9,"Datasource"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"mat-select",4),o.\u0275\u0275template(11,bJ,2,2,"mat-option",5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(12,"classifieds-ui-datasource-options",6)(13,"druid-ordain-validation-editor",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"mat-dialog-actions")(15,"button",8),o.\u0275\u0275text(16,"Save"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngForOf",e.bindableOptions),o.\u0275\u0275advance(1),o.\u0275\u0275property("datasourceOptions",e.datasourceOptions),o.\u0275\u0275advance(1),o.\u0275\u0275property("validation",e.validation))},dependencies:[w.NgForOf,K._Y,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,K.x0,Li.CK,Oi.eB,rn.aO,rn.Rb,rn.ev,Dn.v_,Dn.$V,ai.k0,ro.x8,HU,hJ]}),a}(),FJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-radiogroup"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-radio-group",0),o.\u0275\u0275template(1,CJ,2,2,"mat-radio-button",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275property("formControl",e.formControl),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(2,2,e.options$)))},dependencies:[w.NgForOf,K.JJ,K.oH,X2.OY,X2.vy,w.AsyncPipe]}),a}(),MJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-slider"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"mat-slider",0),2&t&&o.\u0275\u0275property("formControl",e.formControl)},dependencies:[K.JJ,K.oH,gJ.ST]}),a}(),NJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-toggle"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"mat-slide-toggle",0),o.\u0275\u0275text(1,"Toggle Label"),o.\u0275\u0275elementEnd()),2&t&&o.\u0275\u0275property("formControl",e.formControl)},dependencies:[K.JJ,K.oH,vJ.iZ]}),a}(),BJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-checkbox"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"formControl"]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"mat-checkbox",0),2&t&&o.\u0275\u0275property("formControl",e.formControl)},dependencies:[K.JJ,K.oH,q_.FC]}),a}(),ZJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-datepicker"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[["appearance","fill"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""]],template:function(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),o.\u0275\u0275text(2,"Choose a date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(3,"input",1)(4,"mat-datepicker-toggle",2)(5,"mat-datepicker",null,3),o.\u0275\u0275elementEnd()),2&t){var r=o.\u0275\u0275reference(6);o.\u0275\u0275advance(3),o.\u0275\u0275property("matDatepicker",r)("formControl",e.formControl),o.\u0275\u0275advance(1),o.\u0275\u0275property("for",r)}},dependencies:[K.Fj,K.JJ,K.oH,BR.Mq,BR.hl,BR.nW,Dn.v_,Dn.$V,Dn.nX,ai.k0]}),a}(),jJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){var y;return(0,h.Z)(this,e),(y=t.call(this,r,s,u,l,c,p)).proxyControl=new K.p4(""),y.optionSelected$=new yn.x,y.proxyControlValueChangesSub=y.proxyControl.valueChanges.pipe((0,Nr.b)(1e3),(0,Uu.x)(),(0,ma.M)((0,Or.a)([y.formSettings$,y.panes$,y.originPanes$,y.contexts$]).pipe((0,ke.U)(function(E){var D=(0,g.Z)(E,4);return{settings:D[0],panes:D[1],originPanes:D[2],contexts:D[3]}}))),(0,ke.U)(function(E){var D=(0,g.Z)(E,2),R=D[0],B=D[1],ne=B.panes,he=B.originPanes,Se=B.contexts;return{term:R,settings:B.settings,metadata:new Map([["panes",[].concat((0,_.Z)(ne&&Array.isArray(ne)?ne:[]),(0,_.Z)(he&&Array.isArray(he)?he:[]))],["contexts",Se],["inputparams",new Map([["term",new io({flags:[],mapping:new aF({value:R,testValue:R,type:"static",context:void 0})})]])]])}}),(0,ct.w)(function(E){return y.optionsResolver.resolveElementOptions(E.settings,E.metadata)}),(0,bt.b)(function(E){return y.options$.next(E)})).subscribe(),y.optionSelectedSub=y.optionSelected$.pipe((0,bt.b)(function(E){return y.formControl.setValue(E.option&&E.option.value?E.option.value.value:"")})).subscribe(),y.displayAuto=function(E){return E.label},y}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-autocomplete"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["matInput","",3,"matAutocomplete","formControl"],[3,"displayWith","optionSelected"],["autocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t&&(o.\u0275\u0275elementStart(0,"mat-form-field")(1,"mat-label"),o.\u0275\u0275text(2,"Autocomplete"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(3,"input",0),o.\u0275\u0275elementStart(4,"mat-autocomplete",1,2),o.\u0275\u0275listener("optionSelected",function(u){return e.optionSelected$.next(u)}),o.\u0275\u0275template(6,wJ,2,2,"mat-option",3),o.\u0275\u0275pipe(7,"async"),o.\u0275\u0275elementEnd()()),2&t){var r=o.\u0275\u0275reference(5);o.\u0275\u0275advance(3),o.\u0275\u0275property("matAutocomplete",r)("formControl",e.proxyControl),o.\u0275\u0275advance(1),o.\u0275\u0275property("displayWith",e.displayAuto),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",o.\u0275\u0275pipeBind1(7,4,e.options$))}},dependencies:[w.NgForOf,K.Fj,K.JJ,K.oH,W2.VN,W2.QJ,Li.CK,Dn.v_,Dn.$V,ai.k0,w.AsyncPipe]}),a}(),$J=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p,y){var E;return(0,h.Z)(this,e),(E=t.call(this,r,s,l,c,p,y)).files=[],E.select$=new yn.x,E.selectSub=E.select$.pipe((0,bt.b)(function(D){return console.log(D)}),(0,Qa.z)(function(D){return E.filesService.bulkUpload({files:[D.addedFiles[0]]}).pipe((0,ke.U)(function(R){return{mfs:R,e:D}}))}),(0,bt.b)(function(D){return E.formControl.setValue(D.mfs[0])}),(0,bt.b)(function(D){var R;return(R=E.files).push.apply(R,(0,_.Z)(D.e.addedFiles))})).subscribe(),E.valueSub=E.value$.pipe((0,sn.h)(function(D){return"object"==typeof D}),(0,ke.U)(function(D){return new RA(D)}),(0,bt.b)(function(D){console.log("populate value",D)}),(0,ct.w)(function(D){return E.filesService.convertToFiles([D])}),(0,bt.b)(function(D){console.log("populate as file",D),E.files=D})).subscribe(),E.filesService=u,E}return(0,v.Z)(e,[{key:"onSelect",value:function(s){this.select$.next(s)}},{key:"onRemove",value:function(s){console.log(s),this.formControl.setValue(""),this.files.splice(this.files.indexOf(s),1)}},{key:"isType",value:function(s,u){switch(u){case"image":return this.filesService.isImage({file:s});case"video":return this.filesService.isVideo({file:s});default:return!1}}}]),e}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(C2),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-media"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[3,"change"],[4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngIf"],[3,"removable","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[3,"removable","removed"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"ngx-dropzone",0),o.\u0275\u0275listener("change",function(s){return e.onSelect(s)}),o.\u0275\u0275elementStart(1,"ngx-dropzone-label"),o.\u0275\u0275text(2,"Drop it, baby!"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,PJ,4,3,"ng-container",1),o.\u0275\u0275elementEnd()),2&t&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",e.files))},dependencies:[w.NgForOf,w.NgIf,U2,vM,Af,_M,VV]}),a}(),LJ=function(){var a=function(n){(0,F.Z)(e,n);var t=(0,L.Z)(e);function e(r,s,u,l,c,p){return(0,h.Z)(this,e),t.call(this,r,s,u,l,c,p)}return(0,v.Z)(e)}(is);return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService),o.\u0275\u0275directiveInject(Na),o.\u0275\u0275directiveInject(Mr),o.\u0275\u0275directiveInject(Ba),o.\u0275\u0275directiveInject(la),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-forms-form-hidden"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(t,e){},encapsulation:2}),a}(),UJ=function(){var a=function(){function n(t,e,r,s){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.attributeSerializer=s,this.contexts=[],this.formGroup=this.fb.group({valuesMapping:this.fb.control("")})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=this;this.data.panelFormGroup.get("settings").clear(),this.attributeSerializer.serialize(this.formGroup.value,"root").attributes.forEach(function(r){console.log("formly repeating editor form"),console.log(e.attributeSerializer.convertToGroup(r)),e.data.panelFormGroup.get("settings").push(e.attributeSerializer.convertToGroup(r))})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-form-section-editor"]],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","valuesMapping"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Values Mapping"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"input",1),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"button",2),o.\u0275\u0275text(7,"Save"),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275property("formGroup",e.formGroup),o.\u0275\u0275advance(6),o.\u0275\u0275property("disabled",!e.formGroup.valid))},dependencies:[K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,Oi.eB,rn.aO,Dn.v_,Dn.$V,ai.k0]}),a}(),zJ=function(n){return new Sn.ContentPlugin({id:"form_input",title:"Form Input",selectionComponent:void 0,editorComponent:os,renderComponent:RJ,handler:n.handler})},VJ=function(n){return new Sn.ContentPlugin({id:"form_select",title:"Form Select",selectionComponent:void 0,editorComponent:os,renderComponent:TJ,handler:n.handler})},GJ=function(n){return new Sn.ContentPlugin({id:"form_radiogroup",title:"Form Radiogroup",selectionComponent:void 0,editorComponent:os,renderComponent:FJ,handler:n.handler})},HJ=function(n){return new Sn.ContentPlugin({id:"form_textarea",title:"Form Textarea",selectionComponent:void 0,editorComponent:os,renderComponent:IJ,handler:n.handler})},qJ=function(n){return new Sn.ContentPlugin({id:"form_slider",title:"Form Slider",selectionComponent:void 0,editorComponent:os,renderComponent:MJ,handler:n.handler})},KJ=function(n){return new Sn.ContentPlugin({id:"form_toggle",title:"Form Toggle",selectionComponent:void 0,editorComponent:os,renderComponent:NJ,handler:n.handler})},WJ=function(n){return new Sn.ContentPlugin({id:"form_checkbox",title:"Form Checkbox",selectionComponent:void 0,editorComponent:os,renderComponent:BJ,handler:n.handler})},XJ=function(n){return new Sn.ContentPlugin({id:"form_datepicker",title:"Form Datepicker",selectionComponent:void 0,editorComponent:os,renderComponent:ZJ,handler:n.handler})},QJ=function(n){return new Sn.ContentPlugin({id:"form_autocomplete",title:"Form Autocomplete",selectionComponent:void 0,editorComponent:os,renderComponent:jJ,handler:n.handler})},JJ=function(n){return new Sn.ContentPlugin({id:"form_media",title:"Form Media",selectionComponent:void 0,editorComponent:os,renderComponent:$J,handler:n.handler})},YJ=function(n){return new Sn.ContentPlugin({id:"form_hidden",title:"Form Hidden",selectionComponent:void 0,editorComponent:os,renderComponent:LJ,handler:n.handler})},tY=function(){var a=(0,v.Z)(function n(t,e,r){(0,h.Z)(this,n),[zJ({handler:r}),VJ({handler:r}),HJ({handler:r}),GJ({handler:r}),qJ({handler:r}),KJ({handler:r}),WJ({handler:r}),XJ({handler:r}),QJ({handler:r}),JJ({handler:r}),YJ({handler:r})].forEach(function(s){return t.register(s)}),[new j2({id:"form_section",name:"form_section",title:"Form Section",editorComponent:UJ,renderComponent:DJ})].forEach(function(s){return e.register(s)})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sn.ContentPluginManager),o.\u0275\u0275inject(Ef),o.\u0275\u0275inject(_5))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,K.u5,K.UX,no.MaterialModule,yR,Vl,z2,y5]}),a}();function nY(a){var e,n={},t=(0,z.Z)(a.keys());try{for(t.s();!(e=t.n()).done;){var r=e.value,s=a.getAll(r);null!==s&&(n[r]=s)}}catch(u){t.e(u)}finally{t.f()}return n}var x5=function(){var a=function(){function n(t,e){var r=this;(0,h.Z)(this,n),this.transferState=e,this.isCacheActive=!0,t.isStable.pipe((0,jO.P)(function(s){return s}),(0,Fi.d)(!1)).subscribe(function(){r.isCacheActive=!1})}return(0,v.Z)(n,[{key:"makeCacheKey",value:function(e,r,s,u){var l=s.keys().sort().map(function(p){return"".concat(p,"=").concat(s.getAll(p))}).join("&");return(0,o.makeStateKey)(("GET"===e?"G.":"H.")+u+"."+r+"?"+l)}},{key:"intercept",value:function(e,r){var s=this;if(!this.isCacheActive||"GET"!==e.method&&"HEAD"!==e.method)return r.handle(e);var u=this.makeCacheKey(e.method,e.url,e.params,e.responseType);if(this.transferState.hasKey(u)){var l=this.transferState.get(u,null),c=l?.body;switch(l?.responseType){case"arraybuffer":c=(new TextEncoder).encode(l.body).buffer;break;case"blob":c=new Blob([l.body])}return(0,ze.of)(new O.HttpResponse({body:c,headers:new O.HttpHeaders(l?.headers),status:l?.status,statusText:l?.statusText,url:l?.url}))}return r.handle(e).pipe((0,bt.b)(function(y){y instanceof O.HttpResponse&&s.transferState.set(u,{body:y.body,headers:nY(y.headers),status:y.status,statusText:y.statusText,url:y.url||"",responseType:e.responseType})}))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(o.ApplicationRef),o.\u0275\u0275inject(o.TransferState))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),rY=function(){var a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[o.ApplicationRef,o.TransferState,x5,{provide:O.HTTP_INTERCEPTORS,useExisting:x5,multi:!0}]}),a}(),iY=new o.InjectionToken("AlienaliasSettings"),aY=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.openSearchDomain=n.openSearchDomain)}),b5=S(7628),cY=["mfeReactComponent"],dY=function(){var a=function(){function n(){(0,h.Z)(this,n)}return(0,v.Z)(n,[{key:"ngOnChanges",value:function(e){this.render()}},{key:"ngAfterViewInit",value:function(){this.render()}},{key:"ngOnDestroy",value:function(){b5.unmountComponentAtNode(this.containerRef.nativeElement)}},{key:"render",value:function(){var e=this.component();b5.render(e,this.containerRef.nativeElement)}}]),n}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-mfe-react"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(cY,5),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.containerRef=r.first)},inputs:{component:"component"},features:[o.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["mfeReactComponent",""]],template:function(t,e){1&t&&o.\u0275\u0275element(0,"span",null,0)},encapsulation:2}),a}(),fY=["appContainer"],jR=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.type=n.type&&""!==n.type?n.type:"module",this.remoteEntry=n.remoteEntry,this.componentName=n.componentName,this.exposedModule=n.exposedModule,this.remoteName=n.remoteName&&""!==n.remoteName?n.remoteName:void 0)}),C5=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.attributeSerializer=t}return(0,v.Z)(n,[{key:"handleFile",value:function(e){return(0,ze.of)([])}},{key:"handlesType",value:function(e){return!1}},{key:"implementsRendererOverride",value:function(){return!1}},{key:"hasRendererOverride",value:function(e){return(0,ze.of)(!1)}},{key:"isDynamic",value:function(e){return!1}},{key:"isData",value:function(e){return!1}},{key:"getBindings",value:function(e,r,s){return(0,ze.of)([])}},{key:"fetchDynamicData",value:function(e,r){return(0,ze.of)(new Sr)}},{key:"buildDynamicItems",value:function(e,r){return(0,ze.of)([])}},{key:"toObject",value:function(e){return(0,ze.of)(new jR(this.attributeSerializer.deserializeAsObject(e)))}},{key:"buildSettings",value:function(e){return this.attributeSerializer.serialize(e,"root").attributes}},{key:"stateDefinition",value:function(e){return(0,ze.of)({autocomplete:{input:""},value:void 0})}},{key:"editorOptions",value:function(e){return(0,ze.of)(new Sn.ContentPluginEditorOptions)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Ut.AttributeSerializerService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),pY=function(){var a=function(){function n(t,e,r,s,u){(0,h.Z)(this,n),this.data=t,this.dialogRef=e,this.fb=r,this.handler=s,this.attributeSerializer=u,this.bindableOptions=[],this.formGroup=this.fb.group({type:this.fb.control("module",[K.kI.required]),remoteEntry:this.fb.control("",[K.kI.required]),exposedModule:this.fb.control("",[K.kI.required]),componentName:this.fb.control("",[K.kI.required]),remoteName:this.fb.control("")}),this.paneIndex=t.paneIndex,this.pane=t.pane}return(0,v.Z)(n,[{key:"paneGroup",get:function(){return this.data.panelFormGroup.get("panes").at(this.paneIndex)}},{key:"ngOnInit",value:function(){var e=this;this.data.pane?this.handler.toObject(this.data.pane.settings).subscribe(function(r){e.formGroup.get("type").setValue(r.type&&""!==r.type?r.type:"module"),e.formGroup.get("remoteEntry").setValue(r.remoteEntry),e.formGroup.get("exposedModule").setValue(r.exposedModule),e.formGroup.get("componentName").setValue(r.componentName),e.formGroup.get("remoteName").setValue(r.remoteName)}):(this.data.panelFormGroup.get("panes").push(this.fb.group({contentPlugin:this.data.plugin.id,name:new K.p4(""),label:new K.p4(""),rule:new K.p4(""),settings:this.fb.array([])})),this.paneIndex=this.data.panelFormGroup.get("panes").length-1,this.pane=new fi(this.data.panelFormGroup.get("panes").at(this.paneIndex).value)),this.bindableOptions=this.data.panelFormGroup.get("panes").controls.reduce(function(r,s){return s.get("name").value?[].concat((0,_.Z)(r),[s.get("name").value]):(0,_.Z)(r)},[])}},{key:"submit",value:function(){var e=this;console.log(this.formGroup.value);var r=new jR(this.formGroup.value);console.log(r),this.paneGroup.get("settings").clear(),this.handler.buildSettings(r).map(function(u){return e.attributeSerializer.convertToGroup(u)}).forEach(function(u){return e.paneGroup.get("settings").push(u)}),this.dialogRef.close()}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(rn.eJ),o.\u0275\u0275directiveInject(rn.hV),o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(C5),o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-outsider-outside-app-editor"]],inputs:{bindableOptions:"bindableOptions"},decls:32,vars:1,consts:[[3,"formGroup","ngSubmit"],["formControlName","type","required",""],["value","module"],["value","script"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","componentName","required",""],["matInput","","formControlName","remoteName"],["type","submit","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return e.submit()}),o.\u0275\u0275elementStart(1,"div")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Remote Entry"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"mat-select",1)(6,"mat-option",2),o.\u0275\u0275text(7,"Module"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"mat-option",3),o.\u0275\u0275text(9,"Script"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(10,"div")(11,"mat-form-field")(12,"mat-label"),o.\u0275\u0275text(13,"Remote Entry"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(14,"input",4),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(15,"div")(16,"mat-form-field")(17,"mat-label"),o.\u0275\u0275text(18,"Exposed Module"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(19,"input",5),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(20,"div")(21,"mat-form-field")(22,"mat-label"),o.\u0275\u0275text(23,"Component Name"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(24,"input",6),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(25,"div")(26,"mat-form-field")(27,"mat-label"),o.\u0275\u0275text(28,"Remote Name"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(29,"input",7),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(30,"button",8),o.\u0275\u0275text(31,"Save"),o.\u0275\u0275elementEnd()()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[Li.CK,Oi.eB,rn.aO,Dn.v_,Dn.$V,ai.k0,ro.x8,K._Y,K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u]}),a}(),hY=function(){var a=function(){function n(t){var e=this;(0,h.Z)(this,n),this.attributeSerializer=t,this.objectSettings$=new en.X(void 0),this.contexts$=new en.X([]),this.settings$=new en.X([]),this.settingsSub=this.settings$.pipe((0,ke.U)(function(r){return r?new jR(e.attributeSerializer.deserializeAsObject(r)):void 0}),(0,bt.b)(function(r){return e.objectSettings$.next(r)})).subscribe(),this.renderAppSub=this.objectSettings$.pipe((0,h0.T)(1),(0,ct.w)(function(r){return new hr.y(function(s){If(r.type&&"script"!==r.type?{type:"module",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule}:{type:"script",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule,remoteName:r.remoteName}).then(function(u){s.next(u[r.componentName&&""!==r.componentName?r.componentName:"default"]),s.complete()})}).pipe((0,ke.U)(function(s){return{s:r,c:s}}))}),(0,bt.b)(function(r){var s=r.s,u=r.c;e.viewContainer.clear(),s.type&&"script"!==s.type?e.viewContainer.createComponent(u):e.viewContainer.createComponent(dY).instance.component=u})).subscribe()}return(0,v.Z)(n,[{key:"settings",set:function(e){this.settings$.next(e)}},{key:"contexts",set:function(e){this.contexts$.next(e)}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(Ut.AttributeSerializerService))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["druid-outsider-outside-app-renderer"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(fY,7,o.ViewContainerRef),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.viewContainer=r.first)},inputs:{settings:"settings",contexts:"contexts"},decls:2,vars:0,consts:[["appContainer",""]],template:function(t,e){1&t&&o.\u0275\u0275elementContainer(0,null,0)}}),a}(),gY=function(){var a=(0,v.Z)(function n(t,e){(0,h.Z)(this,n),t.register(function(n){return new Sn.ContentPlugin({id:"outside_app",title:"Outside App",selectionComponent:void 0,editorComponent:pY,renderComponent:hY,handler:n.handler})}({handler:e}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Sn.ContentPluginManager),o.\u0275\u0275inject(C5))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({imports:[w.CommonModule,no.MaterialModule,K.UX]}),a}(),w5=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.fb=t,this.controlContainer=e,this.context$=new en.X(void 0),this.formGroup=this.fb.group({remoteEntry:this.fb.control("",[K.kI.required]),exposedModule:this.fb.control("",[K.kI.required]),moduleName:this.fb.control("",[K.kI.required])}),this.onTouched=function(){}}return(0,v.Z)(n,[{key:"context",set:function(e){this.context$.next(e)}},{key:"ngOnInit",value:function(){var e=this;this.context$.subscribe(function(r){e.formGroup.setValue(r?{remoteEntry:r.data.remoteEntry,exposedModule:r.data.exposedModule,moduleName:r.data.moduleName}:{remoteEntry:"",exposedModule:"",moduleName:""})})}},{key:"writeValue",value:function(e){e&&this.formGroup.setValue(e,{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.formGroup.valueChanges.subscribe(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"validate",value:function(e){return this.formGroup.valid?null:{invalidForm:{valid:!1,message:"source is invalid"}}}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-module-form"]],inputs:{context:"context"},features:[o.\u0275\u0275ProvidersFeature([{provide:K.JU,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0},{provide:K.Cf,useExisting:(0,o.forwardRef)(function(){return a}),multi:!0}])],decls:16,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","remoteEntry","required",""],["matInput","","formControlName","exposedModule","required",""],["matInput","","formControlName","moduleName","required",""]],template:function(t,e){1&t&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"mat-form-field")(3,"mat-label"),o.\u0275\u0275text(4,"Remote Entry"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"input",1),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(6,"div")(7,"mat-form-field")(8,"mat-label"),o.\u0275\u0275text(9,"Exposed Module"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(10,"input",2),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(11,"div")(12,"mat-form-field")(13,"mat-label"),o.\u0275\u0275text(14,"Module Name"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(15,"input",3),o.\u0275\u0275elementEnd()()()),2&t&&o.\u0275\u0275property("formGroup",e.formGroup)},dependencies:[K.Fj,K.JJ,K.JL,K.Q7,K.sg,K.u,Dn.v_,Dn.$V,ai.k0]}),a}(),vY=function(){var a=function(){function n(t,e){(0,h.Z)(this,n),this.fb=t,this.controlContainer=e}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){this.controlContainer.control.addControl("adaptor",this.fb.control("data",K.kI.required)),this.controlContainer.control.addControl("data",this.fb.control(""))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275directiveInject(K.QS),o.\u0275\u0275directiveInject(K.gN))},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["classifieds-ui-context-module-editor"]],viewQuery:function(t,e){var r;1&t&&o.\u0275\u0275viewQuery(w5,7),2&t&&o.\u0275\u0275queryRefresh(r=o.\u0275\u0275loadQuery())&&(e.contextModuleFormComp=r.first)},inputs:{context:"context"},decls:2,vars:2,consts:[[3,"formGroup"],["formControlName","data",3,"context"]],template:function(t,e){1&t&&(o.\u0275\u0275elementContainerStart(0,0),o.\u0275\u0275element(1,"classifieds-ui-context-module-form",1),o.\u0275\u0275elementContainerEnd()),2&t&&(o.\u0275\u0275property("formGroup",e.controlContainer.control),o.\u0275\u0275advance(1),o.\u0275\u0275property("context",e.context))},dependencies:[K.JJ,K.JL,K.sg,K.u,w5]}),a}(),yY=function(){var a=(0,v.Z)(function n(t,e,r){var s=this;(0,h.Z)(this,n),this.actions$=t,this.moduleLoaderService=e,this.es=r,this.setPage$=gt(function(){return s.actions$.pipe(gn(nR),(0,bt.b)(function(u){var l=u.page;console.log("tractor beam capture page",l),l.contexts&&Array.isArray(l.contexts)&&l.contexts.forEach(function(c){if("module"===c.plugin)return s.moduleLoaderService.loadModule(function(){return If({type:"module",remoteEntry:c.data.remoteEntry,exposedModule:c.data.exposedModule}).then(function(p){return p[c.data.moduleName]})}).subscribe()})}))},{dispatch:!1}),this.setPageInfo$=gt(function(){return s.actions$.pipe(gn(tR),(0,bt.b)(function(u){console.log("tractor beam info",u.info)}),(0,ct.w)(function(u){var l=u.info;return s.es.getEntityCollectionService("PanelPage").getByKey(l.id)}),(0,bt.b)(function(u){u.contexts&&Array.isArray(u.contexts)&&u.contexts.forEach(function(l){if("module"===l.plugin)return s.moduleLoaderService.loadModule(function(){return If({type:"module",remoteEntry:l.data.remoteEntry,exposedModule:l.data.exposedModule}).then(function(c){return c[l.data.moduleName]})}).subscribe()})}))},{dispatch:!1})});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(on),o.\u0275\u0275inject(zn.ModuleLoaderService),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),S5=function(){var a=function(){function n(t){(0,h.Z)(this,n),this.moduleLoaderService=t}return(0,v.Z)(n,[{key:"resolve",value:function(e,r,s){return console.log("module resolver context",e,r,s),this.moduleLoaderService.loadModule(function(){return If({type:"module",remoteEntry:r.remoteEntry,exposedModule:r.exposedModule}).then(function(u){return u[r.moduleName]})})}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.ModuleLoaderService))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),xY=function(){var a=function(){function n(t,e,r){(0,h.Z)(this,n),this.moduleLoader=t,this.pageBuilderFacade=e,this.es=r}return(0,v.Z)(n,[{key:"loadPlugins",value:function(){var e=this;return this.pageBuilderFacade.getPageInfo$.pipe((0,bt.b)(function(){return console.log("started loading external modules")}),(0,ct.w)(function(r){return(r&&r.id?e.es.getEntityCollectionService("PanelPage").getByKey(r.id):(0,ze.of)(void 0)).pipe((0,Fi.d)(void 0))}),(0,ct.w)(function(r){return r?(0,nr.D)(r.contexts.filter(function(s){return"module"===s.plugin}).map(function(s){return e.moduleLoader.loadModule(function(){return If({type:"module",remoteEntry:s.data.remoteEntry,exposedModule:s.data.exposedModule}).then(function(u){return u[s.data.moduleName]})})})).pipe((0,gr.g)(1),(0,Fi.d)([])):(0,ze.of)([])}),(0,bt.b)(function(){return console.log("completed loading external modules")}),(0,ke.U)(function(){return!0}),(0,Vn.q)(1))}}]),n}();return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(zn.ModuleLoaderService),o.\u0275\u0275inject(Sa),o.\u0275\u0275inject(ci))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),bY=function(){var a=(0,v.Z)(function n(t,e,r,s){(0,h.Z)(this,n),e.addDiscovery(s),t.register(function(n){return new cu({id:"module",name:"module",title:"Module",baseObject:{},resolver:n.moduleResolver,editorComponent:vY})}({moduleResolver:r}))});return a.\u0275fac=function(t){return new(t||a)(o.\u0275\u0275inject(Hu),o.\u0275\u0275inject(Sn.ContentPluginManager),o.\u0275\u0275inject(S5),o.\u0275\u0275inject(xY))},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[S5],imports:[w.CommonModule,K.u5,K.UX,xf,no.MaterialModule,Yp.forFeature([yY])]}),a}(),CY=(0,v.Z)(function a(n){(0,h.Z)(this,a),n&&(this.appId=n.appId,this.guestRoleArn=n.guestRoleArn,this.region=n.region,this.identityPoolId=n.identityPoolId)}),wY=new o.InjectionToken("RumSettings"),E5=[["50747a0d-f25e-4872-9596-d95bbfb801b0","/test"],["e182762d-b3db-49a2-9207-a389d5209d64","/introduction"]],SY=[{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"50747a0d-f25e-4872-9596-d95bbfb801b0",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<article class="prose">\n<p>Test Added new content</p>\n<ul>\n  <li>One</li>\n<li>Two</li>\n<li>Three</li>\n<ul>\n</article>',displayName:"Content",name:"content",type:1,value:'<article class="prose">\n<p>Test Added new content</p>\n<ul>\n  <li>One</li>\n<li>Two</li>\n<li>Three</li>\n<ul>\n</article>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"72c3231a-5ec1-4fec-99c1-78bff619fb6f",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"test",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"snippet",contexts:[],label:"",locked:!1,name:"",settings:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Test",displayName:"Content",name:"content",type:1,value:"Test"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}]}],settings:[],stylePlugin:""}],path:"/test",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"test",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"7d762917-bde4-4ef1-bcee-0bb14f02f6b3",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"index",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"fd0911f4-2e84-4561-b810-1a19d37914e5",locked:!1,name:"fd0911f4-2e84-4561-b810-1a19d37914e5",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<article class="prose">\n<h1>Welcome</h1>\n<p>Do you want to be a part of the green software movement?</p>\n<p>If you want to make your software applications more sustainable and build a career in green software, then this training is for you. It will teach you how to build, maintain and run greener applications irrespective of the application domain, industry, organization size or type, programming language, or framework.</p>\n<p>If you pass the associated exam, it comes with a certificate of completion from the Linux Foundation.</p>\n<h2>What is a software practitioner?</h2>\n<p>A software practitioner is anyone who is involved in the practice of building, deploying, or managing a software application. This includes but is not limited to the following:</p>\n<ul>\n<li>Developers</li>\n<li>Dev Ops</li>\n<li>Testers</li>\n<li>Architects</li>\n<li>SREs</li>\n<li>Product Managers</li>\n<li>UX Designers</li>\n</ul>\n</article>',displayName:"Content",name:"content",type:1,value:'<article class="prose">\n<h1>Welcome</h1>\n<p>Do you want to be a part of the green software movement?</p>\n<p>If you want to make your software applications more sustainable and build a career in green software, then this training is for you. It will teach you how to build, maintain and run greener applications irrespective of the application domain, industry, organization size or type, programming language, or framework.</p>\n<p>If you pass the associated exam, it comes with a certificate of completion from the Linux Foundation.</p>\n<h2>What is a software practitioner?</h2>\n<p>A software practitioner is anyone who is involved in the practice of building, deploying, or managing a software application. This includes but is not limited to the following:</p>\n<ul>\n<li>Developers</li>\n<li>Dev Ops</li>\n<li>Testers</li>\n<li>Architects</li>\n<li>SREs</li>\n<li>Product Managers</li>\n<li>UX Designers</li>\n</ul>\n</article>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"829b3209-0a89-4c4b-b494-4856253cd408",locked:!1,name:"829b3209-0a89-4c4b-b494-4856253cd408",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/index",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"index",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"8f41131f-965e-4fbc-b46d-8874d6b9f282",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"index",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"fd0911f4-2e84-4561-b810-1a19d37914e5",locked:!1,name:"fd0911f4-2e84-4561-b810-1a19d37914e5",settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<article class="prose">\n<h1>Welcome</h1>\n<p>Do you want to be a part of the green software movement?</p>\n<p>If you want to make your software applications more sustainable and build a career in green software, then this training is for you. It will teach you how to build, maintain and run greener applications irrespective of the application domain, industry, organization size or type, programming language, or framework.</p>\n<p>If you pass the associated exam, it comes with a certificate of completion from the Linux Foundation.</p>\n<h2>What is a software practitioner?</h2>\n</article>',displayName:"Content",name:"content",type:1,value:'<article class="prose">\n<h1>Welcome</h1>\n<p>Do you want to be a part of the green software movement?</p>\n<p>If you want to make your software applications more sustainable and build a career in green software, then this training is for you. It will teach you how to build, maintain and run greener applications irrespective of the application domain, industry, organization size or type, programming language, or framework.</p>\n<p>If you pass the associated exam, it comes with a certificate of completion from the Linux Foundation.</p>\n<h2>What is a software practitioner?</h2>\n</article>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"829b3209-0a89-4c4b-b494-4856253cd408",locked:!1,name:"829b3209-0a89-4c4b-b494-4856253cd408",settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/index",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"index",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e182762d-b3db-49a2-9207-a389d5209d64",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"introduction",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"a57ea94f-9d9f-41aa-aff3-19745c3cbda4",locked:!1,name:"a57ea94f-9d9f-41aa-aff3-19745c3cbda4",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<article id="what-is-green-software" class="prose">\n\n<h1 class="text-emerald-700">Introduction</h1>\n\n<h2 class="text-emerald-700">What is green software?</h2>\n\n<p>Green software is an emerging discipline at the intersection of climate science, software design, electricity markets, hardware, and data center design.</p>\n\n<p>Green software is carbon-efficient software, meaning it emits the least carbon possible. Only three activities reduce the carbon emissions of software; energy efficiency, carbon awareness, and hardware efficiency. This training will explain all of these concepts, how to apply them to your processes and how to measure them, as well as some of the international guidelines and organizations that guide and monitor this space.</p>\n\n</article>',displayName:"Content",name:"content",type:1,value:'<article id="what-is-green-software" class="prose">\n\n<h1 class="text-emerald-700">Introduction</h1>\n\n<h2 class="text-emerald-700">What is green software?</h2>\n\n<p>Green software is an emerging discipline at the intersection of climate science, software design, electricity markets, hardware, and data center design.</p>\n\n<p>Green software is carbon-efficient software, meaning it emits the least carbon possible. Only three activities reduce the carbon emissions of software; energy efficiency, carbon awareness, and hardware efficiency. This training will explain all of these concepts, how to apply them to your processes and how to measure them, as well as some of the international guidelines and organizations that guide and monitor this space.</p>\n\n</article>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:'form-data; name="File"; filename="01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5.png"',displayName:"contentDisposition",name:"contentDisposition",type:1,value:'form-data; name="File"; filename="01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5.png"'},{attributes:[],computedValue:"",displayName:"contentType",name:"contentType",type:1,value:""},{attributes:[],computedValue:"01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5",displayName:"id",name:"id",type:1,value:"01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5"},{attributes:[],computedValue:"69087",displayName:"length",name:"length",type:1,value:"69087"},{attributes:[],computedValue:"media/01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5.png",displayName:"path",name:"path",type:1,value:"media/01_carbon_efficiency-e5ce9cc2af3c13c4154ff61a0267b2b5.png"},{attributes:[],computedValue:"placeholdername",displayName:"fileName",name:"fileName",type:1,value:"placeholdername"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"media",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"media"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"1",name:"1",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<article class="prose">\n\n<h2 class="text-emerald-700">Who should read this?</h2>\n<p>Anyone involved in the process of building, deploying, or managing software. By studying these principles, a green software practitioner can make decisions that have a meaningful impact on the carbon pollution of their applications.</p>\n\n<h2 class="text-emerald-700">History</h2>\n<p>In 2019 the original eight principles of green software engineering were released. This 2022 update of the principles took on feedback received over the years, merging some principles and adding a new one regarding understanding climate commitments.</p>\n\n<h2 class="text-emerald-700">How to be a green software practitioner</h2>\n<p>The following training covers 6 key areas that a green software practitioner should know:</p>\n\n<ol>\n<li>Carbon Efficiency: Emit the least amount of carbon possible.</li>\n<li>Energy Efficiency: Use the least amount of energy possible.</li>\n<li>Carbon Awareness: Do more when the electricity is cleaner and do less when the electricity is dirtier.</li>\n<li>Hardware Efficiency: Use the least amount of embodied carbon possible.</li>\n<li>Measurement: What you can\'t measure, you can\'t improve.</li>\n<li>Climate Commitments: Understand the exact mechanism of carbon reduction.</li>\n</ol>\n\n<p>Each of these chapters will introduce some new concepts and explain in detail why they are important in terms of the climate, and how you can apply them to your green software practices.</p>\n\n\n\n</article>',displayName:"Content",name:"content",type:1,value:'<article class="prose">\n\n<h2 class="text-emerald-700">Who should read this?</h2>\n<p>Anyone involved in the process of building, deploying, or managing software. By studying these principles, a green software practitioner can make decisions that have a meaningful impact on the carbon pollution of their applications.</p>\n\n<h2 class="text-emerald-700">History</h2>\n<p>In 2019 the original eight principles of green software engineering were released. This 2022 update of the principles took on feedback received over the years, merging some principles and adding a new one regarding understanding climate commitments.</p>\n\n<h2 class="text-emerald-700">How to be a green software practitioner</h2>\n<p>The following training covers 6 key areas that a green software practitioner should know:</p>\n\n<ol>\n<li>Carbon Efficiency: Emit the least amount of carbon possible.</li>\n<li>Energy Efficiency: Use the least amount of energy possible.</li>\n<li>Carbon Awareness: Do more when the electricity is cleaner and do less when the electricity is dirtier.</li>\n<li>Hardware Efficiency: Use the least amount of embodied carbon possible.</li>\n<li>Measurement: What you can\'t measure, you can\'t improve.</li>\n<li>Climate Commitments: Understand the exact mechanism of carbon reduction.</li>\n</ol>\n\n<p>Each of these chapters will introduce some new concepts and explain in detail why they are important in terms of the climate, and how you can apply them to your green software practices.</p>\n\n\n\n</article>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"2",name:"2",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:'form-data; name="File"; filename="GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51.png"',displayName:"contentDisposition",name:"contentDisposition",type:1,value:'form-data; name="File"; filename="GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51.png"'},{attributes:[],computedValue:"",displayName:"contentType",name:"contentType",type:1,value:""},{attributes:[],computedValue:"GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51",displayName:"id",name:"id",type:1,value:"GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51"},{attributes:[],computedValue:"113058",displayName:"length",name:"length",type:1,value:"113058"},{attributes:[],computedValue:"media/GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51.png",displayName:"path",name:"path",type:1,value:"media/GSF_Principles_Patterns_Practices_v2-c5e2753b6270473d1da02b97a1321d51.png"},{attributes:[],computedValue:"placeholdername",displayName:"fileName",name:"fileName",type:1,value:"placeholdername"}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"media",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"media"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"3",name:"3",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<classifieds-ui-page-router-link href="[_page.path]/manage" text="Edit this Page"></classifieds-ui-page-router-link>',displayName:"Content",name:"content",type:1,value:'<classifieds-ui-page-router-link href="[_page.path]/manage" text="Edit this Page"></classifieds-ui-page-router-link>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"}],computedValue:null,displayName:"4",name:"4",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"f4fe327d-dd32-4397-a90a-a6aa6032ed99",locked:!1,name:"f4fe327d-dd32-4397-a90a-a6aa6032ed99",rule:{condition:"",rules:[]},settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:'<ul class="px-2 py-2 border-l border-l-stone-300">\n  <li class="px-2 py-2 text-sm">\n    <a href="/introduction#what-is-green-software">What is green software?</a>\n  </li>\n  <li class="px-2 py-2 text-sm">Who should read this?</li>\n  <li class="px-2 py-2 text-sm">History</li>\n  <li class="px-2 py-2 text-sm">How to be a green software practitioner</li>\n  <li class="px-2 py-2 text-sm">Principles, Patterns, and Practices.</li>\n</ul>',displayName:"Content",name:"content",type:1,value:'<ul class="px-2 py-2 border-l border-l-stone-300">\n  <li class="px-2 py-2 text-sm">\n    <a href="/introduction#what-is-green-software">What is green software?</a>\n  </li>\n  <li class="px-2 py-2 text-sm">Who should read this?</li>\n  <li class="px-2 py-2 text-sm">History</li>\n  <li class="px-2 py-2 text-sm">How to be a green software practitioner</li>\n  <li class="px-2 py-2 text-sm">Principles, Patterns, and Practices.</li>\n</ul>'},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"},{attributes:[{attributes:[],computedValue:"",displayName:"condition",name:"condition",type:1,value:""},{attributes:[],computedValue:null,displayName:"rules",name:"rules",type:4,value:null}],computedValue:null,displayName:"rule",name:"rule",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"plugin",name:"plugin",type:0,value:"undefined"}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/introduction",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"Introduction",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"},{contexts:[],displayType:"page",entityPermissions:{deleteUserIds:[],readUserIds:["*"],writeUserIds:[]},gridItems:[],id:"e8d71f89-8dfc-4e0d-9cee-90b29741727b",interactions:{interactions:{listeners:[]}},layoutSetting:{settings:[]},layoutType:"gridless",name:"introduction",panels:[{columnSetting:{settings:[]},panes:[{contentPlugin:"panel",contexts:[],label:"a57ea94f-9d9f-41aa-aff3-19745c3cbda4",locked:!1,name:"a57ea94f-9d9f-41aa-aff3-19745c3cbda4",settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Intro main content",displayName:"Content",name:"content",type:1,value:"Intro main content"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]},{contentPlugin:"panel",contexts:[],label:"f4fe327d-dd32-4397-a90a-a6aa6032ed99",locked:!1,name:"f4fe327d-dd32-4397-a90a-a6aa6032ed99",settings:[{attributes:[],computedValue:null,displayName:"gridItems",name:"gridItems",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[{attributes:[{attributes:[{attributes:[],computedValue:"text/html",displayName:"Content Type",name:"contentType",type:1,value:"text/html"},{attributes:[],computedValue:"Sidebar",displayName:"Content",name:"content",type:1,value:"Sidebar"},{attributes:[],computedValue:null,displayName:"jsScript",name:"jsScript",type:1,value:null}],computedValue:null,displayName:"settings",name:"settings",type:2,value:null},{attributes:[],computedValue:"false",displayName:"locked",name:"locked",type:5,value:"false"},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[],computedValue:"",displayName:"name",name:"name",type:1,value:""},{attributes:[],computedValue:"",displayName:"label",name:"label",type:1,value:""},{attributes:[],computedValue:"snippet",displayName:"contentPlugin",name:"contentPlugin",type:1,value:"snippet"}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panes",name:"panes",type:4,value:null},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"label",name:"label",type:0,value:"undefined"},{attributes:[],computedValue:"",displayName:"stylePlugin",name:"stylePlugin",type:1,value:""},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"columnSetting",name:"columnSetting",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"panels",name:"panels",type:4,value:null},{attributes:[],computedValue:null,displayName:"contexts",name:"contexts",type:4,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"0",name:"0",type:2,value:null}],computedValue:null,displayName:"rowSettings",name:"rowSettings",type:4,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"readUserIds",name:"readUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"writeUserIds",name:"writeUserIds",type:4,value:null},{attributes:[],computedValue:null,displayName:"deleteUserIds",name:"deleteUserIds",type:4,value:null}],computedValue:null,displayName:"entityPermissions",name:"entityPermissions",type:2,value:null},{attributes:[],computedValue:"undefined",displayName:"id",name:"id",type:0,value:"undefined"},{attributes:[],computedValue:"gridless",displayName:"layoutType",name:"layoutType",type:1,value:"gridless"},{attributes:[],computedValue:"page",displayName:"displayType",name:"displayType",type:1,value:"page"},{attributes:[],computedValue:"undefined",displayName:"name",name:"name",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"title",name:"title",type:0,value:"undefined"},{attributes:[],computedValue:"spearhead-docs",displayName:"site",name:"site",type:1,value:"spearhead-docs"},{attributes:[],computedValue:"undefined",displayName:"userId",name:"userId",type:0,value:"undefined"},{attributes:[],computedValue:"undefined",displayName:"path",name:"path",type:0,value:"undefined"},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"dataduct",name:"dataduct",type:2,value:null}],computedValue:null,displayName:"persistence",name:"persistence",type:2,value:null},{attributes:[{attributes:[{attributes:[],computedValue:null,displayName:"listeners",name:"listeners",type:4,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null}],computedValue:null,displayName:"interactions",name:"interactions",type:2,value:null},{attributes:[{attributes:[],computedValue:null,displayName:"settings",name:"settings",type:2,value:null}],computedValue:null,displayName:"layoutSetting",name:"layoutSetting",type:2,value:null}]}],settings:[],stylePlugin:""}],path:"/introduction",persistence:{dataduct:{settings:[]}},rowSettings:[{settings:[]}],site:"spearhead-docs",title:"Introduction",userId:"b7a9bac5-5fef-4aa6-bf12-d536c156e453"}],EY=[{path:"auth-callback",component:T4}].concat((0,_.Z)(E5.map(function(a){var n=(0,g.Z)(a,2),t=n[0],e=n[1];return{matcher:OR(new yi({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:ek,data:{panelPageListItem:new yi({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),(0,_.Z)(E5.map(function(a){var n=(0,g.Z)(a,2),t=n[0],e=n[1];return{matcher:IR(new yi({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})),component:Y2,data:{panelPageListItem:new yi({id:t,layoutType:"",displayType:"",gridItems:[],panels:[],layoutSetting:void 0,rowSettings:[],path:e})}}})),[{path:"**",component:gz,canActivate:[TF]}]),kY={root:rs_apiGatewaySettings.endpointUrl,timeout:2e4};function PY(){var a=new Ll;return a.link=function(n,t,e){return"page"===e?'<classifieds-ui-panel-page id="'.concat(n,'"></classifieds-ui-panel-page>'):'<classifieds-ui-page-router-link href="'.concat(n,'" text="').concat(e,'"></classifieds-ui-page-router-link>')},{renderer:a}}var AY=function(){var n,t,e,a=(0,v.Z)(function n(){(0,h.Z)(this,n)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.\u0275\u0275defineNgModule({type:a,bootstrap:[jQ]}),a.\u0275inj=o.\u0275\u0275defineInjector({providers:[(0,j.ly)(),TF,{provide:zn.SITE_NAME,useValue:rs_site},{provide:iP,useValue:new tP(rs_clientSettings)},{provide:b2,useValue:new S9(rs_mediaSettings)},{provide:aM,useValue:new lV(rs_panelsSettings)},{provide:iY,useValue:new aY(rs_alienaliasSettings)},{provide:a5,useValue:new fQ({disableRouting:!1})},{provide:Jx,useValue:new G4(rs_cognitoSettings)},{provide:wY,useValue:new CY(rs_rumSettings)},{provide:O.HTTP_INTERCEPTORS,useClass:$4,multi:!0},{provide:O.HTTP_INTERCEPTORS,useClass:D4,multi:!0},{provide:rd,useValue:kY},{provide:o.APP_INITIALIZER,useFactory:(n={key:function(t){return"panelpage__"+t.data.id},data:SY.map(function(n){return new yi(n)})},t=n.data,e=n.key,function(r){return function(){return new hr.y(function(s){(0,w.isPlatformBrowser)(r)?function OQ(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ns())("readwrite",function(t){return a.forEach(function(e){return t.put(e[1],e[0])}),ua(t.transaction)})}(t.map(function(l){return[e({data:l}),l]})).then(function(){console.log("data loaded into idb"),s.next(),s.complete()}).catch(function(){console.log("data load into idb failure"),s.next(),s.complete()}):(s.next(),s.complete())})}}),multi:!0,deps:[o.PLATFORM_ID]}],imports:[j.b2.withServerTransition({appId:"serverApp"}),w.CommonModule,O.HttpClientModule,O.HttpClientJsonpModule,K.u5,K.UX,No,go,Wc,rY,DA.forRoot({sanitize:o.SecurityContext.NONE,markedOptions:{provide:eF,useFactory:PY}}),Cr.RouterModule.forRoot(EY,{initialNavigation:"enabledBlocking"}),rs_production?[]:$Q.FT.instrument({maxAge:25,logOnly:rs_production}),FU.forRoot({serializer:NA}),Vt.Aw.forRoot(UQ,{metaReducers:zQ,runtimeChecks:{strictActionImmutability:!0,strictStateImmutability:!0}}),Yp.forRoot([]),wF,RQ,zn.UtilsModule,$_,Sn.ContentModule,xf,ih.forRoot(),j4.forRoot(),OO,E4.forRoot({}),yz,rR,yR,wQ,WQ,V4,ZQ,YQ,iJ,tY,gY,bY,Ez,kK,z2,vQ,y5,Gu,Oz]}),a}();console.log("bootstrap"),rs_production&&(0,o.enableProdMode)(),j.q6().bootstrapModule(AY).catch(function(a){return console.log(a)})},6954:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32c=void 0;var M=S(2361),H=S(1500),j=S(5423),o=function(){function v(){this.crc32c=new j.Crc32c}return v.prototype.update=function(h){(0,H.isEmptyData)(h)||this.crc32c.update((0,H.convertToBuffer)(h))},v.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(h){return[2,(0,H.numToUint8)(this.crc32c.digest())]})})},v.prototype.reset=function(){this.crc32c=new j.Crc32c},v}();Z.AwsCrc32c=o},5423:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32c=Z.Crc32c=Z.crc32c=void 0;var M=S(2361),H=S(1500);Z.crc32c=function j(_){return(new o).update(_).digest()};var o=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(w){var O,F;try{for(var L=M.__values(w),U=L.next();!U.done;U=L.next())this.checksum=this.checksum>>>8^h[255&(this.checksum^U.value)]}catch(Q){O={error:Q}}finally{try{U&&!U.done&&(F=L.return)&&F.call(L)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();Z.Crc32c=o;var h=(0,H.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),g=S(6954);Object.defineProperty(Z,"AwsCrc32c",{enumerable:!0,get:function(){return g.AwsCrc32c}})},6502:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},1500:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(6502);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(3814);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(566);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(2700);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},3814:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},566:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},2700:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},3141:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.EMPTY_DATA_SHA_1=Z.SHA_1_HMAC_ALGO=Z.SHA_1_HASH=void 0,Z.SHA_1_HASH={name:"SHA-1"},Z.SHA_1_HMAC_ALGO={name:"HMAC",hash:Z.SHA_1_HASH},Z.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])},7961:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha1=void 0;var M=S(1283),H=S(2766),j=S(7506),o=S(776),v=S(5468),h=S(8538),g=function(){function _(w){if((0,j.supportsWebCrypto)((0,v.locateWindow)()))this.hash=new H.Sha1(w);else{if(!(0,o.isMsWindow)((0,v.locateWindow)()))throw new Error("SHA1 not supported");this.hash=new M.Sha1(w)}}return _.prototype.update=function(w,O){this.hash.update((0,h.convertToBuffer)(w))},_.prototype.digest=function(){return this.hash.digest()},_.prototype.reset=function(){this.hash.reset()},_}();Z.Sha1=g},1283:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha1=void 0;var M=S(3626),H=S(3141),j=S(2093),o=S(5468),v=function(){function _(w){this.secret=w,this.reset()}return _.prototype.update=function(w){var O=this;(0,M.isEmptyData)(w)||(this.operation=this.operation.then(function(F){return F.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},F.process(g(w)),F}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(w){return new Promise(function(O,F){w.onerror=function(){F(new Error("Error encountered finalizing hash"))},w.oncomplete=function(){w.result&&O(new Uint8Array(w.result)),F(new Error("Error encountered finalizing hash"))},w.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function h(_){return new Promise(function(w,O){var F=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",g(_),H.SHA_1_HMAC_ALGO,!1,["sign"]);F.oncomplete=function(){F.result&&w(F.result),O(new Error("ImportKey completed without importing key."))},F.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(w){return(0,o.locateWindow)().msCrypto.subtle.sign(H.SHA_1_HMAC_ALGO,w)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-1"))},_}();function g(_){return"string"==typeof _?(0,j.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}Z.Sha1=v},6982:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WebCryptoSha1=Z.Ie11Sha1=void 0,S(70).__exportStar(S(7961),Z);var H=S(1283);Object.defineProperty(Z,"Ie11Sha1",{enumerable:!0,get:function(){return H.Sha1}});var j=S(2766);Object.defineProperty(Z,"WebCryptoSha1",{enumerable:!0,get:function(){return j.Sha1}})},3626:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},2766:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha1=void 0;var M=S(2093),H=S(3626),j=S(3141),o=S(5468),v=function(){function g(_){this.toHash=new Uint8Array(0),void 0!==_&&(this.key=new Promise(function(w,O){(0,o.locateWindow)().crypto.subtle.importKey("raw",h(_),j.SHA_1_HMAC_ALGO,!1,["sign"]).then(w,O)}),this.key.catch(function(){}))}return g.prototype.update=function(_){if(!(0,H.isEmptyData)(_)){var w=h(_),O=new Uint8Array(this.toHash.byteLength+w.byteLength);O.set(this.toHash,0),O.set(w,this.toHash.byteLength),this.toHash=O}},g.prototype.digest=function(){var _=this;return this.key?this.key.then(function(w){return(0,o.locateWindow)().crypto.subtle.sign(j.SHA_1_HMAC_ALGO,w,_.toHash).then(function(O){return new Uint8Array(O)})}):(0,H.isEmptyData)(this.toHash)?Promise.resolve(j.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,o.locateWindow)().crypto.subtle.digest(j.SHA_1_HASH,_.toHash)}).then(function(w){return Promise.resolve(new Uint8Array(w))})},g.prototype.reset=function(){this.toHash=new Uint8Array(0)},g}();function h(g){return"string"==typeof g?(0,M.fromUtf8)(g):ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(g)}Z.Sha1=v},9189:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},2624:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},8732:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},8424:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},7705:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];Z.isMsWindow=function H(j){if(function M(j){return"MSInputMethodContext"in j&&"msCrypto"in j}(j)&&void 0!==j.msCrypto.subtle){var o=j.msCrypto,v=o.getRandomValues,h=o.subtle;return S.map(function(g){return h[g]}).concat(v).every(function(g){return"function"==typeof g})}return!1}},776:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=S(70);M.__exportStar(S(9189),Z),M.__exportStar(S(2624),Z),M.__exportStar(S(8732),Z),M.__exportStar(S(8424),Z),M.__exportStar(S(7705),Z)},7506:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),S(70).__exportStar(S(2398),Z)},2398:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.supportsZeroByteGCM=Z.supportsSubtleCrypto=Z.supportsSecureRandom=Z.supportsWebCrypto=void 0;var M=S(70),H=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function v(g){return g&&H.every(function(_){return"function"==typeof g[_]})}Z.supportsWebCrypto=function j(g){return!(!o(g)||"object"!=typeof g.crypto.subtle)&&v(g.crypto.subtle)},Z.supportsSecureRandom=o,Z.supportsSubtleCrypto=v,Z.supportsZeroByteGCM=function h(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(F){switch(F.label){case 0:if(!v(g))return[2,!1];F.label=1;case 1:return F.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=F.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===F.sent().byteLength];case 4:return F.sent(),[2,!1];case 5:return[2]}})})}},5620:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},8538:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(5620);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(3015);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(1487);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(7523);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},3015:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},1487:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},7523:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},5337:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RawSha256=void 0;var M=S(9271),H=function(){function j(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return j.prototype.update=function(o){if(this.finished)throw new Error("Attempted to update an already finished hash.");var v=0,h=o.byteLength;if(this.bytesHashed+=h,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;h>0;)this.buffer[this.bufferLength++]=o[v++],h--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},j.prototype.digest=function(){if(!this.finished){var o=8*this.bytesHashed,v=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),h=this.bufferLength;if(v.setUint8(this.bufferLength++,128),h%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)v.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)v.setUint8(g,0);v.setUint32(M.BLOCK_SIZE-8,Math.floor(o/4294967296),!0),v.setUint32(M.BLOCK_SIZE-4,o),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},j.prototype.hashBuffer=function(){for(var v=this.buffer,h=this.state,g=h[0],_=h[1],w=h[2],O=h[3],F=h[4],L=h[5],U=h[6],z=h[7],Q=0;Q<M.BLOCK_SIZE;Q++){if(Q<16)this.temp[Q]=(255&v[4*Q])<<24|(255&v[4*Q+1])<<16|(255&v[4*Q+2])<<8|255&v[4*Q+3];else{var Y=this.temp[Q-2];this.temp[Q]=(((Y>>>17|Y<<15)^(Y>>>19|Y<<13)^Y>>>10)+this.temp[Q-7]|0)+((((Y=this.temp[Q-15])>>>7|Y<<25)^(Y>>>18|Y<<14)^Y>>>3)+this.temp[Q-16]|0)}var W=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&L^~F&U)|0)+(z+(M.KEY[Q]+this.temp[Q]|0)|0)|0,J=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&w^_&w)|0;z=U,U=L,L=F,F=O+W|0,O=w,w=_,_=g,g=W+J|0}h[0]+=g,h[1]+=_,h[2]+=w,h[3]+=O,h[4]+=F,h[5]+=L,h[6]+=U,h[7]+=z},j}();Z.RawSha256=H},9271:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MAX_HASHABLE_LENGTH=Z.INIT=Z.KEY=Z.DIGEST_LENGTH=Z.BLOCK_SIZE=void 0,Z.BLOCK_SIZE=64,Z.DIGEST_LENGTH=32,Z.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Z.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Z.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9984:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),(0,S(9055).__exportStar)(S(7803),Z)},7803:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(9055),H=S(9271),j=S(5337),o=S(5272),v=function(){function g(_){if(this.hash=new j.RawSha256,_){this.outer=new j.RawSha256;var w=function h(g){var _=(0,o.convertToBuffer)(g);if(_.byteLength>H.BLOCK_SIZE){var w=new j.RawSha256;w.update(_),_=w.digest()}var O=new Uint8Array(H.BLOCK_SIZE);return O.set(_),O}(_),O=new Uint8Array(H.BLOCK_SIZE);O.set(w);for(var F=0;F<H.BLOCK_SIZE;F++)w[F]^=54,O[F]^=92;for(this.hash.update(w),this.outer.update(O),F=0;F<w.byteLength;F++)w[F]=0}}return g.prototype.update=function(_){if(!(0,o.isEmptyData)(_)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(_))}catch(w){this.error=w}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return(0,M.__awaiter)(this,void 0,void 0,function(){return(0,M.__generator)(this,function(_){return[2,this.digestSync()]})})},g}();Z.Sha256=v},5448:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},5272:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(5448);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(482);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(6203);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(5824);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},482:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},6203:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},5824:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Array.from){for(var H=new Uint32Array(M.length);0<M.length;)H[0]=M[0];return H}return Uint32Array.from(M)}},4447:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},5694:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},3502:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},9710:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},3707:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];Z.isMsWindow=function H(j){if(function M(j){return"MSInputMethodContext"in j&&"msCrypto"in j}(j)&&void 0!==j.msCrypto.subtle){var o=j.msCrypto,v=o.getRandomValues,h=o.subtle;return S.map(function(g){return h[g]}).concat(v).every(function(g){return"function"==typeof g})}return!1}},9826:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=S(7994);M.__exportStar(S(4447),Z),M.__exportStar(S(5694),Z),M.__exportStar(S(3502),Z),M.__exportStar(S(9710),Z),M.__exportStar(S(3707),Z)},4812:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.EMPTY_DATA_SHA_256=Z.SHA_256_HMAC_ALGO=Z.SHA_256_HASH=void 0,Z.SHA_256_HASH={name:"SHA-256"},Z.SHA_256_HMAC_ALGO={name:"HMAC",hash:Z.SHA_256_HASH},Z.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},3911:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(5912),H=S(532),j=S(7408),o=S(8284),v=S(9826),h=S(5468),g=S(2862),_=function(){function w(O){this.hash=(0,o.supportsWebCrypto)((0,h.locateWindow)())?new H.Sha256(O):(0,v.isMsWindow)((0,h.locateWindow)())?new M.Sha256(O):new j.Sha256(O)}return w.prototype.update=function(O,F){this.hash.update((0,g.convertToBuffer)(O))},w.prototype.digest=function(){return this.hash.digest()},w.prototype.reset=function(){this.hash.reset()},w}();Z.Sha256=_},5912:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(7283),H=S(4812),j=S(2093),o=S(5468),v=function(){function _(w){this.secret=w,this.reset()}return _.prototype.update=function(w){var O=this;(0,M.isEmptyData)(w)||(this.operation=this.operation.then(function(F){return F.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},F.process(g(w)),F}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(w){return new Promise(function(O,F){w.onerror=function(){F(new Error("Error encountered finalizing hash"))},w.oncomplete=function(){w.result&&O(new Uint8Array(w.result)),F(new Error("Error encountered finalizing hash"))},w.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function h(_){return new Promise(function(w,O){var F=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",g(_),H.SHA_256_HMAC_ALGO,!1,["sign"]);F.oncomplete=function(){F.result&&w(F.result),O(new Error("ImportKey completed without importing key."))},F.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(w){return(0,o.locateWindow)().msCrypto.subtle.sign(H.SHA_256_HMAC_ALGO,w)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))},_}();function g(_){return"string"==typeof _?(0,j.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}Z.Sha256=v},6513:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WebCryptoSha256=Z.Ie11Sha256=void 0,S(8952).__exportStar(S(3911),Z);var H=S(5912);Object.defineProperty(Z,"Ie11Sha256",{enumerable:!0,get:function(){return H.Sha256}});var j=S(532);Object.defineProperty(Z,"WebCryptoSha256",{enumerable:!0,get:function(){return j.Sha256}})},7283:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},532:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(2862),H=S(4812),j=S(5468),o=function(){function v(h){this.toHash=new Uint8Array(0),this.secret=h,this.reset()}return v.prototype.update=function(h){if(!(0,M.isEmptyData)(h)){var g=(0,M.convertToBuffer)(h),_=new Uint8Array(this.toHash.byteLength+g.byteLength);_.set(this.toHash,0),_.set(g,this.toHash.byteLength),this.toHash=_}},v.prototype.digest=function(){var h=this;return this.key?this.key.then(function(g){return(0,j.locateWindow)().crypto.subtle.sign(H.SHA_256_HMAC_ALGO,g,h.toHash).then(function(_){return new Uint8Array(_)})}):(0,M.isEmptyData)(this.toHash)?Promise.resolve(H.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,j.locateWindow)().crypto.subtle.digest(H.SHA_256_HASH,h.toHash)}).then(function(g){return Promise.resolve(new Uint8Array(g))})},v.prototype.reset=function(){var h=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(g,_){(0,j.locateWindow)().crypto.subtle.importKey("raw",(0,M.convertToBuffer)(h.secret),H.SHA_256_HMAC_ALGO,!1,["sign"]).then(g,_)}),this.key.catch(function(){}))},v}();Z.Sha256=o},9700:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RawSha256=void 0;var M=S(9359),H=function(){function j(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return j.prototype.update=function(o){if(this.finished)throw new Error("Attempted to update an already finished hash.");var v=0,h=o.byteLength;if(this.bytesHashed+=h,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;h>0;)this.buffer[this.bufferLength++]=o[v++],h--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},j.prototype.digest=function(){if(!this.finished){var o=8*this.bytesHashed,v=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),h=this.bufferLength;if(v.setUint8(this.bufferLength++,128),h%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)v.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)v.setUint8(g,0);v.setUint32(M.BLOCK_SIZE-8,Math.floor(o/4294967296),!0),v.setUint32(M.BLOCK_SIZE-4,o),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},j.prototype.hashBuffer=function(){for(var v=this.buffer,h=this.state,g=h[0],_=h[1],w=h[2],O=h[3],F=h[4],L=h[5],U=h[6],z=h[7],Q=0;Q<M.BLOCK_SIZE;Q++){if(Q<16)this.temp[Q]=(255&v[4*Q])<<24|(255&v[4*Q+1])<<16|(255&v[4*Q+2])<<8|255&v[4*Q+3];else{var Y=this.temp[Q-2];this.temp[Q]=(((Y>>>17|Y<<15)^(Y>>>19|Y<<13)^Y>>>10)+this.temp[Q-7]|0)+((((Y=this.temp[Q-15])>>>7|Y<<25)^(Y>>>18|Y<<14)^Y>>>3)+this.temp[Q-16]|0)}var W=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&L^~F&U)|0)+(z+(M.KEY[Q]+this.temp[Q]|0)|0)|0,J=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&w^_&w)|0;z=U,U=L,L=F,F=O+W|0,O=w,w=_,_=g,g=W+J|0}h[0]+=g,h[1]+=_,h[2]+=w,h[3]+=O,h[4]+=F,h[5]+=L,h[6]+=U,h[7]+=z},j}();Z.RawSha256=H},9359:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MAX_HASHABLE_LENGTH=Z.INIT=Z.KEY=Z.DIGEST_LENGTH=Z.BLOCK_SIZE=void 0,Z.BLOCK_SIZE=64,Z.DIGEST_LENGTH=32,Z.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Z.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Z.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},7408:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),S(1707).__exportStar(S(4319),Z)},4319:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(1707),H=S(9359),j=S(9700),o=S(2862),v=function(){function g(_){this.secret=_,this.hash=new j.RawSha256,this.reset()}return g.prototype.update=function(_){if(!(0,o.isEmptyData)(_)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(_))}catch(w){this.error=w}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(_){return[2,this.digestSync()]})})},g.prototype.reset=function(){if(this.hash=new j.RawSha256,this.secret){this.outer=new j.RawSha256;var _=function h(g){var _=(0,o.convertToBuffer)(g);if(_.byteLength>H.BLOCK_SIZE){var w=new j.RawSha256;w.update(_),_=w.digest()}var O=new Uint8Array(H.BLOCK_SIZE);return O.set(_),O}(this.secret),w=new Uint8Array(H.BLOCK_SIZE);w.set(_);for(var O=0;O<H.BLOCK_SIZE;O++)_[O]^=54,w[O]^=92;for(this.hash.update(_),this.outer.update(w),O=0;O<_.byteLength;O++)_[O]=0}},g}();Z.Sha256=v},8284:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),S(9106).__exportStar(S(7906),Z)},7906:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.supportsZeroByteGCM=Z.supportsSubtleCrypto=Z.supportsSecureRandom=Z.supportsWebCrypto=void 0;var M=S(9106),H=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function v(g){return g&&H.every(function(_){return"function"==typeof g[_]})}Z.supportsWebCrypto=function j(g){return!(!o(g)||"object"!=typeof g.crypto.subtle)&&v(g.crypto.subtle)},Z.supportsSecureRandom=o,Z.supportsSubtleCrypto=v,Z.supportsZeroByteGCM=function h(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(F){switch(F.label){case 0:if(!v(g))return[2,!1];F.label=1;case 1:return F.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=F.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===F.sent().byteLength];case 4:return F.sent(),[2,!1];case 5:return[2]}})})}},3376:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},2862:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(3376);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(8075);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(2127);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(2768);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},8075:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},2127:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},2768:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},1674:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},8645:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},2667:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},1693:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},9484:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isMsWindow=void 0;var S=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];Z.isMsWindow=function H(j){if(function M(j){return"MSInputMethodContext"in j&&"msCrypto"in j}(j)&&void 0!==j.msCrypto.subtle){var o=j.msCrypto,v=o.getRandomValues,h=o.subtle;return S.map(function(g){return h[g]}).concat(v).every(function(g){return"function"==typeof g})}return!1}},6868:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=S(5298);M.__exportStar(S(1674),Z),M.__exportStar(S(8645),Z),M.__exportStar(S(2667),Z),M.__exportStar(S(1693),Z),M.__exportStar(S(9484),Z)},1432:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.EMPTY_DATA_SHA_256=Z.SHA_256_HMAC_ALGO=Z.SHA_256_HASH=void 0,Z.SHA_256_HASH={name:"SHA-256"},Z.SHA_256_HMAC_ALGO={name:"HMAC",hash:Z.SHA_256_HASH},Z.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},1602:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(1673),H=S(5717),j=S(9985),o=S(9696),v=S(6868),h=S(5468),g=S(9248),_=function(){function w(O){this.hash=(0,o.supportsWebCrypto)((0,h.locateWindow)())?new H.Sha256(O):(0,v.isMsWindow)((0,h.locateWindow)())?new M.Sha256(O):new j.Sha256(O)}return w.prototype.update=function(O,F){this.hash.update((0,g.convertToBuffer)(O))},w.prototype.digest=function(){return this.hash.digest()},w.prototype.reset=function(){this.hash.reset()},w}();Z.Sha256=_},1673:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(7778),H=S(1432),j=S(2093),o=S(5468),v=function(){function _(w){this.secret=w,this.reset()}return _.prototype.update=function(w){var O=this;(0,M.isEmptyData)(w)||(this.operation=this.operation.then(function(F){return F.onerror=function(){O.operation=Promise.reject(new Error("Error encountered updating hash"))},F.process(g(w)),F}),this.operation.catch(function(){}))},_.prototype.digest=function(){return this.operation.then(function(w){return new Promise(function(O,F){w.onerror=function(){F(new Error("Error encountered finalizing hash"))},w.oncomplete=function(){w.result&&O(new Uint8Array(w.result)),F(new Error("Error encountered finalizing hash"))},w.finish()})})},_.prototype.reset=function(){this.secret?(this.operation=function h(_){return new Promise(function(w,O){var F=(0,o.locateWindow)().msCrypto.subtle.importKey("raw",g(_),H.SHA_256_HMAC_ALGO,!1,["sign"]);F.oncomplete=function(){F.result&&w(F.result),O(new Error("ImportKey completed without importing key."))},F.onerror=function(){O(new Error("ImportKey failed to import key."))}})}(this.secret).then(function(w){return(0,o.locateWindow)().msCrypto.subtle.sign(H.SHA_256_HMAC_ALGO,w)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,o.locateWindow)().msCrypto.subtle.digest("SHA-256"))},_}();function g(_){return"string"==typeof _?(0,j.fromUtf8)(_):ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(_)}Z.Sha256=v},4907:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.WebCryptoSha256=Z.Ie11Sha256=void 0,S(9904).__exportStar(S(1602),Z);var H=S(1673);Object.defineProperty(Z,"Ie11Sha256",{enumerable:!0,get:function(){return H.Sha256}});var j=S(5717);Object.defineProperty(Z,"WebCryptoSha256",{enumerable:!0,get:function(){return j.Sha256}})},7778:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},5717:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(9248),H=S(1432),j=S(5468),o=function(){function v(h){this.toHash=new Uint8Array(0),this.secret=h,this.reset()}return v.prototype.update=function(h){if(!(0,M.isEmptyData)(h)){var g=(0,M.convertToBuffer)(h),_=new Uint8Array(this.toHash.byteLength+g.byteLength);_.set(this.toHash,0),_.set(g,this.toHash.byteLength),this.toHash=_}},v.prototype.digest=function(){var h=this;return this.key?this.key.then(function(g){return(0,j.locateWindow)().crypto.subtle.sign(H.SHA_256_HMAC_ALGO,g,h.toHash).then(function(_){return new Uint8Array(_)})}):(0,M.isEmptyData)(this.toHash)?Promise.resolve(H.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,j.locateWindow)().crypto.subtle.digest(H.SHA_256_HASH,h.toHash)}).then(function(g){return Promise.resolve(new Uint8Array(g))})},v.prototype.reset=function(){var h=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(g,_){(0,j.locateWindow)().crypto.subtle.importKey("raw",(0,M.convertToBuffer)(h.secret),H.SHA_256_HMAC_ALGO,!1,["sign"]).then(g,_)}),this.key.catch(function(){}))},v}();Z.Sha256=o},6643:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RawSha256=void 0;var M=S(9210),H=function(){function j(){this.state=Int32Array.from(M.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return j.prototype.update=function(o){if(this.finished)throw new Error("Attempted to update an already finished hash.");var v=0,h=o.byteLength;if(this.bytesHashed+=h,8*this.bytesHashed>M.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;h>0;)this.buffer[this.bufferLength++]=o[v++],h--,this.bufferLength===M.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},j.prototype.digest=function(){if(!this.finished){var o=8*this.bytesHashed,v=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),h=this.bufferLength;if(v.setUint8(this.bufferLength++,128),h%M.BLOCK_SIZE>=M.BLOCK_SIZE-8){for(var g=this.bufferLength;g<M.BLOCK_SIZE;g++)v.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(g=this.bufferLength;g<M.BLOCK_SIZE-8;g++)v.setUint8(g,0);v.setUint32(M.BLOCK_SIZE-8,Math.floor(o/4294967296),!0),v.setUint32(M.BLOCK_SIZE-4,o),this.hashBuffer(),this.finished=!0}var _=new Uint8Array(M.DIGEST_LENGTH);for(g=0;g<8;g++)_[4*g]=this.state[g]>>>24&255,_[4*g+1]=this.state[g]>>>16&255,_[4*g+2]=this.state[g]>>>8&255,_[4*g+3]=this.state[g]>>>0&255;return _},j.prototype.hashBuffer=function(){for(var v=this.buffer,h=this.state,g=h[0],_=h[1],w=h[2],O=h[3],F=h[4],L=h[5],U=h[6],z=h[7],Q=0;Q<M.BLOCK_SIZE;Q++){if(Q<16)this.temp[Q]=(255&v[4*Q])<<24|(255&v[4*Q+1])<<16|(255&v[4*Q+2])<<8|255&v[4*Q+3];else{var Y=this.temp[Q-2];this.temp[Q]=(((Y>>>17|Y<<15)^(Y>>>19|Y<<13)^Y>>>10)+this.temp[Q-7]|0)+((((Y=this.temp[Q-15])>>>7|Y<<25)^(Y>>>18|Y<<14)^Y>>>3)+this.temp[Q-16]|0)}var W=(((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&L^~F&U)|0)+(z+(M.KEY[Q]+this.temp[Q]|0)|0)|0,J=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&w^_&w)|0;z=U,U=L,L=F,F=O+W|0,O=w,w=_,_=g,g=W+J|0}h[0]+=g,h[1]+=_,h[2]+=w,h[3]+=O,h[4]+=F,h[5]+=L,h[6]+=U,h[7]+=z},j}();Z.RawSha256=H},9210:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MAX_HASHABLE_LENGTH=Z.INIT=Z.KEY=Z.DIGEST_LENGTH=Z.BLOCK_SIZE=void 0,Z.BLOCK_SIZE=64,Z.DIGEST_LENGTH=32,Z.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Z.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Z.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9985:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),S(7716).__exportStar(S(769),Z)},769:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var M=S(7716),H=S(9210),j=S(6643),o=S(9248),v=function(){function g(_){this.secret=_,this.hash=new j.RawSha256,this.reset()}return g.prototype.update=function(_){if(!(0,o.isEmptyData)(_)&&!this.error)try{this.hash.update((0,o.convertToBuffer)(_))}catch(w){this.error=w}},g.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},g.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(_){return[2,this.digestSync()]})})},g.prototype.reset=function(){if(this.hash=new j.RawSha256,this.secret){this.outer=new j.RawSha256;var _=function h(g){var _=(0,o.convertToBuffer)(g);if(_.byteLength>H.BLOCK_SIZE){var w=new j.RawSha256;w.update(_),_=w.digest()}var O=new Uint8Array(H.BLOCK_SIZE);return O.set(_),O}(this.secret),w=new Uint8Array(H.BLOCK_SIZE);w.set(_);for(var O=0;O<H.BLOCK_SIZE;O++)_[O]^=54,w[O]^=92;for(this.hash.update(_),this.outer.update(w),O=0;O<_.byteLength;O++)_[O]=0}},g}();Z.Sha256=v},9696:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),S(6187).__exportStar(S(8022),Z)},8022:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.supportsZeroByteGCM=Z.supportsSubtleCrypto=Z.supportsSecureRandom=Z.supportsWebCrypto=void 0;var M=S(6187),H=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(g){return"object"==typeof g&&"object"==typeof g.crypto&&"function"==typeof g.crypto.getRandomValues}function v(g){return g&&H.every(function(_){return"function"==typeof g[_]})}Z.supportsWebCrypto=function j(g){return!(!o(g)||"object"!=typeof g.crypto.subtle)&&v(g.crypto.subtle)},Z.supportsSecureRandom=o,Z.supportsSubtleCrypto=v,Z.supportsZeroByteGCM=function h(g){return M.__awaiter(this,void 0,void 0,function(){var _;return M.__generator(this,function(F){switch(F.label){case 0:if(!v(g))return[2,!1];F.label=1;case 1:return F.trys.push([1,4,,5]),[4,g.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return _=F.sent(),[4,g.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},_,new Uint8Array(0))];case 3:return[2,16===F.sent().byteLength];case 4:return F.sent(),[2,!1];case 5:return[2]}})})}},7388:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},9248:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(7388);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(2885);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(7477);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(7476);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},2885:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},7477:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},7476:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},3226:(ve,Z,S)=>{var M=S(4572),H=S(1121),j=S(12);ve.exports={XMLParser:H,XMLValidator:M,XMLBuilder:j}},9628:(ve,Z)=>{var S=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",H="["+S+"]["+S+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",j=new RegExp("^"+H+"$");Z.isExist=function(h){return typeof h<"u"},Z.isEmptyObject=function(h){return 0===Object.keys(h).length},Z.merge=function(h,g,_){if(g)for(var w=Object.keys(g),O=w.length,F=0;F<O;F++)h[w[F]]="strict"===_?[g[w[F]]]:g[w[F]]},Z.getValue=function(h){return Z.isExist(h)?h:""},Z.isName=function(g){var _=j.exec(g);return!(null===_||typeof _>"u")},Z.getAllMatches=function(g,_){for(var w=[],O=_.exec(g);O;){var F=[];F.startIndex=_.lastIndex-O[0].length;for(var L=O.length,U=0;U<L;U++)F.push(O[U]);w.push(F),O=_.exec(g)}return w},Z.nameRegexp=H},4572:(ve,Z,S)=>{var M=S(9628),H={allowBooleanAttributes:!1,unpairedTags:[]};function j(q){return" "===q||"\t"===q||"\n"===q||"\r"===q}function o(q,W){for(var J=W;W<q.length;W++)if("?"==q[W]||" "==q[W]){var de=q.substr(J,W-J);if(W>5&&"xml"===de)return U("InvalidXml","XML declaration allowed only at the start of the document.",Y(q,W));if("?"==q[W]&&">"==q[W+1]){W++;break}continue}return W}function v(q,W){if(q.length>W+5&&"-"===q[W+1]&&"-"===q[W+2]){for(W+=3;W<q.length;W++)if("-"===q[W]&&"-"===q[W+1]&&">"===q[W+2]){W+=2;break}}else if(q.length>W+8&&"D"===q[W+1]&&"O"===q[W+2]&&"C"===q[W+3]&&"T"===q[W+4]&&"Y"===q[W+5]&&"P"===q[W+6]&&"E"===q[W+7]){var J=1;for(W+=8;W<q.length;W++)if("<"===q[W])J++;else if(">"===q[W]&&0==--J)break}else if(q.length>W+9&&"["===q[W+1]&&"C"===q[W+2]&&"D"===q[W+3]&&"A"===q[W+4]&&"T"===q[W+5]&&"A"===q[W+6]&&"["===q[W+7])for(W+=8;W<q.length;W++)if("]"===q[W]&&"]"===q[W+1]&&">"===q[W+2]){W+=2;break}return W}Z.validate=function(q,W){W=Object.assign({},H,W);var J=[],de=!1,_e=!1;"\ufeff"===q[0]&&(q=q.substr(1));for(var be=0;be<q.length;be++)if("<"===q[be]&&"?"===q[be+1]){if((be=o(q,be+=2)).err)return be}else{if("<"!==q[be]){if(j(q[be]))continue;return U("InvalidChar","char '"+q[be]+"' is not expected.",Y(q,be))}var ge=be;if("!"===q[++be]){be=v(q,be);continue}var x=!1;"/"===q[be]&&(x=!0,be++);for(var A="";be<q.length&&">"!==q[be]&&" "!==q[be]&&"\t"!==q[be]&&"\n"!==q[be]&&"\r"!==q[be];be++)A+=q[be];if("/"===(A=A.trim())[A.length-1]&&(A=A.substring(0,A.length-1),be--),!Q(A))return U("InvalidTag",0===A.trim().length?"Invalid space after '<'.":"Tag '"+A+"' is an invalid name.",Y(q,be));var I=_(q,be);if(!1===I)return U("InvalidAttr","Attributes for '"+A+"' have open quote.",Y(q,be));var $=I.value;if(be=I.index,"/"===$[$.length-1]){var T=be-$.length,X=O($=$.substring(0,$.length-1),W);if(!0!==X)return U(X.err.code,X.err.msg,Y(q,T+X.err.line));de=!0}else if(x){if(!I.tagClosed)return U("InvalidTag","Closing tag '"+A+"' doesn't have proper closing.",Y(q,be));if($.trim().length>0)return U("InvalidTag","Closing tag '"+A+"' can't have attributes or invalid starting.",Y(q,ge));var fe=J.pop();if(A!==fe.tagName){var De=Y(q,fe.tagStartPos);return U("InvalidTag","Expected closing tag '"+fe.tagName+"' (opened in line "+De.line+", col "+De.col+") instead of closing tag '"+A+"'.",Y(q,ge))}0==J.length&&(_e=!0)}else{var re=O($,W);if(!0!==re)return U(re.err.code,re.err.msg,Y(q,be-$.length+re.err.line));if(!0===_e)return U("InvalidXml","Multiple possible root nodes found.",Y(q,be));-1!==W.unpairedTags.indexOf(A)||J.push({tagName:A,tagStartPos:ge}),de=!0}for(be++;be<q.length;be++)if("<"===q[be]){if("!"===q[be+1]){be=v(q,++be);continue}if("?"!==q[be+1])break;if((be=o(q,++be)).err)return be}else if("&"===q[be]){var Ne=L(q,be);if(-1==Ne)return U("InvalidChar","char '&' is not expected.",Y(q,be));be=Ne}else if(!0===_e&&!j(q[be]))return U("InvalidXml","Extra text at the end",Y(q,be));"<"===q[be]&&be--}return de?1==J.length?U("InvalidTag","Unclosed tag '"+J[0].tagName+"'.",Y(q,J[0].tagStartPos)):!(J.length>0)||U("InvalidXml","Invalid '"+JSON.stringify(J.map(function(at){return at.tagName}),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):U("InvalidXml","Start tag expected.",1)};var h='"',g="'";function _(q,W){for(var J="",de="",_e=!1;W<q.length;W++){if(q[W]===h||q[W]===g)""===de?de=q[W]:de!==q[W]||(de="");else if(">"===q[W]&&""===de){_e=!0;break}J+=q[W]}return""===de&&{value:J,index:W,tagClosed:_e}}var w=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function O(q,W){for(var J=M.getAllMatches(q,w),de={},_e=0;_e<J.length;_e++){if(0===J[_e][1].length)return U("InvalidAttr","Attribute '"+J[_e][2]+"' has no space in starting.",ae(J[_e]));if(void 0!==J[_e][3]&&void 0===J[_e][4])return U("InvalidAttr","Attribute '"+J[_e][2]+"' is without value.",ae(J[_e]));if(void 0===J[_e][3]&&!W.allowBooleanAttributes)return U("InvalidAttr","boolean attribute '"+J[_e][2]+"' is not allowed.",ae(J[_e]));var be=J[_e][2];if(!z(be))return U("InvalidAttr","Attribute '"+be+"' is an invalid name.",ae(J[_e]));if(de.hasOwnProperty(be))return U("InvalidAttr","Attribute '"+be+"' is repeated.",ae(J[_e]));de[be]=1}return!0}function L(q,W){if(";"===q[++W])return-1;if("#"===q[W])return function F(q,W){var J=/\d/;for("x"===q[W]&&(W++,J=/[\da-fA-F]/);W<q.length;W++){if(";"===q[W])return W;if(!q[W].match(J))break}return-1}(q,++W);for(var J=0;W<q.length;W++,J++)if(!(q[W].match(/\w/)&&J<20)){if(";"===q[W])break;return-1}return W}function U(q,W,J){return{err:{code:q,msg:W,line:J.line||J,col:J.col}}}function z(q){return M.isName(q)}function Q(q){return M.isName(q)}function Y(q,W){var J=q.substring(0,W).split(/\r?\n/);return{line:J.length,col:J[J.length-1].length+1}}function ae(q){return q.startIndex+q[1].length}},12:(ve,Z,S)=>{var M=S(9482).default,H=S(8549),j={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(O,F){return F},attributeValueProcessor:function(O,F){return F},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(w){this.options=Object.assign({},j,w),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=_),this.processTextOrObjNode=v,this.options.format?(this.indentate=g,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function v(w,O,F){var L=this.j2x(w,F+1);return void 0!==w[this.options.textNodeName]&&1===Object.keys(w).length?this.buildTextValNode(w[this.options.textNodeName],O,L.attrStr,F):this.buildObjectNode(L.val,O,L.attrStr,F)}function g(w){return this.options.indentBy.repeat(w)}function _(w){return!!w.startsWith(this.options.attributeNamePrefix)&&w.substr(this.attrPrefixLen)}o.prototype.build=function(w){return this.options.preserveOrder?H(w,this.options):(Array.isArray(w)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(w=M({},this.options.arrayNodeName,w)),this.j2x(w,0).val)},o.prototype.j2x=function(w,O){var F="",L="";for(var U in w)if(!(typeof w[U]>"u"))if(null===w[U])L+="?"===U[0]?this.indentate(O)+"<"+U+"?"+this.tagEndChar:this.indentate(O)+"<"+U+"/"+this.tagEndChar;else if(w[U]instanceof Date)L+=this.buildTextValNode(w[U],U,"",O);else if("object"!=typeof w[U]){var z=this.isAttribute(U);if(z)F+=this.buildAttrPairStr(z,""+w[U]);else if(U===this.options.textNodeName){var Q=this.options.tagValueProcessor(U,""+w[U]);L+=this.replaceEntitiesValue(Q)}else L+=this.buildTextValNode(w[U],U,"",O)}else if(Array.isArray(w[U])){for(var Y=w[U].length,ae="",q=0;q<Y;q++){var W=w[U][q];typeof W>"u"||(null===W?L+="?"===U[0]?this.indentate(O)+"<"+U+"?"+this.tagEndChar:this.indentate(O)+"<"+U+"/"+this.tagEndChar:ae+="object"==typeof W?this.options.oneListGroup?this.j2x(W,O+1).val:this.processTextOrObjNode(W,U,O):this.buildTextValNode(W,U,"",O))}this.options.oneListGroup&&(ae=this.buildObjectNode(ae,U,"",O)),L+=ae}else if(this.options.attributesGroupName&&U===this.options.attributesGroupName)for(var J=Object.keys(w[U]),de=J.length,_e=0;_e<de;_e++)F+=this.buildAttrPairStr(J[_e],""+w[U][J[_e]]);else L+=this.processTextOrObjNode(w[U],U,O);return{attrStr:F,val:L}},o.prototype.buildAttrPairStr=function(w,O){return O=this.options.attributeValueProcessor(w,""+O),O=this.replaceEntitiesValue(O),this.options.suppressBooleanAttributes&&"true"===O?" "+w:" "+w+'="'+O+'"'},o.prototype.buildObjectNode=function(w,O,F,L){if(""===w)return"?"===O[0]?this.indentate(L)+"<"+O+F+"?"+this.tagEndChar:this.indentate(L)+"<"+O+F+this.closeTag(O)+this.tagEndChar;var U="</"+O+this.tagEndChar,z="";return"?"===O[0]&&(z="?",U=""),F&&-1===w.indexOf("<")?this.indentate(L)+"<"+O+F+z+">"+w+U:!1!==this.options.commentPropName&&O===this.options.commentPropName&&0===z.length?this.indentate(L)+"\x3c!--".concat(w,"--\x3e")+this.newLine:this.indentate(L)+"<"+O+F+z+this.tagEndChar+w+this.indentate(L)+U},o.prototype.closeTag=function(w){var O="";return-1!==this.options.unpairedTags.indexOf(w)?this.options.suppressUnpairedNode||(O="/"):O=this.options.suppressEmptyNode?"/":"></".concat(w),O},o.prototype.buildTextValNode=function(w,O,F,L){if(!1!==this.options.cdataPropName&&O===this.options.cdataPropName)return this.indentate(L)+"<![CDATA[".concat(w,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&O===this.options.commentPropName)return this.indentate(L)+"\x3c!--".concat(w,"--\x3e")+this.newLine;if("?"===O[0])return this.indentate(L)+"<"+O+F+"?"+this.tagEndChar;var U=this.options.tagValueProcessor(O,w);return""===(U=this.replaceEntitiesValue(U))?this.indentate(L)+"<"+O+F+this.closeTag(O)+this.tagEndChar:this.indentate(L)+"<"+O+F+">"+U+"</"+O+this.tagEndChar},o.prototype.replaceEntitiesValue=function(w){if(w&&w.length>0&&this.options.processEntities)for(var O=0;O<this.options.entities.length;O++){var F=this.options.entities[O];w=w.replace(F.regex,F.val)}return w},ve.exports=o},8549:ve=>{function M(h,g,_,w){for(var O="",F=!1,L=0;L<h.length;L++){var Q,U=h[L],z=H(U);if(Q=0===_.length?z:"".concat(_,".").concat(z),z!==g.textNodeName)if(z!==g.cdataPropName)if(z!==g.commentPropName)if("?"!==z[0]){var J=w;""!==J&&(J+=g.indentBy);var de=j(U[":@"],g),_e=w+"<".concat(z).concat(de),be=M(U[z],g,Q,J);-1!==g.unpairedTags.indexOf(z)?O+=g.suppressUnpairedNode?_e+">":_e+"/>":be&&0!==be.length||!g.suppressEmptyNode?be&&be.endsWith(">")?O+=_e+">".concat(be).concat(w,"</").concat(z,">"):(O+=_e+">",be&&""!==w&&(be.includes("/>")||be.includes("</"))?O+=w+g.indentBy+be+w:O+=be,O+="</".concat(z,">")):O+=_e+"/>",F=!0}else{var ae=j(U[":@"],g),W=U[z][0][g.textNodeName];W=0!==W.length?" "+W:"",O+=("?xml"===z?"":w)+"<".concat(z).concat(W).concat(ae,"?>"),F=!0}else O+=w+"\x3c!--".concat(U[z][0][g.textNodeName],"--\x3e"),F=!0;else F&&(O+=w),O+="<![CDATA[".concat(U[z][0][g.textNodeName],"]]>"),F=!1;else{var Y=U[z];o(Q,g)||(Y=v(Y=g.tagValueProcessor(z,Y),g)),F&&(O+=w),O+=Y,F=!1}}return O}function H(h){for(var g=Object.keys(h),_=0;_<g.length;_++){var w=g[_];if(":@"!==w)return w}}function j(h,g){var _="";if(h&&!g.ignoreAttributes)for(var w in h){var O=g.attributeValueProcessor(w,h[w]);_+=!0===(O=v(O,g))&&g.suppressBooleanAttributes?" ".concat(w.substr(g.attributeNamePrefix.length)):" ".concat(w.substr(g.attributeNamePrefix.length),'="').concat(O,'"')}return _}function o(h,g){var _=(h=h.substr(0,h.length-g.textNodeName.length-1)).substr(h.lastIndexOf(".")+1);for(var w in g.stopNodes)if(g.stopNodes[w]===h||g.stopNodes[w]==="*."+_)return!0;return!1}function v(h,g){if(h&&h.length>0&&g.processEntities)for(var _=0;_<g.entities.length;_++){var w=g.entities[_];h=h.replace(w.regex,w.val)}return h}ve.exports=function S(h,g){var _="";return g.format&&g.indentBy.length>0&&(_="\n"),M(h,g,"",_)}},6781:(ve,Z,S)=>{var M=S(3667).default;function j(F,L){for(var U="";L<F.length&&"'"!==F[L]&&'"'!==F[L];L++)U+=F[L];if(-1!==(U=U.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var z=F[L++],Q="";L<F.length&&F[L]!==z;L++)Q+=F[L];return[U,Q,L]}function o(F,L){return"!"===F[L+1]&&"-"===F[L+2]&&"-"===F[L+3]}function v(F,L){return"!"===F[L+1]&&"E"===F[L+2]&&"N"===F[L+3]&&"T"===F[L+4]&&"I"===F[L+5]&&"T"===F[L+6]&&"Y"===F[L+7]}function h(F,L){return"!"===F[L+1]&&"E"===F[L+2]&&"L"===F[L+3]&&"E"===F[L+4]&&"M"===F[L+5]&&"E"===F[L+6]&&"N"===F[L+7]&&"T"===F[L+8]}function g(F,L){return"!"===F[L+1]&&"A"===F[L+2]&&"T"===F[L+3]&&"T"===F[L+4]&&"L"===F[L+5]&&"I"===F[L+6]&&"S"===F[L+7]&&"T"===F[L+8]}function _(F,L){return"!"===F[L+1]&&"N"===F[L+2]&&"O"===F[L+3]&&"T"===F[L+4]&&"A"===F[L+5]&&"T"===F[L+6]&&"I"===F[L+7]&&"O"===F[L+8]&&"N"===F[L+9]}var w="!?\\/[]$%{}^&*()<>|+";function O(F){for(var L=0;L<19;L++){var U=w[L];if(-1!==F.indexOf(U))throw new Error("Invalid character ".concat(U," in entity name"))}return F}ve.exports=function H(F,L){var U={};if("O"!==F[L+3]||"C"!==F[L+4]||"T"!==F[L+5]||"Y"!==F[L+6]||"P"!==F[L+7]||"E"!==F[L+8])throw new Error("Invalid Tag instead of DOCTYPE");L+=9;for(var z=1,Q=!1,Y=!1;L<F.length;L++)if("<"!==F[L]||Y)if(">"===F[L]){if(Y?"-"===F[L-1]&&"-"===F[L-2]&&(Y=!1,z--):z--,0===z)break}else"["===F[L]&&(Q=!0);else{if(Q&&v(F,L)){var q=j(F,(L+=7)+1),W=M(q,3);entityName=W[0],val=W[1],L=W[2],-1===val.indexOf("&")&&(U[O(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val})}else if(Q&&h(F,L))L+=8;else if(Q&&g(F,L))L+=8;else if(Q&&_(F,L))L+=9;else{if(!o)throw new Error("Invalid DOCTYPE");Y=!0}z++}if(0!==z)throw new Error("Unclosed DOCTYPE");return{entities:U,i:L}}},4570:(ve,Z)=>{var S={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(j,o){return o},attributeValueProcessor:function(j,o){return o},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(j,o,v){return j}};Z.buildOptions=function(j){return Object.assign({},S,j)},Z.defaultOptions=S},8705:(ve,Z,S)=>{var M=S(9482).default,H=S(6996).default,j=S(5664).default,o=S(9628),v=S(4300),h=S(6781),g=S(8372),w=("<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,o.nameRegexp),H(function x(A){j(this,x),this.options=A,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"}},this.addExternalEntities=O,this.parseXml=Q,this.parseTextData=F,this.resolveNameSpace=L,this.buildAttributesMap=z,this.isItStopNode=W,this.replaceEntitiesValue=ae,this.readStopNodeData=be,this.saveTextToParentTag=q,this.addChild=Y}));function O(x){for(var A=Object.keys(x),C=0;C<A.length;C++){var I=A[C];this.lastEntities[I]={regex:new RegExp("&"+I+";","g"),val:x[I]}}}function F(x,A,C,I,$,T,X){if(void 0!==x&&(this.options.trimValues&&!I&&(x=x.trim()),x.length>0)){X||(x=this.replaceEntitiesValue(x));var fe=this.options.tagValueProcessor(A,x,C,$,T);return null==fe?x:typeof fe!=typeof x||fe!==x?fe:this.options.trimValues||x.trim()===x?ge(x,this.options.parseTagValue,this.options.numberParseOptions):x}}function L(x){if(this.options.removeNSPrefix){var A=x.split(":"),C="/"===x.charAt(0)?"/":"";if("xmlns"===A[0])return"";2===A.length&&(x=C+A[1])}return x}var U=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function z(x,A,C){if(!this.options.ignoreAttributes&&"string"==typeof x){for(var I=o.getAllMatches(x,U),$=I.length,T={},X=0;X<$;X++){var fe=this.resolveNameSpace(I[X][1]),De=I[X][4],re=this.options.attributeNamePrefix+fe;if(fe.length)if(this.options.transformAttributeName&&(re=this.options.transformAttributeName(re)),"__proto__"===re&&(re="#__proto__"),void 0!==De){this.options.trimValues&&(De=De.trim()),De=this.replaceEntitiesValue(De);var Ne=this.options.attributeValueProcessor(fe,De,A);T[re]=null==Ne?De:typeof Ne!=typeof De||Ne!==De?Ne:ge(De,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[re]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){var at={};return at[this.options.attributesGroupName]=T,at}return T}}var Q=function(A){A=A.replace(/\r\n?/g,"\n");for(var C=new v("!xml"),I=C,$="",T="",X=0;X<A.length;X++)if("<"===A[X])if("/"===A[X+1]){var De=de(A,">",X,"Closing Tag is not closed."),re=A.substring(X+2,De).trim();if(this.options.removeNSPrefix){var Ne=re.indexOf(":");-1!==Ne&&(re=re.substr(Ne+1))}this.options.transformTagName&&(re=this.options.transformTagName(re)),I&&($=this.saveTextToParentTag($,I,T));var at=T.substring(T.lastIndexOf(".")+1);if(re&&-1!==this.options.unpairedTags.indexOf(re))throw new Error("Unpaired tag can not be used as closing tag: </".concat(re,">"));var Oe=0;at&&-1!==this.options.unpairedTags.indexOf(at)?(Oe=T.lastIndexOf(".",T.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Oe=T.lastIndexOf("."),T=T.substring(0,Oe),I=this.tagsNodeStack.pop(),$="",X=De}else if("?"===A[X+1]){var rt=_e(A,X,!1,"?>");if(!rt)throw new Error("Pi Tag is not closed.");if($=this.saveTextToParentTag($,I,T),!(this.options.ignoreDeclaration&&"?xml"===rt.tagName||this.options.ignorePiTags)){var et=new v(rt.tagName);et.add(this.options.textNodeName,""),rt.tagName!==rt.tagExp&&rt.attrExpPresent&&(et[":@"]=this.buildAttributesMap(rt.tagExp,T,rt.tagName)),this.addChild(I,et,T)}X=rt.closeIndex+1}else if("!--"===A.substr(X+1,3)){var St=de(A,"--\x3e",X+4,"Comment is not closed.");if(this.options.commentPropName){var it=A.substring(X+4,St-2);$=this.saveTextToParentTag($,I,T),I.add(this.options.commentPropName,[M({},this.options.textNodeName,it)])}X=St}else if("!D"===A.substr(X+1,2)){var Ve=h(A,X);this.docTypeEntities=Ve.entities,X=Ve.i}else if("!["===A.substr(X+1,2)){var st=de(A,"]]>",X,"CDATA is not closed.")-2,me=A.substring(X+9,st);if($=this.saveTextToParentTag($,I,T),this.options.cdataPropName)I.add(this.options.cdataPropName,[M({},this.options.textNodeName,me)]);else{var ee=this.parseTextData(me,I.tagname,T,!0,!1,!0);null==ee&&(ee=""),I.add(this.options.textNodeName,ee)}X=st+2}else{var se=_e(A,X,this.options.removeNSPrefix),Re=se.tagName,Ze=se.tagExp,pe=se.attrExpPresent,Ce=se.closeIndex;if(this.options.transformTagName&&(Re=this.options.transformTagName(Re)),I&&$&&"!xml"!==I.tagname&&($=this.saveTextToParentTag($,I,T,!1)),I&&-1!==this.options.unpairedTags.indexOf(I.tagname)&&(I=this.tagsNodeStack.pop(),T=T.substring(0,T.lastIndexOf("."))),Re!==C.tagname&&(T+=T?"."+Re:Re),this.isItStopNode(this.options.stopNodes,T,Re)){var Ee="";if(Ze.length>0&&Ze.lastIndexOf("/")===Ze.length-1)X=se.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(Re))X=se.closeIndex;else{var le=this.readStopNodeData(A,Re,Ce+1);if(!le)throw new Error("Unexpected end of ".concat(Re));X=le.i,Ee=le.tagContent}var ce=new v(Re);Re!==Ze&&pe&&(ce[":@"]=this.buildAttributesMap(Ze,T,Re)),Ee&&(Ee=this.parseTextData(Ee,Re,T,!0,pe,!0,!0)),T=T.substr(0,T.lastIndexOf(".")),ce.add(this.options.textNodeName,Ee),this.addChild(I,ce,T)}else{if(Ze.length>0&&Ze.lastIndexOf("/")===Ze.length-1){Ze="/"===Re[Re.length-1]?Re=Re.substr(0,Re.length-1):Ze.substr(0,Ze.length-1),this.options.transformTagName&&(Re=this.options.transformTagName(Re));var Fe=new v(Re);Re!==Ze&&pe&&(Fe[":@"]=this.buildAttributesMap(Ze,T,Re)),this.addChild(I,Fe,T),T=T.substr(0,T.lastIndexOf("."))}else{var ut=new v(Re);this.tagsNodeStack.push(I),Re!==Ze&&pe&&(ut[":@"]=this.buildAttributesMap(Ze,T,Re)),this.addChild(I,ut,T),I=ut}$="",X=Ce}}else $+=A[X];return C.child};function Y(x,A,C){var I=this.options.updateTag(A.tagname,C,A[":@"]);!1===I||("string"==typeof I&&(A.tagname=I),x.addChild(A))}var ae=function(A){if(this.options.processEntities){for(var C in this.docTypeEntities){var I=this.docTypeEntities[C];A=A.replace(I.regx,I.val)}for(var $ in this.lastEntities){var T=this.lastEntities[$];A=A.replace(T.regex,T.val)}if(this.options.htmlEntities)for(var X in this.htmlEntities){var fe=this.htmlEntities[X];A=A.replace(fe.regex,fe.val)}A=A.replace(this.ampEntity.regex,this.ampEntity.val)}return A};function q(x,A,C,I){return x&&(void 0===I&&(I=0===Object.keys(A.child).length),void 0!==(x=this.parseTextData(x,A.tagname,C,!1,!!A[":@"]&&0!==Object.keys(A[":@"]).length,I))&&""!==x&&A.add(this.options.textNodeName,x),x=""),x}function W(x,A,C){var I="*."+C;for(var $ in x){var T=x[$];if(I===T||A===T)return!0}return!1}function de(x,A,C,I){var $=x.indexOf(A,C);if(-1===$)throw new Error(I);return $+A.length-1}function _e(x,A,C){var $=function J(x,A){for(var I,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",$="",T=A;T<x.length;T++){var X=x[T];if(I)X===I&&(I="");else if('"'===X||"'"===X)I=X;else if(X===C[0]){if(!C[1])return{data:$,index:T};if(x[T+1]===C[1])return{data:$,index:T}}else"\t"===X&&(X=" ");$+=X}}(x,A+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if($){var T=$.data,X=$.index,fe=T.search(/\s/),De=T,re=!0;if(-1!==fe&&(De=T.substr(0,fe).replace(/\s\s*$/,""),T=T.substr(fe+1)),C){var Ne=De.indexOf(":");-1!==Ne&&(re=(De=De.substr(Ne+1))!==$.data.substr(Ne+1))}return{tagName:De,tagExp:T,closeIndex:X,attrExpPresent:re}}}function be(x,A,C){for(var I=C,$=1;C<x.length;C++)if("<"===x[C])if("/"===x[C+1]){var T=de(x,">",C,"".concat(A," is not closed"));if(x.substring(C+2,T).trim()===A&&0==--$)return{tagContent:x.substring(I,C),i:T};C=T}else if("?"===x[C+1])C=de(x,"?>",C+1,"StopNode is not closed.");else if("!--"===x.substr(C+1,3))C=de(x,"--\x3e",C+3,"StopNode is not closed.");else if("!["===x.substr(C+1,2))C=de(x,"]]>",C,"StopNode is not closed.")-2;else{var Ne=_e(x,C,">");Ne&&((Ne&&Ne.tagName)===A&&"/"!==Ne.tagExp[Ne.tagExp.length-1]&&$++,C=Ne.closeIndex)}}function ge(x,A,C){if(A&&"string"==typeof x){var I=x.trim();return"true"===I||"false"!==I&&g(x,C)}return o.isExist(x)?x:""}ve.exports=w},1121:(ve,Z,S)=>{var M=S(5664).default,H=S(6996).default,o=S(4570).buildOptions,v=S(8705),g=S(2609).prettify,_=S(4572);ve.exports=function(){"use strict";function O(F){M(this,O),this.externalEntities={},this.options=o(F)}return H(O,[{key:"parse",value:function(L,U){if("string"!=typeof L){if(!L.toString)throw new Error("XML data is accepted in String or Bytes[] form.");L=L.toString()}if(U){!0===U&&(U={});var z=_.validate(L,U);if(!0!==z)throw Error("".concat(z.err.msg,":").concat(z.err.line,":").concat(z.err.col))}var Q=new v(this.options);Q.addExternalEntities(this.externalEntities);var Y=Q.parseXml(L);return this.options.preserveOrder||void 0===Y?Y:g(Y,this.options)}},{key:"addEntity",value:function(L,U){if(-1!==U.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==L.indexOf("&")||-1!==L.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===U)throw new Error("An entity with value '&' is not permitted");this.externalEntities[L]=U}}]),O}()},2609:(ve,Z)=>{function M(v,h,g){for(var _,w={},O=0;O<v.length;O++){var U,F=v[O],L=H(F);if(U=void 0===g?L:g+"."+L,L===h.textNodeName)void 0===_?_=F[L]:_+=""+F[L];else{if(void 0===L)continue;if(F[L]){var z=M(F[L],h,U),Q=o(z,h);F[":@"]?j(z,F[":@"],U,h):1!==Object.keys(z).length||void 0===z[h.textNodeName]||h.alwaysCreateTextNode?0===Object.keys(z).length&&(h.alwaysCreateTextNode?z[h.textNodeName]="":z=""):z=z[h.textNodeName],void 0!==w[L]&&w.hasOwnProperty(L)?(Array.isArray(w[L])||(w[L]=[w[L]]),w[L].push(z)):w[L]=h.isArray(L,U,Q)?[z]:z}}}return"string"==typeof _?_.length>0&&(w[h.textNodeName]=_):void 0!==_&&(w[h.textNodeName]=_),w}function H(v){for(var h=Object.keys(v),g=0;g<h.length;g++){var _=h[g];if(":@"!==_)return _}}function j(v,h,g,_){if(h)for(var w=Object.keys(h),O=w.length,F=0;F<O;F++){var L=w[F];v[L]=_.isArray(L,g+"."+L,!0,!0)?[h[L]]:h[L]}}function o(v,h){var g=h.textNodeName,_=Object.keys(v).length;return!(0!==_&&(1!==_||!v[g]&&"boolean"!=typeof v[g]&&0!==v[g]))}Z.prettify=function S(v,h){return M(v,h)}},4300:(ve,Z,S)=>{var M=S(9482).default,H=S(5664).default,j=S(6996).default;ve.exports=function(){function v(h){H(this,v),this.tagname=h,this.child=[],this[":@"]={}}return j(v,[{key:"add",value:function(g,_){"__proto__"===g&&(g="#__proto__"),this.child.push(M({},g,_))}},{key:"addChild",value:function(g){var _;"__proto__"===g.tagname&&(g.tagname="#__proto__"),g[":@"]&&Object.keys(g[":@"]).length>0?this.child.push((M(_={},g.tagname,g.child),M(_,":@",g[":@"]),_)):this.child.push(M({},g.tagname,g.child))}}]),v}()},7035:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32=void 0;var M=S(8798),H=S(4594),j=S(8407),o=function(){function v(){this.crc32=new j.Crc32}return v.prototype.update=function(h){(0,H.isEmptyData)(h)||this.crc32.update((0,H.convertToBuffer)(h))},v.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(h){return[2,(0,H.numToUint8)(this.crc32.digest())]})})},v.prototype.reset=function(){this.crc32=new j.Crc32},v}();Z.AwsCrc32=o},8407:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32=Z.Crc32=Z.crc32=void 0;var M=S(8798),H=S(4594);Z.crc32=function j(_){return(new o).update(_).digest()};var o=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(w){var O,F;try{for(var L=M.__values(w),U=L.next();!U.done;U=L.next())this.checksum=this.checksum>>>8^h[255&(this.checksum^U.value)]}catch(Q){O={error:Q}}finally{try{U&&!U.done&&(F=L.return)&&F.call(L)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();Z.Crc32=o;var h=(0,H.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),g=S(7035);Object.defineProperty(Z,"AwsCrc32",{enumerable:!0,get:function(){return g.AwsCrc32}})},5552:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},4594:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(5552);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(4231);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(4735);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(3957);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},4231:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},4735:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},3957:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},7086:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32=void 0;var M=S(2220),H=S(2670),j=S(2562),o=function(){function v(){this.crc32=new j.Crc32}return v.prototype.update=function(h){(0,H.isEmptyData)(h)||this.crc32.update((0,H.convertToBuffer)(h))},v.prototype.digest=function(){return M.__awaiter(this,void 0,void 0,function(){return M.__generator(this,function(h){return[2,(0,H.numToUint8)(this.crc32.digest())]})})},v.prototype.reset=function(){this.crc32=new j.Crc32},v}();Z.AwsCrc32=o},2562:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AwsCrc32=Z.Crc32=Z.crc32=void 0;var M=S(2220),H=S(2670);Z.crc32=function j(_){return(new o).update(_).digest()};var o=function(){function _(){this.checksum=4294967295}return _.prototype.update=function(w){var O,F;try{for(var L=M.__values(w),U=L.next();!U.done;U=L.next())this.checksum=this.checksum>>>8^h[255&(this.checksum^U.value)]}catch(Q){O={error:Q}}finally{try{U&&!U.done&&(F=L.return)&&F.call(L)}finally{if(O)throw O.error}}return this},_.prototype.digest=function(){return(4294967295^this.checksum)>>>0},_}();Z.Crc32=o;var h=(0,H.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),g=S(7086);Object.defineProperty(Z,"AwsCrc32",{enumerable:!0,get:function(){return g.AwsCrc32}})},6137:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.convertToBuffer=void 0;var M=S(2093),H=typeof Buffer<"u"&&Buffer.from?function(o){return Buffer.from(o,"utf8")}:M.fromUtf8;Z.convertToBuffer=function j(o){return o instanceof Uint8Array?o:"string"==typeof o?H(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}},2670:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=Z.numToUint8=Z.isEmptyData=Z.convertToBuffer=void 0;var M=S(6137);Object.defineProperty(Z,"convertToBuffer",{enumerable:!0,get:function(){return M.convertToBuffer}});var H=S(5411);Object.defineProperty(Z,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var j=S(7186);Object.defineProperty(Z,"numToUint8",{enumerable:!0,get:function(){return j.numToUint8}});var o=S(3823);Object.defineProperty(Z,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})},5411:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isEmptyData=void 0,Z.isEmptyData=function S(M){return"string"==typeof M?0===M.length:0===M.byteLength}},7186:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.numToUint8=void 0,Z.numToUint8=function S(M){return new Uint8Array([(4278190080&M)>>24,(16711680&M)>>16,(65280&M)>>8,255&M])}},3823:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.uint32ArrayFrom=void 0,Z.uint32ArrayFrom=function S(M){if(!Uint32Array.from){for(var H=new Uint32Array(M.length),j=0;j<M.length;)H[j]=M[j],j+=1;return H}return Uint32Array.from(M)}},5468:(ve,Z,S)=>{S.r(Z),S.d(Z,{locateWindow:()=>H});var M={};function H(){return typeof window<"u"?window:typeof self<"u"?self:M}},2093:(ve,Z,S)=>{S.r(Z),S.d(Z,{fromUtf8:()=>v,toUtf8:()=>h});var v=function(_){return"function"==typeof TextEncoder?function j(g){return(new TextEncoder).encode(g)}(_):function(_){for(var w=[],O=0,F=_.length;O<F;O++){var L=_.charCodeAt(O);if(L<128)w.push(L);else if(L<2048)w.push(L>>6|192,63&L|128);else if(O+1<_.length&&55296==(64512&L)&&56320==(64512&_.charCodeAt(O+1))){var U=65536+((1023&L)<<10)+(1023&_.charCodeAt(++O));w.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}else w.push(L>>12|224,L>>6&63|128,63&L|128)}return Uint8Array.from(w)}(_)},h=function(_){return"function"==typeof TextDecoder?function o(g){return new TextDecoder("utf-8").decode(g)}(_):function(_){for(var w="",O=0,F=_.length;O<F;O++){var L=_[O];if(L<128)w+=String.fromCharCode(L);else if(192<=L&&L<224){var U=_[++O];w+=String.fromCharCode((31&L)<<6|63&U)}else if(240<=L&&L<365){var Q="%"+[L,_[++O],_[++O],_[++O]].map(function(Y){return Y.toString(16)}).join("%");w+=decodeURIComponent(Q)}else w+=String.fromCharCode((15&L)<<12|(63&_[++O])<<6|63&_[++O])}return w}(_)}},2173:(ve,Z)=>{Z.byteLength=function g(U){var z=h(U),Y=z[1];return 3*(z[0]+Y)/4-Y},Z.toByteArray=function w(U){var z,de,Q=h(U),Y=Q[0],ae=Q[1],q=new H(function _(U,z,Q){return 3*(z+Q)/4-Q}(0,Y,ae)),W=0,J=ae>0?Y-4:Y;for(de=0;de<J;de+=4)z=M[U.charCodeAt(de)]<<18|M[U.charCodeAt(de+1)]<<12|M[U.charCodeAt(de+2)]<<6|M[U.charCodeAt(de+3)],q[W++]=z>>16&255,q[W++]=z>>8&255,q[W++]=255&z;return 2===ae&&(z=M[U.charCodeAt(de)]<<2|M[U.charCodeAt(de+1)]>>4,q[W++]=255&z),1===ae&&(z=M[U.charCodeAt(de)]<<10|M[U.charCodeAt(de+1)]<<4|M[U.charCodeAt(de+2)]>>2,q[W++]=z>>8&255,q[W++]=255&z),q},Z.fromByteArray=function L(U){for(var z,Q=U.length,Y=Q%3,ae=[],q=16383,W=0,J=Q-Y;W<J;W+=q)ae.push(F(U,W,W+q>J?J:W+q));return 1===Y?ae.push(S[(z=U[Q-1])>>2]+S[z<<4&63]+"=="):2===Y&&ae.push(S[(z=(U[Q-2]<<8)+U[Q-1])>>10]+S[z>>4&63]+S[z<<2&63]+"="),ae.join("")};for(var S=[],M=[],H=typeof Uint8Array<"u"?Uint8Array:Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)S[o]=j[o],M[j.charCodeAt(o)]=o;function h(U){var z=U.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=U.indexOf("=");return-1===Q&&(Q=z),[Q,Q===z?0:4-Q%4]}function O(U){return S[U>>18&63]+S[U>>12&63]+S[U>>6&63]+S[63&U]}function F(U,z,Q){for(var ae=[],q=z;q<Q;q+=3)ae.push(O((U[q]<<16&16711680)+(U[q+1]<<8&65280)+(255&U[q+2])));return ae.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},3962:function(ve){ve.exports=function(Z){var S={};function M(H){if(S[H])return S[H].exports;var j=S[H]={i:H,l:!1,exports:{}};return Z[H].call(j.exports,j,j.exports,M),j.l=!0,j.exports}return M.m=Z,M.c=S,M.d=function(H,j,o){M.o(H,j)||Object.defineProperty(H,j,{enumerable:!0,get:o})},M.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})},M.t=function(H,j){if(1&j&&(H=M(H)),8&j||4&j&&"object"==typeof H&&H&&H.__esModule)return H;var o=Object.create(null);if(M.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:H}),2&j&&"string"!=typeof H)for(var v in H)M.d(o,v,function(h){return H[h]}.bind(null,v));return o},M.n=function(H){var j=H&&H.__esModule?function(){return H.default}:function(){return H};return M.d(j,"a",j),j},M.o=function(H,j){return Object.prototype.hasOwnProperty.call(H,j)},M.p="",M(M.s=90)}({17:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j=H(18),o=function(){function v(){}return v.getFirstMatch=function(h,g){var _=g.match(h);return _&&_.length>0&&_[1]||""},v.getSecondMatch=function(h,g){var _=g.match(h);return _&&_.length>1&&_[2]||""},v.matchAndReturnConst=function(h,g,_){if(h.test(g))return _},v.getWindowsVersionName=function(h){switch(h){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},v.getMacOSVersionName=function(h){var g=h.split(".").splice(0,2).map(function(_){return parseInt(_,10)||0});if(g.push(0),10===g[0])switch(g[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},v.getAndroidVersionName=function(h){var g=h.split(".").splice(0,2).map(function(_){return parseInt(_,10)||0});if(g.push(0),!(1===g[0]&&g[1]<5))return 1===g[0]&&g[1]<6?"Cupcake":1===g[0]&&g[1]>=6?"Donut":2===g[0]&&g[1]<2?"Eclair":2===g[0]&&2===g[1]?"Froyo":2===g[0]&&g[1]>2?"Gingerbread":3===g[0]?"Honeycomb":4===g[0]&&g[1]<1?"Ice Cream Sandwich":4===g[0]&&g[1]<4?"Jelly Bean":4===g[0]&&g[1]>=4?"KitKat":5===g[0]?"Lollipop":6===g[0]?"Marshmallow":7===g[0]?"Nougat":8===g[0]?"Oreo":9===g[0]?"Pie":void 0},v.getVersionPrecision=function(h){return h.split(".").length},v.compareVersions=function(h,g,_){void 0===_&&(_=!1);var w=v.getVersionPrecision(h),O=v.getVersionPrecision(g),F=Math.max(w,O),L=0,U=v.map([h,g],function(z){var Q=F-v.getVersionPrecision(z),Y=z+new Array(Q+1).join(".0");return v.map(Y.split("."),function(ae){return new Array(20-ae.length).join("0")+ae}).reverse()});for(_&&(L=F-Math.min(w,O)),F-=1;F>=L;){if(U[0][F]>U[1][F])return 1;if(U[0][F]===U[1][F]){if(F===L)return 0;F-=1}else if(U[0][F]<U[1][F])return-1}},v.map=function(h,g){var _,w=[];if(Array.prototype.map)return Array.prototype.map.call(h,g);for(_=0;_<h.length;_+=1)w.push(g(h[_]));return w},v.find=function(h,g){var _,w;if(Array.prototype.find)return Array.prototype.find.call(h,g);for(_=0,w=h.length;_<w;_+=1){var O=h[_];if(g(O,_))return O}},v.assign=function(h){for(var g,_,w=h,O=arguments.length,F=new Array(O>1?O-1:0),L=1;L<O;L++)F[L-1]=arguments[L];if(Object.assign)return Object.assign.apply(Object,[h].concat(F));var U=function(){var Q=F[g];"object"==typeof Q&&null!==Q&&Object.keys(Q).forEach(function(Y){w[Y]=Q[Y]})};for(g=0,_=F.length;g<_;g+=1)U();return h},v.getBrowserAlias=function(h){return j.BROWSER_ALIASES_MAP[h]},v.getBrowserTypeByAlias=function(h){return j.BROWSER_MAP[h]||""},v}();M.default=o,S.exports=M.default},18:function(S,M,H){"use strict";M.__esModule=!0,M.ENGINE_MAP=M.OS_MAP=M.PLATFORMS_MAP=M.BROWSER_MAP=M.BROWSER_ALIASES_MAP=void 0,M.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},M.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},M.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},M.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},M.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j,o=(j=H(91))&&j.__esModule?j:{default:j},v=H(18);function h(_,w){for(var O=0;O<w.length;O++){var F=w[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}var g=function(){function _(){}var w,F;return _.getParser=function(L,U){if(void 0===U&&(U=!1),"string"!=typeof L)throw new Error("UserAgent should be a string");return new o.default(L,U)},_.parse=function(L){return new o.default(L).getResult()},w=_,F=[{key:"BROWSER_MAP",get:function(){return v.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return v.ENGINE_MAP}},{key:"OS_MAP",get:function(){return v.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return v.PLATFORMS_MAP}}],null&&h(w.prototype,null),F&&h(w,F),_}();M.default=g,S.exports=M.default},91:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j=_(H(92)),o=_(H(93)),v=_(H(94)),h=_(H(95)),g=_(H(17));function _(O){return O&&O.__esModule?O:{default:O}}var w=function(){function O(L,U){if(void 0===U&&(U=!1),null==L||""===L)throw new Error("UserAgent parameter can't be empty");this._ua=L,this.parsedResult={},!0!==U&&this.parse()}var F=O.prototype;return F.getUA=function(){return this._ua},F.test=function(L){return L.test(this._ua)},F.parseBrowser=function(){var L=this;this.parsedResult.browser={};var U=g.default.find(j.default,function(z){if("function"==typeof z.test)return z.test(L);if(z.test instanceof Array)return z.test.some(function(Q){return L.test(Q)});throw new Error("Browser's test function is not valid")});return U&&(this.parsedResult.browser=U.describe(this.getUA())),this.parsedResult.browser},F.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},F.getBrowserName=function(L){return L?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},F.getBrowserVersion=function(){return this.getBrowser().version},F.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},F.parseOS=function(){var L=this;this.parsedResult.os={};var U=g.default.find(o.default,function(z){if("function"==typeof z.test)return z.test(L);if(z.test instanceof Array)return z.test.some(function(Q){return L.test(Q)});throw new Error("Browser's test function is not valid")});return U&&(this.parsedResult.os=U.describe(this.getUA())),this.parsedResult.os},F.getOSName=function(L){var U=this.getOS().name;return L?String(U).toLowerCase()||"":U||""},F.getOSVersion=function(){return this.getOS().version},F.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},F.getPlatformType=function(L){void 0===L&&(L=!1);var U=this.getPlatform().type;return L?String(U).toLowerCase()||"":U||""},F.parsePlatform=function(){var L=this;this.parsedResult.platform={};var U=g.default.find(v.default,function(z){if("function"==typeof z.test)return z.test(L);if(z.test instanceof Array)return z.test.some(function(Q){return L.test(Q)});throw new Error("Browser's test function is not valid")});return U&&(this.parsedResult.platform=U.describe(this.getUA())),this.parsedResult.platform},F.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},F.getEngineName=function(L){return L?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},F.parseEngine=function(){var L=this;this.parsedResult.engine={};var U=g.default.find(h.default,function(z){if("function"==typeof z.test)return z.test(L);if(z.test instanceof Array)return z.test.some(function(Q){return L.test(Q)});throw new Error("Browser's test function is not valid")});return U&&(this.parsedResult.engine=U.describe(this.getUA())),this.parsedResult.engine},F.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},F.getResult=function(){return g.default.assign({},this.parsedResult)},F.satisfies=function(L){var U=this,z={},Q=0,Y={},ae=0;if(Object.keys(L).forEach(function(x){var A=L[x];"string"==typeof A?(Y[x]=A,ae+=1):"object"==typeof A&&(z[x]=A,Q+=1)}),Q>0){var q=Object.keys(z),W=g.default.find(q,function(x){return U.isOS(x)});if(W){var J=this.satisfies(z[W]);if(void 0!==J)return J}var de=g.default.find(q,function(x){return U.isPlatform(x)});if(de){var _e=this.satisfies(z[de]);if(void 0!==_e)return _e}}if(ae>0){var be=Object.keys(Y),ge=g.default.find(be,function(x){return U.isBrowser(x,!0)});if(void 0!==ge)return this.compareVersion(Y[ge])}},F.isBrowser=function(L,U){void 0===U&&(U=!1);var z=this.getBrowserName().toLowerCase(),Q=L.toLowerCase(),Y=g.default.getBrowserTypeByAlias(Q);return U&&Y&&(Q=Y.toLowerCase()),Q===z},F.compareVersion=function(L){var U=[0],z=L,Q=!1,Y=this.getBrowserVersion();if("string"==typeof Y)return">"===L[0]||"<"===L[0]?(z=L.substr(1),"="===L[1]?(Q=!0,z=L.substr(2)):U=[],U.push(">"===L[0]?1:-1)):"="===L[0]?z=L.substr(1):"~"===L[0]&&(Q=!0,z=L.substr(1)),U.indexOf(g.default.compareVersions(Y,z,Q))>-1},F.isOS=function(L){return this.getOSName(!0)===String(L).toLowerCase()},F.isPlatform=function(L){return this.getPlatformType(!0)===String(L).toLowerCase()},F.isEngine=function(L){return this.getEngineName(!0)===String(L).toLowerCase()},F.is=function(L,U){return void 0===U&&(U=!1),this.isBrowser(L,U)||this.isOS(L)||this.isPlatform(L)},F.some=function(L){var U=this;return void 0===L&&(L=[]),L.some(function(z){return U.is(z)})},O}();M.default=w,S.exports=M.default},92:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j,o=(j=H(17))&&j.__esModule?j:{default:j},v=/version\/(\d+(\.?_?\d+)+)/i;M.default=[{test:[/googlebot/i],describe:function(_){var w={name:"Googlebot"},O=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/opera/i],describe:function(_){var w={name:"Opera"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/opr\/|opios/i],describe:function(_){var w={name:"Opera"},O=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/SamsungBrowser/i],describe:function(_){var w={name:"Samsung Internet for Android"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/Whale/i],describe:function(_){var w={name:"NAVER Whale Browser"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/MZBrowser/i],describe:function(_){var w={name:"MZ Browser"},O=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/focus/i],describe:function(_){var w={name:"Focus"},O=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/swing/i],describe:function(_){var w={name:"Swing"},O=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/coast/i],describe:function(_){var w={name:"Opera Coast"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(_){var w={name:"Opera Touch"},O=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/yabrowser/i],describe:function(_){var w={name:"Yandex Browser"},O=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/ucbrowser/i],describe:function(_){var w={name:"UC Browser"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/Maxthon|mxios/i],describe:function(_){var w={name:"Maxthon"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/epiphany/i],describe:function(_){var w={name:"Epiphany"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/puffin/i],describe:function(_){var w={name:"Puffin"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/sleipnir/i],describe:function(_){var w={name:"Sleipnir"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/k-meleon/i],describe:function(_){var w={name:"K-Meleon"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/micromessenger/i],describe:function(_){var w={name:"WeChat"},O=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/qqbrowser/i],describe:function(_){var w={name:/qqbrowserlite/i.test(_)?"QQ Browser Lite":"QQ Browser"},O=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/msie|trident/i],describe:function(_){var w={name:"Internet Explorer"},O=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/\sedg\//i],describe:function(_){var w={name:"Microsoft Edge"},O=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/edg([ea]|ios)/i],describe:function(_){var w={name:"Microsoft Edge"},O=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/vivaldi/i],describe:function(_){var w={name:"Vivaldi"},O=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/seamonkey/i],describe:function(_){var w={name:"SeaMonkey"},O=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/sailfish/i],describe:function(_){var w={name:"Sailfish"},O=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_);return O&&(w.version=O),w}},{test:[/silk/i],describe:function(_){var w={name:"Amazon Silk"},O=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/phantom/i],describe:function(_){var w={name:"PhantomJS"},O=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/slimerjs/i],describe:function(_){var w={name:"SlimerJS"},O=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var w={name:"BlackBerry"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var w={name:"WebOS Browser"},O=o.default.getFirstMatch(v,_)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/bada/i],describe:function(_){var w={name:"Bada"},O=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/tizen/i],describe:function(_){var w={name:"Tizen"},O=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/qupzilla/i],describe:function(_){var w={name:"QupZilla"},O=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/firefox|iceweasel|fxios/i],describe:function(_){var w={name:"Firefox"},O=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/electron/i],describe:function(_){var w={name:"Electron"},O=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/MiuiBrowser/i],describe:function(_){var w={name:"Miui"},O=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/chromium/i],describe:function(_){var w={name:"Chromium"},O=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_)||o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/chrome|crios|crmo/i],describe:function(_){var w={name:"Chrome"},O=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/GSA/i],describe:function(_){var w={name:"Google Search"},O=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:function(_){var w=!_.test(/like android/i),O=_.test(/android/i);return w&&O},describe:function(_){var w={name:"Android Browser"},O=o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/playstation 4/i],describe:function(_){var w={name:"PlayStation 4"},O=o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/safari|applewebkit/i],describe:function(_){var w={name:"Safari"},O=o.default.getFirstMatch(v,_);return O&&(w.version=O),w}},{test:[/.*/i],describe:function(_){var w=-1!==_.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(w,_),version:o.default.getSecondMatch(w,_)}}}],S.exports=M.default},93:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j,o=(j=H(17))&&j.__esModule?j:{default:j},v=H(18);M.default=[{test:[/Roku\/DVP/],describe:function(_){var w=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_);return{name:v.OS_MAP.Roku,version:w}}},{test:[/windows phone/i],describe:function(_){var w=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_);return{name:v.OS_MAP.WindowsPhone,version:w}}},{test:[/windows /i],describe:function(_){var w=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_),O=o.default.getWindowsVersionName(w);return{name:v.OS_MAP.Windows,version:w,versionName:O}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(_){var w={name:v.OS_MAP.iOS},O=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,_);return O&&(w.version=O),w}},{test:[/macintosh/i],describe:function(_){var w=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_).replace(/[_\s]/g,"."),O=o.default.getMacOSVersionName(w),F={name:v.OS_MAP.MacOS,version:w};return O&&(F.versionName=O),F}},{test:[/(ipod|iphone|ipad)/i],describe:function(_){var w=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_).replace(/[_\s]/g,".");return{name:v.OS_MAP.iOS,version:w}}},{test:function(_){var w=!_.test(/like android/i),O=_.test(/android/i);return w&&O},describe:function(_){var w=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_),O=o.default.getAndroidVersionName(w),F={name:v.OS_MAP.Android,version:w};return O&&(F.versionName=O),F}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var w=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_),O={name:v.OS_MAP.WebOS};return w&&w.length&&(O.version=w),O}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var w=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_)||o.default.getFirstMatch(/\bbb(\d+)/i,_);return{name:v.OS_MAP.BlackBerry,version:w}}},{test:[/bada/i],describe:function(_){var w=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_);return{name:v.OS_MAP.Bada,version:w}}},{test:[/tizen/i],describe:function(_){var w=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_);return{name:v.OS_MAP.Tizen,version:w}}},{test:[/linux/i],describe:function(){return{name:v.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:v.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(_){var w=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_);return{name:v.OS_MAP.PlayStation4,version:w}}}],S.exports=M.default},94:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j,o=(j=H(17))&&j.__esModule?j:{default:j},v=H(18);M.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(_){var w=o.default.getFirstMatch(/(can-l01)/i,_)&&"Nova",O={type:v.PLATFORMS_MAP.mobile,vendor:"Huawei"};return w&&(O.model=w),O}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:v.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:v.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:v.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:v.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:v.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:v.PLATFORMS_MAP.tablet}}},{test:function(_){var w=_.test(/ipod|iphone/i),O=_.test(/like (ipod|iphone)/i);return w&&!O},describe:function(_){var w=o.default.getFirstMatch(/(ipod|iphone)/i,_);return{type:v.PLATFORMS_MAP.mobile,vendor:"Apple",model:w}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:v.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:v.PLATFORMS_MAP.mobile}}},{test:function(_){return"blackberry"===_.getBrowserName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(_){return"bada"===_.getBrowserName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.mobile}}},{test:function(_){return"windows phone"===_.getBrowserName()},describe:function(){return{type:v.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(_){var w=Number(String(_.getOSVersion()).split(".")[0]);return"android"===_.getOSName(!0)&&w>=3},describe:function(){return{type:v.PLATFORMS_MAP.tablet}}},{test:function(_){return"android"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.mobile}}},{test:function(_){return"macos"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(_){return"windows"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.desktop}}},{test:function(_){return"linux"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.desktop}}},{test:function(_){return"playstation 4"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.tv}}},{test:function(_){return"roku"===_.getOSName(!0)},describe:function(){return{type:v.PLATFORMS_MAP.tv}}}],S.exports=M.default},95:function(S,M,H){"use strict";M.__esModule=!0,M.default=void 0;var j,o=(j=H(17))&&j.__esModule?j:{default:j},v=H(18);M.default=[{test:function(_){return"microsoft edge"===_.getBrowserName(!0)},describe:function(_){if(/\sedg\//i.test(_))return{name:v.ENGINE_MAP.Blink};var w=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_);return{name:v.ENGINE_MAP.EdgeHTML,version:w}}},{test:[/trident/i],describe:function(_){var w={name:v.ENGINE_MAP.Trident},O=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:function(_){return _.test(/presto/i)},describe:function(_){var w={name:v.ENGINE_MAP.Presto},O=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:function(_){var w=_.test(/gecko/i),O=_.test(/like gecko/i);return w&&!O},describe:function(_){var w={name:v.ENGINE_MAP.Gecko},O=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:v.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(_){var w={name:v.ENGINE_MAP.WebKit},O=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_);return O&&(w.version=O),w}}],S.exports=M.default}})},5979:ve=>{ve.exports=function M(H){return"[object String]"=={}.toString.call(H)?H.replace(Z,".$1").replace(S,""):""};var Z=/\[([^\[\]]+)\]/g,S=/^[.]*|[.]*$/g},3195:(ve,Z,S)=>{var M=S(2173),H=S(4920),j="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Z.Buffer=g,Z.SlowBuffer=function ae(Ee){return+Ee!=Ee&&(Ee=0),g.alloc(+Ee)},Z.INSPECT_MAX_BYTES=50;var o=2147483647;function h(Ee){if(Ee>o)throw new RangeError('The value "'+Ee+'" is invalid for option "size"');var le=new Uint8Array(Ee);return Object.setPrototypeOf(le,g.prototype),le}function g(Ee,le,ce){if("number"==typeof Ee){if("string"==typeof le)throw new TypeError('The "string" argument must be of type string. Received type number');return F(Ee)}return _(Ee,le,ce)}function _(Ee,le,ce){if("string"==typeof Ee)return function L(Ee,le){if(("string"!=typeof le||""===le)&&(le="utf8"),!g.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var ce=0|q(Ee,le),Fe=h(ce),ut=Fe.write(Ee,le);return ut!==ce&&(Fe=Fe.slice(0,ut)),Fe}(Ee,le);if(ArrayBuffer.isView(Ee))return U(Ee);if(null==Ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee);if(pe(Ee,ArrayBuffer)||Ee&&pe(Ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(Ee,SharedArrayBuffer)||Ee&&pe(Ee.buffer,SharedArrayBuffer)))return function z(Ee,le,ce){if(le<0||Ee.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<le+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var Fe;return Fe=void 0===le&&void 0===ce?new Uint8Array(Ee):void 0===ce?new Uint8Array(Ee,le):new Uint8Array(Ee,le,ce),Object.setPrototypeOf(Fe,g.prototype),Fe}(Ee,le,ce);if("number"==typeof Ee)throw new TypeError('The "value" argument must not be of type number. Received type number');var Fe=Ee.valueOf&&Ee.valueOf();if(null!=Fe&&Fe!==Ee)return g.from(Fe,le,ce);var ut=function Q(Ee){if(g.isBuffer(Ee)){var le=0|Y(Ee.length),ce=h(le);return 0===ce.length||Ee.copy(ce,0,0,le),ce}return void 0!==Ee.length?"number"!=typeof Ee.length||Ce(Ee.length)?h(0):U(Ee):"Buffer"===Ee.type&&Array.isArray(Ee.data)?U(Ee.data):void 0}(Ee);if(ut)return ut;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Ee[Symbol.toPrimitive])return g.from(Ee[Symbol.toPrimitive]("string"),le,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee)}function w(Ee){if("number"!=typeof Ee)throw new TypeError('"size" argument must be of type number');if(Ee<0)throw new RangeError('The value "'+Ee+'" is invalid for option "size"')}function F(Ee){return w(Ee),h(Ee<0?0:0|Y(Ee))}function U(Ee){for(var le=Ee.length<0?0:0|Y(Ee.length),ce=h(le),Fe=0;Fe<le;Fe+=1)ce[Fe]=255&Ee[Fe];return ce}function Y(Ee){if(Ee>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|Ee}function q(Ee,le){if(g.isBuffer(Ee))return Ee.length;if(ArrayBuffer.isView(Ee)||pe(Ee,ArrayBuffer))return Ee.byteLength;if("string"!=typeof Ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ee);var ce=Ee.length,Fe=arguments.length>2&&!0===arguments[2];if(!Fe&&0===ce)return 0;for(var ut=!1;;)switch(le){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return me(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ce;case"hex":return ce>>>1;case"base64":return Re(Ee).length;default:if(ut)return Fe?-1:me(Ee).length;le=(""+le).toLowerCase(),ut=!0}}function W(Ee,le,ce){var Fe=!1;if((void 0===le||le<0)&&(le=0),le>this.length||((void 0===ce||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0)<=(le>>>=0))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return Ne(this,le,ce);case"utf8":case"utf-8":return T(this,le,ce);case"ascii":return De(this,le,ce);case"latin1":case"binary":return re(this,le,ce);case"base64":return $(this,le,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return at(this,le,ce);default:if(Fe)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Fe=!0}}function J(Ee,le,ce){var Fe=Ee[le];Ee[le]=Ee[ce],Ee[ce]=Fe}function de(Ee,le,ce,Fe,ut){if(0===Ee.length)return-1;if("string"==typeof ce?(Fe=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),Ce(ce=+ce)&&(ce=ut?0:Ee.length-1),ce<0&&(ce=Ee.length+ce),ce>=Ee.length){if(ut)return-1;ce=Ee.length-1}else if(ce<0){if(!ut)return-1;ce=0}if("string"==typeof le&&(le=g.from(le,Fe)),g.isBuffer(le))return 0===le.length?-1:_e(Ee,le,ce,Fe,ut);if("number"==typeof le)return le&=255,"function"==typeof Uint8Array.prototype.indexOf?ut?Uint8Array.prototype.indexOf.call(Ee,le,ce):Uint8Array.prototype.lastIndexOf.call(Ee,le,ce):_e(Ee,[le],ce,Fe,ut);throw new TypeError("val must be string, number or Buffer")}function _e(Ee,le,ce,Fe,ut){var tn,Nt=1,Mt=Ee.length,Wt=le.length;if(void 0!==Fe&&("ucs2"===(Fe=String(Fe).toLowerCase())||"ucs-2"===Fe||"utf16le"===Fe||"utf-16le"===Fe)){if(Ee.length<2||le.length<2)return-1;Nt=2,Mt/=2,Wt/=2,ce/=2}function mn(Qr,yr){return 1===Nt?Qr[yr]:Qr.readUInt16BE(yr*Nt)}if(ut){var ir=-1;for(tn=ce;tn<Mt;tn++)if(mn(Ee,tn)===mn(le,-1===ir?0:tn-ir)){if(-1===ir&&(ir=tn),tn-ir+1===Wt)return ir*Nt}else-1!==ir&&(tn-=tn-ir),ir=-1}else for(ce+Wt>Mt&&(ce=Mt-Wt),tn=ce;tn>=0;tn--){for(var jn=!0,Ie=0;Ie<Wt;Ie++)if(mn(Ee,tn+Ie)!==mn(le,Ie)){jn=!1;break}if(jn)return tn}return-1}function be(Ee,le,ce,Fe){ce=Number(ce)||0;var ut=Ee.length-ce;Fe?(Fe=Number(Fe))>ut&&(Fe=ut):Fe=ut;var Nt=le.length;Fe>Nt/2&&(Fe=Nt/2);for(var Mt=0;Mt<Fe;++Mt){var Wt=parseInt(le.substr(2*Mt,2),16);if(Ce(Wt))return Mt;Ee[ce+Mt]=Wt}return Mt}function ge(Ee,le,ce,Fe){return Ze(me(le,Ee.length-ce),Ee,ce,Fe)}function x(Ee,le,ce,Fe){return Ze(function ee(Ee){for(var le=[],ce=0;ce<Ee.length;++ce)le.push(255&Ee.charCodeAt(ce));return le}(le),Ee,ce,Fe)}function A(Ee,le,ce,Fe){return x(Ee,le,ce,Fe)}function C(Ee,le,ce,Fe){return Ze(Re(le),Ee,ce,Fe)}function I(Ee,le,ce,Fe){return Ze(function se(Ee,le){for(var ce,Fe,Nt=[],Mt=0;Mt<Ee.length&&!((le-=2)<0);++Mt)Fe=(ce=Ee.charCodeAt(Mt))>>8,Nt.push(ce%256),Nt.push(Fe);return Nt}(le,Ee.length-ce),Ee,ce,Fe)}function $(Ee,le,ce){return M.fromByteArray(0===le&&ce===Ee.length?Ee:Ee.slice(le,ce))}function T(Ee,le,ce){ce=Math.min(Ee.length,ce);for(var Fe=[],ut=le;ut<ce;){var mn,tn,ir,jn,Nt=Ee[ut],Mt=null,Wt=Nt>239?4:Nt>223?3:Nt>191?2:1;if(ut+Wt<=ce)switch(Wt){case 1:Nt<128&&(Mt=Nt);break;case 2:128==(192&(mn=Ee[ut+1]))&&(jn=(31&Nt)<<6|63&mn)>127&&(Mt=jn);break;case 3:tn=Ee[ut+2],128==(192&(mn=Ee[ut+1]))&&128==(192&tn)&&(jn=(15&Nt)<<12|(63&mn)<<6|63&tn)>2047&&(jn<55296||jn>57343)&&(Mt=jn);break;case 4:tn=Ee[ut+2],ir=Ee[ut+3],128==(192&(mn=Ee[ut+1]))&&128==(192&tn)&&128==(192&ir)&&(jn=(15&Nt)<<18|(63&mn)<<12|(63&tn)<<6|63&ir)>65535&&jn<1114112&&(Mt=jn)}null===Mt?(Mt=65533,Wt=1):Mt>65535&&(Fe.push((Mt-=65536)>>>10&1023|55296),Mt=56320|1023&Mt),Fe.push(Mt),ut+=Wt}return function fe(Ee){var le=Ee.length;if(le<=X)return String.fromCharCode.apply(String,Ee);for(var ce="",Fe=0;Fe<le;)ce+=String.fromCharCode.apply(String,Ee.slice(Fe,Fe+=X));return ce}(Fe)}Z.kMaxLength=o,!(g.TYPED_ARRAY_SUPPORT=function v(){try{var Ee=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(Ee,le),42===Ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(Ee,le,ce){return _(Ee,le,ce)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(Ee,le,ce){return function O(Ee,le,ce){return w(Ee),Ee<=0?h(Ee):void 0!==le?"string"==typeof ce?h(Ee).fill(le,ce):h(Ee).fill(le):h(Ee)}(Ee,le,ce)},g.allocUnsafe=function(Ee){return F(Ee)},g.allocUnsafeSlow=function(Ee){return F(Ee)},g.isBuffer=function(le){return null!=le&&!0===le._isBuffer&&le!==g.prototype},g.compare=function(le,ce){if(pe(le,Uint8Array)&&(le=g.from(le,le.offset,le.byteLength)),pe(ce,Uint8Array)&&(ce=g.from(ce,ce.offset,ce.byteLength)),!g.isBuffer(le)||!g.isBuffer(ce))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(le===ce)return 0;for(var Fe=le.length,ut=ce.length,Nt=0,Mt=Math.min(Fe,ut);Nt<Mt;++Nt)if(le[Nt]!==ce[Nt]){Fe=le[Nt],ut=ce[Nt];break}return Fe<ut?-1:ut<Fe?1:0},g.isEncoding=function(le){switch(String(le).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(le,ce){if(!Array.isArray(le))throw new TypeError('"list" argument must be an Array of Buffers');if(0===le.length)return g.alloc(0);var Fe;if(void 0===ce)for(ce=0,Fe=0;Fe<le.length;++Fe)ce+=le[Fe].length;var ut=g.allocUnsafe(ce),Nt=0;for(Fe=0;Fe<le.length;++Fe){var Mt=le[Fe];if(pe(Mt,Uint8Array)&&(Mt=g.from(Mt)),!g.isBuffer(Mt))throw new TypeError('"list" argument must be an Array of Buffers');Mt.copy(ut,Nt),Nt+=Mt.length}return ut},g.byteLength=q,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var le=this.length;if(le%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ce=0;ce<le;ce+=2)J(this,ce,ce+1);return this},g.prototype.swap32=function(){var le=this.length;if(le%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ce=0;ce<le;ce+=4)J(this,ce,ce+3),J(this,ce+1,ce+2);return this},g.prototype.swap64=function(){var le=this.length;if(le%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ce=0;ce<le;ce+=8)J(this,ce,ce+7),J(this,ce+1,ce+6),J(this,ce+2,ce+5),J(this,ce+3,ce+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var le=this.length;return 0===le?"":0===arguments.length?T(this,0,le):W.apply(this,arguments)},g.prototype.equals=function(le){if(!g.isBuffer(le))throw new TypeError("Argument must be a Buffer");return this===le||0===g.compare(this,le)},g.prototype.inspect=function(){var le="",ce=Z.INSPECT_MAX_BYTES;return le=this.toString("hex",0,ce).replace(/(.{2})/g,"$1 ").trim(),this.length>ce&&(le+=" ... "),"<Buffer "+le+">"},j&&(g.prototype[j]=g.prototype.inspect),g.prototype.compare=function(le,ce,Fe,ut,Nt){if(pe(le,Uint8Array)&&(le=g.from(le,le.offset,le.byteLength)),!g.isBuffer(le))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof le);if(void 0===ce&&(ce=0),void 0===Fe&&(Fe=le?le.length:0),void 0===ut&&(ut=0),void 0===Nt&&(Nt=this.length),ce<0||Fe>le.length||ut<0||Nt>this.length)throw new RangeError("out of range index");if(ut>=Nt&&ce>=Fe)return 0;if(ut>=Nt)return-1;if(ce>=Fe)return 1;if(this===le)return 0;for(var Mt=(Nt>>>=0)-(ut>>>=0),Wt=(Fe>>>=0)-(ce>>>=0),mn=Math.min(Mt,Wt),tn=this.slice(ut,Nt),ir=le.slice(ce,Fe),jn=0;jn<mn;++jn)if(tn[jn]!==ir[jn]){Mt=tn[jn],Wt=ir[jn];break}return Mt<Wt?-1:Wt<Mt?1:0},g.prototype.includes=function(le,ce,Fe){return-1!==this.indexOf(le,ce,Fe)},g.prototype.indexOf=function(le,ce,Fe){return de(this,le,ce,Fe,!0)},g.prototype.lastIndexOf=function(le,ce,Fe){return de(this,le,ce,Fe,!1)},g.prototype.write=function(le,ce,Fe,ut){if(void 0===ce)ut="utf8",Fe=this.length,ce=0;else if(void 0===Fe&&"string"==typeof ce)ut=ce,Fe=this.length,ce=0;else{if(!isFinite(ce))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ce>>>=0,isFinite(Fe)?(Fe>>>=0,void 0===ut&&(ut="utf8")):(ut=Fe,Fe=void 0)}var Nt=this.length-ce;if((void 0===Fe||Fe>Nt)&&(Fe=Nt),le.length>0&&(Fe<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");ut||(ut="utf8");for(var Mt=!1;;)switch(ut){case"hex":return be(this,le,ce,Fe);case"utf8":case"utf-8":return ge(this,le,ce,Fe);case"ascii":return x(this,le,ce,Fe);case"latin1":case"binary":return A(this,le,ce,Fe);case"base64":return C(this,le,ce,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,le,ce,Fe);default:if(Mt)throw new TypeError("Unknown encoding: "+ut);ut=(""+ut).toLowerCase(),Mt=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function De(Ee,le,ce){var Fe="";ce=Math.min(Ee.length,ce);for(var ut=le;ut<ce;++ut)Fe+=String.fromCharCode(127&Ee[ut]);return Fe}function re(Ee,le,ce){var Fe="";ce=Math.min(Ee.length,ce);for(var ut=le;ut<ce;++ut)Fe+=String.fromCharCode(Ee[ut]);return Fe}function Ne(Ee,le,ce){var Fe=Ee.length;(!le||le<0)&&(le=0),(!ce||ce<0||ce>Fe)&&(ce=Fe);for(var ut="",Nt=le;Nt<ce;++Nt)ut+=dt[Ee[Nt]];return ut}function at(Ee,le,ce){for(var Fe=Ee.slice(le,ce),ut="",Nt=0;Nt<Fe.length;Nt+=2)ut+=String.fromCharCode(Fe[Nt]+256*Fe[Nt+1]);return ut}function Oe(Ee,le,ce){if(Ee%1!=0||Ee<0)throw new RangeError("offset is not uint");if(Ee+le>ce)throw new RangeError("Trying to access beyond buffer length")}function rt(Ee,le,ce,Fe,ut,Nt){if(!g.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>ut||le<Nt)throw new RangeError('"value" argument is out of bounds');if(ce+Fe>Ee.length)throw new RangeError("Index out of range")}function et(Ee,le,ce,Fe,ut,Nt){if(ce+Fe>Ee.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function St(Ee,le,ce,Fe,ut){return le=+le,ce>>>=0,ut||et(Ee,0,ce,4),H.write(Ee,le,ce,Fe,23,4),ce+4}function it(Ee,le,ce,Fe,ut){return le=+le,ce>>>=0,ut||et(Ee,0,ce,8),H.write(Ee,le,ce,Fe,52,8),ce+8}g.prototype.slice=function(le,ce){var Fe=this.length;(le=~~le)<0?(le+=Fe)<0&&(le=0):le>Fe&&(le=Fe),(ce=void 0===ce?Fe:~~ce)<0?(ce+=Fe)<0&&(ce=0):ce>Fe&&(ce=Fe),ce<le&&(ce=le);var ut=this.subarray(le,ce);return Object.setPrototypeOf(ut,g.prototype),ut},g.prototype.readUIntLE=function(le,ce,Fe){le>>>=0,ce>>>=0,Fe||Oe(le,ce,this.length);for(var ut=this[le],Nt=1,Mt=0;++Mt<ce&&(Nt*=256);)ut+=this[le+Mt]*Nt;return ut},g.prototype.readUIntBE=function(le,ce,Fe){le>>>=0,ce>>>=0,Fe||Oe(le,ce,this.length);for(var ut=this[le+--ce],Nt=1;ce>0&&(Nt*=256);)ut+=this[le+--ce]*Nt;return ut},g.prototype.readUInt8=function(le,ce){return le>>>=0,ce||Oe(le,1,this.length),this[le]},g.prototype.readUInt16LE=function(le,ce){return le>>>=0,ce||Oe(le,2,this.length),this[le]|this[le+1]<<8},g.prototype.readUInt16BE=function(le,ce){return le>>>=0,ce||Oe(le,2,this.length),this[le]<<8|this[le+1]},g.prototype.readUInt32LE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),(this[le]|this[le+1]<<8|this[le+2]<<16)+16777216*this[le+3]},g.prototype.readUInt32BE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),16777216*this[le]+(this[le+1]<<16|this[le+2]<<8|this[le+3])},g.prototype.readIntLE=function(le,ce,Fe){le>>>=0,ce>>>=0,Fe||Oe(le,ce,this.length);for(var ut=this[le],Nt=1,Mt=0;++Mt<ce&&(Nt*=256);)ut+=this[le+Mt]*Nt;return ut>=(Nt*=128)&&(ut-=Math.pow(2,8*ce)),ut},g.prototype.readIntBE=function(le,ce,Fe){le>>>=0,ce>>>=0,Fe||Oe(le,ce,this.length);for(var ut=ce,Nt=1,Mt=this[le+--ut];ut>0&&(Nt*=256);)Mt+=this[le+--ut]*Nt;return Mt>=(Nt*=128)&&(Mt-=Math.pow(2,8*ce)),Mt},g.prototype.readInt8=function(le,ce){return le>>>=0,ce||Oe(le,1,this.length),128&this[le]?-1*(255-this[le]+1):this[le]},g.prototype.readInt16LE=function(le,ce){le>>>=0,ce||Oe(le,2,this.length);var Fe=this[le]|this[le+1]<<8;return 32768&Fe?4294901760|Fe:Fe},g.prototype.readInt16BE=function(le,ce){le>>>=0,ce||Oe(le,2,this.length);var Fe=this[le+1]|this[le]<<8;return 32768&Fe?4294901760|Fe:Fe},g.prototype.readInt32LE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),this[le]|this[le+1]<<8|this[le+2]<<16|this[le+3]<<24},g.prototype.readInt32BE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),this[le]<<24|this[le+1]<<16|this[le+2]<<8|this[le+3]},g.prototype.readFloatLE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),H.read(this,le,!0,23,4)},g.prototype.readFloatBE=function(le,ce){return le>>>=0,ce||Oe(le,4,this.length),H.read(this,le,!1,23,4)},g.prototype.readDoubleLE=function(le,ce){return le>>>=0,ce||Oe(le,8,this.length),H.read(this,le,!0,52,8)},g.prototype.readDoubleBE=function(le,ce){return le>>>=0,ce||Oe(le,8,this.length),H.read(this,le,!1,52,8)},g.prototype.writeUIntLE=function(le,ce,Fe,ut){le=+le,ce>>>=0,Fe>>>=0,ut||rt(this,le,ce,Fe,Math.pow(2,8*Fe)-1,0);var Mt=1,Wt=0;for(this[ce]=255&le;++Wt<Fe&&(Mt*=256);)this[ce+Wt]=le/Mt&255;return ce+Fe},g.prototype.writeUIntBE=function(le,ce,Fe,ut){le=+le,ce>>>=0,Fe>>>=0,ut||rt(this,le,ce,Fe,Math.pow(2,8*Fe)-1,0);var Mt=Fe-1,Wt=1;for(this[ce+Mt]=255&le;--Mt>=0&&(Wt*=256);)this[ce+Mt]=le/Wt&255;return ce+Fe},g.prototype.writeUInt8=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,1,255,0),this[ce]=255&le,ce+1},g.prototype.writeUInt16LE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,2,65535,0),this[ce]=255&le,this[ce+1]=le>>>8,ce+2},g.prototype.writeUInt16BE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,2,65535,0),this[ce]=le>>>8,this[ce+1]=255&le,ce+2},g.prototype.writeUInt32LE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,4,4294967295,0),this[ce+3]=le>>>24,this[ce+2]=le>>>16,this[ce+1]=le>>>8,this[ce]=255&le,ce+4},g.prototype.writeUInt32BE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,4,4294967295,0),this[ce]=le>>>24,this[ce+1]=le>>>16,this[ce+2]=le>>>8,this[ce+3]=255&le,ce+4},g.prototype.writeIntLE=function(le,ce,Fe,ut){if(le=+le,ce>>>=0,!ut){var Nt=Math.pow(2,8*Fe-1);rt(this,le,ce,Fe,Nt-1,-Nt)}var Mt=0,Wt=1,mn=0;for(this[ce]=255&le;++Mt<Fe&&(Wt*=256);)le<0&&0===mn&&0!==this[ce+Mt-1]&&(mn=1),this[ce+Mt]=(le/Wt>>0)-mn&255;return ce+Fe},g.prototype.writeIntBE=function(le,ce,Fe,ut){if(le=+le,ce>>>=0,!ut){var Nt=Math.pow(2,8*Fe-1);rt(this,le,ce,Fe,Nt-1,-Nt)}var Mt=Fe-1,Wt=1,mn=0;for(this[ce+Mt]=255&le;--Mt>=0&&(Wt*=256);)le<0&&0===mn&&0!==this[ce+Mt+1]&&(mn=1),this[ce+Mt]=(le/Wt>>0)-mn&255;return ce+Fe},g.prototype.writeInt8=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,1,127,-128),le<0&&(le=255+le+1),this[ce]=255&le,ce+1},g.prototype.writeInt16LE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,2,32767,-32768),this[ce]=255&le,this[ce+1]=le>>>8,ce+2},g.prototype.writeInt16BE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,2,32767,-32768),this[ce]=le>>>8,this[ce+1]=255&le,ce+2},g.prototype.writeInt32LE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,4,2147483647,-2147483648),this[ce]=255&le,this[ce+1]=le>>>8,this[ce+2]=le>>>16,this[ce+3]=le>>>24,ce+4},g.prototype.writeInt32BE=function(le,ce,Fe){return le=+le,ce>>>=0,Fe||rt(this,le,ce,4,2147483647,-2147483648),le<0&&(le=4294967295+le+1),this[ce]=le>>>24,this[ce+1]=le>>>16,this[ce+2]=le>>>8,this[ce+3]=255&le,ce+4},g.prototype.writeFloatLE=function(le,ce,Fe){return St(this,le,ce,!0,Fe)},g.prototype.writeFloatBE=function(le,ce,Fe){return St(this,le,ce,!1,Fe)},g.prototype.writeDoubleLE=function(le,ce,Fe){return it(this,le,ce,!0,Fe)},g.prototype.writeDoubleBE=function(le,ce,Fe){return it(this,le,ce,!1,Fe)},g.prototype.copy=function(le,ce,Fe,ut){if(!g.isBuffer(le))throw new TypeError("argument should be a Buffer");if(Fe||(Fe=0),!ut&&0!==ut&&(ut=this.length),ce>=le.length&&(ce=le.length),ce||(ce=0),ut>0&&ut<Fe&&(ut=Fe),ut===Fe||0===le.length||0===this.length)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(Fe<0||Fe>=this.length)throw new RangeError("Index out of range");if(ut<0)throw new RangeError("sourceEnd out of bounds");ut>this.length&&(ut=this.length),le.length-ce<ut-Fe&&(ut=le.length-ce+Fe);var Nt=ut-Fe;if(this===le&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(ce,Fe,ut);else if(this===le&&Fe<ce&&ce<ut)for(var Mt=Nt-1;Mt>=0;--Mt)le[Mt+ce]=this[Mt+Fe];else Uint8Array.prototype.set.call(le,this.subarray(Fe,ut),ce);return Nt},g.prototype.fill=function(le,ce,Fe,ut){if("string"==typeof le){if("string"==typeof ce?(ut=ce,ce=0,Fe=this.length):"string"==typeof Fe&&(ut=Fe,Fe=this.length),void 0!==ut&&"string"!=typeof ut)throw new TypeError("encoding must be a string");if("string"==typeof ut&&!g.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);if(1===le.length){var Nt=le.charCodeAt(0);("utf8"===ut&&Nt<128||"latin1"===ut)&&(le=Nt)}}else"number"==typeof le?le&=255:"boolean"==typeof le&&(le=Number(le));if(ce<0||this.length<ce||this.length<Fe)throw new RangeError("Out of range index");if(Fe<=ce)return this;var Mt;if(ce>>>=0,Fe=void 0===Fe?this.length:Fe>>>0,le||(le=0),"number"==typeof le)for(Mt=ce;Mt<Fe;++Mt)this[Mt]=le;else{var Wt=g.isBuffer(le)?le:g.from(le,ut),mn=Wt.length;if(0===mn)throw new TypeError('The value "'+le+'" is invalid for argument "value"');for(Mt=0;Mt<Fe-ce;++Mt)this[Mt+ce]=Wt[Mt%mn]}return this};var Ve=/[^+/0-9A-Za-z-_]/g;function me(Ee,le){le=le||1/0;for(var ce,Fe=Ee.length,ut=null,Nt=[],Mt=0;Mt<Fe;++Mt){if((ce=Ee.charCodeAt(Mt))>55295&&ce<57344){if(!ut){if(ce>56319){(le-=3)>-1&&Nt.push(239,191,189);continue}if(Mt+1===Fe){(le-=3)>-1&&Nt.push(239,191,189);continue}ut=ce;continue}if(ce<56320){(le-=3)>-1&&Nt.push(239,191,189),ut=ce;continue}ce=65536+(ut-55296<<10|ce-56320)}else ut&&(le-=3)>-1&&Nt.push(239,191,189);if(ut=null,ce<128){if((le-=1)<0)break;Nt.push(ce)}else if(ce<2048){if((le-=2)<0)break;Nt.push(ce>>6|192,63&ce|128)}else if(ce<65536){if((le-=3)<0)break;Nt.push(ce>>12|224,ce>>6&63|128,63&ce|128)}else{if(!(ce<1114112))throw new Error("Invalid code point");if((le-=4)<0)break;Nt.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}}return Nt}function Re(Ee){return M.toByteArray(function st(Ee){if((Ee=(Ee=Ee.split("=")[0]).trim().replace(Ve,"")).length<2)return"";for(;Ee.length%4!=0;)Ee+="=";return Ee}(Ee))}function Ze(Ee,le,ce,Fe){for(var ut=0;ut<Fe&&!(ut+ce>=le.length||ut>=Ee.length);++ut)le[ut+ce]=Ee[ut];return ut}function pe(Ee,le){return Ee instanceof le||null!=Ee&&null!=Ee.constructor&&null!=Ee.constructor.name&&Ee.constructor.name===le.name}function Ce(Ee){return Ee!=Ee}var dt=function(){for(var Ee="0123456789abcdef",le=new Array(256),ce=0;ce<16;++ce)for(var Fe=16*ce,ut=0;ut<16;++ut)le[Fe+ut]=Ee[ce]+Ee[ut];return le}()},4263:(ve,Z,S)=>{var M=S(9903),H=S(3855),j=H(M("String.prototype.indexOf"));ve.exports=function(v,h){var g=M(v,!!h);return"function"==typeof g&&j(v,".prototype.")>-1?H(g):g}},3855:(ve,Z,S)=>{var M=S(224),H=S(9903),j=H("%Function.prototype.apply%"),o=H("%Function.prototype.call%"),v=H("%Reflect.apply%",!0)||M.call(o,j),h=H("%Object.getOwnPropertyDescriptor%",!0),g=H("%Object.defineProperty%",!0),_=H("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}ve.exports=function(F){var L=v(M,o,arguments);return h&&g&&h(L,"length").configurable&&g(L,"length",{value:1+_(0,F.length-(arguments.length-1))}),L};var w=function(){return v(M,j,arguments)};g?g(ve.exports,"apply",{value:w}):ve.exports.apply=w},5482:ve=>{var Z=function(){"use strict";function S(O,F){return null!=F&&O instanceof F}var M,H,j;try{M=Map}catch{M=function(){}}try{H=Set}catch{H=function(){}}try{j=Promise}catch{j=function(){}}function o(O,F,L,U,z){"object"==typeof F&&(L=F.depth,U=F.prototype,z=F.includeNonEnumerable,F=F.circular);var Q=[],Y=[],ae=typeof Buffer<"u";return typeof F>"u"&&(F=!0),typeof L>"u"&&(L=1/0),function q(W,J){if(null===W)return null;if(0===J)return W;var de,_e;if("object"!=typeof W)return W;if(S(W,M))de=new M;else if(S(W,H))de=new H;else if(S(W,j))de=new j(function(X,fe){W.then(function(De){X(q(De,J-1))},function(De){fe(q(De,J-1))})});else if(o.__isArray(W))de=[];else if(o.__isRegExp(W))de=new RegExp(W.source,w(W)),W.lastIndex&&(de.lastIndex=W.lastIndex);else if(o.__isDate(W))de=new Date(W.getTime());else{if(ae&&Buffer.isBuffer(W))return de=Buffer.allocUnsafe?Buffer.allocUnsafe(W.length):new Buffer(W.length),W.copy(de),de;S(W,Error)?de=Object.create(W):typeof U>"u"?(_e=Object.getPrototypeOf(W),de=Object.create(_e)):(de=Object.create(U),_e=U)}if(F){var be=Q.indexOf(W);if(-1!=be)return Y[be];Q.push(W),Y.push(de)}for(var ge in S(W,M)&&W.forEach(function(X,fe){var De=q(fe,J-1),re=q(X,J-1);de.set(De,re)}),S(W,H)&&W.forEach(function(X){var fe=q(X,J-1);de.add(fe)}),W){var x;_e&&(x=Object.getOwnPropertyDescriptor(_e,ge)),(!x||null!=x.set)&&(de[ge]=q(W[ge],J-1))}if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(W);for(ge=0;ge<A.length;ge++){var C=A[ge];(I=Object.getOwnPropertyDescriptor(W,C))&&!I.enumerable&&!z||(de[C]=q(W[C],J-1),I.enumerable||Object.defineProperty(de,C,{enumerable:!1}))}}if(z){var $=Object.getOwnPropertyNames(W);for(ge=0;ge<$.length;ge++){var I,T=$[ge];(I=Object.getOwnPropertyDescriptor(W,T))&&I.enumerable||(de[T]=q(W[T],J-1),Object.defineProperty(de,T,{enumerable:!1}))}}return de}(O,L)}function v(O){return Object.prototype.toString.call(O)}function w(O){var F="";return O.global&&(F+="g"),O.ignoreCase&&(F+="i"),O.multiline&&(F+="m"),F}return o.clonePrototype=function(F){if(null===F)return null;var L=function(){};return L.prototype=F,new L},o.__objToStr=v,o.__isDate=function h(O){return"object"==typeof O&&"[object Date]"===v(O)},o.__isArray=function g(O){return"object"==typeof O&&"[object Array]"===v(O)},o.__isRegExp=function _(O){return"object"==typeof O&&"[object RegExp]"===v(O)},o.__getRegExpFlags=w,o}();ve.exports&&(ve.exports=Z)},1562:function(ve,Z){var S,H;void 0!==(H="function"==typeof(S=function(){return new function(){var o=this;o.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(q){return new Array(1+q).join(this)}},o.init();var _=/\/\*[\s\S]*?\*\//g,w=/([^\:]+):([^\;]*);/,O=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,Q=function(W){return typeof W>"u"||0==W.length||null==W};o.toJSON=function(q,W){var J={children:{},attributes:{}},de=null,_e=0;for(typeof W>"u"&&(W={ordered:!1,comments:!1,stripComments:!1,split:!1}),W.stripComments&&(W.comments=!1,q=q.replace(_,""));null!=(de=O.exec(q));)if(!Q(de[1])&&W.comments){var be=de[1].trim();J[_e++]=be}else if(Q(de[2])){if(!Q(de[3]))return J;if(!Q(de[4])){var T=de[4].trim(),X=w.exec(T);if(X){var ge=X[1].trim(),fe=X[2].trim();if(W.ordered)(A={}).name=ge,A.value=fe,A.type="attr",J[_e++]=A;else if(ge in J.attributes){var De=J.attributes[ge];De instanceof Array||(J.attributes[ge]=[De]),J.attributes[ge].push(fe)}else J.attributes[ge]=fe}else J[_e++]=T}}else{ge=de[2].trim();var x=o.toJSON(q,W);if(W.ordered){var A;(A={}).name=ge,A.value=x,A.type="rule",J[_e++]=A}else{if(W.split)var C=ge.split(",");else C=[ge];for(i in C){var I=C[i].trim();if(I in J.children)for(var $ in x.attributes)J.children[I].attributes[$]=x.attributes[$];else J.children[I]=x}}}return J},o.toCSS=function(q,W,J){var de="";if(typeof W>"u"&&(W=0),typeof J>"u"&&(J=!1),q.attributes)for(i in q.attributes){var _e=q.attributes[i];if(_e instanceof Array)for(var be=0;be<_e.length;be++)de+=Y(i,_e[be],W);else de+=Y(i,_e,W)}if(q.children){var ge=!0;for(i in q.children)J&&!ge?de+="\n":ge=!1,de+=ae(i,q.children[i],W)}return de};var Y=function(W,J,de){return"\t".repeat(de)+W+": "+J+";\n"},ae=function(W,J,de){var _e="\t".repeat(de)+W+" {\n";return(_e+=o.toCSS(J,de+1))+("\t".repeat(de)+"}\n")}}})?S.apply(Z,[]):S)&&(ve.exports=H)},6929:function(ve,Z){!function(S){"use strict";var M="function"==typeof Symbol?Symbol("curriable placeholder"):60881;function j(h,g){var _="number"==typeof g?g:h.length,w=function H(h,g){return function _(w){return function(){var Y,O=w.length,F=arguments,L=F.length,U=[],z=0,Q=g;if(O)for(var ae=-1;++ae<O;)U[ae]=Y=w[ae]===M&&z<L?F[z++]:w[ae],Y!==M&&--Q;if(z<L)for(;z<L;)U[U.length]=Y=F[z],Y!==M&&z<g&&--Q,++z;return Q>0?_(U):h.apply(this,U)}}([])}(h,_);return w.arity=_,w.fn=h,w}function o(h){return h===M}function v(h){return h.fn}j.__=M,j.isPlaceholder=o,j.uncurry=v,S.__=M,S.curry=j,S.default=j,S.isPlaceholder=o,S.uncurry=v,Object.defineProperty(S,"__esModule",{value:!0})}(Z)},3974:(ve,Z,S)=>{var M=Function.prototype.bind||S(9683);ve.exports=function H(j,o){var v=function h(){return 0===arguments.length?h:arguments.length>1?j.apply(o,arguments):M.call(j,o,arguments[0])};return v.uncurry=function(){return j},v}},2375:function(ve){ve.exports=function(){"use strict";var Z="__proto__",S=function(U,z){return z},M=function(U,z){return z.map(function(Q){return F(Q)})},H=function(U,z){if(z&&z.hasOwnProperty("__proto__")){var Q={};for(var Y in z)Y!==Z&&(Q[Y]=z[Y]);return Q}return Object.assign({},z)},w={$push:function(U,z){return U.concat(z)},$append:function(U,z){return U.concat(z)},$prepend:function(U,z){return z.concat(U)},$replace:function(U,z){var Q;return U=M(0,U),Object.keys(z).forEach(function(Y){if((Q=Number.parseInt(Y))<0||Number.isNaN(Q))throw Error("Invalid index for $replace: ".concat(Y));U[Q]=F.clone(z[Y])}),U},$merge:function(U,z){var Q;return U=U.slice(),Object.keys(z).forEach(function(Y){if((Q=Number.parseInt(Y))<0||Number.isNaN(Q))throw Error("Invalid index for $merge: ".concat(Y));U[Q]=F(U[Q],z[Y])}),U},$insert:function(U,z){var Q;return U=M(0,U),Object.keys(z).forEach(function(Y){if(Q=Number.parseInt(Y),Number.isNaN(Q))throw Error("Invalid index for $insert: ".concat(Y));U.splice(Q,0,z[Y])}),U},$set:M},O={oo:function(U,z){return U=H(0,U),Object.keys(z).forEach(function(Q){Q!==Z&&(U[Q]=F(U[Q],z[Q]))}),U},oa:H,ob:S,aa:function(U,z){return U=M(0,U),z.forEach(function(Q,Y){return U[Y]=F(U[Y],Q)}),U},ao:function(U,z){return U=M(0,U),Object.keys(z).forEach(function(Q){Q!==Z&&(U=Q in w?w[Q](U,z[Q]):z)}),U},ab:S,bb:S,bo:H,ba:M};function F(L,U){if(void 0===U){if(null==L)return L;U=Array.isArray(L)?[]:"object"==typeof L?{}:L}else if(null===U)return null;var z=Array.isArray(L)?"a":"object"==typeof L?"o":"b",Q=Array.isArray(U)?"a":"object"==typeof U?"o":"b";return O[z+Q](L,U)}return F.clone=function(L){return F(L)},F.multi=function(L){for(var U=arguments.length,z=new Array(U>1?U-1:0),Q=1;Q<U;Q++)z[Q-1]=arguments[Q];if(!z)return F(L);for(var Y=0;Y<z.length;Y++)L=F(L,z[Y]);return L},F}()},6607:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=Z.nthElement=Z.parentElements=void 0;var S=function(g){for(var _=[];g;){var w=g.nodeName.toLowerCase(),O=g.id?"#".concat(g.id):"",F="";g.className&&"string"==typeof g.className&&(F=".".concat(g.className.replace(/\s+/g,".").replace(/[:*+?^${}()|[\]\\]/gi,"\\$&"))),_.unshift({element:g,selector:w+O+F}),g=g.parentNode!==document&&g.parentNode}return _};Z.parentElements=S;var M=function(g){for(var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],w=g,O=1;null!==w.previousElementSibling;)(!_||w.previousElementSibling.nodeName===g.nodeName)&&O++,w=w.previousElementSibling;return O};Z.nthElement=M;Z.default=function(g){if(!(g instanceof HTMLElement))throw new Error("element must be of type `HTMLElement`.");return function(g){var _=[];return g.forEach(function(w){(function(g,_){var w=""===_?g:"".concat(_," > ").concat(g);return document.querySelectorAll(w).length>1})(w.selector,_.join(" > "))&&(w.selector+=":nth-of-type(".concat(M(w.element),")")),_.push(w.selector)}),_.join(" > ")}(S(g))}},1934:ve=>{var Z=Object.prototype.toString;function j(o){return o.replace(/\uffff/g,".")}ve.exports=function S(o){for(var v=-1,h=function H(o){for(var v=-1,h=o.length,g=[];++v<h;)o[v]&&g.push(o[v]);return g}(function M(o){return("[object String]"===Z.call(o)?o:"").replace(/\\\./g,"\uffff")}(o).split(".")),g=h.length,_=[];++v<g;)_.push(j(h[v]));return _}},3358:ve=>{var M,Z="object"==typeof Reflect?Reflect:null,S=Z&&"function"==typeof Z.apply?Z.apply:function(J,de,_e){return Function.prototype.apply.call(J,de,_e)};M=Z&&"function"==typeof Z.ownKeys?Z.ownKeys:Object.getOwnPropertySymbols?function(J){return Object.getOwnPropertyNames(J).concat(Object.getOwnPropertySymbols(J))}:function(J){return Object.getOwnPropertyNames(J)};var j=Number.isNaN||function(J){return J!=J};function o(){o.init.call(this)}ve.exports=o,ve.exports.once=function Y(W,J){return new Promise(function(de,_e){function be(x){W.removeListener(J,ge),_e(x)}function ge(){"function"==typeof W.removeListener&&W.removeListener("error",be),de([].slice.call(arguments))}q(W,J,ge,{once:!0}),"error"!==J&&function ae(W,J,de){"function"==typeof W.on&&q(W,"error",J,de)}(W,be,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var v=10;function h(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function g(W){return void 0===W._maxListeners?o.defaultMaxListeners:W._maxListeners}function _(W,J,de,_e){var be,ge,x;if(h(de),void 0===(ge=W._events)?(ge=W._events=Object.create(null),W._eventsCount=0):(void 0!==ge.newListener&&(W.emit("newListener",J,de.listener?de.listener:de),ge=W._events),x=ge[J]),void 0===x)x=ge[J]=de,++W._eventsCount;else if("function"==typeof x?x=ge[J]=_e?[de,x]:[x,de]:_e?x.unshift(de):x.push(de),(be=g(W))>0&&x.length>be&&!x.warned){x.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(J)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=W,A.type=J,A.count=x.length,function H(W){console&&console.warn&&console.warn(W)}(A)}return W}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(W,J,de){var _e={fired:!1,wrapFn:void 0,target:W,type:J,listener:de},be=w.bind(_e);return be.listener=de,_e.wrapFn=be,be}function F(W,J,de){var _e=W._events;if(void 0===_e)return[];var be=_e[J];return void 0===be?[]:"function"==typeof be?de?[be.listener||be]:[be]:de?function Q(W){for(var J=new Array(W.length),de=0;de<J.length;++de)J[de]=W[de].listener||W[de];return J}(be):U(be,be.length)}function L(W){var J=this._events;if(void 0!==J){var de=J[W];if("function"==typeof de)return 1;if(void 0!==de)return de.length}return 0}function U(W,J){for(var de=new Array(J),_e=0;_e<J;++_e)de[_e]=W[_e];return de}function q(W,J,de,_e){if("function"==typeof W.on)_e.once?W.once(J,de):W.on(J,de);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(J,function be(ge){_e.once&&W.removeEventListener(J,be),de(ge)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(J){if("number"!=typeof J||J<0||j(J))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+J+".");v=J}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(J){if("number"!=typeof J||J<0||j(J))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+J+".");return this._maxListeners=J,this},o.prototype.getMaxListeners=function(){return g(this)},o.prototype.emit=function(J){for(var de=[],_e=1;_e<arguments.length;_e++)de.push(arguments[_e]);var be="error"===J,ge=this._events;if(void 0!==ge)be=be&&void 0===ge.error;else if(!be)return!1;if(be){var x;if(de.length>0&&(x=de[0]),x instanceof Error)throw x;var A=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw A.context=x,A}var C=ge[J];if(void 0===C)return!1;if("function"==typeof C)S(C,this,de);else{var I=C.length,$=U(C,I);for(_e=0;_e<I;++_e)S($[_e],this,de)}return!0},o.prototype.on=o.prototype.addListener=function(J,de){return _(this,J,de,!1)},o.prototype.prependListener=function(J,de){return _(this,J,de,!0)},o.prototype.once=function(J,de){return h(de),this.on(J,O(this,J,de)),this},o.prototype.prependOnceListener=function(J,de){return h(de),this.prependListener(J,O(this,J,de)),this},o.prototype.off=o.prototype.removeListener=function(J,de){var _e,be,ge,x,A;if(h(de),void 0===(be=this._events))return this;if(void 0===(_e=be[J]))return this;if(_e===de||_e.listener===de)0==--this._eventsCount?this._events=Object.create(null):(delete be[J],be.removeListener&&this.emit("removeListener",J,_e.listener||de));else if("function"!=typeof _e){for(ge=-1,x=_e.length-1;x>=0;x--)if(_e[x]===de||_e[x].listener===de){A=_e[x].listener,ge=x;break}if(ge<0)return this;0===ge?_e.shift():function z(W,J){for(;J+1<W.length;J++)W[J]=W[J+1];W.pop()}(_e,ge),1===_e.length&&(be[J]=_e[0]),void 0!==be.removeListener&&this.emit("removeListener",J,A||de)}return this},o.prototype.removeAllListeners=function(J){var de,_e,be;if(void 0===(_e=this._events))return this;if(void 0===_e.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==_e[J]&&(0==--this._eventsCount?this._events=Object.create(null):delete _e[J]),this;if(0===arguments.length){var x,ge=Object.keys(_e);for(be=0;be<ge.length;++be)"removeListener"!==(x=ge[be])&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(de=_e[J]))this.removeListener(J,de);else if(void 0!==de)for(be=de.length-1;be>=0;be--)this.removeListener(J,de[be]);return this},o.prototype.listeners=function(J){return F(this,J,!0)},o.prototype.rawListeners=function(J){return F(this,J,!1)},o.listenerCount=function(W,J){return"function"==typeof W.listenerCount?W.listenerCount(J):L.call(W,J)},o.prototype.listenerCount=L,o.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},9683:ve=>{ve.exports=function(Z){var M,S=this;if(arguments.length<2)M=function(){if(this instanceof M){var v=S.apply(this,arguments);return Object(v)===v?v:this}return S.apply(Z,arguments)};else{for(var H=new Array(arguments.length-1),j=1;j<arguments.length;j++)H[j-1]=arguments[j];M=function(){var g,v=H.length,h=new Array(v+arguments.length);for(g=0;g<v;g++)h[g]=H[g];for(g=0;g<arguments.length;g++)h[v+g]=arguments[g];if(this instanceof M){var _=S.apply(this,h);return Object(_)===_?_:this}return S.apply(Z,h)}}return M.prototype=S.prototype,M}},2199:ve=>{var S=Array.prototype.slice,M=Object.prototype.toString;ve.exports=function(o){var v=this;if("function"!=typeof v||"[object Function]"!==M.call(v))throw new TypeError("Function.prototype.bind called on incompatible "+v);for(var g,h=S.call(arguments,1),w=Math.max(0,v.length-h.length),O=[],F=0;F<w;F++)O.push("$"+F);if(g=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof g){var z=v.apply(this,h.concat(S.call(arguments)));return Object(z)===z?z:this}return v.apply(o,h.concat(S.call(arguments)))}),v.prototype){var L=function(){};L.prototype=v.prototype,g.prototype=new L,L.prototype=null}return g}},224:(ve,Z,S)=>{var M=S(2199);ve.exports=Function.prototype.bind||M},9903:(ve,Z,S)=>{var M,H=SyntaxError,j=Function,o=TypeError,v=function(T){try{return j('"use strict"; return ('+T+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new o},_=h?function(){try{return g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,w=S(524)(),O=S(2600)(),F=Object.getPrototypeOf||(O?function($){return $.__proto__}:null),L={},U=typeof Uint8Array>"u"||!F?M:F(Uint8Array),z={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":w&&F?F([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":j,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&F?F(F([][Symbol.iterator]())):M,"%JSON%":"object"==typeof JSON?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map>"u"||!w||!F?M:F((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set>"u"||!w||!F?M:F((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&F?F(""[Symbol.iterator]()):M,"%Symbol%":w?Symbol:M,"%SyntaxError%":H,"%ThrowTypeError%":_,"%TypedArray%":U,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};if(F)try{null.error}catch($){var Q=F(F($));z["%Error.prototype%"]=Q}var Y=function $(T){var X;if("%AsyncFunction%"===T)X=v("async function () {}");else if("%GeneratorFunction%"===T)X=v("function* () {}");else if("%AsyncGeneratorFunction%"===T)X=v("async function* () {}");else if("%AsyncGenerator%"===T){var fe=$("%AsyncGeneratorFunction%");fe&&(X=fe.prototype)}else if("%AsyncIteratorPrototype%"===T){var De=$("%AsyncGenerator%");De&&F&&(X=F(De.prototype))}return z[T]=X,X},ae={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=S(224),W=S(4031),J=q.call(Function.call,Array.prototype.concat),de=q.call(Function.apply,Array.prototype.splice),_e=q.call(Function.call,String.prototype.replace),be=q.call(Function.call,String.prototype.slice),ge=q.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,I=function(T,X){var De,fe=T;if(W(ae,fe)&&(fe="%"+(De=ae[fe])[0]+"%"),W(z,fe)){var re=z[fe];if(re===L&&(re=Y(fe)),typeof re>"u"&&!X)throw new o("intrinsic "+T+" exists, but is not available. Please file an issue!");return{alias:De,name:fe,value:re}}throw new H("intrinsic "+T+" does not exist!")};ve.exports=function(T,X){if("string"!=typeof T||0===T.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof X)throw new o('"allowMissing" argument must be a boolean');if(null===ge(/^%?[^%]*%?$/,T))throw new H("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=function(T){var X=be(T,0,1),fe=be(T,-1);if("%"===X&&"%"!==fe)throw new H("invalid intrinsic syntax, expected closing `%`");if("%"===fe&&"%"!==X)throw new H("invalid intrinsic syntax, expected opening `%`");var De=[];return _e(T,x,function(re,Ne,at,Oe){De[De.length]=at?_e(Oe,A,"$1"):Ne||re}),De}(T),De=fe.length>0?fe[0]:"",re=I("%"+De+"%",X),Ne=re.name,at=re.value,Oe=!1,rt=re.alias;rt&&(De=rt[0],de(fe,J([0,1],rt)));for(var et=1,St=!0;et<fe.length;et+=1){var it=fe[et],Ve=be(it,0,1),st=be(it,-1);if(('"'===Ve||"'"===Ve||"`"===Ve||'"'===st||"'"===st||"`"===st)&&Ve!==st)throw new H("property names with quotes must have matching quotes");if(("constructor"===it||!St)&&(Oe=!0),W(z,Ne="%"+(De+="."+it)+"%"))at=z[Ne];else if(null!=at){if(!(it in at)){if(!X)throw new o("base intrinsic for "+T+" exists, but the property is not available.");return}if(h&&et+1>=fe.length){var me=h(at,it);at=(St=!!me)&&"get"in me&&!("originalValue"in me.get)?me.get:at[it]}else St=W(at,it),at=at[it];St&&!Oe&&(z[Ne]=at)}}return at}},2600:ve=>{var Z={foo:{}},S=Object;ve.exports=function(){return{__proto__:Z}.foo===Z.foo&&!({__proto__:null}instanceof S)}},524:(ve,Z,S)=>{var M=typeof Symbol<"u"&&Symbol,H=S(6858);ve.exports=function(){return"function"==typeof M&&"function"==typeof Symbol&&"symbol"==typeof M("foo")&&"symbol"==typeof Symbol("bar")&&H()}},6858:ve=>{ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var S={},M=Symbol("test"),H=Object(M);if("string"==typeof M||"[object Symbol]"!==Object.prototype.toString.call(M)||"[object Symbol]"!==Object.prototype.toString.call(H))return!1;for(M in S[M]=42,S)return!1;if("function"==typeof Object.keys&&0!==Object.keys(S).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(S).length)return!1;var o=Object.getOwnPropertySymbols(S);if(1!==o.length||o[0]!==M||!Object.prototype.propertyIsEnumerable.call(S,M))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var v=Object.getOwnPropertyDescriptor(S,M);if(42!==v.value||!0!==v.enumerable)return!1}return!0}},4031:(ve,Z,S)=>{var M=S(224);ve.exports=M.call(Function.call,Object.prototype.hasOwnProperty)},8288:(ve,Z,S)=>{S.r(Z),S.d(Z,{default:()=>St,hash:()=>et});var H,j,o,v,M=S(6929),h=typeof Buffer<"u"&&"function"==typeof Buffer.from,g="function"==typeof Uint16Array,_=/\[object (HTML(.*)Element)\]/,w=/\[object (SVG(.*)Element)\]/,F=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"].reduce(function(it,Ve){return it["[object "+Ve+"]"]=Ve,it},{}),L=Object.keys(F).reduce(function(it,Ve){return it[F[Ve].toUpperCase()]=Ve,it},{}),U={"[object Map]":!0,"[object Set]":!0},z={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},Q=((H={})[L.ARGUMENTS]=!0,H[L.ARRAY]=!0,H),Y=((j={})[L.REGEXP]=!0,j[L.SYMBOL]=!0,j),ae=((o={})[L.FLOAT32ARRAY]=!0,o[L.FLOAT64ARRAY]=!0,o[L.INT8ARRAY]=!0,o[L.INT16ARRAY]=!0,o[L.INT32ARRAY]=!0,o[L.UINT8ARRAY]=!0,o[L.UINT8CLAMPEDARRAY]=!0,o[L.UINT16ARRAY]=!0,o[L.UINT32ARRAY]=!0,o),q=((v={})[L.GENERATOR]=!0,v[L.PROMISE]=!0,v[L.WEAKMAP]=!0,v[L.WEAKSET]=!0,v),W=/^\s*function\s*([^(]*)/i,J=Object.prototype.toString,de=Object.keys;function x(it,Ve){return it>Ve}function A(it,Ve){return it[0]>Ve[0]}function C(it,Ve){for(var st,me,ee=0;ee<it.length;++ee){for(me=it[ee],st=ee-1;~st&&Ve(it[st],me);--st)it[st+1]=it[st];it[st+1]=me}return it}var De=h?function X(it){return Buffer.from(it).toString("utf8")}:g?function T(it){return String.fromCharCode.apply(null,new Uint16Array(it))}:function fe(){return""};function Ne(it,Ve){for(var st=0;st<it.length;++st)if(it[st]===Ve)return st+1;return 0}function at(it,Ve,st,me){if(void 0===me){var ee=typeof it;if("string"===ee||z[ee])return ee+"|"+it;if(null===it)return"null|"+it}var se=me||J.call(it);return Q[se]?it:se===L.OBJECT?function $(it){for(var me,Ve=C(de(it),x),st={},ee=0;ee<Ve.length;++ee)st[me=Ve[ee]]=it[me];return st}(it):Y[se]?F[se]+"|"+it.toString():U[se]?function I(it,Ve,st){var me="function"==typeof it.get,ee=[];me?(it.forEach(function(Ce,dt){ee.push([rt(dt,Ve,st),rt(Ce,Ve,st)])}),C(ee,A)):(it.forEach(function(Ce){ee.push(rt(Ce,Ve,st))}),C(ee,x));for(var pe,se=function _e(it){return it.name||(it.toString().match(W)||[])[1]||"anonymous"}(it.constructor)+"|[",Re=0,Ze=ee.length;Re<Ze;++Re)pe=ee[Re],se+=(Re?",":"")+(me?"["+pe[0]+","+pe[1]+"]":pe);return se+"]"}(it,Ve,st):se===L.DATE?F[se]+"|"+it.getTime():se===L.ERROR?F[se]+"|"+it.stack:se===L.EVENT?function ge(it){return{bubbles:it.bubbles,cancelBubble:it.cancelBubble,cancelable:it.cancelable,composed:it.composed,currentTarget:it.currentTarget,defaultPrevented:it.defaultPrevented,eventPhase:it.eventPhase,isTrusted:it.isTrusted,returnValue:it.returnValue,target:it.target,type:it.type}}(it):q[se]?F[se]+"|NOT_ENUMERABLE":_.test(se)||w.test(se)?se.slice(8,-1)+"|"+it.outerHTML:se===L.DOCUMENTFRAGMENT?F[se]+"|"+function re(it){for(var Ve=it.children,st="",me=0;me<Ve.length;++me)st+=Ve[me].outerHTML;return st}(it):ae[se]?F[se]+"|"+it.join(","):se===L.ARRAYBUFFER?F[se]+"|"+De(it):se===L.DATAVIEW?F[se]+"|"+De(it.buffer):it}function rt(it,Ve,st){if(!it||"object"!=typeof it)return at(it,Ve,st);var me=J.call(it);return me===L.DATE||me===L.REGEXP?at(it,Ve,st,me):JSON.stringify(it,function Oe(it,Ve){return void 0===it&&(it=[]),void 0===Ve&&(Ve=[]),function(st,me){if("object"==typeof me)if(it.length){var ee=Ne(it,this);0===ee?it.push(this):(it.splice(ee),Ve.splice(ee)),Ve.push(st);var se=Ne(it,me);if(0!==se)return"[~"+(Ve.slice(0,se).join(".")||".")+"]";it.push(me)}else it[0]=me,Ve[0]=st;return st&&this[st]instanceof Date?at(this[st],it,Ve,L.DATE):at(me,it,Ve)}}(Ve,st))}function et(it){return function be(it){for(var ee,Ve=it.length,st=5381,me=52711;Ve--;)st=33*st^(ee=it.charCodeAt(Ve)),me=33*me^ee;return 4096*(st>>>0)+(me>>>0)}(rt(it))}(et.is=(0,M.curry)(function(it,Ve){return et(it)===et(Ve)})).all=(0,M.curry)(function(it){for(var Ve=et.is(it),st=1;st<arguments.length;++st)if(!Ve(arguments[st]))return!1;return!0},2),et.is.any=(0,M.curry)(function(it){for(var Ve=et.is(it),st=1;st<arguments.length;st++)if(Ve(arguments[st]))return!0;return!1},2),et.is.not=(0,M.curry)(function(it,Ve){return et(it)!==et(Ve)});const St=et},4920:(ve,Z)=>{Z.read=function(S,M,H,j,o){var v,h,g=8*o-j-1,_=(1<<g)-1,w=_>>1,O=-7,F=H?o-1:0,L=H?-1:1,U=S[M+F];for(F+=L,v=U&(1<<-O)-1,U>>=-O,O+=g;O>0;v=256*v+S[M+F],F+=L,O-=8);for(h=v&(1<<-O)-1,v>>=-O,O+=j;O>0;h=256*h+S[M+F],F+=L,O-=8);if(0===v)v=1-w;else{if(v===_)return h?NaN:1/0*(U?-1:1);h+=Math.pow(2,j),v-=w}return(U?-1:1)*h*Math.pow(2,v-j)},Z.write=function(S,M,H,j,o,v){var h,g,_,w=8*v-o-1,O=(1<<w)-1,F=O>>1,L=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,U=j?0:v-1,z=j?1:-1,Q=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(g=isNaN(M)?1:0,h=O):(h=Math.floor(Math.log(M)/Math.LN2),M*(_=Math.pow(2,-h))<1&&(h--,_*=2),(M+=h+F>=1?L/_:L*Math.pow(2,1-F))*_>=2&&(h++,_/=2),h+F>=O?(g=0,h=O):h+F>=1?(g=(M*_-1)*Math.pow(2,o),h+=F):(g=M*Math.pow(2,F-1)*Math.pow(2,o),h=0));o>=8;S[H+U]=255&g,U+=z,g/=256,o-=8);for(h=h<<o|g,w+=o;w>0;S[H+U]=255&h,U+=z,h/=256,w-=8);S[H+U-z]|=128*Q}},5035:ve=>{ve.exports="function"==typeof Object.create?function(S,M){M&&(S.super_=M,S.prototype=Object.create(M.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:function(S,M){if(M){S.super_=M;var H=function(){};H.prototype=M.prototype,S.prototype=new H,S.prototype.constructor=S}}},7478:(ve,Z,S)=>{var M,H,j;void 0!==(H="function"==typeof(M=j=function(){function j(){for(var h=0,g={};h<arguments.length;h++){var _=arguments[h];for(var w in _)g[w]=_[w]}return g}function o(h){return h.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function v(h){function g(){}function _(O,F,L){if(!(typeof document>"u")){"number"==typeof(L=j({path:"/"},g.defaults,L)).expires&&(L.expires=new Date(1*new Date+864e5*L.expires)),L.expires=L.expires?L.expires.toUTCString():"";try{var U=JSON.stringify(F);/^[\{\[]/.test(U)&&(F=U)}catch{}F=h.write?h.write(F,O):encodeURIComponent(String(F)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),O=encodeURIComponent(String(O)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var z="";for(var Q in L)L[Q]&&(z+="; "+Q,!0!==L[Q]&&(z+="="+L[Q].split(";")[0]));return document.cookie=O+"="+F+z}}function w(O,F){if(!(typeof document>"u")){for(var L={},U=document.cookie?document.cookie.split("; "):[],z=0;z<U.length;z++){var Q=U[z].split("="),Y=Q.slice(1).join("=");!F&&'"'===Y.charAt(0)&&(Y=Y.slice(1,-1));try{var ae=o(Q[0]);if(Y=(h.read||h)(Y,ae)||o(Y),F)try{Y=JSON.parse(Y)}catch{}if(L[ae]=Y,O===ae)break}catch{}}return O?L[O]:L}}return g.set=_,g.get=function(O){return w(O,!1)},g.getJSON=function(O){return w(O,!0)},g.remove=function(O,F){_(O,"",j(F,{expires:-1}))},g.defaults={},g.withConverter=v,g}(function(){})})?M.call(Z,S,Z,ve):M)&&(ve.exports=H),ve.exports=j()},3909:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},H=function(){function z(Q,Y){for(var ae=0;ae<Y.length;ae++){var q=Y[ae];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,Y,ae){return Y&&z(Q.prototype,Y),ae&&z(Q,ae),Q}}(),o=F(S(1035)),v=S(9492),g=F(S(7416)),_=S(4567),O=F(S(7726));function F(z){return z&&z.__esModule?z:{default:z}}var U=function(){function z(Q){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var q in function L(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,z),this.factMap=new Map(Q),this.factResultsCache=new Map,this.allowUndefinedFacts=!!ae.allowUndefinedFacts,Y){var W;W=Y[q]instanceof o.default?Y[q]:new o.default(q,Y[q]),this._addConstantFact(W),(0,g.default)("almanac::constructor initialized runtime fact:"+W.id+" with "+W.value+"<"+M(W.value)+">")}}return H(z,[{key:"_getFact",value:function(Y){return this.factMap.get(Y)}},{key:"_addConstantFact",value:function(Y){this.factMap.set(Y.id,Y),this._setFactValue(Y,{},Y.value)}},{key:"_setFactValue",value:function(Y,ae,q){var W=Y.getCacheKey(ae),J=Promise.resolve(q);return W&&this.factResultsCache.set(W,J),J}},{key:"addRuntimeFact",value:function(Y,ae){(0,g.default)("almanac::addRuntimeFact id:"+Y);var q=new o.default(Y,ae);return this._addConstantFact(q)}},{key:"factValue",value:function(Y){var ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",W=void 0,J=this._getFact(Y);if(void 0===J)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new v.UndefinedFactError("Undefined fact: "+Y));if(J.isConstant())W=Promise.resolve(J.calculate(ae,this));else{var de=J.getCacheKey(ae),_e=de&&this.factResultsCache.get(de);_e?(W=Promise.resolve(_e),(0,g.default)("almanac::factValue cache hit for fact:"+Y)):((0,g.default)("almanac::factValue cache miss for fact:"+Y+"; calculating"),W=this._setFactValue(J,ae,J.calculate(ae,this)))}if(q){if("string"==typeof q&&q.startsWith("$"))return(0,g.default)("condition::evaluate extracting object property "+q),W.then(function(ge){if((0,O.default)(ge)){var x=(0,_.JSONPath)({path:q,json:ge,wrap:!1});return(0,g.default)("condition::evaluate extracting object property "+q+", received: "+x),x}return(0,g.default)("condition::evaluate could not compute object path("+q+") of non-object: "+ge+" <"+(typeof ge>"u"?"undefined":M(ge))+">; continuing with "+ge),ge});var be=void 0;try{be=S(7559)}catch{throw console.error('Oops! Looks like you\'re trying to use the deprecated syntax for the ".path" property.'),console.error('Please convert your "path" properties to JsonPath syntax (ensure your path starts with "$")'),console.error('Alternatively, if you wish to continue using old syntax (provided by selectn), you may "npm install selectn" as a direct dependency.'),console.error("See https://github.com/CacheControl/json-rules-engine/blob/master/CHANGELOG.md#500--2019-10-27 for more information."),new Error('json-rules-engine: Unmet peer dependency "selectn" required for use of deprecated ".path" syntax. please "npm install selectn" or convert to json-path syntax')}return W.then(function(ge){if((0,O.default)(ge)){var x=be(q)(ge);return(0,g.default)("condition::evaluate extracting object property "+q+", received: "+x),x}return(0,g.default)("condition::evaluate could not compute object path("+q+") of non-object: "+ge+" <"+(typeof ge>"u"?"undefined":M(ge))+">; continuing with "+ge),ge})}return W}}]),z}();Z.default=U},7396:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=function(){function w(O,F){for(var L=0;L<F.length;L++){var U=F[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,F,L){return F&&w(O.prototype,F),L&&w(O,L),O}}(),j=h(S(7416)),v=h(S(7726));function h(w){return w&&w.__esModule?w:{default:w}}var _=function(){function w(O){if(function g(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,w),!O)throw new Error("Condition: constructor options required");var F=w.booleanOperator(O);if(Object.assign(this,O),F){var L=O[F];if(!Array.isArray(L))throw new Error('"'+F+'" must be an array');this.operator=F,this.priority=parseInt(O.priority,10)||1,this[F]=L.map(function(U){return new w(U)})}else{if(!Object.prototype.hasOwnProperty.call(O,"fact"))throw new Error('Condition: constructor "fact" property required');if(!Object.prototype.hasOwnProperty.call(O,"operator"))throw new Error('Condition: constructor "operator" property required');if(!Object.prototype.hasOwnProperty.call(O,"value"))throw new Error('Condition: constructor "value" property required');Object.prototype.hasOwnProperty.call(O,"priority")&&(O.priority=parseInt(O.priority,10))}}return M(w,[{key:"toJSON",value:function(){var F=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],L={};this.priority&&(L.priority=this.priority);var U=w.booleanOperator(this);return U?L[U]=this[U].map(function(z){return z.toJSON(F)}):(L.operator=this.operator,L.value=this.value,L.fact=this.fact,void 0!==this.factResult&&(L.factResult=this.factResult),void 0!==this.result&&(L.result=this.result),this.params&&(L.params=this.params),this.path&&(L.path=this.path)),F?JSON.stringify(L):L}},{key:"_getValue",value:function(F){var L=this.value;return(0,v.default)(L)&&Object.prototype.hasOwnProperty.call(L,"fact")?F.factValue(L.fact,L.params,L.path):Promise.resolve(L)}},{key:"evaluate",value:function(F,L){var U=this;if(!F)return Promise.reject(new Error("almanac required"));if(!L)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var z=L.get(this.operator);return z?this._getValue(F).then(function(Q){return F.factValue(U.fact,U.params,U.path).then(function(Y){var ae=z.evaluate(Y,Q);return(0,j.default)("condition::evaluate <"+Y+" "+U.operator+" "+Q+"?> ("+ae+")"),{result:ae,leftHandSideValue:Y,rightHandSideValue:Q,operator:U.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return w.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return void 0!==w.booleanOperator(this)}}],[{key:"booleanOperator",value:function(F){return Object.prototype.hasOwnProperty.call(F,"any")?"any":Object.prototype.hasOwnProperty.call(F,"all")?"all":void 0}}]),w}();Z.default=_},7416:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=function S(M){try{(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(M)}catch{}}},4934:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var H=function j(h){return h&&h.__esModule?h:{default:h}}(S(8640)),o=[];function v(h){return"NaN"!==Number.parseFloat(h).toString()}o.push(new H.default("equal",function(h,g){return h===g})),o.push(new H.default("notEqual",function(h,g){return h!==g})),o.push(new H.default("in",function(h,g){return g.indexOf(h)>-1})),o.push(new H.default("notIn",function(h,g){return-1===g.indexOf(h)})),o.push(new H.default("contains",function(h,g){return h.indexOf(g)>-1},Array.isArray)),o.push(new H.default("doesNotContain",function(h,g){return-1===h.indexOf(g)},Array.isArray)),o.push(new H.default("lessThan",function(h,g){return h<g},v)),o.push(new H.default("lessThanInclusive",function(h,g){return h<=g},v)),o.push(new H.default("greaterThan",function(h,g){return h>g},v)),o.push(new H.default("greaterThanInclusive",function(h,g){return h>=g},v)),Z.default=o},4307:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SuccessEventFact=function(){var H=[];return function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j.event&&H.push(j.event),H}}},7386:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.FINISHED=Z.RUNNING=Z.READY=void 0;var M=function(){function ge(x,A){for(var C=0;C<A.length;C++){var I=A[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,A,C){return A&&ge(x.prototype,A),C&&ge(x,C),x}}(),j=Y(S(1035)),v=Y(S(8847)),g=Y(S(8640)),w=Y(S(3909)),O=S(3358),F=S(4307),U=Y(S(4934)),Q=Y(S(7416));function Y(ge){return ge&&ge.__esModule?ge:{default:ge}}var J=Z.READY="READY",de=Z.RUNNING="RUNNING",_e=Z.FINISHED="FINISHED",be=function(ge){function x(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function ae(ge,x){if(!(ge instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var I=function q(ge,x){if(!ge)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?ge:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return I.rules=[],I.allowUndefinedFacts=C.allowUndefinedFacts||!1,I.operators=new Map,I.facts=new Map,I.status=J,A.map(function($){return I.addRule($)}),U.default.map(function($){return I.addOperator($)}),I}return function W(ge,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);ge.prototype=Object.create(x&&x.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(ge,x):ge.__proto__=x)}(x,ge),M(x,[{key:"addRule",value:function(C){if(!C)throw new Error("Engine: addRule() requires options");if(!Object.prototype.hasOwnProperty.call(C,"conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!Object.prototype.hasOwnProperty.call(C,"event"))throw new Error('Engine: addRule() argument requires "event" property');var I=void 0;return(I=C instanceof v.default?C:new v.default(C)).setEngine(this),this.rules.push(I),this.prioritizedRules=null,this}},{key:"removeRule",value:function(C){if(!(C instanceof v.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var I=this.rules.indexOf(C);return-1!==I&&(this.prioritizedRules=null,!!this.rules.splice(I,1).length)}},{key:"addOperator",value:function(C,I){var $;$=C instanceof g.default?C:new g.default(C,I),(0,Q.default)("engine::addOperator name:"+$.name),this.operators.set($.name,$)}},{key:"removeOperator",value:function(C){return this.operators.delete(C instanceof g.default?C.name:C)}},{key:"addFact",value:function(C,I,$){var T=C,X=void 0;return C instanceof j.default?(T=C.id,X=C):X=new j.default(C,I,$),(0,Q.default)("engine::addFact id:"+T),this.facts.set(T,X),this}},{key:"removeFact",value:function(C){return this.facts.delete(C instanceof j.default?C.id:C)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var C=this.rules.reduce(function(I,$){var T=$.priority;return I[T]||(I[T]=[]),I[T].push($),I},{});this.prioritizedRules=Object.keys(C).sort(function(I,$){return Number(I)>Number($)?-1:1}).map(function(I){return C[I]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=_e,this}},{key:"getFact",value:function(C){return this.facts.get(C)}},{key:"evaluateRules",value:function(C,I){var $=this;return Promise.all(C.map(function(T){if($.status===de)return T.evaluate(I).then(function(X){(0,Q.default)("engine::run ruleResult:"+X.result),X.result?($.emit("success",T.event,I,X),$.emit(T.event.type,T.event.params,I,X),I.factValue("success-events",{event:T.event})):$.emit("failure",T.event,I,X)});(0,Q.default)("engine::run status:"+$.status+"; skipping remaining rules")}))}},{key:"run",value:function(){var C=this,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Q.default)("engine::run started"),(0,Q.default)("engine::run runtimeFacts:",I),I["success-events"]=new j.default("success-events",(0,F.SuccessEventFact)(),{cache:!1}),this.status=de;var $=new w.default(this.facts,I,{allowUndefinedFacts:this.allowUndefinedFacts}),T=this.prioritizeRules(),X=Promise.resolve();return new Promise(function(fe,De){T.map(function(re){return X=X.then(function(){return C.evaluateRules(re,$)}).catch(De)}),X.then(function(){return C.status=_e,(0,Q.default)("engine::run completed"),$.factValue("success-events")}).then(function(re){fe({events:re,almanac:$})}).catch(De)})}}]),x}(O.EventEmitter);Z.default=be},9492:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.UndefinedFactError=function(o){function v(){var h;!function S(o,v){if(!(o instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);for(var g=arguments.length,_=Array(g),w=0;w<g;w++)_[w]=arguments[w];var O=function M(o,v){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?o:v}(this,(h=v.__proto__||Object.getPrototypeOf(v)).call.apply(h,[this].concat(_)));return O.code="UNDEFINED_FACT",O}return function H(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);o.prototype=Object.create(v&&v.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(o,v):o.__proto__=v)}(v,Error),v}()},1035:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=function(){function g(_,w){for(var O=0;O<w.length;O++){var F=w[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}return function(_,w,O){return w&&g(_.prototype,w),O&&g(_,O),_}}(),j=function o(g){return g&&g.__esModule?g:{default:g}}(S(8288)),h=function(){function g(_,w,O){(function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=_;var F={cache:!0};if(typeof O>"u"&&(O=F),"function"!=typeof w?(this.value=w,this.type=this.constructor.CONSTANT):(this.calculationMethod=w,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");return this.priority=parseInt(O.priority||1,10),this.options=Object.assign({},F,O),this.cacheKeyMethod=this.defaultCacheKeys,this}return M(g,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(w,O){return Object.prototype.hasOwnProperty.call(this,"value")?this.value:this.calculationMethod(w,O)}},{key:"defaultCacheKeys",value:function(w,O){return{params:O,id:w}}},{key:"getCacheKey",value:function(w){if(!0===this.options.cache){var O=this.cacheKeyMethod(this.id,w);return g.hashFromObject(O)}}}],[{key:"hashFromObject",value:function(w){return(0,j.default)(w)}}]),g}();h.CONSTANT="CONSTANT",h.DYNAMIC="DYNAMIC",Z.default=h},78:(ve,Z,S)=>{ve.exports=S(1412)},1412:(ve,Z,S)=>{Z.Engine=Z.Rule=void 0;var j=O(S(7386)),g=(O(S(1035)),O(S(8847)));O(S(8640));function O(F){return F&&F.__esModule?F:{default:F}}Z.Rule=g.default,Z.Engine=j.default},8640:(ve,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0});var S=function(){function j(o,v){for(var h=0;h<v.length;h++){var g=v[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}return function(o,v,h){return v&&j(o.prototype,v),h&&j(o,h),o}}(),H=function(){function j(o,v,h){if(function M(j,o){if(!(j instanceof o))throw new TypeError("Cannot call a class as a function")}(this,j),this.name=String(o),!o)throw new Error("Missing operator name");if("function"!=typeof v)throw new Error("Missing operator callback");this.cb=v,this.factValueValidator=h,this.factValueValidator||(this.factValueValidator=function(){return!0})}return S(j,[{key:"evaluate",value:function(v,h){return this.factValueValidator(v)&&this.cb(v,h)}}]),j}();Z.default=H},2747:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=function(){function g(_,w){for(var O=0;O<w.length;O++){var F=w[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}return function(_,w,O){return w&&g(_.prototype,w),O&&g(_,O),_}}(),j=function o(g){return g&&g.__esModule?g:{default:g}}(S(5482)),h=function(){function g(_,w,O,F){(function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,g),this.conditions=(0,j.default)(_),this.event=(0,j.default)(w),this.priority=(0,j.default)(O),this.name=(0,j.default)(F),this.result=null}return M(g,[{key:"setResult",value:function(w){this.result=w}},{key:"toJSON",value:function(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],O={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return w?JSON.stringify(O):O}}]),g}();Z.default=h},8847:(ve,Z,S)=>{Object.defineProperty(Z,"__esModule",{value:!0});var M=function(){function z(Q,Y){for(var ae=0;ae<Y.length;ae++){var q=Y[ae];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,Y,ae){return Y&&z(Q.prototype,Y),ae&&z(Q,ae),Q}}(),j=w(S(7396)),v=w(S(2747)),h=S(3358),_=w(S(7416));function w(z){return z&&z.__esModule?z:{default:z}}var U=function(z){function Q(Y){!function O(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,Q);var ae=function F(z,Q){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Q||"object"!=typeof Q&&"function"!=typeof Q?z:Q}(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this));return"string"==typeof Y&&(Y=JSON.parse(Y)),Y&&Y.conditions&&ae.setConditions(Y.conditions),Y&&Y.onSuccess&&ae.on("success",Y.onSuccess),Y&&Y.onFailure&&ae.on("failure",Y.onFailure),Y&&(Y.name||0===Y.name)&&ae.setName(Y.name),ae.setPriority(Y&&Y.priority||1),ae.setEvent(Y&&Y.event||{type:"unknown"}),ae}return function L(z,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);z.prototype=Object.create(Q&&Q.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(z,Q):z.__proto__=Q)}(Q,z),M(Q,[{key:"setPriority",value:function(ae){if((ae=parseInt(ae,10))<=0)throw new Error("Priority must be greater than zero");return this.priority=ae,this}},{key:"setName",value:function(ae){if(!ae&&0!==ae)throw new Error('Rule "name" must be defined');return this.name=ae,this}},{key:"setConditions",value:function(ae){if(!Object.prototype.hasOwnProperty.call(ae,"all")&&!Object.prototype.hasOwnProperty.call(ae,"any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new j.default(ae),this}},{key:"setEvent",value:function(ae){if(!ae)throw new Error("Rule: setEvent() requires event object");if(!Object.prototype.hasOwnProperty.call(ae,"type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:ae.type},ae.params&&(this.event.params=ae.params),this}},{key:"setEngine",value:function(ae){return this.engine=ae,this}},{key:"toJSON",value:function(){var ae=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],q={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return ae?JSON.stringify(q):q}},{key:"prioritizeConditions",value:function(ae){var q=this,W=ae.reduce(function(J,de){var _e=de.priority;if(!_e){var be=q.engine.getFact(de.fact);_e=be&&be.priority||1}return J[_e]||(J[_e]=[]),J[_e].push(de),J},{});return Object.keys(W).sort(function(J,de){return Number(J)>Number(de)?-1:1}).map(function(J){return W[J]})}},{key:"evaluate",value:function(ae){var q=this,W=new v.default(this.conditions,this.event,this.priority,this.name),_e=function(C,I){if(0===C.length)return Promise.resolve(!0);var $=Array.prototype.some;"all"===I&&($=Array.prototype.every);for(var T=q.prioritizeConditions(C),X=Promise.resolve(),fe=function(Ne){var at=T[Ne],Oe=!1;X=X.then(function(rt){return"any"===I&&!0===rt||Oe?((0,_.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),Oe=!0,!0):"all"===I&&!1===rt||Oe?((0,_.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),Oe=!0,!1):function(C,I){return Array.isArray(C)||(C=[C]),Promise.all(C.map(function($){return function(C){if(C.isBooleanOperator()){var I=C[C.operator];return("all"===C.operator?ge(I):be(I)).then(function(T){var X=!0===T;return C.result=X,X})}return C.evaluate(ae,q.engine.operators).then(function(T){var X=T.result;return C.factResult=T.leftHandSideValue,C.result=X,X})}($)})).then(function($){return(0,_.default)("rule::evaluateConditions results",$),I.call($,function(T){return!0===T})})}(at,$)})},De=0;De<T.length;De++)fe(De);return X},be=function(C){return _e(C,"any")},ge=function(C){return _e(C,"all")},x=function(C){return W.setResult(C),q.emit(C?"success":"failure",W.event,ae,W),W};return W.conditions.any?be(W.conditions.any).then(function(A){return x(A)}):ge(W.conditions.all).then(function(A){return x(A)})}}]),Q}(h.EventEmitter);Z.default=U},4567:(ve,Z,S)=>{function M(I){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(I)}function o(I){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(I)}function v(I,$){return(v=Object.setPrototypeOf||function(X,fe){return X.__proto__=fe,X})(I,$)}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function g(I,$,T){return(g=h()?Reflect.construct:function(fe,De,re){var Ne=[null];Ne.push.apply(Ne,De);var Oe=new(Function.bind.apply(fe,Ne));return re&&v(Oe,re.prototype),Oe}).apply(null,arguments)}function w(I){var $="function"==typeof Map?new Map:void 0;return w=function(X){if(null===X||!function _(I){return-1!==Function.toString.call(I).indexOf("[native code]")}(X))return X;if("function"!=typeof X)throw new TypeError("Super expression must either be null or a function");if(typeof $<"u"){if($.has(X))return $.get(X);$.set(X,fe)}function fe(){return g(X,arguments,o(this).constructor)}return fe.prototype=Object.create(X.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),v(fe,X)},w(I)}function U(I){return function z(I){if(Array.isArray(I))return ae(I)}(I)||function Q(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}(I)||Y(I)||function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(I,$){if(I){if("string"==typeof I)return ae(I,$);var T=Object.prototype.toString.call(I).slice(8,-1);if("Object"===T&&I.constructor&&(T=I.constructor.name),"Map"===T||"Set"===T)return Array.from(T);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return ae(I,$)}}function ae(I,$){(null==$||$>I.length)&&($=I.length);for(var T=0,X=new Array($);T<$;T++)X[T]=I[T];return X}S.r(Z),S.d(Z,{JSONPath:()=>C});var de=Object.prototype.hasOwnProperty,be=(C.nodeVMSupported=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}())?S(6989):{runInNewContext:function($,T){var X=Object.keys(T),fe=[];!function($,T,X){for(var fe=$.length,De=0;De<fe;De++)X($[De])&&T.push($.splice(De--,1)[0])}(X,fe,function(Oe){return"function"==typeof T[Oe]});var De=X.map(function(Oe,rt){return T[Oe]});!($=fe.reduce(function(Oe,rt){var et=T[rt].toString();return/function/.test(et)||(et="function "+et),"var "+rt+"="+et+";"+Oe},"")+$).match(/(["'])use strict\1/)&&!X.includes("arguments")&&($="var arguments = undefined;"+$);var Ne=($=$.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),at=Ne>-1?$.slice(0,Ne+1)+" return "+$.slice(Ne+1):" return "+$;return g(Function,U(X).concat([at])).apply(void 0,U(De))}};function ge(I,$){return(I=I.slice()).push($),I}function x(I,$){return($=$.slice()).unshift(I),$}var A=function(I){!function j(I,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create($&&$.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),$&&v(I,$)}(T,I);var $=function L(I){return function(){var T,$=o(I);if(h()){var X=o(this).constructor;T=Reflect.construct($,arguments,X)}else T=$.apply(this,arguments);return function F(I,$){return!$||"object"!=typeof $&&"function"!=typeof $?function O(I){if(void 0===I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}(I):$}(this,T)}}(T);function T(X){var fe;return function H(I,$){if(!(I instanceof $))throw new TypeError("Cannot call a class as a function")}(this,T),(fe=$.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,fe.value=X,fe.name="NewError",fe}return T}(w(Error));function C(I,$,T,X,fe){if(!(this instanceof C))try{return new C(I,$,T,X,fe)}catch(at){if(!at.avoidNew)throw at;return at.value}"string"==typeof I&&(fe=X,X=T,T=$,$=I,I=null);var De=I&&"object"===M(I);if(this.json=(I=I||{}).json||T,this.path=I.path||$,this.resultType=I.resultType||"value",this.flatten=I.flatten||!1,this.wrap=!de.call(I,"wrap")||I.wrap,this.sandbox=I.sandbox||{},this.preventEval=I.preventEval||!1,this.parent=I.parent||null,this.parentProperty=I.parentProperty||null,this.callback=I.callback||X||null,this.otherTypeCallback=I.otherTypeCallback||fe||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==I.autostart){var re={path:De?I.path:$};De?"json"in I&&(re.json=I.json):re.json=T;var Ne=this.evaluate(re);if(!Ne||"object"!==M(Ne))throw new A(Ne);return Ne}}C.prototype.evaluate=function(I,$,T,X){var fe=this,De=this.parent,re=this.parentProperty,Ne=this.flatten,at=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,T=T||this.callback,this.currOtherTypeCallback=X||this.otherTypeCallback,$=$||this.json,(I=I||this.path)&&"object"===M(I)&&!Array.isArray(I)){if(!I.path&&""!==I.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!de.call(I,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');$=I.json,Ne=de.call(I,"flatten")?I.flatten:Ne,this.currResultType=de.call(I,"resultType")?I.resultType:this.currResultType,this.currSandbox=de.call(I,"sandbox")?I.sandbox:this.currSandbox,at=de.call(I,"wrap")?I.wrap:at,this.currPreventEval=de.call(I,"preventEval")?I.preventEval:this.currPreventEval,T=de.call(I,"callback")?I.callback:T,this.currOtherTypeCallback=de.call(I,"otherTypeCallback")?I.otherTypeCallback:this.currOtherTypeCallback,De=de.call(I,"parent")?I.parent:De,re=de.call(I,"parentProperty")?I.parentProperty:re,I=I.path}if(De=De||null,re=re||null,Array.isArray(I)&&(I=C.toPathString(I)),(I||""===I)&&$){this._obj=$;var rt=C.toPathArray(I);"$"===rt[0]&&rt.length>1&&rt.shift(),this._hasParentSelector=null;var et=this._trace(rt,$,["$"],De,re,T).filter(function(St){return St&&!St.isParentSelector});return et.length?at||1!==et.length||et[0].hasArrExpr?et.reduce(function(St,it){var Ve=fe._getPreferredOutput(it);return Ne&&Array.isArray(Ve)?St=St.concat(Ve):St.push(Ve),St},[]):this._getPreferredOutput(et[0]):at?[]:void 0}},C.prototype._getPreferredOutput=function(I){var $=this.currResultType;switch($){default:throw new TypeError("Unknown result type");case"all":var T=Array.isArray(I.path)?I.path:C.toPathArray(I.path);return I.pointer=C.toPointer(T),I.path="string"==typeof I.path?I.path:C.toPathString(I.path),I;case"value":case"parent":case"parentProperty":return I[$];case"path":return C.toPathString(I[$]);case"pointer":return C.toPointer(I.path)}},C.prototype._handleCallback=function(I,$,T){if($){var X=this._getPreferredOutput(I);I.path="string"==typeof I.path?I.path:C.toPathString(I.path),$(X,T,I)}},C.prototype._trace=function(I,$,T,X,fe,De,re,Ne){var at,Oe=this;if(!I.length)return this._handleCallback(at={path:T,value:$,parent:X,parentProperty:fe,hasArrExpr:re},De,"value"),at;var rt=I[0],et=I.slice(1),St=[];function it(ce){Array.isArray(ce)?ce.forEach(function(Fe){St.push(Fe)}):St.push(ce)}if(("string"!=typeof rt||Ne)&&$&&de.call($,rt))it(this._trace(et,$[rt],ge(T,rt),$,rt,De,re));else if("*"===rt)this._walk(rt,et,$,T,X,fe,De,function(ce,Fe,ut,Nt,Mt,Wt,mn,tn){it(Oe._trace(x(ce,ut),Nt,Mt,Wt,mn,tn,!0,!0))});else if(".."===rt)it(this._trace(et,$,T,X,fe,De,re)),this._walk(rt,et,$,T,X,fe,De,function(ce,Fe,ut,Nt,Mt,Wt,mn,tn){"object"===M(Nt[ce])&&it(Oe._trace(x(Fe,ut),Nt[ce],ge(Mt,ce),Nt,ce,tn,!0))});else{if("^"===rt)return this._hasParentSelector=!0,{path:T.slice(0,-1),expr:et,isParentSelector:!0};if("~"===rt)return at={path:ge(T,rt),value:fe,parent:X,parentProperty:null},this._handleCallback(at,De,"property"),at;if("$"===rt)it(this._trace(et,$,T,null,null,De,re));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(rt))it(this._slice(rt,et,$,T,X,fe,De));else if(0===rt.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(rt,et,$,T,X,fe,De,function(ce,Fe,ut,Nt,Mt,Wt,mn,tn){Oe._eval(Fe.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),Nt[ce],ce,Mt,Wt,mn)&&it(Oe._trace(x(ce,ut),Nt,Mt,Wt,mn,tn,!0))})}else if("("===rt[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");it(this._trace(x(this._eval(rt,$,T[T.length-1],T.slice(0,-1),X,fe),et),$,T,X,fe,De,re))}else if("@"===rt[0]){var Ve=!1,st=rt.slice(1,-2);switch(st){default:throw new TypeError("Unknown value type "+st);case"scalar":(!$||!["object","function"].includes(M($)))&&(Ve=!0);break;case"boolean":case"string":case"undefined":case"function":M($)===st&&(Ve=!0);break;case"integer":Number.isFinite($)&&!($%1)&&(Ve=!0);break;case"number":Number.isFinite($)&&(Ve=!0);break;case"nonFinite":"number"==typeof $&&!Number.isFinite($)&&(Ve=!0);break;case"object":$&&M($)===st&&(Ve=!0);break;case"array":Array.isArray($)&&(Ve=!0);break;case"other":Ve=this.currOtherTypeCallback($,T,X,fe);break;case"null":null===$&&(Ve=!0)}if(Ve)return this._handleCallback(at={path:T,value:$,parent:X,parentProperty:fe},De,"value"),at}else if("`"===rt[0]&&$&&de.call($,rt.slice(1))){var me=rt.slice(1);it(this._trace(et,$[me],ge(T,me),$,me,De,re,!0))}else if(rt.includes(",")){var Re,se=function W(I){if(typeof Symbol>"u"||null==I[Symbol.iterator]){if(Array.isArray(I)||(I=Y(I))){var $=0,T=function(){};return{s:T,n:function(){return $>=I.length?{done:!0}:{done:!1,value:I[$++]}},e:function(at){throw at},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X,re,fe=!0,De=!1;return{s:function(){X=I[Symbol.iterator]()},n:function(){var at=X.next();return fe=at.done,at},e:function(at){De=!0,re=at},f:function(){try{!fe&&null!=X.return&&X.return()}finally{if(De)throw re}}}}(rt.split(","));try{for(se.s();!(Re=se.n()).done;)it(this._trace(x(Re.value,et),$,T,X,fe,De,!0))}catch(ce){se.e(ce)}finally{se.f()}}else!Ne&&$&&de.call($,rt)&&it(this._trace(et,$[rt],ge(T,rt),$,rt,De,re,!0))}if(this._hasParentSelector)for(var pe=0;pe<St.length;pe++){var Ce=St[pe];if(Ce&&Ce.isParentSelector){var dt=Oe._trace(Ce.expr,$,Ce.path,X,fe,De,re);if(Array.isArray(dt)){St[pe]=dt[0];for(var Ee=dt.length,le=1;le<Ee;le++)pe++,St.splice(pe,0,dt[le])}else St[pe]=dt}}return St},C.prototype._walk=function(I,$,T,X,fe,De,re,Ne){if(Array.isArray(T))for(var at=T.length,Oe=0;Oe<at;Oe++)Ne(Oe,I,$,T,X,fe,De,re);else T&&"object"===M(T)&&Object.keys(T).forEach(function(rt){Ne(rt,I,$,T,X,fe,De,re)})},C.prototype._slice=function(I,$,T,X,fe,De,re){if(Array.isArray(T)){var Ne=T.length,at=I.split(":"),Oe=at[2]&&Number.parseInt(at[2])||1,rt=at[0]&&Number.parseInt(at[0])||0,et=at[1]&&Number.parseInt(at[1])||Ne;rt=rt<0?Math.max(0,rt+Ne):Math.min(Ne,rt),et=et<0?Math.max(0,et+Ne):Math.min(Ne,et);for(var St=[],it=rt;it<et;it+=Oe)this._trace(x(it,$),T,X,fe,De,re,!0).forEach(function(st){St.push(st)});return St}},C.prototype._eval=function(I,$,T,X,fe,De){if(!this._obj||!$)return!1;I.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=De,I=I.replace(/@parentProperty/g,"_$_parentProperty")),I.includes("@parent")&&(this.currSandbox._$_parent=fe,I=I.replace(/@parent/g,"_$_parent")),I.includes("@property")&&(this.currSandbox._$_property=T,I=I.replace(/@property/g,"_$_property")),I.includes("@path")&&(this.currSandbox._$_path=C.toPathString(X.concat([T])),I=I.replace(/@path/g,"_$_path")),I.includes("@root")&&(this.currSandbox._$_root=this.json,I=I.replace(/@root/g,"_$_root")),I.match(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/)&&(this.currSandbox._$_v=$,I=I.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return be.runInNewContext(I,this.currSandbox)}catch(re){throw console.log(re),new Error("jsonPath: "+re.message+": "+I)}},C.cache={},C.toPathString=function(I){for(var $=I,T=$.length,X="$",fe=1;fe<T;fe++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test($[fe])||(X+=/^[\*0-9]+$/.test($[fe])?"["+$[fe]+"]":"['"+$[fe]+"']");return X},C.toPointer=function(I){for(var $=I,T=$.length,X="",fe=1;fe<T;fe++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test($[fe])||(X+="/"+$[fe].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return X},C.toPathArray=function(I){var $=C.cache;if($[I])return $[I].concat();var T=[],fe=I.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(De,re){return"[#"+(T.push(re)-1)+"]"}).replace(/\['((?:[\0-&\(-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)'\]/g,function(De,re){return"['"+re.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:[\0-Z\\-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(De,re){return";"+re.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(De){var re=De.match(/#([0-9]+)/);return re&&re[1]?T[re[1]]:De});return $[I]=fe,$[I]}},7726:ve=>{ve.exports=function Z(S){return!!S&&"object"==typeof S}},464:(ve,Z)=>{function M(g){return g.replace(/[-[\]/{}()*+?.\\^$]/g,"\\$&")}function H(g,_){var O=(void 0===_?{}:_).decimalMark,F=void 0===O?".":O;if("number"==typeof g)return g.toString();if("string"!=typeof g)return"NaN";var L=M(F),U=g.trim(),z=U.match(/^\(.*\)$|^-/),Q=new RegExp("[^\\d"+L+"]|"+L+"(?=.*"+L+")|^\\D*"+L+"\\D*$","g");return""===(U=U.replace(Q,"").replace(F,"."))?U="NaN":z&&(U="-"+U),U}Z.He=void 0,Z.He=function j(g,_){var O=(void 0===_?{}:_).decimalMark,L=H(g,{decimalMark:void 0===O?".":O});return"NaN"===L?NaN:Number(L)}},1856:ve=>{var Z=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;ve.exports=function j(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de","5"===Object.getOwnPropertyNames(o)[0])return!1;for(var v={},h=0;h<10;h++)v["_"+String.fromCharCode(h)]=h;if("0123456789"!==Object.getOwnPropertyNames(v).map(function(w){return v[w]}).join(""))return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(w){_[w]=w}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},_)).join("")}catch{return!1}}()?Object.assign:function(o,v){for(var h,_,g=function H(o){if(null==o)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}(o),w=1;w<arguments.length;w++){for(var O in h=Object(arguments[w]))S.call(h,O)&&(g[O]=h[O]);if(Z){_=Z(h);for(var F=0;F<_.length;F++)M.call(h,_[F])&&(g[_[F]]=h[_[F]])}}return g}},8597:(ve,Z,S)=>{var M="function"==typeof Map&&Map.prototype,H=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,j=M&&H&&"function"==typeof H.get?H.get:null,o=M&&Map.prototype.forEach,v="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&v?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,g=v&&h&&"function"==typeof h.get?h.get:null,_=v&&Set.prototype.forEach,O="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,L="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,z="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Q=Boolean.prototype.valueOf,Y=Object.prototype.toString,ae=Function.prototype.toString,q=String.prototype.match,W=String.prototype.slice,J=String.prototype.replace,de=String.prototype.toUpperCase,_e=String.prototype.toLowerCase,be=RegExp.prototype.test,ge=Array.prototype.concat,x=Array.prototype.join,A=Array.prototype.slice,C=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,$=Object.getOwnPropertySymbols,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,X="function"==typeof Symbol&&"object"==typeof Symbol.iterator,fe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,De=Object.prototype.propertyIsEnumerable,re=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ct){return Ct.__proto__}:null);function Ne(Ct,Rt){if(Ct===1/0||Ct===-1/0||Ct!=Ct||Ct&&Ct>-1e3&&Ct<1e3||be.call(/e/,Rt))return Rt;var In=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ct){var or=Ct<0?-C(-Ct):C(Ct);if(or!==Ct){var An=String(or),vn=W.call(Rt,An.length+1);return J.call(An,In,"$&_")+"."+J.call(J.call(vn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(Rt,In,"$&_")}var at=S(4654),Oe=at.custom,rt=Ze(Oe)?Oe:null;function et(Ct,Rt,In){var or="double"===(In.quoteStyle||Rt)?'"':"'";return or+Ct+or}function St(Ct){return J.call(String(Ct),/"/g,"&quot;")}function it(Ct){return!("[object Array]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}function st(Ct){return!("[object RegExp]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}function Ze(Ct){if(X)return Ct&&"object"==typeof Ct&&Ct instanceof Symbol;if("symbol"==typeof Ct)return!0;if(!Ct||"object"!=typeof Ct||!T)return!1;try{return T.call(Ct),!0}catch{}return!1}ve.exports=function Ct(Rt,In,or,An){var vn=In||{};if(dt(vn,"quoteStyle")&&"single"!==vn.quoteStyle&&"double"!==vn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(dt(vn,"maxStringLength")&&("number"==typeof vn.maxStringLength?vn.maxStringLength<0&&vn.maxStringLength!==1/0:null!==vn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var $r=!dt(vn,"customInspect")||vn.customInspect;if("boolean"!=typeof $r&&"symbol"!==$r)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(dt(vn,"indent")&&null!==vn.indent&&"\t"!==vn.indent&&!(parseInt(vn.indent,10)===vn.indent&&vn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(dt(vn,"numericSeparator")&&"boolean"!=typeof vn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var pr=vn.numericSeparator;if(typeof Rt>"u")return"undefined";if(null===Rt)return"null";if("boolean"==typeof Rt)return Rt?"true":"false";if("string"==typeof Rt)return tn(Rt,vn);if("number"==typeof Rt){if(0===Rt)return 1/0/Rt>0?"0":"-0";var cr=String(Rt);return pr?Ne(Rt,cr):cr}if("bigint"==typeof Rt){var Ar=String(Rt)+"n";return pr?Ne(Rt,Ar):Ar}var Xi=typeof vn.depth>"u"?5:vn.depth;if(typeof or>"u"&&(or=0),or>=Xi&&Xi>0&&"object"==typeof Rt)return it(Rt)?"[Array]":"[Object]";var zi=function nn(Ct,Rt){var In;if("\t"===Ct.indent)In="\t";else{if(!("number"==typeof Ct.indent&&Ct.indent>0))return null;In=x.call(Array(Ct.indent+1)," ")}return{base:In,prev:x.call(Array(Rt+1),In)}}(vn,or);if(typeof An>"u")An=[];else if(ce(An,Rt)>=0)return"[Circular]";function Rr(Ai,Qi,Tr){if(Qi&&(An=A.call(An)).push(Qi),Tr){var Wo={depth:vn.depth};return dt(vn,"quoteStyle")&&(Wo.quoteStyle=vn.quoteStyle),Ct(Ai,Wo,or+1,An)}return Ct(Ai,vn,or+1,An)}if("function"==typeof Rt&&!st(Rt)){var Lr=function le(Ct){if(Ct.name)return Ct.name;var Rt=q.call(ae.call(Ct),/^function\s*([\w$]+)/);return Rt?Rt[1]:null}(Rt),ei=Ui(Rt,Rr);return"[Function"+(Lr?": "+Lr:" (anonymous)")+"]"+(ei.length>0?" { "+x.call(ei,", ")+" }":"")}if(Ze(Rt)){var Ko=X?J.call(String(Rt),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(Rt);return"object"!=typeof Rt||X?Ko:jn(Ko)}if(function mn(Ct){return!(!Ct||"object"!=typeof Ct)&&(typeof HTMLElement<"u"&&Ct instanceof HTMLElement||"string"==typeof Ct.nodeName&&"function"==typeof Ct.getAttribute)}(Rt)){for(var ki="<"+_e.call(String(Rt.nodeName)),Do=Rt.attributes||[],ao=0;ao<Do.length;ao++)ki+=" "+Do[ao].name+"="+et(St(Do[ao].value),"double",vn);return ki+=">",Rt.childNodes&&Rt.childNodes.length&&(ki+="..."),ki+"</"+_e.call(String(Rt.nodeName))+">"}if(it(Rt)){if(0===Rt.length)return"[]";var fo=Ui(Rt,Rr);return zi&&!function yr(Ct){for(var Rt=0;Rt<Ct.length;Rt++)if(ce(Ct[Rt],"\n")>=0)return!1;return!0}(fo)?"["+To(fo,zi)+"]":"[ "+x.call(fo,", ")+" ]"}if(function me(Ct){return!("[object Error]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}(Rt)){var _i=Ui(Rt,Rr);return"cause"in Error.prototype||!("cause"in Rt)||De.call(Rt,"cause")?0===_i.length?"["+String(Rt)+"]":"{ ["+String(Rt)+"] "+x.call(_i,", ")+" }":"{ ["+String(Rt)+"] "+x.call(ge.call("[cause]: "+Rr(Rt.cause),_i),", ")+" }"}if("object"==typeof Rt&&$r){if(rt&&"function"==typeof Rt[rt]&&at)return at(Rt,{depth:Xi-or});if("symbol"!==$r&&"function"==typeof Rt.inspect)return Rt.inspect()}if(function Fe(Ct){if(!j||!Ct||"object"!=typeof Ct)return!1;try{j.call(Ct);try{g.call(Ct)}catch{return!0}return Ct instanceof Map}catch{}return!1}(Rt)){var xi=[];return o&&o.call(Rt,function(Ai,Qi){xi.push(Rr(Qi,Rt,!0)+" => "+Rr(Ai,Rt))}),Qr("Map",j.call(Rt),xi,zi)}if(function Mt(Ct){if(!g||!Ct||"object"!=typeof Ct)return!1;try{g.call(Ct);try{j.call(Ct)}catch{return!0}return Ct instanceof Set}catch{}return!1}(Rt)){var Pi=[];return _&&_.call(Rt,function(Ai){Pi.push(Rr(Ai,Rt))}),Qr("Set",g.call(Rt),Pi,zi)}if(function ut(Ct){if(!O||!Ct||"object"!=typeof Ct)return!1;try{O.call(Ct,O);try{L.call(Ct,L)}catch{return!0}return Ct instanceof WeakMap}catch{}return!1}(Rt))return Ie("WeakMap");if(function Wt(Ct){if(!L||!Ct||"object"!=typeof Ct)return!1;try{L.call(Ct,L);try{O.call(Ct,O)}catch{return!0}return Ct instanceof WeakSet}catch{}return!1}(Rt))return Ie("WeakSet");if(function Nt(Ct){if(!z||!Ct||"object"!=typeof Ct)return!1;try{return z.call(Ct),!0}catch{}return!1}(Rt))return Ie("WeakRef");if(function se(Ct){return!("[object Number]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}(Rt))return jn(Rr(Number(Rt)));if(function pe(Ct){if(!Ct||"object"!=typeof Ct||!I)return!1;try{return I.call(Ct),!0}catch{}return!1}(Rt))return jn(Rr(I.call(Rt)));if(function Re(Ct){return!("[object Boolean]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}(Rt))return jn(Q.call(Rt));if(function ee(Ct){return!("[object String]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}(Rt))return jn(Rr(String(Rt)));if(!function Ve(Ct){return!("[object Date]"!==Ee(Ct)||fe&&"object"==typeof Ct&&fe in Ct)}(Rt)&&!st(Rt)){var Vi=Ui(Rt,Rr),ca=re?re(Rt)===Object.prototype:Rt instanceof Object||Rt.constructor===Object,Io=Rt instanceof Object?"":"null prototype",_r=!ca&&fe&&Object(Rt)===Rt&&fe in Rt?W.call(Ee(Rt),8,-1):Io?"Object":"",so=(ca||"function"!=typeof Rt.constructor?"":Rt.constructor.name?Rt.constructor.name+" ":"")+(_r||Io?"["+x.call(ge.call([],_r||[],Io||[]),": ")+"] ":"");return 0===Vi.length?so+"{}":zi?so+"{"+To(Vi,zi)+"}":so+"{ "+x.call(Vi,", ")+" }"}return String(Rt)};var Ce=Object.prototype.hasOwnProperty||function(Ct){return Ct in this};function dt(Ct,Rt){return Ce.call(Ct,Rt)}function Ee(Ct){return Y.call(Ct)}function ce(Ct,Rt){if(Ct.indexOf)return Ct.indexOf(Rt);for(var In=0,or=Ct.length;In<or;In++)if(Ct[In]===Rt)return In;return-1}function tn(Ct,Rt){if(Ct.length>Rt.maxStringLength){var In=Ct.length-Rt.maxStringLength,or="... "+In+" more character"+(In>1?"s":"");return tn(W.call(Ct,0,Rt.maxStringLength),Rt)+or}return et(J.call(J.call(Ct,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ir),"single",Rt)}function ir(Ct){var Rt=Ct.charCodeAt(0),In={8:"b",9:"t",10:"n",12:"f",13:"r"}[Rt];return In?"\\"+In:"\\x"+(Rt<16?"0":"")+de.call(Rt.toString(16))}function jn(Ct){return"Object("+Ct+")"}function Ie(Ct){return Ct+" { ? }"}function Qr(Ct,Rt,In,or){return Ct+" ("+Rt+") {"+(or?To(In,or):x.call(In,", "))+"}"}function To(Ct,Rt){if(0===Ct.length)return"";var In="\n"+Rt.prev+Rt.base;return In+x.call(Ct,","+In)+"\n"+Rt.prev}function Ui(Ct,Rt){var In=it(Ct),or=[];if(In){or.length=Ct.length;for(var An=0;An<Ct.length;An++)or[An]=dt(Ct,An)?Rt(Ct[An],Ct):""}var $r,vn="function"==typeof $?$(Ct):[];if(X){$r={};for(var pr=0;pr<vn.length;pr++)$r["$"+vn[pr]]=vn[pr]}for(var cr in Ct)dt(Ct,cr)&&(In&&String(Number(cr))===cr&&cr<Ct.length||X&&$r["$"+cr]instanceof Symbol||(be.call(/[^\w$]/,cr)?or.push(Rt(cr,Ct)+": "+Rt(Ct[cr],Ct)):or.push(cr+": "+Rt(Ct[cr],Ct))));if("function"==typeof $)for(var Ar=0;Ar<vn.length;Ar++)De.call(Ct,vn[Ar])&&or.push("["+Rt(vn[Ar])+"]: "+Rt(Ct[vn[Ar]],Ct));return or}},2578:function(ve){ve.exports=function(Z){var S={};function M(H){if(S[H])return S[H].exports;var j=S[H]={i:H,l:!1,exports:{}};return Z[H].call(j.exports,j,j.exports,M),j.l=!0,j.exports}return M.m=Z,M.c=S,M.d=function(H,j,o){M.o(H,j)||Object.defineProperty(H,j,{enumerable:!0,get:o})},M.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})},M.t=function(H,j){if(1&j&&(H=M(H)),8&j||4&j&&"object"==typeof H&&H&&H.__esModule)return H;var o=Object.create(null);if(M.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:H}),2&j&&"string"!=typeof H)for(var v in H)M.d(o,v,function(h){return H[h]}.bind(null,v));return o},M.n=function(H){var j=H&&H.__esModule?function(){return H.default}:function(){return H};return M.d(j,"a",j),j},M.o=function(H,j){return Object.prototype.hasOwnProperty.call(H,j)},M.p="",M(M.s=22)}([function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function h(g,_){for(var w=0;w<_.length;w++){var O=_[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,w){return _&&h(g.prototype,_),w&&h(g,w),g}}(),j={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,v=void 0;(S.Log=function(){function h(){!function(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.reset=function(){v=3,o=j},h.debug=function(){if(v>=4){for(var _=arguments.length,w=Array(_),O=0;O<_;O++)w[O]=arguments[O];o.debug.apply(o,Array.from(w))}},h.info=function(){if(v>=3){for(var _=arguments.length,w=Array(_),O=0;O<_;O++)w[O]=arguments[O];o.info.apply(o,Array.from(w))}},h.warn=function(){if(v>=2){for(var _=arguments.length,w=Array(_),O=0;O<_;O++)w[O]=arguments[O];o.warn.apply(o,Array.from(w))}},h.error=function(){if(v>=1){for(var _=arguments.length,w=Array(_),O=0;O<_;O++)w[O]=arguments[O];o.error.apply(o,Array.from(w))}},H(h,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return v},set:function(_){if(!(0<=_&&_<=4))throw new Error("Invalid log level");v=_}},{key:"logger",get:function(){return o},set:function(_){if(!_.debug&&_.info&&(_.debug=_.info),!(_.debug&&_.info&&_.warn&&_.error))throw new Error("Invalid logger");o=_}}]),h}()).reset()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function h(g,_){for(var w=0;w<_.length;w++){var O=_[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,w){return _&&h(g.prototype,_),w&&h(g,w),g}}(),j={setInterval:function(h){function g(_,w){return h.apply(this,arguments)}return g.toString=function(){return h.toString()},g}(function(h,g){return setInterval(h,g)}),clearInterval:function(h){function g(_){return h.apply(this,arguments)}return g.toString=function(){return h.toString()},g}(function(h){return clearInterval(h)})},o=!1,v=null;S.Global=function(){function h(){!function(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}(this,h)}return h._testing=function(){o=!0},h.setXMLHttpRequest=function(_){v=_},H(h,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!o&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&typeof window<"u")return v||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return j}}]),h}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MetadataService=void 0;var H=function(){function g(_,w){for(var O=0;O<w.length;O++){var F=w[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}return function(_,w,O){return w&&g(_.prototype,w),O&&g(_,O),_}}(),j=M(0),o=M(7);var h=".well-known/openid-configuration";S.MetadataService=function(){function g(_){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw j.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=_,this._jsonService=new w(["application/jwk-set+json"])}return g.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},g.prototype.getMetadata=function(){var w=this;return this._settings.metadata?(j.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(j.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(O){return j.Log.debug("MetadataService.getMetadata: json received"),w._settings.metadata=Object.assign({},w._settings.metadataSeed||{},O),w._settings.metadata})):(j.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},g.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},g.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},g.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},g.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},g.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},g.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},g.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},g.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},g.prototype._getMetadataProperty=function(w){var O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return j.Log.debug("MetadataService.getMetadataProperty for: "+w),this.getMetadata().then(function(F){if(j.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===F[w]){if(!0===O)return void j.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+w);throw j.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+w),new Error("Metadata does not contain property "+w)}return F[w]})},g.prototype.getSigningKeys=function(){var w=this;return this._settings.signingKeys?(j.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(O){return j.Log.debug("MetadataService.getSigningKeys: jwks_uri received",O),w._jsonService.getJson(O).then(function(F){if(j.Log.debug("MetadataService.getSigningKeys: key set received",F),!F.keys)throw j.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return w._settings.signingKeys=F.keys,w._settings.signingKeys})})},H(g,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=h))),this._metadataUrl}}]),g}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UrlUtility=void 0;var H=M(0),j=M(1);S.UrlUtility=function(){function o(){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,o)}return o.addQueryParam=function(h,g,_){return h.indexOf("?")<0&&(h+="?"),"?"!==h[h.length-1]&&(h+="&"),h+=encodeURIComponent(g),(h+="=")+encodeURIComponent(_)},o.parseUrlFragment=function(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof h&&(h=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.Global).location.href);var w=h.lastIndexOf(g);w>=0&&(h=h.substr(w+1)),"?"===g&&(w=h.indexOf("#"))>=0&&(h=h.substr(0,w));for(var O,F={},L=/([^&=]+)=([^&]*)/g,U=0;O=L.exec(h);)if(F[decodeURIComponent(O[1])]=decodeURIComponent(O[2].replace(/\+/g," ")),U++>50)return H.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",h),{error:"Response exceeded expected number of parameters"};for(var z in F)return F;return{}},o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JoseUtil=void 0;var v,H=M(26),j=(v=M(33))&&v.__esModule?v:{default:v};S.JoseUtil=(0,j.default)({jws:H.jws,KeyUtil:H.KeyUtil,X509:H.X509,crypto:H.crypto,hextob64u:H.hextob64u,b64tohex:H.b64tohex,AllowedSigningAlgs:H.AllowedSigningAlgs})},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClientSettings=void 0;var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},j=function(){function z(Q,Y){for(var ae=0;ae<Y.length;ae++){var q=Y[ae];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,q.key,q)}}return function(Q,Y,ae){return Y&&z(Q.prototype,Y),ae&&z(Q,ae),Q}}(),o=M(0),v=M(23),h=M(6),g=M(24),_=M(2);var O=".well-known/openid-configuration";S.OidcClientSettings=function(){function z(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Y=Q.authority,ae=Q.metadataUrl,q=Q.metadata,W=Q.signingKeys,J=Q.metadataSeed,de=Q.client_id,_e=Q.client_secret,be=Q.response_type,ge=void 0===be?"id_token":be,x=Q.scope,A=void 0===x?"openid":x,C=Q.redirect_uri,I=Q.post_logout_redirect_uri,$=Q.client_authentication,T=void 0===$?"client_secret_post":$,X=Q.prompt,fe=Q.display,De=Q.max_age,re=Q.ui_locales,Ne=Q.acr_values,at=Q.resource,Oe=Q.response_mode,rt=Q.filterProtocolClaims,et=void 0===rt||rt,St=Q.loadUserInfo,it=void 0===St||St,Ve=Q.staleStateAge,st=void 0===Ve?900:Ve,me=Q.clockSkew,ee=void 0===me?300:me,se=Q.clockService,Re=void 0===se?new v.ClockService:se,Ze=Q.userInfoJwtIssuer,pe=void 0===Ze?"OP":Ze,Ce=Q.mergeClaims,dt=void 0!==Ce&&Ce,Ee=Q.stateStore,le=void 0===Ee?new h.WebStorageStateStore:Ee,ce=Q.ResponseValidatorCtor,Fe=void 0===ce?g.ResponseValidator:ce,ut=Q.MetadataServiceCtor,Nt=void 0===ut?_.MetadataService:ut,Mt=Q.extraQueryParams,Wt=void 0===Mt?{}:Mt,mn=Q.extraTokenParams,tn=void 0===mn?{}:mn;(function w(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,z),this._authority=Y,this._metadataUrl=ae,this._metadata=q,this._metadataSeed=J,this._signingKeys=W,this._client_id=de,this._client_secret=_e,this._response_type=ge,this._scope=A,this._redirect_uri=C,this._post_logout_redirect_uri=I,this._client_authentication=T,this._prompt=X,this._display=fe,this._max_age=De,this._ui_locales=re,this._acr_values=Ne,this._resource=at,this._response_mode=Oe,this._filterProtocolClaims=!!et,this._loadUserInfo=!!it,this._staleStateAge=st,this._clockSkew=ee,this._clockService=Re,this._userInfoJwtIssuer=pe,this._mergeClaims=!!dt,this._stateStore=le,this._validator=new Fe(this),this._metadataService=new Nt(this),this._extraQueryParams="object"===(void 0===Wt?"undefined":H(Wt))?Wt:{},this._extraTokenParams="object"===(void 0===tn?"undefined":H(tn))?tn:{}}return z.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},j(z,[{key:"client_id",get:function(){return this._client_id},set:function(Y){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=Y}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(Y){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=Y}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(O)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=O)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(Y){this._metadata=Y}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(Y){this._metadataSeed=Y}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(Y){this._signingKeys=Y}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(Y){this._extraQueryParams="object"===(void 0===Y?"undefined":H(Y))?Y:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(Y){this._extraTokenParams="object"===(void 0===Y?"undefined":H(Y))?Y:{}}}]),z}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.WebStorageStateStore=void 0;var H=M(0),j=M(1);S.WebStorageStateStore=function(){function v(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=h.prefix,_=void 0===g?"oidc.":g,w=h.store,O=void 0===w?j.Global.localStorage:w;(function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")})(this,v),this._store=O,this._prefix=_}return v.prototype.set=function(g,_){return H.Log.debug("WebStorageStateStore.set",g),this._store.setItem(g=this._prefix+g,_),Promise.resolve()},v.prototype.get=function(g){H.Log.debug("WebStorageStateStore.get",g);var _=this._store.getItem(g=this._prefix+g);return Promise.resolve(_)},v.prototype.remove=function(g){H.Log.debug("WebStorageStateStore.remove",g);var _=this._store.getItem(g=this._prefix+g);return this._store.removeItem(g),Promise.resolve(_)},v.prototype.getAllKeys=function(){H.Log.debug("WebStorageStateStore.getAllKeys");for(var g=[],_=0;_<this._store.length;_++){var w=this._store.key(_);0===w.indexOf(this._prefix)&&g.push(w.substr(this._prefix.length))}return Promise.resolve(g)},v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.JsonService=void 0;var H=M(0),j=M(1);S.JsonService=function(){function v(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.Global.XMLHttpRequest,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")})(this,v),this._contentTypes=h&&Array.isArray(h)?h.slice():[],this._contentTypes.push("application/json"),_&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=g,this._jwtHandler=_}return v.prototype.getJson=function(g,_){var w=this;if(!g)throw H.Log.error("JsonService.getJson: No url passed"),new Error("url");return H.Log.debug("JsonService.getJson, url: ",g),new Promise(function(O,F){var L=new w._XMLHttpRequest;L.open("GET",g);var U=w._contentTypes,z=w._jwtHandler;L.onload=function(){if(H.Log.debug("JsonService.getJson: HTTP response received, status",L.status),200===L.status){var Q=L.getResponseHeader("Content-Type");if(Q){var Y=U.find(function(ae){if(Q.startsWith(ae))return!0});if("application/jwt"==Y)return void z(L).then(O,F);if(Y)try{return void O(JSON.parse(L.responseText))}catch(ae){return H.Log.error("JsonService.getJson: Error parsing JSON response",ae.message),void F(ae)}}F(Error("Invalid response Content-Type: "+Q+", from URL: "+g))}else F(Error(L.statusText+" ("+L.status+")"))},L.onerror=function(){H.Log.error("JsonService.getJson: network error"),F(Error("Network Error"))},_&&(H.Log.debug("JsonService.getJson: token passed, setting Authorization header"),L.setRequestHeader("Authorization","Bearer "+_)),L.send()})},v.prototype.postForm=function(g,_,w){var O=this;if(!g)throw H.Log.error("JsonService.postForm: No url passed"),new Error("url");return H.Log.debug("JsonService.postForm, url: ",g),new Promise(function(F,L){var U=new O._XMLHttpRequest;U.open("POST",g);var z=O._contentTypes;U.onload=function(){if(H.Log.debug("JsonService.postForm: HTTP response received, status",U.status),200!==U.status){if(400===U.status&&(W=U.getResponseHeader("Content-Type"))&&z.find(function(J){if(W.startsWith(J))return!0}))try{var q=JSON.parse(U.responseText);if(q&&q.error)return H.Log.error("JsonService.postForm: Error from server: ",q.error),void L(new Error(q.error))}catch(J){return H.Log.error("JsonService.postForm: Error parsing JSON response",J.message),void L(J)}L(Error(U.statusText+" ("+U.status+")"))}else{var W;if((W=U.getResponseHeader("Content-Type"))&&z.find(function(J){if(W.startsWith(J))return!0}))try{return void F(JSON.parse(U.responseText))}catch(J){return H.Log.error("JsonService.postForm: Error parsing JSON response",J.message),void L(J)}L(Error("Invalid response Content-Type: "+W+", from URL: "+g))}},U.onerror=function(){H.Log.error("JsonService.postForm: network error"),L(Error("Network Error"))};var Q="";for(var Y in _){var ae=_[Y];ae&&(Q.length>0&&(Q+="&"),Q+=encodeURIComponent(Y),Q+="=",Q+=encodeURIComponent(ae))}U.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==w&&U.setRequestHeader("Authorization","Basic "+btoa(w)),U.send(Q)})},v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninRequest=void 0;var H=M(0),j=M(3),o=M(13);S.SigninRequest=function(){function v(h){var g=h.url,_=h.client_id,w=h.redirect_uri,O=h.response_type,F=h.scope,L=h.authority,U=h.data,z=h.prompt,Q=h.display,Y=h.max_age,ae=h.ui_locales,q=h.id_token_hint,W=h.login_hint,J=h.acr_values,de=h.resource,_e=h.response_mode,be=h.request,ge=h.request_uri,x=h.extraQueryParams,A=h.request_type,C=h.client_secret,I=h.extraTokenParams,$=h.skipUserInfo;if(function(at,Oe){if(!(at instanceof Oe))throw new TypeError("Cannot call a class as a function")}(this,v),!g)throw H.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!_)throw H.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!w)throw H.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!O)throw H.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!F)throw H.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!L)throw H.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var T=v.isOidc(O),X=v.isCode(O);_e||(_e=v.isCode(O)?"query":null),this.state=new o.SigninState({nonce:T,data:U,client_id:_,authority:L,redirect_uri:w,code_verifier:X,request_type:A,response_mode:_e,client_secret:C,scope:F,extraTokenParams:I,skipUserInfo:$}),g=j.UrlUtility.addQueryParam(g,"client_id",_),g=j.UrlUtility.addQueryParam(g,"redirect_uri",w),g=j.UrlUtility.addQueryParam(g,"response_type",O),g=j.UrlUtility.addQueryParam(g,"scope",F),g=j.UrlUtility.addQueryParam(g,"state",this.state.id),T&&(g=j.UrlUtility.addQueryParam(g,"nonce",this.state.nonce)),X&&(g=j.UrlUtility.addQueryParam(g,"code_challenge",this.state.code_challenge),g=j.UrlUtility.addQueryParam(g,"code_challenge_method","S256"));var fe={prompt:z,display:Q,max_age:Y,ui_locales:ae,id_token_hint:q,login_hint:W,acr_values:J,resource:de,request:be,request_uri:ge,response_mode:_e};for(var De in fe)fe[De]&&(g=j.UrlUtility.addQueryParam(g,De,fe[De]));for(var re in x)g=j.UrlUtility.addQueryParam(g,re,x[re]);this.url=g}return v.isOidc=function(g){return!!g.split(/\s+/g).filter(function(_){return"id_token"===_})[0]},v.isOAuth=function(g){return!!g.split(/\s+/g).filter(function(_){return"token"===_})[0]},v.isCode=function(g){return!!g.split(/\s+/g).filter(function(_){return"code"===_})[0]},v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.State=void 0;var g,H=function(){function h(g,_){for(var w=0;w<_.length;w++){var O=_[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,_,w){return _&&h(g.prototype,_),w&&h(g,w),g}}(),j=M(0),o=(g=M(14))&&g.__esModule?g:{default:g};S.State=function(){function h(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.id,w=g.data,O=g.created,F=g.request_type;(function v(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this._id=_||(0,o.default)(),this._data=w,this._created="number"==typeof O&&O>0?O:parseInt(Date.now()/1e3),this._request_type=F}return h.prototype.toStorageString=function(){return j.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},h.fromStorageString=function(_){return j.Log.debug("State.fromStorageString"),new h(JSON.parse(_))},h.clearStaleState=function(_,w){var O=Date.now()/1e3-w;return _.getAllKeys().then(function(F){j.Log.debug("State.clearStaleState: got keys",F);for(var L=[],U=function(ae){var q=F[ae];Q=_.get(q).then(function(W){var J=!1;if(W)try{var de=h.fromStorageString(W);j.Log.debug("State.clearStaleState: got item from key: ",q,de.created),de.created<=O&&(J=!0)}catch(_e){j.Log.error("State.clearStaleState: Error parsing state for key",q,_e.message),J=!0}else j.Log.debug("State.clearStaleState: no item in storage for key: ",q),J=!0;if(J)return j.Log.debug("State.clearStaleState: removed item for key: ",q),_.remove(q)}),L.push(Q)},z=0;z<F.length;z++){var Q;U(z)}return j.Log.debug("State.clearStaleState: waiting on promise count:",L.length),Promise.all(L)})},H(h,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),h}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.OidcClient=void 0;var H=function(){function U(z,Q){for(var Y=0;Y<Q.length;Y++){var ae=Q[Y];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(z,ae.key,ae)}}return function(z,Q,Y){return Q&&U(z.prototype,Q),Y&&U(z,Y),z}}(),j=M(0),o=M(5),v=M(12),h=M(8),g=M(34),_=M(35),w=M(36),O=M(13),F=M(9);S.OidcClient=function(){function U(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function L(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")})(this,U),this._settings=z instanceof o.OidcClientSettings?z:new o.OidcClientSettings(z)}return U.prototype.createSigninRequest=function(){var Q=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=Y.response_type,q=Y.scope,W=Y.redirect_uri,J=Y.data,de=Y.state,_e=Y.prompt,be=Y.display,ge=Y.max_age,x=Y.ui_locales,A=Y.id_token_hint,C=Y.login_hint,I=Y.acr_values,$=Y.resource,T=Y.request,X=Y.request_uri,fe=Y.response_mode,De=Y.extraQueryParams,re=Y.extraTokenParams,Ne=Y.request_type,at=Y.skipUserInfo,Oe=arguments[1];j.Log.debug("OidcClient.createSigninRequest");var rt=this._settings.client_id;q=q||this._settings.scope,W=W||this._settings.redirect_uri,_e=_e||this._settings.prompt,be=be||this._settings.display,ge=ge||this._settings.max_age,x=x||this._settings.ui_locales,I=I||this._settings.acr_values,$=$||this._settings.resource,fe=fe||this._settings.response_mode,De=De||this._settings.extraQueryParams,re=re||this._settings.extraTokenParams;var et=this._settings.authority;return h.SigninRequest.isCode(ae=ae||this._settings.response_type)&&"code"!==ae?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(St){j.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",St);var it=new h.SigninRequest({url:St,client_id:rt,redirect_uri:W,response_type:ae,scope:q,data:J||de,authority:et,prompt:_e,display:be,max_age:ge,ui_locales:x,id_token_hint:A,login_hint:C,acr_values:I,resource:$,request:T,request_uri:X,extraQueryParams:De,extraTokenParams:re,request_type:Ne,response_mode:fe,client_secret:Q._settings.client_secret,skipUserInfo:at}),Ve=it.state;return(Oe=Oe||Q._stateStore).set(Ve.id,Ve.toStorageString()).then(function(){return it})})},U.prototype.readSigninResponseState=function(Q,Y){var ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];j.Log.debug("OidcClient.readSigninResponseState");var q="query"===this._settings.response_mode||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type),J=new g.SigninResponse(Q,q?"?":"#");return J.state?(Y=Y||this._stateStore,(ae?Y.remove.bind(Y):Y.get.bind(Y))(J.state).then(function(_e){if(!_e)throw j.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:O.SigninState.fromStorageString(_e),response:J}})):(j.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},U.prototype.processSigninResponse=function(Q,Y){var ae=this;return j.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(Q,Y,!0).then(function(q){var W=q.state,J=q.response;return j.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),ae._validator.validateSigninResponse(W,J)})},U.prototype.createSignoutRequest=function(){var Q=this,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=Y.id_token_hint,q=Y.data,W=Y.state,J=Y.post_logout_redirect_uri,de=Y.extraQueryParams,_e=Y.request_type,be=arguments[1];return j.Log.debug("OidcClient.createSignoutRequest"),J=J||this._settings.post_logout_redirect_uri,de=de||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(ge){if(!ge)throw j.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");j.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",ge);var x=new _.SignoutRequest({url:ge,id_token_hint:ae,post_logout_redirect_uri:J,data:q||W,extraQueryParams:de,request_type:_e}),A=x.state;return A&&(j.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(be=be||Q._stateStore).set(A.id,A.toStorageString())),x})},U.prototype.readSignoutResponseState=function(Q,Y){var ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];j.Log.debug("OidcClient.readSignoutResponseState");var q=new w.SignoutResponse(Q);if(!q.state)return j.Log.debug("OidcClient.readSignoutResponseState: No state in response"),q.error?(j.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",q.error),Promise.reject(new v.ErrorResponse(q))):Promise.resolve({state:void 0,response:q});var W=q.state;return Y=Y||this._stateStore,(ae?Y.remove.bind(Y):Y.get.bind(Y))(W).then(function(de){if(!de)throw j.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:F.State.fromStorageString(de),response:q}})},U.prototype.processSignoutResponse=function(Q,Y){var ae=this;return j.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(Q,Y,!0).then(function(q){var W=q.state,J=q.response;return W?(j.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),ae._validator.validateSignoutResponse(W,J)):(j.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),J)})},U.prototype.clearStaleState=function(Q){return j.Log.debug("OidcClient.clearStaleState"),F.State.clearStaleState(Q=Q||this._stateStore,this.settings.staleStateAge)},H(U,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),U}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenClient=void 0;var H=M(7),j=M(2),o=M(0);S.TokenClient=function(){function h(g){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.JsonService,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.MetadataService;if(function v(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,h),!g)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new _,this._metadataService=new w(this._settings)}return h.prototype.exchangeCode=function(){var _=this,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"authorization_code",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret,w.redirect_uri=w.redirect_uri||this._settings.redirect_uri;var O=void 0,F=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.code?w.redirect_uri?w.code_verifier?w.client_id?w.client_secret||"client_secret_basic"!=F?("client_secret_basic"==F&&(O=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(L){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),_._jsonService.postForm(L,w,O).then(function(U){return o.Log.debug("TokenClient.exchangeCode: response received"),U})})):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},h.prototype.exchangeRefreshToken=function(){var _=this,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"refresh_token",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret;var O=void 0,F=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.refresh_token?w.client_id?("client_secret_basic"==F&&(O=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(L){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),_._jsonService.postForm(L,w,O).then(function(U){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),U})})):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},h}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ErrorResponse=void 0;var H=M(0);S.ErrorResponse=function(v){function h(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.error,w=g.error_description,O=g.error_uri,F=g.state,L=g.session_state;if(function j(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),!_)throw H.Log.error("No error passed to ErrorResponse"),new Error("error");var U=function o(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?v:h}(this,v.call(this,w||_));return U.name="ErrorResponse",U.error=_,U.error_description=w,U.error_uri=O,U.state=F,U.session_state=L,U}return function(_,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}(h,v),h}(Error)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninState=void 0;var O,H=function(){function w(O,F){for(var L=0;L<F.length;L++){var U=F[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,F,L){return F&&w(O.prototype,F),L&&w(O,L),O}}(),j=M(0),o=M(9),v=M(4),h=(O=M(14))&&O.__esModule?O:{default:O};S.SigninState=function(w){function O(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=F.nonce,U=F.authority,z=F.client_id,Q=F.redirect_uri,Y=F.code_verifier,ae=F.response_mode,q=F.client_secret,W=F.scope,J=F.extraTokenParams,de=F.skipUserInfo;!function g(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var _e=function _(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?w:O}(this,w.call(this,arguments[0]));if(!0===L?_e._nonce=(0,h.default)():L&&(_e._nonce=L),!0===Y?_e._code_verifier=(0,h.default)()+(0,h.default)()+(0,h.default)():Y&&(_e._code_verifier=Y),_e.code_verifier){var be=v.JoseUtil.hashString(_e.code_verifier,"SHA256");_e._code_challenge=v.JoseUtil.hexToBase64Url(be)}return _e._redirect_uri=Q,_e._authority=U,_e._client_id=z,_e._response_mode=ae,_e._client_secret=q,_e._scope=W,_e._extraTokenParams=J,_e._skipUserInfo=de,_e}return function(L,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}(O,w),O.prototype.toStorageString=function(){return j.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},O.fromStorageString=function(L){return j.Log.debug("SigninState.fromStorageString"),new O(JSON.parse(L))},H(O,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),O}(o.State)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){return("undefined"!=H&&null!==H&&void 0!==H.getRandomValues?j:o)().replace(/-/g,"")};var H=typeof window<"u"?window.crypto||window.msCrypto:null;function j(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(v){return(v^H.getRandomValues(new Uint8Array(1))[0]&15>>v/4).toString(16)})}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(v){return(v^16*Math.random()>>v/4).toString(16)})}Z.exports=S.default},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.User=void 0;var H=function(){function o(v,h){for(var g=0;g<h.length;g++){var _=h[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,h,g){return h&&o(v.prototype,h),g&&o(v,g),v}}(),j=M(0);S.User=function(){function o(v){var h=v.id_token,g=v.session_state,_=v.access_token,w=v.refresh_token,O=v.token_type,F=v.scope,L=v.profile,U=v.expires_at,z=v.state;(function(Y,ae){if(!(Y instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,o),this.id_token=h,this.session_state=g,this.access_token=_,this.refresh_token=w,this.token_type=O,this.scope=F,this.profile=L,this.expires_at=U,this.state=z}return o.prototype.toStorageString=function(){return j.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},o.fromStorageString=function(h){return j.Log.debug("User.fromStorageString"),new o(JSON.parse(h))},H(o,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var g=parseInt(h);if("number"==typeof g&&g>0){var _=parseInt(Date.now()/1e3);this.expires_at=_+g}}},{key:"expired",get:function(){var h=this.expires_in;if(void 0!==h)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AccessTokenEvents=void 0;var H=M(0),j=M(46);S.AccessTokenEvents=function(){function v(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=h.accessTokenExpiringNotificationTime,_=void 0===g?60:g,w=h.accessTokenExpiringTimer,O=void 0===w?new j.Timer("Access token expiring"):w,F=h.accessTokenExpiredTimer,L=void 0===F?new j.Timer("Access token expired"):F;(function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")})(this,v),this._accessTokenExpiringNotificationTime=_,this._accessTokenExpiring=O,this._accessTokenExpired=L}return v.prototype.load=function(g){if(g.access_token&&void 0!==g.expires_in){var _=g.expires_in;if(H.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",_),_>0){var w=_-this._accessTokenExpiringNotificationTime;w<=0&&(w=1),H.Log.debug("AccessTokenEvents.load: registering expiring timer in:",w),this._accessTokenExpiring.init(w)}else H.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var O=_+1;H.Log.debug("AccessTokenEvents.load: registering expired timer in:",O),this._accessTokenExpired.init(O)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},v.prototype.unload=function(){H.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},v.prototype.addAccessTokenExpiring=function(g){this._accessTokenExpiring.addHandler(g)},v.prototype.removeAccessTokenExpiring=function(g){this._accessTokenExpiring.removeHandler(g)},v.prototype.addAccessTokenExpired=function(g){this._accessTokenExpired.addHandler(g)},v.prototype.removeAccessTokenExpired=function(g){this._accessTokenExpired.removeHandler(g)},v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Event=void 0;var H=M(0);S.Event=function(){function j(o){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,j),this._name=o,this._callbacks=[]}return j.prototype.addHandler=function(v){this._callbacks.push(v)},j.prototype.removeHandler=function(v){var h=this._callbacks.findIndex(function(g){return g===v});h>=0&&this._callbacks.splice(h,1)},j.prototype.raise=function(){H.Log.debug("Event: Raising event: "+this._name);for(var v=0;v<this._callbacks.length;v++){var h;(h=this._callbacks)[v].apply(h,arguments)}},j}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SessionMonitor=void 0;var H=function(){function g(_,w){for(var O=0;O<w.length;O++){var F=w[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(_,F.key,F)}}return function(_,w,O){return w&&g(_.prototype,w),O&&g(_,O),_}}(),j=M(0),o=M(19),v=M(1);S.SessionMonitor=function(){function g(_){var w=this,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.Global.timer;if(function h(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw j.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=_,this._CheckSessionIFrameCtor=O,this._timer=F,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(L){L?w._start(L):w._settings.monitorAnonymousSession&&w._userManager.querySessionStatus().then(function(U){var z={session_state:U.session_state};U.sub&&U.sid&&(z.profile={sub:U.sub,sid:U.sid}),w._start(z)}).catch(function(U){j.Log.error("SessionMonitor ctor: error from querySessionStatus:",U.message)})}).catch(function(L){j.Log.error("SessionMonitor ctor: error from getUser:",L.message)}))}return g.prototype._start=function(w){var O=this,F=w.session_state;F&&(w.profile?(this._sub=w.profile.sub,this._sid=w.profile.sid,j.Log.debug("SessionMonitor._start: session_state:",F,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,j.Log.debug("SessionMonitor._start: session_state:",F,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(F):this._metadataService.getCheckSessionIframe().then(function(L){if(L){j.Log.debug("SessionMonitor._start: Initializing check session iframe");var U=O._client_id,z=O._checkSessionInterval,Q=O._stopCheckSessionOnError;O._checkSessionIFrame=new O._CheckSessionIFrameCtor(O._callback.bind(O),U,L,z,Q),O._checkSessionIFrame.load().then(function(){O._checkSessionIFrame.start(F)})}else j.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(L){j.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",L.message)}))},g.prototype._stop=function(){var w=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(j.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var O=this._timer.setInterval(function(){w._timer.clearInterval(O),w._userManager.querySessionStatus().then(function(F){var L={session_state:F.session_state};F.sub&&F.sid&&(L.profile={sub:F.sub,sid:F.sid}),w._start(L)}).catch(function(F){j.Log.error("SessionMonitor: error from querySessionStatus:",F.message)})},1e3)},g.prototype._callback=function(){var w=this;this._userManager.querySessionStatus().then(function(O){var F=!0;O?O.sub===w._sub?(F=!1,w._checkSessionIFrame.start(O.session_state),O.sid===w._sid?j.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",O.session_state):(j.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",O.session_state),w._userManager.events._raiseUserSessionChanged())):j.Log.debug("SessionMonitor._callback: Different subject signed into OP:",O.sub):j.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),F&&(w._sub?(j.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),w._userManager.events._raiseUserSignedOut()):(j.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),w._userManager.events._raiseUserSignedIn()))}).catch(function(O){w._sub&&(j.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",O.message),w._userManager.events._raiseUserSignedOut())})},H(g,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),g}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CheckSessionIFrame=void 0;var H=M(0);S.CheckSessionIFrame=function(){function o(v,h,g,_){var w=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function j(o,v){if(!(o instanceof v))throw new TypeError("Cannot call a class as a function")})(this,o),this._callback=v,this._client_id=h,this._url=g,this._interval=_||2e3,this._stopOnError=w;var O=g.indexOf("/",g.indexOf("//")+2);this._frame_origin=g.substr(0,O),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=g}return o.prototype.load=function(){var h=this;return new Promise(function(g){h._frame.onload=function(){g()},window.document.body.appendChild(h._frame),h._boundMessageEvent=h._message.bind(h),window.addEventListener("message",h._boundMessageEvent,!1)})},o.prototype._message=function(h){h.origin===this._frame_origin&&h.source===this._frame.contentWindow&&("error"===h.data?(H.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===h.data?(H.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):H.Log.debug("CheckSessionIFrame: "+h.data+" message from check session op iframe"))},o.prototype.start=function(h){var g=this;if(this._session_state!==h){H.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=h;var _=function(){g._frame.contentWindow.postMessage(g._client_id+" "+g._session_state,g._frame_origin)};_(),this._timer=window.setInterval(_,this._interval)}},o.prototype.stop=function(){this._session_state=null,this._timer&&(H.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenRevocationClient=void 0;var H=M(0),j=M(2),o=M(1);S.TokenRevocationClient=function(){function _(w){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.MetadataService;if(function v(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}(this,_),!w)throw H.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=w,this._XMLHttpRequestCtor=O,this._metadataService=new F(this._settings)}return _.prototype.revoke=function(O,F){var L=this,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!O)throw H.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==U&&"refresh_token"!=U)throw H.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(z){if(z)return H.Log.debug("TokenRevocationClient.revoke: Revoking "+U),L._revoke(z,L._settings.client_id,L._settings.client_secret,O,U);if(F)throw H.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},_.prototype._revoke=function(O,F,L,U,z){var Q=this;return new Promise(function(Y,ae){var q=new Q._XMLHttpRequestCtor;q.open("POST",O),q.onload=function(){H.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",q.status),200===q.status?Y():ae(Error(q.statusText+" ("+q.status+")"))},q.onerror=function(){H.Log.debug("TokenRevocationClient.revoke: Network Error."),ae("Network Error")};var W="client_id="+encodeURIComponent(F);L&&(W+="&client_secret="+encodeURIComponent(L)),W+="&token_type_hint="+encodeURIComponent(z),W+="&token="+encodeURIComponent(U),q.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),q.send(W)})},_}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupWindow=void 0;var H=function(){function o(v,h){for(var g=0;g<h.length;g++){var _=h[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,h,g){return h&&o(v.prototype,h),g&&o(v,g),v}}(),j=M(0);S.CordovaPopupWindow=function(){function o(v){var h=this;(function(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(g,_){h._resolve=g,h._reject=_}),this.features=v.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=v.popupWindowTarget||"_blank",this.redirect_uri=v.startUrl,j.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return o.prototype._isInAppBrowserInstalled=function(h){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(g){return h.hasOwnProperty(g)})},o.prototype.navigate=function(h){if(h&&h.url){if(!window.cordova)return this._error("cordova is undefined");var g=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(g))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(h.url,this.target,this.features),this._popup?(j.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},o.prototype._loadStartCallback=function(h){0===h.url.indexOf(this.redirect_uri)&&this._success({url:h.url})},o.prototype._exitCallback=function(h){this._error(h)},o.prototype._success=function(h){this._cleanup(),j.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(h)},o.prototype._error=function(h){this._cleanup(),j.Log.error(h),this._reject(new Error(h))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._popup&&(j.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},H(o,[{key:"promise",get:function(){return this._promise}}]),o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var H=M(0),j=M(10),o=M(5),v=M(6),h=M(37),g=M(38),_=M(16),w=M(2),O=M(48),F=M(49),L=M(19),U=M(20),z=M(18),Q=M(1),Y=M(15),ae=M(50);S.default={Version:ae.Version,Log:H.Log,OidcClient:j.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:v.WebStorageStateStore,InMemoryWebStorage:h.InMemoryWebStorage,UserManager:g.UserManager,AccessTokenEvents:_.AccessTokenEvents,MetadataService:w.MetadataService,CordovaPopupNavigator:O.CordovaPopupNavigator,CordovaIFrameNavigator:F.CordovaIFrameNavigator,CheckSessionIFrame:L.CheckSessionIFrame,TokenRevocationClient:U.TokenRevocationClient,SessionMonitor:z.SessionMonitor,Global:Q.Global,User:Y.User},Z.exports=S.default},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ClockService=function(){function H(){!function(o,v){if(!(o instanceof v))throw new TypeError("Cannot call a class as a function")}(this,H)}return H.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},H}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ResponseValidator=void 0;var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},j=M(0),o=M(2),v=M(25),h=M(11),g=M(12),_=M(4);var O=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];S.ResponseValidator=function(){function F(L){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.UserInfoService,Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.JoseUtil,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient;if(function w(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}(this,F),!L)throw j.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=L,this._metadataService=new U(this._settings),this._userInfoService=new z(this._settings),this._joseUtil=Q,this._tokenClient=new Y(this._settings)}return F.prototype.validateSigninResponse=function(U,z){var Q=this;return j.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(U,z).then(function(Y){return j.Log.debug("ResponseValidator.validateSigninResponse: state processed"),Q._validateTokens(U,Y).then(function(ae){return j.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),Q._processClaims(U,ae).then(function(q){return j.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),q})})})},F.prototype.validateSignoutResponse=function(U,z){return U.id!==z.state?(j.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(j.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),z.state=U.data,z.error?(j.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",z.error),Promise.reject(new g.ErrorResponse(z))):Promise.resolve(z))},F.prototype._processSigninParams=function(U,z){if(U.id!==z.state)return j.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!U.client_id)return j.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!U.authority)return j.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==U.authority)return j.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=U.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==U.client_id)return j.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=U.client_id;return j.Log.debug("ResponseValidator._processSigninParams: state validated"),z.state=U.data,z.error?(j.Log.warn("ResponseValidator._processSigninParams: Response was error",z.error),Promise.reject(new g.ErrorResponse(z))):U.nonce&&!z.id_token?(j.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!U.nonce&&z.id_token?(j.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):U.code_verifier&&!z.code?(j.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!U.code_verifier&&z.code?(j.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(z.scope||(z.scope=U.scope),Promise.resolve(z))},F.prototype._processClaims=function(U,z){var Q=this;if(z.isOpenIdConnect){if(j.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),z.profile=this._filterProtocolClaims(z.profile),!0!==U.skipUserInfo&&this._settings.loadUserInfo&&z.access_token)return j.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(z.access_token).then(function(Y){return j.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),Y.sub!==z.profile.sub?(j.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(z.profile=Q._mergeClaims(z.profile,Y),j.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",z.profile),z)});j.Log.debug("ResponseValidator._processClaims: not loading user info")}else j.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(z)},F.prototype._mergeClaims=function(U,z){var Q=Object.assign({},U);for(var Y in z){var ae=z[Y];Array.isArray(ae)||(ae=[ae]);for(var q=0;q<ae.length;q++){var W=ae[q];Q[Y]?Array.isArray(Q[Y])?Q[Y].indexOf(W)<0&&Q[Y].push(W):Q[Y]!==W&&(Q[Y]="object"===(void 0===W?"undefined":H(W))&&this._settings.mergeClaims?this._mergeClaims(Q[Y],W):[Q[Y],W]):Q[Y]=W}}return Q},F.prototype._filterProtocolClaims=function(U){j.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",U);var z=Object.assign({},U);return this._settings._filterProtocolClaims?(O.forEach(function(Q){delete z[Q]}),j.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",z)):j.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),z},F.prototype._validateTokens=function(U,z){return z.code?(j.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(U,z)):z.id_token?z.access_token?(j.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(U,z)):(j.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(U,z)):(j.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(z))},F.prototype._processCode=function(U,z){var Q=this,Y={client_id:U.client_id,client_secret:U.client_secret,code:z.code,redirect_uri:U.redirect_uri,code_verifier:U.code_verifier};return U.extraTokenParams&&"object"===H(U.extraTokenParams)&&Object.assign(Y,U.extraTokenParams),this._tokenClient.exchangeCode(Y).then(function(ae){for(var q in ae)z[q]=ae[q];return z.id_token?(j.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),Q._validateIdTokenAttributes(U,z)):(j.Log.debug("ResponseValidator._processCode: token response successful, returning response"),z)})},F.prototype._validateIdTokenAttributes=function(U,z){var Q=this;return this._metadataService.getIssuer().then(function(Y){var ae=U.client_id,q=Q._settings.clockSkew;return j.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",q),Q._settings.getEpochTime().then(function(W){return Q._joseUtil.validateJwtAttributes(z.id_token,Y,ae,q,W).then(function(J){return U.nonce&&U.nonce!==J.nonce?(j.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):J.sub?(z.profile=J,z):(j.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},F.prototype._validateIdTokenAndAccessToken=function(U,z){var Q=this;return this._validateIdToken(U,z).then(function(Y){return Q._validateAccessToken(Y)})},F.prototype._getSigningKeyForJwt=function(U){var z=this;return this._metadataService.getSigningKeys().then(function(Q){var Y=U.header.kid;if(!Q)return j.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));j.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var ae=void 0;if(Y)ae=Q.filter(function(q){return q.kid===Y})[0];else{if((Q=z._filterByAlg(Q,U.header.alg)).length>1)return j.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ae=Q[0]}return Promise.resolve(ae)})},F.prototype._getSigningKeyForJwtWithSingleRetry=function(U){var z=this;return this._getSigningKeyForJwt(U).then(function(Q){return Q?Promise.resolve(Q):(z._metadataService.resetSigningKeys(),z._getSigningKeyForJwt(U))})},F.prototype._validateIdToken=function(U,z){var Q=this;if(!U.nonce)return j.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var Y=this._joseUtil.parseJwt(z.id_token);return Y&&Y.header&&Y.payload?U.nonce!==Y.payload.nonce?(j.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(ae){return j.Log.debug("ResponseValidator._validateIdToken: Received issuer"),Q._getSigningKeyForJwtWithSingleRetry(Y).then(function(q){if(!q)return j.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var W=U.client_id,J=Q._settings.clockSkew;return j.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",J),Q._joseUtil.validateJwt(z.id_token,q,ae,W,J).then(function(){return j.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),Y.payload.sub?(z.profile=Y.payload,z):(j.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(j.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",Y),Promise.reject(new Error("Failed to parse id_token")))},F.prototype._filterByAlg=function(U,z){var Q=null;if(z.startsWith("RS"))Q="RSA";else if(z.startsWith("PS"))Q="PS";else{if(!z.startsWith("ES"))return j.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",z),[];Q="EC"}return j.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",Q),U=U.filter(function(Y){return Y.kty===Q}),j.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",Q,U.length),U},F.prototype._validateAccessToken=function(U){if(!U.profile)return j.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!U.profile.at_hash)return j.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!U.id_token)return j.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var z=this._joseUtil.parseJwt(U.id_token);if(!z||!z.header)return j.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",z),Promise.reject(new Error("Failed to parse id_token"));var Q=z.header.alg;if(!Q||5!==Q.length)return j.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q),Promise.reject(new Error("Unsupported alg: "+Q));var Y=Q.substr(2,3);if(!Y)return j.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q,Y),Promise.reject(new Error("Unsupported alg: "+Q));if(256!==(Y=parseInt(Y))&&384!==Y&&512!==Y)return j.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q,Y),Promise.reject(new Error("Unsupported alg: "+Q));var ae="sha"+Y,q=this._joseUtil.hashString(U.access_token,ae);if(!q)return j.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",ae),Promise.reject(new Error("Failed to validate at_hash"));var W=q.substr(0,q.length/2),J=this._joseUtil.hexToBase64Url(W);return J!==U.profile.at_hash?(j.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",J,U.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(j.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(U))},F}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserInfoService=void 0;var H=M(7),j=M(2),o=M(0),v=M(4);S.UserInfoService=function(){function g(_){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.JsonService,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.MetadataService,F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.JoseUtil;if(function h(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),!_)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=_,this._jsonService=new w(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new O(this._settings),this._joseUtil=F}return g.prototype.getClaims=function(w){var O=this;return w?this._metadataService.getUserInfoEndpoint().then(function(F){return o.Log.debug("UserInfoService.getClaims: received userinfo url",F),O._jsonService.getJson(F,w).then(function(L){return o.Log.debug("UserInfoService.getClaims: claims received",L),L})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},g.prototype._getClaimsFromJwt=function(w){var O=this;try{var F=this._joseUtil.parseJwt(w.responseText);if(!F||!F.header||!F.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",F),Promise.reject(new Error("Failed to parse id_token"));var L=F.header.kid,U=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":U=this._metadataService.getIssuer();break;case"ANY":U=Promise.resolve(F.payload.iss);break;default:U=Promise.resolve(this._settings.userInfoJwtIssuer)}return U.then(function(z){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+z),O._metadataService.getSigningKeys().then(function(Q){if(!Q)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var Y=void 0;if(L)Y=Q.filter(function(W){return W.kid===L})[0];else{if((Q=O._filterByAlg(Q,F.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));Y=Q[0]}if(!Y)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var ae=O._settings.client_id,q=O._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",q),O._joseUtil.validateJwt(w.responseText,Y,z,ae,q,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),F.payload})})})}catch(z){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",z.message),void reject(z)}},g.prototype._filterByAlg=function(w,O){var F=null;if(O.startsWith("RS"))F="RSA";else if(O.startsWith("PS"))F="PS";else{if(!O.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",O),[];F="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",F),w=w.filter(function(L){return L.kty===F}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",F,w.length),w},g}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.AllowedSigningAlgs=S.b64tohex=S.hextob64u=S.crypto=S.X509=S.KeyUtil=S.jws=void 0;var H=M(27);S.jws=H.jws,S.KeyUtil=H.KEYUTIL,S.X509=H.X509,S.crypto=H.crypto,S.hextob64u=H.hextob64u,S.b64tohex=H.b64tohex,S.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(Z,S,M){"use strict";(function(H){Object.defineProperty(S,"__esModule",{value:!0});var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},o={userAgent:!1},v={};if(void 0===h)var h={};h.lang={extend:function(k,N,G){if(!N||!k)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var oe=function(){};if(oe.prototype=N.prototype,k.prototype=new oe,k.prototype.constructor=k,k.superclass=N.prototype,N.prototype.constructor==Object.prototype.constructor&&(N.prototype.constructor=N),G){var ye;for(ye in G)k.prototype[ye]=G[ye];var Ae=function(){},Le=["toString","valueOf"];try{/MSIE/.test(o.userAgent)&&(Ae=function(je,Ge){for(ye=0;ye<Le.length;ye+=1){var Ke=Le[ye],Qe=Ge[Ke];"function"==typeof Qe&&Qe!=Object.prototype[Ke]&&(je[Ke]=Qe)}})}catch{}Ae(k.prototype,G)}}};var g,_,w,O,F,L,U,z,Q,Y,ae,k,N,G,oe,q=q||(g=Math,w=(_={}).lib={},O=w.Base=function(){function P(){}return{extend:function(N){P.prototype=this;var G=new P;return N&&G.mixIn(N),G.hasOwnProperty("init")||(G.init=function(){G.$super.init.apply(this,arguments)}),G.init.prototype=G,G.$super=this,G},create:function(){var N=this.extend();return N.init.apply(N,arguments),N},init:function(){},mixIn:function(N){for(var G in N)N.hasOwnProperty(G)&&(this[G]=N[G]);N.hasOwnProperty("toString")&&(this.toString=N.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),F=w.WordArray=O.extend({init:function(k,N){k=this.words=k||[],this.sigBytes=N??4*k.length},toString:function(k){return(k||U).stringify(this)},concat:function(k){var N=this.words,G=k.words,oe=this.sigBytes,ye=k.sigBytes;if(this.clamp(),oe%4)for(var Ae=0;Ae<ye;Ae++)N[oe+Ae>>>2]|=(G[Ae>>>2]>>>24-Ae%4*8&255)<<24-(oe+Ae)%4*8;else for(Ae=0;Ae<ye;Ae+=4)N[oe+Ae>>>2]=G[Ae>>>2];return this.sigBytes+=ye,this},clamp:function(){var k=this.words,N=this.sigBytes;k[N>>>2]&=4294967295<<32-N%4*8,k.length=g.ceil(N/4)},clone:function(){var k=O.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var N=[],G=0;G<k;G+=4)N.push(4294967296*g.random()|0);return new F.init(N,k)}}),L=_.enc={},U=L.Hex={stringify:function(k){for(var N=k.words,G=k.sigBytes,oe=[],ye=0;ye<G;ye++){var Ae=N[ye>>>2]>>>24-ye%4*8&255;oe.push((Ae>>>4).toString(16)),oe.push((15&Ae).toString(16))}return oe.join("")},parse:function(k){for(var N=k.length,G=[],oe=0;oe<N;oe+=2)G[oe>>>3]|=parseInt(k.substr(oe,2),16)<<24-oe%8*4;return new F.init(G,N/2)}},z=L.Latin1={stringify:function(k){for(var N=k.words,G=k.sigBytes,oe=[],ye=0;ye<G;ye++)oe.push(String.fromCharCode(N[ye>>>2]>>>24-ye%4*8&255));return oe.join("")},parse:function(k){for(var N=k.length,G=[],oe=0;oe<N;oe++)G[oe>>>2]|=(255&k.charCodeAt(oe))<<24-oe%4*8;return new F.init(G,N)}},Q=L.Utf8={stringify:function(k){try{return decodeURIComponent(escape(z.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return z.parse(unescape(encodeURIComponent(k)))}},Y=w.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new F.init,this._nDataBytes=0},_append:function(k){"string"==typeof k&&(k=Q.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var N=this._data,G=N.words,oe=N.sigBytes,ye=this.blockSize,Ae=oe/(4*ye),Le=(Ae=k?g.ceil(Ae):g.max((0|Ae)-this._minBufferSize,0))*ye,Be=g.min(4*Le,oe);if(Le){for(var je=0;je<Le;je+=ye)this._doProcessBlock(G,je);var Ge=G.splice(0,Le);N.sigBytes-=Be}return new F.init(Ge,Be)},clone:function(){var k=O.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0}),w.Hasher=Y.extend({cfg:O.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){Y.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){return k&&this._append(k),this._doFinalize()},blockSize:16,_createHelper:function(k){return function(N,G){return new k.init(G).finalize(N)}},_createHmacHelper:function(k){return function(N,G){return new ae.HMAC.init(k,G).finalize(N)}}}),ae=_.algo={},_);N=(k=q).lib,G=N.Base,oe=N.WordArray,(k=k.x64={}).Word=G.extend({init:function(Ae,Le){this.high=Ae,this.low=Le}}),k.WordArray=G.extend({init:function(Ae,Le){Ae=this.words=Ae||[],this.sigBytes=Le??8*Ae.length},toX32:function(){for(var Ae=this.words,Le=Ae.length,Be=[],je=0;je<Le;je++){var Ge=Ae[je];Be.push(Ge.high),Be.push(Ge.low)}return oe.create(Be,this.sigBytes)},clone:function(){for(var Ae=G.clone.call(this),Le=Ae.words=this.words.slice(0),Be=Le.length,je=0;je<Be;je++)Le[je]=Le[je].clone();return Ae}}),function(){var k=q.lib.WordArray;q.enc.Base64={stringify:function(G){var oe=G.words,ye=G.sigBytes,Ae=this._map;G.clamp(),G=[];for(var Le=0;Le<ye;Le+=3)for(var Be=(oe[Le>>>2]>>>24-Le%4*8&255)<<16|(oe[Le+1>>>2]>>>24-(Le+1)%4*8&255)<<8|oe[Le+2>>>2]>>>24-(Le+2)%4*8&255,je=0;4>je&&Le+.75*je<ye;je++)G.push(Ae.charAt(Be>>>6*(3-je)&63));if(oe=Ae.charAt(64))for(;G.length%4;)G.push(oe);return G.join("")},parse:function(G){var oe=G.length,ye=this._map;(Ae=ye.charAt(64))&&-1!=(Ae=G.indexOf(Ae))&&(oe=Ae);for(var Ae=[],Le=0,Be=0;Be<oe;Be++)if(Be%4){var je=ye.indexOf(G.charAt(Be-1))<<Be%4*2,Ge=ye.indexOf(G.charAt(Be))>>>6-Be%4*2;Ae[Le>>>2]|=(je|Ge)<<24-Le%4*8,Le++}return k.create(Ae,Le)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(P){for(var k=q,N=(oe=k.lib).WordArray,G=oe.Hasher,oe=k.algo,ye=[],Ae=[],Le=function(At){return 4294967296*(At-(0|At))|0},Be=2,je=0;64>je;){var Ge;e:{for(var Ke=P.sqrt(Ge=Be),Qe=2;Qe<=Ke;Qe++)if(!(Ge%Qe)){Ge=!1;break e}Ge=!0}Ge&&(8>je&&(ye[je]=Le(P.pow(Be,.5))),Ae[je]=Le(P.pow(Be,1/3)),je++),Be++}var ot=[];oe=oe.SHA256=G.extend({_doReset:function(){this._hash=new N.init(ye.slice(0))},_doProcessBlock:function(At,Dt){for(var Pe=this._hash.words,qe=Pe[0],Xe=Pe[1],Je=Pe[2],xt=Pe[3],Tt=Pe[4],ln=Pe[5],Kt=Pe[6],Hn=Pe[7],un=0;64>un;un++){if(16>un)ot[un]=0|At[Dt+un];else{var Cn=ot[un-15],ar=ot[un-2];ot[un]=((Cn<<25|Cn>>>7)^(Cn<<14|Cn>>>18)^Cn>>>3)+ot[un-7]+((ar<<15|ar>>>17)^(ar<<13|ar>>>19)^ar>>>10)+ot[un-16]}Cn=Hn+((Tt<<26|Tt>>>6)^(Tt<<21|Tt>>>11)^(Tt<<7|Tt>>>25))+(Tt&ln^~Tt&Kt)+Ae[un]+ot[un],ar=((qe<<30|qe>>>2)^(qe<<19|qe>>>13)^(qe<<10|qe>>>22))+(qe&Xe^qe&Je^Xe&Je),Hn=Kt,Kt=ln,ln=Tt,Tt=xt+Cn|0,xt=Je,Je=Xe,Xe=qe,qe=Cn+ar|0}Pe[0]=Pe[0]+qe|0,Pe[1]=Pe[1]+Xe|0,Pe[2]=Pe[2]+Je|0,Pe[3]=Pe[3]+xt|0,Pe[4]=Pe[4]+Tt|0,Pe[5]=Pe[5]+ln|0,Pe[6]=Pe[6]+Kt|0,Pe[7]=Pe[7]+Hn|0},_doFinalize:function(){var At=this._data,Dt=At.words,Pe=8*this._nDataBytes,qe=8*At.sigBytes;return Dt[qe>>>5]|=128<<24-qe%32,Dt[14+(qe+64>>>9<<4)]=P.floor(Pe/4294967296),Dt[15+(qe+64>>>9<<4)]=Pe,At.sigBytes=4*Dt.length,this._process(),this._hash},clone:function(){var At=G.clone.call(this);return At._hash=this._hash.clone(),At}}),k.SHA256=G._createHelper(oe),k.HmacSHA256=G._createHmacHelper(oe)}(Math),function(){function P(){return G.create.apply(G,arguments)}for(var k=q,N=k.lib.Hasher,G=(ye=k.x64).Word,oe=ye.WordArray,ye=k.algo,Ae=[P(1116352408,3609767458),P(1899447441,602891725),P(3049323471,3964484399),P(3921009573,2173295548),P(961987163,4081628472),P(1508970993,3053834265),P(2453635748,2937671579),P(2870763221,3664609560),P(3624381080,2734883394),P(310598401,1164996542),P(607225278,1323610764),P(1426881987,3590304994),P(1925078388,4068182383),P(2162078206,991336113),P(2614888103,633803317),P(3248222580,3479774868),P(3835390401,2666613458),P(4022224774,944711139),P(264347078,2341262773),P(604807628,2007800933),P(770255983,1495990901),P(1249150122,1856431235),P(1555081692,3175218132),P(1996064986,2198950837),P(2554220882,3999719339),P(2821834349,766784016),P(2952996808,2566594879),P(3210313671,3203337956),P(3336571891,1034457026),P(3584528711,2466948901),P(113926993,3758326383),P(338241895,168717936),P(666307205,1188179964),P(773529912,1546045734),P(1294757372,1522805485),P(1396182291,2643833823),P(1695183700,2343527390),P(1986661051,1014477480),P(2177026350,1206759142),P(2456956037,344077627),P(2730485921,1290863460),P(2820302411,3158454273),P(3259730800,3505952657),P(3345764771,106217008),P(3516065817,3606008344),P(3600352804,1432725776),P(4094571909,1467031594),P(275423344,851169720),P(430227734,3100823752),P(506948616,1363258195),P(659060556,3750685593),P(883997877,3785050280),P(958139571,3318307427),P(1322822218,3812723403),P(1537002063,2003034995),P(1747873779,3602036899),P(1955562222,1575990012),P(2024104815,1125592928),P(2227730452,2716904306),P(2361852424,442776044),P(2428436474,593698344),P(2756734187,3733110249),P(3204031479,2999351573),P(3329325298,3815920427),P(3391569614,3928383900),P(3515267271,566280711),P(3940187606,3454069534),P(4118630271,4000239992),P(116418474,1914138554),P(174292421,2731055270),P(289380356,3203993006),P(460393269,320620315),P(685471733,587496836),P(852142971,1086792851),P(1017036298,365543100),P(1126000580,2618297676),P(1288033470,3409855158),P(1501505948,4234509866),P(1607167915,987167468),P(1816402316,1246189591)],Le=[],Be=0;80>Be;Be++)Le[Be]=P();ye=ye.SHA512=N.extend({_doReset:function(){this._hash=new oe.init([new G.init(1779033703,4089235720),new G.init(3144134277,2227873595),new G.init(1013904242,4271175723),new G.init(2773480762,1595750129),new G.init(1359893119,2917565137),new G.init(2600822924,725511199),new G.init(528734635,4215389547),new G.init(1541459225,327033209)])},_doProcessBlock:function(Ge,Ke){for(var Qe=(Xe=this._hash.words)[0],ot=Xe[1],yt=Xe[2],At=Xe[3],Dt=Xe[4],Pe=Xe[5],qe=Xe[6],Xe=Xe[7],Je=Qe.high,xt=Qe.low,Tt=ot.high,ln=ot.low,Kt=yt.high,Hn=yt.low,un=At.high,Cn=At.low,ar=Dt.high,Er=Dt.low,xr=Pe.high,Ci=Pe.low,si=qe.high,ti=qe.low,Ue=Xe.high,ft=Xe.low,ht=Je,kt=xt,jt=Tt,Ot=ln,an=Kt,wn=Hn,Tn=un,sr=Cn,Jn=ar,br=Er,wi=xr,Vr=Ci,pi=si,Ni=ti,ni=Ue,lr=ft,Gr=0;80>Gr;Gr++){var Xo=Le[Gr];if(16>Gr)var Fo=Xo.high=0|Ge[Ke+2*Gr],Dr=Xo.low=0|Ge[Ke+2*Gr+1];else{Fo=((Dr=(Fo=Le[Gr-15]).high)>>>1|(Mo=Fo.low)<<31)^(Dr>>>8|Mo<<24)^Dr>>>7;var Mo=(Mo>>>1|Dr<<31)^(Mo>>>8|Dr<<24)^(Mo>>>7|Dr<<25),Qo=((Dr=(Qo=Le[Gr-2]).high)>>>19|(hi=Qo.low)<<13)^(Dr<<3|hi>>>29)^Dr>>>6,hi=(hi>>>19|Dr<<13)^(hi<<3|Dr>>>29)^(hi>>>6|Dr<<26),Ns=(Dr=Le[Gr-7]).high,Ea=(Si=Le[Gr-16]).high,Si=Si.low;Fo=(Fo=(Fo=Fo+Ns+((Dr=Mo+Dr.low)>>>0<Mo>>>0?1:0))+Qo+((Dr+=hi)>>>0<hi>>>0?1:0))+Ea+((Dr+=Si)>>>0<Si>>>0?1:0),Xo.high=Fo,Xo.low=Dr}Ns=Jn&wi^~Jn&pi,Si=br&Vr^~br&Ni,Xo=ht&jt^ht&an^jt&an;var Bs=kt&Ot^kt&wn^Ot&wn,Za=(Mo=(ht>>>28|kt<<4)^(ht<<30|kt>>>2)^(ht<<25|kt>>>7),Qo=(kt>>>28|ht<<4)^(kt<<30|ht>>>2)^(kt<<25|ht>>>7),(hi=Ae[Gr]).high),Zs=hi.low;Ea=ni+((Jn>>>14|br<<18)^(Jn>>>18|br<<14)^(Jn<<23|br>>>9))+((hi=lr+((br>>>14|Jn<<18)^(br>>>18|Jn<<14)^(br<<23|Jn>>>9)))>>>0<lr>>>0?1:0),ni=pi,lr=Ni,pi=wi,Ni=Vr,wi=Jn,Vr=br,Jn=Tn+(Ea=(Ea=(Ea=Ea+Ns+((hi+=Si)>>>0<Si>>>0?1:0))+Za+((hi+=Zs)>>>0<Zs>>>0?1:0))+Fo+((hi+=Dr)>>>0<Dr>>>0?1:0))+((br=sr+hi|0)>>>0<sr>>>0?1:0)|0,Tn=an,sr=wn,an=jt,wn=Ot,jt=ht,Ot=kt,ht=Ea+(Xo=Mo+Xo+((Dr=Qo+Bs)>>>0<Qo>>>0?1:0))+((kt=hi+Dr|0)>>>0<hi>>>0?1:0)|0}xt=Qe.low=xt+kt,Qe.high=Je+ht+(xt>>>0<kt>>>0?1:0),ln=ot.low=ln+Ot,ot.high=Tt+jt+(ln>>>0<Ot>>>0?1:0),Hn=yt.low=Hn+wn,yt.high=Kt+an+(Hn>>>0<wn>>>0?1:0),Cn=At.low=Cn+sr,At.high=un+Tn+(Cn>>>0<sr>>>0?1:0),Er=Dt.low=Er+br,Dt.high=ar+Jn+(Er>>>0<br>>>0?1:0),Ci=Pe.low=Ci+Vr,Pe.high=xr+wi+(Ci>>>0<Vr>>>0?1:0),ti=qe.low=ti+Ni,qe.high=si+pi+(ti>>>0<Ni>>>0?1:0),ft=Xe.low=ft+lr,Xe.high=Ue+ni+(ft>>>0<lr>>>0?1:0)},_doFinalize:function(){var Ge=this._data,Ke=Ge.words,Qe=8*this._nDataBytes,ot=8*Ge.sigBytes;return Ke[ot>>>5]|=128<<24-ot%32,Ke[30+(ot+128>>>10<<5)]=Math.floor(Qe/4294967296),Ke[31+(ot+128>>>10<<5)]=Qe,Ge.sigBytes=4*Ke.length,this._process(),this._hash.toX32()},clone:function(){var Ge=N.clone.call(this);return Ge._hash=this._hash.clone(),Ge},blockSize:32}),k.SHA512=N._createHelper(ye),k.HmacSHA512=N._createHmacHelper(ye)}(),function(){var P=q,k=(oe=P.x64).Word,N=oe.WordArray,G=(oe=P.algo).SHA512,oe=oe.SHA384=G.extend({_doReset:function(){this._hash=new N.init([new k.init(3418070365,3238371032),new k.init(1654270250,914150663),new k.init(2438529370,812702999),new k.init(355462360,4144912697),new k.init(1731405415,4290775857),new k.init(2394180231,1750603025),new k.init(3675008525,1694076839),new k.init(1203062813,3204075428)])},_doFinalize:function(){var Ae=G._doFinalize.call(this);return Ae.sigBytes-=16,Ae}});P.SHA384=G._createHelper(oe),P.HmacSHA384=G._createHmacHelper(oe)}();var W,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function de(P){var k,N,G="";for(k=0;k+3<=P.length;k+=3)N=parseInt(P.substring(k,k+3),16),G+=J.charAt(N>>6)+J.charAt(63&N);for(k+1==P.length?(N=parseInt(P.substring(k,k+1),16),G+=J.charAt(N<<2)):k+2==P.length&&(N=parseInt(P.substring(k,k+2),16),G+=J.charAt(N>>2)+J.charAt((3&N)<<4));(3&G.length)>0;)G+="=";return G}function _e(P){var k,N,G,oe="",ye=0;for(k=0;k<P.length&&"="!=P.charAt(k);++k)(G=J.indexOf(P.charAt(k)))<0||(0==ye?(oe+=$(G>>2),N=3&G,ye=1):1==ye?(oe+=$(N<<2|G>>4),N=15&G,ye=2):2==ye?(oe+=$(N),oe+=$(G>>2),N=3&G,ye=3):(oe+=$(N<<2|G>>4),oe+=$(15&G),ye=0));return 1==ye&&(oe+=$(N<<2)),oe}function be(P){var k,N=_e(P),G=new Array;for(k=0;2*k<N.length;++k)G[k]=parseInt(N.substring(2*k,2*k+2),16);return G}function ge(P,k,N){null!=P&&("number"==typeof P?this.fromNumber(P,k,N):this.fromString(P,null==k&&"string"!=typeof P?256:k))}function x(){return new ge(null)}"Microsoft Internet Explorer"==o.appName?(ge.prototype.am=function(k,N,G,oe,ye,Ae){for(var Le=32767&N,Be=N>>15;--Ae>=0;){var je=32767&this[k],Ge=this[k++]>>15,Ke=Be*je+Ge*Le;ye=((je=Le*je+((32767&Ke)<<15)+G[oe]+(1073741823&ye))>>>30)+(Ke>>>15)+Be*Ge+(ye>>>30),G[oe++]=1073741823&je}return ye},W=30):"Netscape"!=o.appName?(ge.prototype.am=function(k,N,G,oe,ye,Ae){for(;--Ae>=0;){var Le=N*this[k++]+G[oe]+ye;ye=Math.floor(Le/67108864),G[oe++]=67108863&Le}return ye},W=26):(ge.prototype.am=function(k,N,G,oe,ye,Ae){for(var Le=16383&N,Be=N>>14;--Ae>=0;){var je=16383&this[k],Ge=this[k++]>>14,Ke=Be*je+Ge*Le;ye=((je=Le*je+((16383&Ke)<<14)+G[oe]+ye)>>28)+(Ke>>14)+Be*Ge,G[oe++]=268435455&je}return ye},W=28),ge.prototype.DB=W,ge.prototype.DM=(1<<W)-1,ge.prototype.DV=1<<W,ge.prototype.FV=Math.pow(2,52),ge.prototype.F1=52-W,ge.prototype.F2=2*W-52;var A,C,I=new Array;for(A="0".charCodeAt(0),C=0;C<=9;++C)I[A++]=C;for(A="a".charCodeAt(0),C=10;C<36;++C)I[A++]=C;for(A="A".charCodeAt(0),C=10;C<36;++C)I[A++]=C;function $(P){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(P)}function T(P,k){return I[P.charCodeAt(k)]??-1}function X(P){var k=x();return k.fromInt(P),k}function fe(P){var k,N=1;return 0!=(k=P>>>16)&&(P=k,N+=16),0!=(k=P>>8)&&(P=k,N+=8),0!=(k=P>>4)&&(P=k,N+=4),0!=(k=P>>2)&&(P=k,N+=2),0!=(k=P>>1)&&(P=k,N+=1),N}function De(P){this.m=P}function re(P){this.m=P,this.mp=P.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<P.DB-15)-1,this.mt2=2*P.t}function Ne(P,k){return P&k}function at(P,k){return P|k}function Oe(P,k){return P^k}function rt(P,k){return P&~k}function et(P){if(0==P)return-1;var k=0;return!(65535&P)&&(P>>=16,k+=16),!(255&P)&&(P>>=8,k+=8),!(15&P)&&(P>>=4,k+=4),!(3&P)&&(P>>=2,k+=2),!(1&P)&&++k,k}function St(P){for(var k=0;0!=P;)P&=P-1,++k;return k}function it(){}function Ve(P){return P}function st(P){this.r2=x(),this.q3=x(),ge.ONE.dlShiftTo(2*P.t,this.r2),this.mu=this.r2.divide(P),this.m=P}De.prototype.convert=function(k){return k.s<0||k.compareTo(this.m)>=0?k.mod(this.m):k},De.prototype.revert=function(k){return k},De.prototype.reduce=function(k){k.divRemTo(this.m,null,k)},De.prototype.mulTo=function(k,N,G){k.multiplyTo(N,G),this.reduce(G)},De.prototype.sqrTo=function(k,N){k.squareTo(N),this.reduce(N)},re.prototype.convert=function(k){var N=x();return k.abs().dlShiftTo(this.m.t,N),N.divRemTo(this.m,null,N),k.s<0&&N.compareTo(ge.ZERO)>0&&this.m.subTo(N,N),N},re.prototype.revert=function(k){var N=x();return k.copyTo(N),this.reduce(N),N},re.prototype.reduce=function(k){for(;k.t<=this.mt2;)k[k.t++]=0;for(var N=0;N<this.m.t;++N){var G=32767&k[N],oe=G*this.mpl+((G*this.mph+(k[N]>>15)*this.mpl&this.um)<<15)&k.DM;for(k[G=N+this.m.t]+=this.m.am(0,oe,k,N,0,this.m.t);k[G]>=k.DV;)k[G]-=k.DV,k[++G]++}k.clamp(),k.drShiftTo(this.m.t,k),k.compareTo(this.m)>=0&&k.subTo(this.m,k)},re.prototype.mulTo=function(k,N,G){k.multiplyTo(N,G),this.reduce(G)},re.prototype.sqrTo=function(k,N){k.squareTo(N),this.reduce(N)},ge.prototype.copyTo=function(k){for(var N=this.t-1;N>=0;--N)k[N]=this[N];k.t=this.t,k.s=this.s},ge.prototype.fromInt=function(k){this.t=1,this.s=k<0?-1:0,k>0?this[0]=k:k<-1?this[0]=k+this.DV:this.t=0},ge.prototype.fromString=function(k,N){var G;if(16==N)G=4;else if(8==N)G=3;else if(256==N)G=8;else if(2==N)G=1;else if(32==N)G=5;else{if(4!=N)return void this.fromRadix(k,N);G=2}this.t=0,this.s=0;for(var oe=k.length,ye=!1,Ae=0;--oe>=0;){var Le=8==G?255&k[oe]:T(k,oe);Le<0?"-"==k.charAt(oe)&&(ye=!0):(ye=!1,0==Ae?this[this.t++]=Le:Ae+G>this.DB?(this[this.t-1]|=(Le&(1<<this.DB-Ae)-1)<<Ae,this[this.t++]=Le>>this.DB-Ae):this[this.t-1]|=Le<<Ae,(Ae+=G)>=this.DB&&(Ae-=this.DB))}8==G&&128&k[0]&&(this.s=-1,Ae>0&&(this[this.t-1]|=(1<<this.DB-Ae)-1<<Ae)),this.clamp(),ye&&ge.ZERO.subTo(this,this)},ge.prototype.clamp=function(){for(var k=this.s&this.DM;this.t>0&&this[this.t-1]==k;)--this.t},ge.prototype.dlShiftTo=function(k,N){var G;for(G=this.t-1;G>=0;--G)N[G+k]=this[G];for(G=k-1;G>=0;--G)N[G]=0;N.t=this.t+k,N.s=this.s},ge.prototype.drShiftTo=function(k,N){for(var G=k;G<this.t;++G)N[G-k]=this[G];N.t=Math.max(this.t-k,0),N.s=this.s},ge.prototype.lShiftTo=function(k,N){var G,oe=k%this.DB,ye=this.DB-oe,Ae=(1<<ye)-1,Le=Math.floor(k/this.DB),Be=this.s<<oe&this.DM;for(G=this.t-1;G>=0;--G)N[G+Le+1]=this[G]>>ye|Be,Be=(this[G]&Ae)<<oe;for(G=Le-1;G>=0;--G)N[G]=0;N[Le]=Be,N.t=this.t+Le+1,N.s=this.s,N.clamp()},ge.prototype.rShiftTo=function(k,N){N.s=this.s;var G=Math.floor(k/this.DB);if(G>=this.t)N.t=0;else{var oe=k%this.DB,ye=this.DB-oe,Ae=(1<<oe)-1;N[0]=this[G]>>oe;for(var Le=G+1;Le<this.t;++Le)N[Le-G-1]|=(this[Le]&Ae)<<ye,N[Le-G]=this[Le]>>oe;oe>0&&(N[this.t-G-1]|=(this.s&Ae)<<ye),N.t=this.t-G,N.clamp()}},ge.prototype.subTo=function(k,N){for(var G=0,oe=0,ye=Math.min(k.t,this.t);G<ye;)oe+=this[G]-k[G],N[G++]=oe&this.DM,oe>>=this.DB;if(k.t<this.t){for(oe-=k.s;G<this.t;)oe+=this[G],N[G++]=oe&this.DM,oe>>=this.DB;oe+=this.s}else{for(oe+=this.s;G<k.t;)oe-=k[G],N[G++]=oe&this.DM,oe>>=this.DB;oe-=k.s}N.s=oe<0?-1:0,oe<-1?N[G++]=this.DV+oe:oe>0&&(N[G++]=oe),N.t=G,N.clamp()},ge.prototype.multiplyTo=function(k,N){var G=this.abs(),oe=k.abs(),ye=G.t;for(N.t=ye+oe.t;--ye>=0;)N[ye]=0;for(ye=0;ye<oe.t;++ye)N[ye+G.t]=G.am(0,oe[ye],N,ye,0,G.t);N.s=0,N.clamp(),this.s!=k.s&&ge.ZERO.subTo(N,N)},ge.prototype.squareTo=function(k){for(var N=this.abs(),G=k.t=2*N.t;--G>=0;)k[G]=0;for(G=0;G<N.t-1;++G){var oe=N.am(G,N[G],k,2*G,0,1);(k[G+N.t]+=N.am(G+1,2*N[G],k,2*G+1,oe,N.t-G-1))>=N.DV&&(k[G+N.t]-=N.DV,k[G+N.t+1]=1)}k.t>0&&(k[k.t-1]+=N.am(G,N[G],k,2*G,0,1)),k.s=0,k.clamp()},ge.prototype.divRemTo=function(k,N,G){var oe=k.abs();if(!(oe.t<=0)){var ye=this.abs();if(ye.t<oe.t)return N?.fromInt(0),void(null!=G&&this.copyTo(G));null==G&&(G=x());var Ae=x(),Le=this.s,Be=k.s,je=this.DB-fe(oe[oe.t-1]);je>0?(oe.lShiftTo(je,Ae),ye.lShiftTo(je,G)):(oe.copyTo(Ae),ye.copyTo(G));var Ge=Ae.t,Ke=Ae[Ge-1];if(0!=Ke){var Qe=Ke*(1<<this.F1)+(Ge>1?Ae[Ge-2]>>this.F2:0),ot=this.FV/Qe,yt=(1<<this.F1)/Qe,At=1<<this.F2,Dt=G.t,Pe=Dt-Ge,qe=N??x();for(Ae.dlShiftTo(Pe,qe),G.compareTo(qe)>=0&&(G[G.t++]=1,G.subTo(qe,G)),ge.ONE.dlShiftTo(Ge,qe),qe.subTo(Ae,Ae);Ae.t<Ge;)Ae[Ae.t++]=0;for(;--Pe>=0;){var Xe=G[--Dt]==Ke?this.DM:Math.floor(G[Dt]*ot+(G[Dt-1]+At)*yt);if((G[Dt]+=Ae.am(0,Xe,G,Pe,0,Ge))<Xe)for(Ae.dlShiftTo(Pe,qe),G.subTo(qe,G);G[Dt]<--Xe;)G.subTo(qe,G)}null!=N&&(G.drShiftTo(Ge,N),Le!=Be&&ge.ZERO.subTo(N,N)),G.t=Ge,G.clamp(),je>0&&G.rShiftTo(je,G),Le<0&&ge.ZERO.subTo(G,G)}}},ge.prototype.invDigit=function(){if(this.t<1)return 0;var k=this[0];if(!(1&k))return 0;var N=3&k;return(N=(N=(N=(N=N*(2-(15&k)*N)&15)*(2-(255&k)*N)&255)*(2-((65535&k)*N&65535))&65535)*(2-k*N%this.DV)%this.DV)>0?this.DV-N:-N},ge.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},ge.prototype.exp=function(k,N){if(k>4294967295||k<1)return ge.ONE;var G=x(),oe=x(),ye=N.convert(this),Ae=fe(k)-1;for(ye.copyTo(G);--Ae>=0;)if(N.sqrTo(G,oe),(k&1<<Ae)>0)N.mulTo(oe,ye,G);else{var Le=G;G=oe,oe=Le}return N.revert(G)},ge.prototype.toString=function(k){if(this.s<0)return"-"+this.negate().toString(k);var N;if(16==k)N=4;else if(8==k)N=3;else if(2==k)N=1;else if(32==k)N=5;else{if(4!=k)return this.toRadix(k);N=2}var G,oe=(1<<N)-1,ye=!1,Ae="",Le=this.t,Be=this.DB-Le*this.DB%N;if(Le-- >0)for(Be<this.DB&&(G=this[Le]>>Be)>0&&(ye=!0,Ae=$(G));Le>=0;)Be<N?(G=(this[Le]&(1<<Be)-1)<<N-Be,G|=this[--Le]>>(Be+=this.DB-N)):(G=this[Le]>>(Be-=N)&oe,Be<=0&&(Be+=this.DB,--Le)),G>0&&(ye=!0),ye&&(Ae+=$(G));return ye?Ae:"0"},ge.prototype.negate=function(){var k=x();return ge.ZERO.subTo(this,k),k},ge.prototype.abs=function(){return this.s<0?this.negate():this},ge.prototype.compareTo=function(k){var N=this.s-k.s;if(0!=N)return N;var G=this.t;if(0!=(N=G-k.t))return this.s<0?-N:N;for(;--G>=0;)if(0!=(N=this[G]-k[G]))return N;return 0},ge.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+fe(this[this.t-1]^this.s&this.DM)},ge.prototype.mod=function(k){var N=x();return this.abs().divRemTo(k,null,N),this.s<0&&N.compareTo(ge.ZERO)>0&&k.subTo(N,N),N},ge.prototype.modPowInt=function(k,N){var G;return G=k<256||N.isEven()?new De(N):new re(N),this.exp(k,G)},ge.ZERO=X(0),ge.ONE=X(1),it.prototype.convert=Ve,it.prototype.revert=Ve,it.prototype.mulTo=function(k,N,G){k.multiplyTo(N,G)},it.prototype.sqrTo=function(k,N){k.squareTo(N)},st.prototype.convert=function(k){if(k.s<0||k.t>2*this.m.t)return k.mod(this.m);if(k.compareTo(this.m)<0)return k;var N=x();return k.copyTo(N),this.reduce(N),N},st.prototype.revert=function(k){return k},st.prototype.reduce=function(k){for(k.drShiftTo(this.m.t-1,this.r2),k.t>this.m.t+1&&(k.t=this.m.t+1,k.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);k.compareTo(this.r2)<0;)k.dAddOffset(1,this.m.t+1);for(k.subTo(this.r2,k);k.compareTo(this.m)>=0;)k.subTo(this.m,k)},st.prototype.mulTo=function(k,N,G){k.multiplyTo(N,G),this.reduce(G)},st.prototype.sqrTo=function(k,N){k.squareTo(N),this.reduce(N)};var Re,Ze,pe,me=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ee=(1<<26)/me[me.length-1];function se(){this.i=0,this.j=0,this.S=new Array}function Ce(){!function(k){Ze[pe++]^=255&k,Ze[pe++]^=k>>8&255,Ze[pe++]^=k>>16&255,Ze[pe++]^=k>>24&255,pe>=256&&(pe-=256)}((new Date).getTime())}if(ge.prototype.chunkSize=function(k){return Math.floor(Math.LN2*this.DB/Math.log(k))},ge.prototype.toRadix=function(k){if(null==k&&(k=10),0==this.signum()||k<2||k>36)return"0";var N=this.chunkSize(k),G=Math.pow(k,N),oe=X(G),ye=x(),Ae=x(),Le="";for(this.divRemTo(oe,ye,Ae);ye.signum()>0;)Le=(G+Ae.intValue()).toString(k).substr(1)+Le,ye.divRemTo(oe,ye,Ae);return Ae.intValue().toString(k)+Le},ge.prototype.fromRadix=function(k,N){this.fromInt(0),null==N&&(N=10);for(var G=this.chunkSize(N),oe=Math.pow(N,G),ye=!1,Ae=0,Le=0,Be=0;Be<k.length;++Be){var je=T(k,Be);je<0?"-"==k.charAt(Be)&&0==this.signum()&&(ye=!0):(Le=N*Le+je,++Ae>=G&&(this.dMultiply(oe),this.dAddOffset(Le,0),Ae=0,Le=0))}Ae>0&&(this.dMultiply(Math.pow(N,Ae)),this.dAddOffset(Le,0)),ye&&ge.ZERO.subTo(this,this)},ge.prototype.fromNumber=function(k,N,G){if("number"==typeof N)if(k<2)this.fromInt(1);else for(this.fromNumber(k,G),this.testBit(k-1)||this.bitwiseTo(ge.ONE.shiftLeft(k-1),at,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(N);)this.dAddOffset(2,0),this.bitLength()>k&&this.subTo(ge.ONE.shiftLeft(k-1),this);else{var oe=new Array,ye=7&k;oe.length=1+(k>>3),N.nextBytes(oe),ye>0?oe[0]&=(1<<ye)-1:oe[0]=0,this.fromString(oe,256)}},ge.prototype.bitwiseTo=function(k,N,G){var oe,ye,Ae=Math.min(k.t,this.t);for(oe=0;oe<Ae;++oe)G[oe]=N(this[oe],k[oe]);if(k.t<this.t){for(ye=k.s&this.DM,oe=Ae;oe<this.t;++oe)G[oe]=N(this[oe],ye);G.t=this.t}else{for(ye=this.s&this.DM,oe=Ae;oe<k.t;++oe)G[oe]=N(ye,k[oe]);G.t=k.t}G.s=N(this.s,k.s),G.clamp()},ge.prototype.changeBit=function(k,N){var G=ge.ONE.shiftLeft(k);return this.bitwiseTo(G,N,G),G},ge.prototype.addTo=function(k,N){for(var G=0,oe=0,ye=Math.min(k.t,this.t);G<ye;)oe+=this[G]+k[G],N[G++]=oe&this.DM,oe>>=this.DB;if(k.t<this.t){for(oe+=k.s;G<this.t;)oe+=this[G],N[G++]=oe&this.DM,oe>>=this.DB;oe+=this.s}else{for(oe+=this.s;G<k.t;)oe+=k[G],N[G++]=oe&this.DM,oe>>=this.DB;oe+=k.s}N.s=oe<0?-1:0,oe>0?N[G++]=oe:oe<-1&&(N[G++]=this.DV+oe),N.t=G,N.clamp()},ge.prototype.dMultiply=function(k){this[this.t]=this.am(0,k-1,this,0,0,this.t),++this.t,this.clamp()},ge.prototype.dAddOffset=function(k,N){if(0!=k){for(;this.t<=N;)this[this.t++]=0;for(this[N]+=k;this[N]>=this.DV;)this[N]-=this.DV,++N>=this.t&&(this[this.t++]=0),++this[N]}},ge.prototype.multiplyLowerTo=function(k,N,G){var oe,ye=Math.min(this.t+k.t,N);for(G.s=0,G.t=ye;ye>0;)G[--ye]=0;for(oe=G.t-this.t;ye<oe;++ye)G[ye+this.t]=this.am(0,k[ye],G,ye,0,this.t);for(oe=Math.min(k.t,N);ye<oe;++ye)this.am(0,k[ye],G,ye,0,N-ye);G.clamp()},ge.prototype.multiplyUpperTo=function(k,N,G){--N;var oe=G.t=this.t+k.t-N;for(G.s=0;--oe>=0;)G[oe]=0;for(oe=Math.max(N-this.t,0);oe<k.t;++oe)G[this.t+oe-N]=this.am(N-oe,k[oe],G,0,0,this.t+oe-N);G.clamp(),G.drShiftTo(1,G)},ge.prototype.modInt=function(k){if(k<=0)return 0;var N=this.DV%k,G=this.s<0?k-1:0;if(this.t>0)if(0==N)G=this[0]%k;else for(var oe=this.t-1;oe>=0;--oe)G=(N*G+this[oe])%k;return G},ge.prototype.millerRabin=function(k){var N=this.subtract(ge.ONE),G=N.getLowestSetBit();if(G<=0)return!1;var oe=N.shiftRight(G);(k=k+1>>1)>me.length&&(k=me.length);for(var ye=x(),Ae=0;Ae<k;++Ae){ye.fromInt(me[Math.floor(Math.random()*me.length)]);var Le=ye.modPow(oe,this);if(0!=Le.compareTo(ge.ONE)&&0!=Le.compareTo(N)){for(var Be=1;Be++<G&&0!=Le.compareTo(N);)if(0==(Le=Le.modPowInt(2,this)).compareTo(ge.ONE))return!1;if(0!=Le.compareTo(N))return!1}}return!0},ge.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var k=x();return this.copyTo(k),k},ge.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},ge.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},ge.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},ge.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},ge.prototype.toByteArray=function(){var k=this.t,N=new Array;N[0]=this.s;var G,oe=this.DB-k*this.DB%8,ye=0;if(k-- >0)for(oe<this.DB&&(G=this[k]>>oe)!=(this.s&this.DM)>>oe&&(N[ye++]=G|this.s<<this.DB-oe);k>=0;)oe<8?(G=(this[k]&(1<<oe)-1)<<8-oe,G|=this[--k]>>(oe+=this.DB-8)):(G=this[k]>>(oe-=8)&255,oe<=0&&(oe+=this.DB,--k)),128&G&&(G|=-256),0==ye&&(128&this.s)!=(128&G)&&++ye,(ye>0||G!=this.s)&&(N[ye++]=G);return N},ge.prototype.equals=function(k){return 0==this.compareTo(k)},ge.prototype.min=function(k){return this.compareTo(k)<0?this:k},ge.prototype.max=function(k){return this.compareTo(k)>0?this:k},ge.prototype.and=function(k){var N=x();return this.bitwiseTo(k,Ne,N),N},ge.prototype.or=function(k){var N=x();return this.bitwiseTo(k,at,N),N},ge.prototype.xor=function(k){var N=x();return this.bitwiseTo(k,Oe,N),N},ge.prototype.andNot=function(k){var N=x();return this.bitwiseTo(k,rt,N),N},ge.prototype.not=function(){for(var k=x(),N=0;N<this.t;++N)k[N]=this.DM&~this[N];return k.t=this.t,k.s=~this.s,k},ge.prototype.shiftLeft=function(k){var N=x();return k<0?this.rShiftTo(-k,N):this.lShiftTo(k,N),N},ge.prototype.shiftRight=function(k){var N=x();return k<0?this.lShiftTo(-k,N):this.rShiftTo(k,N),N},ge.prototype.getLowestSetBit=function(){for(var k=0;k<this.t;++k)if(0!=this[k])return k*this.DB+et(this[k]);return this.s<0?this.t*this.DB:-1},ge.prototype.bitCount=function(){for(var k=0,N=this.s&this.DM,G=0;G<this.t;++G)k+=St(this[G]^N);return k},ge.prototype.testBit=function(k){var N=Math.floor(k/this.DB);return N>=this.t?0!=this.s:0!=(this[N]&1<<k%this.DB)},ge.prototype.setBit=function(k){return this.changeBit(k,at)},ge.prototype.clearBit=function(k){return this.changeBit(k,rt)},ge.prototype.flipBit=function(k){return this.changeBit(k,Oe)},ge.prototype.add=function(k){var N=x();return this.addTo(k,N),N},ge.prototype.subtract=function(k){var N=x();return this.subTo(k,N),N},ge.prototype.multiply=function(k){var N=x();return this.multiplyTo(k,N),N},ge.prototype.divide=function(k){var N=x();return this.divRemTo(k,N,null),N},ge.prototype.remainder=function(k){var N=x();return this.divRemTo(k,null,N),N},ge.prototype.divideAndRemainder=function(k){var N=x(),G=x();return this.divRemTo(k,N,G),new Array(N,G)},ge.prototype.modPow=function(k,N){var G,oe,ye=k.bitLength(),Ae=X(1);if(ye<=0)return Ae;G=ye<18?1:ye<48?3:ye<144?4:ye<768?5:6,oe=ye<8?new De(N):N.isEven()?new st(N):new re(N);var Le=new Array,Be=3,je=G-1,Ge=(1<<G)-1;if(Le[1]=oe.convert(this),G>1){var Ke=x();for(oe.sqrTo(Le[1],Ke);Be<=Ge;)Le[Be]=x(),oe.mulTo(Ke,Le[Be-2],Le[Be]),Be+=2}var Qe,ot,yt=k.t-1,At=!0,Dt=x();for(ye=fe(k[yt])-1;yt>=0;){for(ye>=je?Qe=k[yt]>>ye-je&Ge:(Qe=(k[yt]&(1<<ye+1)-1)<<je-ye,yt>0&&(Qe|=k[yt-1]>>this.DB+ye-je)),Be=G;!(1&Qe);)Qe>>=1,--Be;if((ye-=Be)<0&&(ye+=this.DB,--yt),At)Le[Qe].copyTo(Ae),At=!1;else{for(;Be>1;)oe.sqrTo(Ae,Dt),oe.sqrTo(Dt,Ae),Be-=2;Be>0?oe.sqrTo(Ae,Dt):(ot=Ae,Ae=Dt,Dt=ot),oe.mulTo(Dt,Le[Qe],Ae)}for(;yt>=0&&!(k[yt]&1<<ye);)oe.sqrTo(Ae,Dt),ot=Ae,Ae=Dt,Dt=ot,--ye<0&&(ye=this.DB-1,--yt)}return oe.revert(Ae)},ge.prototype.modInverse=function(k){var N=k.isEven();if(this.isEven()&&N||0==k.signum())return ge.ZERO;for(var G=k.clone(),oe=this.clone(),ye=X(1),Ae=X(0),Le=X(0),Be=X(1);0!=G.signum();){for(;G.isEven();)G.rShiftTo(1,G),N?(ye.isEven()&&Ae.isEven()||(ye.addTo(this,ye),Ae.subTo(k,Ae)),ye.rShiftTo(1,ye)):Ae.isEven()||Ae.subTo(k,Ae),Ae.rShiftTo(1,Ae);for(;oe.isEven();)oe.rShiftTo(1,oe),N?(Le.isEven()&&Be.isEven()||(Le.addTo(this,Le),Be.subTo(k,Be)),Le.rShiftTo(1,Le)):Be.isEven()||Be.subTo(k,Be),Be.rShiftTo(1,Be);G.compareTo(oe)>=0?(G.subTo(oe,G),N&&ye.subTo(Le,ye),Ae.subTo(Be,Ae)):(oe.subTo(G,oe),N&&Le.subTo(ye,Le),Be.subTo(Ae,Be))}return 0!=oe.compareTo(ge.ONE)?ge.ZERO:Be.compareTo(k)>=0?Be.subtract(k):Be.signum()<0?(Be.addTo(k,Be),Be.signum()<0?Be.add(k):Be):Be},ge.prototype.pow=function(k){return this.exp(k,new it)},ge.prototype.gcd=function(k){var N=this.s<0?this.negate():this.clone(),G=k.s<0?k.negate():k.clone();if(N.compareTo(G)<0){var oe=N;N=G,G=oe}var ye=N.getLowestSetBit(),Ae=G.getLowestSetBit();if(Ae<0)return N;for(ye<Ae&&(Ae=ye),Ae>0&&(N.rShiftTo(Ae,N),G.rShiftTo(Ae,G));N.signum()>0;)(ye=N.getLowestSetBit())>0&&N.rShiftTo(ye,N),(ye=G.getLowestSetBit())>0&&G.rShiftTo(ye,G),N.compareTo(G)>=0?(N.subTo(G,N),N.rShiftTo(1,N)):(G.subTo(N,G),G.rShiftTo(1,G));return Ae>0&&G.lShiftTo(Ae,G),G},ge.prototype.isProbablePrime=function(k){var N,G=this.abs();if(1==G.t&&G[0]<=me[me.length-1]){for(N=0;N<me.length;++N)if(G[0]==me[N])return!0;return!1}if(G.isEven())return!1;for(N=1;N<me.length;){for(var oe=me[N],ye=N+1;ye<me.length&&oe<ee;)oe*=me[ye++];for(oe=G.modInt(oe);N<ye;)if(oe%me[N++]==0)return!1}return G.millerRabin(k)},ge.prototype.square=function(){var k=x();return this.squareTo(k),k},se.prototype.init=function(k){var N,G,oe;for(N=0;N<256;++N)this.S[N]=N;for(G=0,N=0;N<256;++N)oe=this.S[N],this.S[N]=this.S[G=G+this.S[N]+k[N%k.length]&255],this.S[G]=oe;this.i=0,this.j=0},se.prototype.next=function(){var k;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,k=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=k,this.S[k+this.S[this.i]&255]},null==Ze){var dt;if(Ze=new Array,pe=0,void 0!==v&&(void 0!==v.crypto||void 0!==v.msCrypto)){var Ee=v.crypto||v.msCrypto;if(Ee.getRandomValues){var le=new Uint8Array(32);for(Ee.getRandomValues(le),dt=0;dt<32;++dt)Ze[pe++]=le[dt]}else if("Netscape"==o.appName&&o.appVersion<"5"){var ce=v.crypto.random(32);for(dt=0;dt<ce.length;++dt)Ze[pe++]=255&ce.charCodeAt(dt)}}for(;pe<256;)dt=Math.floor(65536*Math.random()),Ze[pe++]=dt>>>8,Ze[pe++]=255&dt;pe=0,Ce()}function Fe(){if(null==Re){for(Ce(),(Re=new se).init(Ze),pe=0;pe<Ze.length;++pe)Ze[pe]=0;pe=0}return Re.next()}function ut(){}function Nt(P,k){return new ge(P,k)}function Mt(P,k,N){for(var G="",oe=0;G.length<k;)G+=N(String.fromCharCode.apply(String,P.concat([(4278190080&oe)>>24,(16711680&oe)>>16,(65280&oe)>>8,255&oe]))),oe+=1;return G}function Wt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function mn(P,k){this.x=k,this.q=P}function tn(P,k,N,G){this.curve=P,this.x=k,this.y=N,this.z=G??ge.ONE,this.zinv=null}function ir(P,k,N){this.q=P,this.a=this.fromBigInteger(k),this.b=this.fromBigInteger(N),this.infinity=new tn(this,null,null)}ut.prototype.nextBytes=function(k){var N;for(N=0;N<k.length;++N)k[N]=Fe()},Wt.prototype.doPublic=function(k){return k.modPowInt(this.e,this.n)},Wt.prototype.setPublic=function(k,N){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof k)this.n=k,this.e=N;else{if(!(null!=k&&null!=N&&k.length>0&&N.length>0))throw"Invalid RSA public key";this.n=Nt(k,16),this.e=parseInt(N,16)}},Wt.prototype.encrypt=function(k){var N=function(Ae,Le){if(Le<Ae.length+11)throw"Message too long for RSA";for(var Be=new Array,je=Ae.length-1;je>=0&&Le>0;){var Ge=Ae.charCodeAt(je--);Ge<128?Be[--Le]=Ge:Ge>127&&Ge<2048?(Be[--Le]=63&Ge|128,Be[--Le]=Ge>>6|192):(Be[--Le]=63&Ge|128,Be[--Le]=Ge>>6&63|128,Be[--Le]=Ge>>12|224)}Be[--Le]=0;for(var Ke=new ut,Qe=new Array;Le>2;){for(Qe[0]=0;0==Qe[0];)Ke.nextBytes(Qe);Be[--Le]=Qe[0]}return Be[--Le]=2,Be[--Le]=0,new ge(Be)}(k,this.n.bitLength()+7>>3);if(null==N)return null;var G=this.doPublic(N);if(null==G)return null;var oe=G.toString(16);return 1&oe.length?"0"+oe:oe},Wt.prototype.encryptOAEP=function(k,N,G){var oe=function(Be,je,Ge,Ke){var Qe=Ie.crypto.MessageDigest,ot=Ie.crypto.Util,yt=null;if(Ge||(Ge="sha1"),"string"==typeof Ge&&(yt=Qe.getCanonicalAlgName(Ge),Ke=Qe.getHashLength(yt),Ge=function(Kt){return cr(ot.hashHex(Ar(Kt),yt))}),Be.length+2*Ke+2>je)throw"Message too long for RSA";var At,Dt="";for(At=0;At<je-Be.length-2*Ke-2;At+=1)Dt+="\0";var Pe=Ge("")+Dt+"\x01"+Be,qe=new Array(Ke);(new ut).nextBytes(qe);var Xe=Mt(qe,Pe.length,Ge),Je=[];for(At=0;At<Pe.length;At+=1)Je[At]=Pe.charCodeAt(At)^Xe.charCodeAt(At);var xt=Mt(Je,qe.length,Ge),Tt=[0];for(At=0;At<qe.length;At+=1)Tt[At+1]=qe[At]^xt.charCodeAt(At);return new ge(Tt.concat(Je))}(k,this.n.bitLength()+7>>3,N,G);if(null==oe)return null;var ye=this.doPublic(oe);if(null==ye)return null;var Ae=ye.toString(16);return 1&Ae.length?"0"+Ae:Ae},Wt.prototype.type="RSA",mn.prototype.equals=function(k){return k==this||this.q.equals(k.q)&&this.x.equals(k.x)},mn.prototype.toBigInteger=function(){return this.x},mn.prototype.negate=function(){return new mn(this.q,this.x.negate().mod(this.q))},mn.prototype.add=function(k){return new mn(this.q,this.x.add(k.toBigInteger()).mod(this.q))},mn.prototype.subtract=function(k){return new mn(this.q,this.x.subtract(k.toBigInteger()).mod(this.q))},mn.prototype.multiply=function(k){return new mn(this.q,this.x.multiply(k.toBigInteger()).mod(this.q))},mn.prototype.square=function(){return new mn(this.q,this.x.square().mod(this.q))},mn.prototype.divide=function(k){return new mn(this.q,this.x.multiply(k.toBigInteger().modInverse(this.q)).mod(this.q))},tn.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},tn.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},tn.prototype.equals=function(k){return k==this||(this.isInfinity()?k.isInfinity():k.isInfinity()?this.isInfinity():!!k.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(k.z)).mod(this.curve.q).equals(ge.ZERO)&&k.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(k.z)).mod(this.curve.q).equals(ge.ZERO))},tn.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(ge.ZERO)&&!this.y.toBigInteger().equals(ge.ZERO)},tn.prototype.negate=function(){return new tn(this.curve,this.x,this.y.negate(),this.z)},tn.prototype.add=function(k){if(this.isInfinity())return k;if(k.isInfinity())return this;var N=k.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(k.z)).mod(this.curve.q),G=k.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(k.z)).mod(this.curve.q);if(ge.ZERO.equals(G))return ge.ZERO.equals(N)?this.twice():this.curve.getInfinity();var oe=new ge("3"),ye=this.x.toBigInteger(),Ae=this.y.toBigInteger(),Le=(k.x.toBigInteger(),k.y.toBigInteger(),G.square()),Be=Le.multiply(G),je=ye.multiply(Le),Ge=N.square().multiply(this.z),Ke=Ge.subtract(je.shiftLeft(1)).multiply(k.z).subtract(Be).multiply(G).mod(this.curve.q),Qe=je.multiply(oe).multiply(N).subtract(Ae.multiply(Be)).subtract(Ge.multiply(N)).multiply(k.z).add(N.multiply(Be)).mod(this.curve.q),ot=Be.multiply(this.z).multiply(k.z).mod(this.curve.q);return new tn(this.curve,this.curve.fromBigInteger(Ke),this.curve.fromBigInteger(Qe),ot)},tn.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var k=new ge("3"),N=this.x.toBigInteger(),G=this.y.toBigInteger(),oe=G.multiply(this.z),ye=oe.multiply(G).mod(this.curve.q),Ae=this.curve.a.toBigInteger(),Le=N.square().multiply(k);ge.ZERO.equals(Ae)||(Le=Le.add(this.z.square().multiply(Ae)));var Be=(Le=Le.mod(this.curve.q)).square().subtract(N.shiftLeft(3).multiply(ye)).shiftLeft(1).multiply(oe).mod(this.curve.q),je=Le.multiply(k).multiply(N).subtract(ye.shiftLeft(1)).shiftLeft(2).multiply(ye).subtract(Le.square().multiply(Le)).mod(this.curve.q),Ge=oe.square().multiply(oe).shiftLeft(3).mod(this.curve.q);return new tn(this.curve,this.curve.fromBigInteger(Be),this.curve.fromBigInteger(je),Ge)},tn.prototype.multiply=function(k){if(this.isInfinity())return this;if(0==k.signum())return this.curve.getInfinity();var N,G=k,oe=G.multiply(new ge("3")),ye=this.negate(),Ae=this,Le=this.curve.q.subtract(k),Be=Le.multiply(new ge("3")),je=new tn(this.curve,this.x,this.y),Ge=je.negate();for(N=oe.bitLength()-2;N>0;--N){Ae=Ae.twice();var Ke=oe.testBit(N);Ke!=G.testBit(N)&&(Ae=Ae.add(Ke?this:ye))}for(N=Be.bitLength()-2;N>0;--N){je=je.twice();var Qe=Be.testBit(N);Qe!=Le.testBit(N)&&(je=je.add(Qe?je:Ge))}return Ae},tn.prototype.multiplyTwo=function(k,N,G){var oe;oe=k.bitLength()>G.bitLength()?k.bitLength()-1:G.bitLength()-1;for(var ye=this.curve.getInfinity(),Ae=this.add(N);oe>=0;)ye=ye.twice(),k.testBit(oe)?ye=G.testBit(oe)?ye.add(Ae):ye.add(this):G.testBit(oe)&&(ye=ye.add(N)),--oe;return ye},ir.prototype.getQ=function(){return this.q},ir.prototype.getA=function(){return this.a},ir.prototype.getB=function(){return this.b},ir.prototype.equals=function(k){return k==this||this.q.equals(k.q)&&this.a.equals(k.a)&&this.b.equals(k.b)},ir.prototype.getInfinity=function(){return this.infinity},ir.prototype.fromBigInteger=function(k){return new mn(this.q,k)},ir.prototype.decodePointHex=function(k){switch(parseInt(k.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var N=(k.length-2)/2,G=k.substr(2,N),oe=k.substr(N+2,N);return new tn(this,this.fromBigInteger(new ge(G,16)),this.fromBigInteger(new ge(oe,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
mn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},tn.prototype.getEncoded=function(P){var k=function(Ae,Le){var Be=Ae.toByteArrayUnsigned();if(Le<Be.length)Be=Be.slice(Be.length-Le);else for(;Le>Be.length;)Be.unshift(0);return Be},N=this.getX().toBigInteger(),G=this.getY().toBigInteger(),oe=k(N,32);return P?G.isEven()?oe.unshift(2):oe.unshift(3):(oe.unshift(4),oe=oe.concat(k(G,32))),oe},tn.decodeFrom=function(P,k){var N=k.length-1,G=k.slice(1,1+N/2),oe=k.slice(1+N/2,1+N);G.unshift(0),oe.unshift(0);var ye=new ge(G),Ae=new ge(oe);return new tn(P,P.fromBigInteger(ye),P.fromBigInteger(Ae))},tn.decodeFromHex=function(P,k){k.substr(0,2);var N=k.length-2,G=k.substr(2,N/2),oe=k.substr(2+N/2,N/2),ye=new ge(G,16),Ae=new ge(oe,16);return new tn(P,P.fromBigInteger(ye),P.fromBigInteger(Ae))},tn.prototype.add2D=function(P){if(this.isInfinity())return P;if(P.isInfinity())return this;if(this.x.equals(P.x))return this.y.equals(P.y)?this.twice():this.curve.getInfinity();var k=P.x.subtract(this.x),N=P.y.subtract(this.y).divide(k),G=N.square().subtract(this.x).subtract(P.x),oe=N.multiply(this.x.subtract(G)).subtract(this.y);return new tn(this.curve,G,oe)},tn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var P=this.curve.fromBigInteger(ge.valueOf(2)),k=this.curve.fromBigInteger(ge.valueOf(3)),N=this.x.square().multiply(k).add(this.curve.a).divide(this.y.multiply(P)),G=N.square().subtract(this.x.multiply(P)),oe=N.multiply(this.x.subtract(G)).subtract(this.y);return new tn(this.curve,G,oe)},tn.prototype.multiply2D=function(P){if(this.isInfinity())return this;if(0==P.signum())return this.curve.getInfinity();var k,N=P,G=N.multiply(new ge("3")),oe=this.negate(),ye=this;for(k=G.bitLength()-2;k>0;--k){ye=ye.twice();var Ae=G.testBit(k);Ae!=N.testBit(k)&&(ye=ye.add2D(Ae?this:oe))}return ye},tn.prototype.isOnCurve=function(){var P=this.getX().toBigInteger(),k=this.getY().toBigInteger(),N=this.curve.getA().toBigInteger(),G=this.curve.getB().toBigInteger(),oe=this.curve.getQ(),ye=k.multiply(k).mod(oe),Ae=P.multiply(P).multiply(P).add(N.multiply(P)).add(G).mod(oe);return ye.equals(Ae)},tn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},tn.prototype.validate=function(){var P=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var k=this.getX().toBigInteger(),N=this.getY().toBigInteger();if(k.compareTo(ge.ONE)<0||k.compareTo(P.subtract(ge.ONE))>0)throw new Error("x coordinate out of bounds");if(N.compareTo(ge.ONE)<0||N.compareTo(P.subtract(ge.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(P).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var jn=function(){var P=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),k=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),N={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function G(Ae,Le,Be){return Le?N[Le]:String.fromCharCode(parseInt(Be,16))}var oe=new String(""),ye=Object.hasOwnProperty;return function(Ae,Le){var Be,je,Ge=Ae.match(P),Ke=Ge[0],Qe=!1;"{"===Ke?Be={}:"["===Ke?Be=[]:(Be=[],Qe=!0);for(var ot=[Be],yt=1-Qe,At=Ge.length;yt<At;++yt){var Dt;switch((Ke=Ge[yt]).charCodeAt(0)){default:(Dt=ot[0])[je||Dt.length]=+Ke,je=void 0;break;case 34:if(-1!==(Ke=Ke.substring(1,Ke.length-1)).indexOf("\\")&&(Ke=Ke.replace(k,G)),Dt=ot[0],!je){if(!(Dt instanceof Array)){je=Ke||oe;break}je=Dt.length}Dt[je]=Ke,je=void 0;break;case 91:ot.unshift((Dt=ot[0])[je||Dt.length]=[]),je=void 0;break;case 93:case 125:ot.shift();break;case 102:(Dt=ot[0])[je||Dt.length]=!1,je=void 0;break;case 110:(Dt=ot[0])[je||Dt.length]=null,je=void 0;break;case 116:(Dt=ot[0])[je||Dt.length]=!0,je=void 0;break;case 123:ot.unshift((Dt=ot[0])[je||Dt.length]={}),je=void 0}}if(Qe){if(1!==ot.length)throw new Error;Be=Be[0]}else if(ot.length)throw new Error;return Le&&(Be=function Pe(qe,Xe){var Je=qe[Xe];if(Je&&"object"===(void 0===Je?"undefined":j(Je))){var xt=null;for(var Tt in Je)if(ye.call(Je,Tt)&&Je!==qe){var ln=Pe(Je,Tt);void 0!==ln?Je[Tt]=ln:(xt||(xt=[]),xt.push(Tt))}if(xt)for(var Kt=xt.length;--Kt>=0;)delete Je[xt[Kt]]}return Le.call(qe,Xe,Je)}({"":Be},"")),Be}}();void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),Ie.asn1.ASN1Util=new function(){this.integerToByteHex=function(P){var k=P.toString(16);return k.length%2==1&&(k="0"+k),k},this.bigIntToMinTwosComplementsHex=function(P){var k=P.toString(16);if("-"!=k.substr(0,1))k.length%2==1?k="0"+k:k.match(/^[0-7]/)||(k="00"+k);else{var N=k.substr(1).length;N%2==1?N+=1:k.match(/^[0-7]/)||(N+=2);for(var G="",oe=0;oe<N;oe++)G+="f";k=new ge(G,16).xor(P).add(ge.ONE).toString(16).replace(/^-/,"")}return k},this.getPEMStringFromHex=function(P,k){return Lr(P,k)},this.newObject=function(P){var k=Ie.asn1,N=k.ASN1Object,G=k.DERBoolean,oe=k.DERInteger,ye=k.DERBitString,Ae=k.DEROctetString,Le=k.DERNull,Be=k.DERObjectIdentifier,je=k.DEREnumerated,Ge=k.DERUTF8String,Ke=k.DERNumericString,Qe=k.DERPrintableString,ot=k.DERTeletexString,yt=k.DERIA5String,At=k.DERUTCTime,Dt=k.DERGeneralizedTime,Pe=k.DERVisibleString,qe=k.DERBMPString,Xe=k.DERSequence,Je=k.DERSet,xt=k.DERTaggedObject,Tt=k.ASN1Util.newObject;if(P instanceof k.ASN1Object)return P;var ln=Object.keys(P);if(1!=ln.length)throw new Error("key of param shall be only one.");var Kt=ln[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Kt+":"))throw new Error("undefined key: "+Kt);if("bool"==Kt)return new G(P[Kt]);if("int"==Kt)return new oe(P[Kt]);if("bitstr"==Kt)return new ye(P[Kt]);if("octstr"==Kt)return new Ae(P[Kt]);if("null"==Kt)return new Le(P[Kt]);if("oid"==Kt)return new Be(P[Kt]);if("enum"==Kt)return new je(P[Kt]);if("utf8str"==Kt)return new Ge(P[Kt]);if("numstr"==Kt)return new Ke(P[Kt]);if("prnstr"==Kt)return new Qe(P[Kt]);if("telstr"==Kt)return new ot(P[Kt]);if("ia5str"==Kt)return new yt(P[Kt]);if("utctime"==Kt)return new At(P[Kt]);if("gentime"==Kt)return new Dt(P[Kt]);if("visstr"==Kt)return new Pe(P[Kt]);if("bmpstr"==Kt)return new qe(P[Kt]);if("asn1"==Kt)return new N(P[Kt]);if("seq"==Kt){for(var Hn=P[Kt],un=[],Cn=0;Cn<Hn.length;Cn++){var ar=Tt(Hn[Cn]);un.push(ar)}return new Xe({array:un})}if("set"==Kt){for(Hn=P[Kt],un=[],Cn=0;Cn<Hn.length;Cn++)ar=Tt(Hn[Cn]),un.push(ar);return new Je({array:un})}if("tag"==Kt){var Er=P[Kt];if("[object Array]"===Object.prototype.toString.call(Er)&&3==Er.length){var xr=Tt(Er[2]);return new xt({tag:Er[0],explicit:Er[1],obj:xr})}return new xt(Er)}},this.jsonToASN1HEX=function(P){return this.newObject(P).getEncodedHex()}},Ie.asn1.ASN1Util.oidHexToInt=function(P){for(var k="",N=parseInt(P.substr(0,2),16),G=(k=Math.floor(N/40)+"."+N%40,""),oe=2;oe<P.length;oe+=2){var ye=("00000000"+parseInt(P.substr(oe,2),16).toString(2)).slice(-8);G+=ye.substr(1,7),"0"==ye.substr(0,1)&&(k=k+"."+new ge(G,2).toString(10),G="")}return k},Ie.asn1.ASN1Util.oidIntToHex=function(P){var k=function(Be){var je=Be.toString(16);return 1==je.length&&(je="0"+je),je},N=function(Be){var je="",Ge=new ge(Be,10).toString(2),Ke=7-Ge.length%7;7==Ke&&(Ke=0);for(var Qe="",ot=0;ot<Ke;ot++)Qe+="0";for(Ge=Qe+Ge,ot=0;ot<Ge.length-1;ot+=7){var yt=Ge.substr(ot,7);ot!=Ge.length-7&&(yt="1"+yt),je+=k(parseInt(yt,2))}return je};if(!P.match(/^[0-9.]+$/))throw"malformed oid string: "+P;var G="",oe=P.split("."),ye=40*parseInt(oe[0])+parseInt(oe[1]);G+=k(ye),oe.splice(0,2);for(var Ae=0;Ae<oe.length;Ae++)G+=N(oe[Ae]);return G},Ie.asn1.ASN1Object=function(P){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var k=this.hV.length/2,N=k.toString(16);if(N.length%2==1&&(N="0"+N),k<128)return N;var G=N.length/2;if(G>15)throw"ASN.1 length too long to represent by 8x: n = "+k.toString(16);return(128+G).toString(16)+N},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(k){this.params=k},null!=P&&null!=P.tlv&&(this.hTLV=P.tlv,this.isModified=!1)},Ie.asn1.DERAbstractString=function(P){Ie.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(k){this.hTLV=null,this.isModified=!0,this.s=k,this.hV=$r(this.s).toLowerCase()},this.setStringHex=function(k){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=k},this.getFreshValueHex=function(){return this.hV},void 0!==P&&("string"==typeof P?this.setString(P):void 0!==P.str?this.setString(P.str):void 0!==P.hex&&this.setStringHex(P.hex))},h.lang.extend(Ie.asn1.DERAbstractString,Ie.asn1.ASN1Object),Ie.asn1.DERAbstractTime=function(P){Ie.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(k){var N=k.getTime()+6e4*k.getTimezoneOffset();return new Date(N)},this.formatDate=function(k,N,G){var oe=this.zeroPadding,ye=this.localDateToUTC(k),Ae=String(ye.getFullYear());"utc"==N&&(Ae=Ae.substr(2,2));var Le=Ae+oe(String(ye.getMonth()+1),2)+oe(String(ye.getDate()),2)+oe(String(ye.getHours()),2)+oe(String(ye.getMinutes()),2)+oe(String(ye.getSeconds()),2);if(!0===G){var Be=ye.getMilliseconds();if(0!=Be){var je=oe(String(Be),3);Le=Le+"."+(je=je.replace(/[0]+$/,""))}}return Le+"Z"},this.zeroPadding=function(k,N){return k.length>=N?k:new Array(N-k.length+1).join("0")+k},this.getString=function(){return this.s},this.setString=function(k){this.hTLV=null,this.isModified=!0,this.s=k,this.hV=Rt(k)},this.setByDateValue=function(k,N,G,oe,ye,Ae){var Le=new Date(Date.UTC(k,N-1,G,oe,ye,Ae,0));this.setByDate(Le)},this.getFreshValueHex=function(){return this.hV}},h.lang.extend(Ie.asn1.DERAbstractTime,Ie.asn1.ASN1Object),Ie.asn1.DERAbstractStructured=function(P){Ie.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(k){this.hTLV=null,this.isModified=!0,this.asn1Array=k},this.appendASN1Object=function(k){this.hTLV=null,this.isModified=!0,this.asn1Array.push(k)},this.asn1Array=new Array,void 0!==P&&void 0!==P.array&&(this.asn1Array=P.array)},h.lang.extend(Ie.asn1.DERAbstractStructured,Ie.asn1.ASN1Object),Ie.asn1.DERBoolean=function(P){Ie.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==P?"010100":"0101ff"},h.lang.extend(Ie.asn1.DERBoolean,Ie.asn1.ASN1Object),Ie.asn1.DERInteger=function(P){Ie.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(k){this.hTLV=null,this.isModified=!0,this.hV=Ie.asn1.ASN1Util.bigIntToMinTwosComplementsHex(k)},this.setByInteger=function(k){var N=new ge(String(k),10);this.setByBigInteger(N)},this.setValueHex=function(k){this.hV=k},this.getFreshValueHex=function(){return this.hV},void 0!==P&&(void 0!==P.bigint?this.setByBigInteger(P.bigint):void 0!==P.int?this.setByInteger(P.int):"number"==typeof P?this.setByInteger(P):void 0!==P.hex&&this.setValueHex(P.hex))},h.lang.extend(Ie.asn1.DERInteger,Ie.asn1.ASN1Object),Ie.asn1.DERBitString=function(P){if(void 0!==P&&void 0!==P.obj){var k=Ie.asn1.ASN1Util.newObject(P.obj);P.hex="00"+k.getEncodedHex()}Ie.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(N){this.hTLV=null,this.isModified=!0,this.hV=N},this.setUnusedBitsAndHexValue=function(N,G){if(N<0||7<N)throw"unused bits shall be from 0 to 7: u = "+N;var oe="0"+N;this.hTLV=null,this.isModified=!0,this.hV=oe+G},this.setByBinaryString=function(N){var G=8-(N=N.replace(/0+$/,"")).length%8;8==G&&(G=0);for(var oe=0;oe<=G;oe++)N+="0";var ye="";for(oe=0;oe<N.length-1;oe+=8){var Ae=N.substr(oe,8),Le=parseInt(Ae,2).toString(16);1==Le.length&&(Le="0"+Le),ye+=Le}this.hTLV=null,this.isModified=!0,this.hV="0"+G+ye},this.setByBooleanArray=function(N){for(var G="",oe=0;oe<N.length;oe++)G+=1==N[oe]?"1":"0";this.setByBinaryString(G)},this.newFalseArray=function(N){for(var G=new Array(N),oe=0;oe<N;oe++)G[oe]=!1;return G},this.getFreshValueHex=function(){return this.hV},void 0!==P&&("string"==typeof P&&P.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(P):void 0!==P.hex?this.setHexValueIncludingUnusedBits(P.hex):void 0!==P.bin?this.setByBinaryString(P.bin):void 0!==P.array&&this.setByBooleanArray(P.array))},h.lang.extend(Ie.asn1.DERBitString,Ie.asn1.ASN1Object),Ie.asn1.DEROctetString=function(P){if(void 0!==P&&void 0!==P.obj){var k=Ie.asn1.ASN1Util.newObject(P.obj);P.hex=k.getEncodedHex()}Ie.asn1.DEROctetString.superclass.constructor.call(this,P),this.hT="04"},h.lang.extend(Ie.asn1.DEROctetString,Ie.asn1.DERAbstractString),Ie.asn1.DERNull=function(){Ie.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},h.lang.extend(Ie.asn1.DERNull,Ie.asn1.ASN1Object),Ie.asn1.DERObjectIdentifier=function(P){Ie.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(k){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=k},this.setValueOidString=function(k){var N=function(oe){var ye=function(Qe){var ot=Qe.toString(16);return 1==ot.length&&(ot="0"+ot),ot},Ae=function(Qe){var ot="",yt=parseInt(Qe,10).toString(2),At=7-yt.length%7;7==At&&(At=0);for(var Dt="",Pe=0;Pe<At;Pe++)Dt+="0";for(yt=Dt+yt,Pe=0;Pe<yt.length-1;Pe+=7){var qe=yt.substr(Pe,7);Pe!=yt.length-7&&(qe="1"+qe),ot+=ye(parseInt(qe,2))}return ot};try{if(!oe.match(/^[0-9.]+$/))return null;var Le="",Be=oe.split("."),je=40*parseInt(Be[0],10)+parseInt(Be[1],10);Le+=ye(je),Be.splice(0,2);for(var Ge=0;Ge<Be.length;Ge++)Le+=Ae(Be[Ge]);return Le}catch{return null}}(k);if(null==N)throw new Error("malformed oid string: "+k);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=N},this.setValueName=function(k){var N=Ie.asn1.x509.OID.name2oid(k);if(""===N)throw new Error("DERObjectIdentifier oidName undefined: "+k);this.setValueOidString(N)},this.setValueNameOrOid=function(k){k.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(k):this.setValueName(k)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(k){"string"==typeof k?this.setValueNameOrOid(k):void 0!==k.oid?this.setValueNameOrOid(k.oid):void 0!==k.name?this.setValueNameOrOid(k.name):void 0!==k.hex&&this.setValueHex(k.hex)},void 0!==P&&this.setByParam(P)},h.lang.extend(Ie.asn1.DERObjectIdentifier,Ie.asn1.ASN1Object),Ie.asn1.DEREnumerated=function(P){Ie.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(k){this.hTLV=null,this.isModified=!0,this.hV=Ie.asn1.ASN1Util.bigIntToMinTwosComplementsHex(k)},this.setByInteger=function(k){var N=new ge(String(k),10);this.setByBigInteger(N)},this.setValueHex=function(k){this.hV=k},this.getFreshValueHex=function(){return this.hV},void 0!==P&&(void 0!==P.int?this.setByInteger(P.int):"number"==typeof P?this.setByInteger(P):void 0!==P.hex&&this.setValueHex(P.hex))},h.lang.extend(Ie.asn1.DEREnumerated,Ie.asn1.ASN1Object),Ie.asn1.DERUTF8String=function(P){Ie.asn1.DERUTF8String.superclass.constructor.call(this,P),this.hT="0c"},h.lang.extend(Ie.asn1.DERUTF8String,Ie.asn1.DERAbstractString),Ie.asn1.DERNumericString=function(P){Ie.asn1.DERNumericString.superclass.constructor.call(this,P),this.hT="12"},h.lang.extend(Ie.asn1.DERNumericString,Ie.asn1.DERAbstractString),Ie.asn1.DERPrintableString=function(P){Ie.asn1.DERPrintableString.superclass.constructor.call(this,P),this.hT="13"},h.lang.extend(Ie.asn1.DERPrintableString,Ie.asn1.DERAbstractString),Ie.asn1.DERTeletexString=function(P){Ie.asn1.DERTeletexString.superclass.constructor.call(this,P),this.hT="14"},h.lang.extend(Ie.asn1.DERTeletexString,Ie.asn1.DERAbstractString),Ie.asn1.DERIA5String=function(P){Ie.asn1.DERIA5String.superclass.constructor.call(this,P),this.hT="16"},h.lang.extend(Ie.asn1.DERIA5String,Ie.asn1.DERAbstractString),Ie.asn1.DERVisibleString=function(P){Ie.asn1.DERIA5String.superclass.constructor.call(this,P),this.hT="1a"},h.lang.extend(Ie.asn1.DERVisibleString,Ie.asn1.DERAbstractString),Ie.asn1.DERBMPString=function(P){Ie.asn1.DERBMPString.superclass.constructor.call(this,P),this.hT="1e"},h.lang.extend(Ie.asn1.DERBMPString,Ie.asn1.DERAbstractString),Ie.asn1.DERUTCTime=function(P){Ie.asn1.DERUTCTime.superclass.constructor.call(this,P),this.hT="17",this.setByDate=function(k){this.hTLV=null,this.isModified=!0,this.date=k,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)),this.hV},void 0!==P&&(void 0!==P.str?this.setString(P.str):"string"==typeof P&&P.match(/^[0-9]{12}Z$/)?this.setString(P):void 0!==P.hex?this.setStringHex(P.hex):void 0!==P.date&&this.setByDate(P.date))},h.lang.extend(Ie.asn1.DERUTCTime,Ie.asn1.DERAbstractTime),Ie.asn1.DERGeneralizedTime=function(P){Ie.asn1.DERGeneralizedTime.superclass.constructor.call(this,P),this.hT="18",this.withMillis=!1,this.setByDate=function(k){this.hTLV=null,this.isModified=!0,this.date=k,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)),this.hV},void 0!==P&&(void 0!==P.str?this.setString(P.str):"string"==typeof P&&P.match(/^[0-9]{14}Z$/)?this.setString(P):void 0!==P.hex?this.setStringHex(P.hex):void 0!==P.date&&this.setByDate(P.date),!0===P.millis&&(this.withMillis=!0))},h.lang.extend(Ie.asn1.DERGeneralizedTime,Ie.asn1.DERAbstractTime),Ie.asn1.DERSequence=function(P){Ie.asn1.DERSequence.superclass.constructor.call(this,P),this.hT="30",this.getFreshValueHex=function(){for(var k="",N=0;N<this.asn1Array.length;N++)k+=this.asn1Array[N].getEncodedHex();return this.hV=k,this.hV}},h.lang.extend(Ie.asn1.DERSequence,Ie.asn1.DERAbstractStructured),Ie.asn1.DERSet=function(P){Ie.asn1.DERSet.superclass.constructor.call(this,P),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var k=new Array,N=0;N<this.asn1Array.length;N++)k.push(this.asn1Array[N].getEncodedHex());return 1==this.sortFlag&&k.sort(),this.hV=k.join(""),this.hV},void 0!==P&&void 0!==P.sortflag&&0==P.sortflag&&(this.sortFlag=!1)},h.lang.extend(Ie.asn1.DERSet,Ie.asn1.DERAbstractStructured),Ie.asn1.DERTaggedObject=function(P){Ie.asn1.DERTaggedObject.superclass.constructor.call(this);var k=Ie.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(N,G,oe){this.hT=G,this.isExplicit=N,this.asn1Object=oe,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=oe.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,G),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(N){null!=N.tag&&(this.hT=N.tag),null!=N.explicit&&(this.isExplicit=N.explicit),null!=N.tage&&(this.hT=N.tage,this.isExplicit=!0),null!=N.tagi&&(this.hT=N.tagi,this.isExplicit=!1),null!=N.obj&&(N.obj instanceof k.ASN1Object?(this.asn1Object=N.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==j(N.obj)&&(this.asn1Object=k.ASN1Util.newObject(N.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=P&&this.setByParam(P)},h.lang.extend(Ie.asn1.DERTaggedObject,Ie.asn1.ASN1Object);var Ie,Qr,yr,nn=new function(){};function To(P){for(var k=new Array,N=0;N<P.length;N++)k[N]=P.charCodeAt(N);return k}function Ui(P){for(var k="",N=0;N<P.length;N++)k+=String.fromCharCode(P[N]);return k}function Ct(P){for(var k="",N=0;N<P.length;N++){var G=P[N].toString(16);1==G.length&&(G="0"+G),k+=G}return k}function Rt(P){return Ct(To(P))}function In(P){return(P=(P=P.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function or(P){return P.length%4==2?P+="==":P.length%4==3&&(P+="="),(P=P.replace(/-/g,"+")).replace(/_/g,"/")}function An(P){return P.length%2==1&&(P="0"+P),In(de(P))}function vn(P){return _e(or(P))}function $r(P){return Do(Pi(P))}function pr(P){return decodeURIComponent(ao(P))}function cr(P){for(var k="",N=0;N<P.length-1;N+=2)k+=String.fromCharCode(parseInt(P.substr(N,2),16));return k}function Ar(P){for(var k="",N=0;N<P.length;N++)k+=("0"+P.charCodeAt(N).toString(16)).slice(-2);return k}function Xi(P){return de(P)}function zi(P){return Xi(P).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Rr(P){return _e(P.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Lr(P,k){return"-----BEGIN "+k+"-----\r\n"+zi(P)+"\r\n-----END "+k+"-----\r\n"}function ei(P,k){if(-1==P.indexOf("-----BEGIN "))throw"can't find PEM header: "+k;return Rr(P=void 0!==k?(P=P.replace(new RegExp("^[^]*-----BEGIN "+k+"-----"),"")).replace(new RegExp("-----END "+k+"-----[^]*$"),""):(P=P.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ko(P){var k,N,G,oe,ye,Ae,Le,Be,je,Ge,Ke;if(Ke=P.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Be=Ke[1],k=parseInt(Be),2===Be.length&&(50<=k&&k<100?k=1900+k:0<=k&&k<50&&(k=2e3+k)),N=parseInt(Ke[2])-1,G=parseInt(Ke[3]),oe=parseInt(Ke[4]),ye=parseInt(Ke[5]),Ae=parseInt(Ke[6]),Le=0,""!==(je=Ke[7])&&(Ge=(je.substr(1)+"00").substr(0,3),Le=parseInt(Ge)),Date.UTC(k,N,G,oe,ye,Ae,Le);throw"unsupported zulu format: "+P}function ki(P){return~~(Ko(P)/1e3)}function Do(P){return P.replace(/%/g,"")}function ao(P){return P.replace(/(..)/g,"%$1")}function fo(P){var k="malformed IPv6 address";if(!P.match(/^[0-9A-Fa-f:]+$/))throw k;var N=(P=P.toLowerCase()).split(":").length-1;if(N<2)throw k;var G=":".repeat(7-N+2),oe=(P=P.replace("::",G)).split(":");if(8!=oe.length)throw k;for(var ye=0;ye<8;ye++)oe[ye]=("0000"+oe[ye]).slice(-4);return oe.join("")}function _i(P){if(!P.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var k=(P=P.toLowerCase()).match(/.{1,4}/g),N=0;N<8;N++)k[N]=k[N].replace(/^0+/,""),""==k[N]&&(k[N]="0");var G=(P=":"+k.join(":")+":").match(/:(0:){2,}/g);if(null===G)return P.slice(1,-1);var oe="";for(N=0;N<G.length;N++)G[N].length>oe.length&&(oe=G[N]);return(P=P.replace(oe,"::")).slice(1,-1)}function xi(P){var k="malformed hex value";if(!P.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw k;if(8!=P.length)return 32==P.length?_i(P):P;try{return parseInt(P.substr(0,2),16)+"."+parseInt(P.substr(2,2),16)+"."+parseInt(P.substr(4,2),16)+"."+parseInt(P.substr(6,2),16)}catch{throw k}}function Pi(P){for(var k=encodeURIComponent(P),N="",G=0;G<k.length;G++)"%"==k[G]?(N+=k.substr(G,3),G+=2):N=N+"%"+Rt(k[G]);return N}function Vi(P){return!(P.length%2!=0||!P.match(/^[0-9a-f]+$/)&&!P.match(/^[0-9A-F]+$/))}function ca(P){return P.length%2==1?"0"+P:P.substr(0,1)>"7"?"00"+P:P}nn.getLblen=function(P,k){if("8"!=P.substr(k+2,1))return 1;var N=parseInt(P.substr(k+3,1));return 0==N?-1:0<N&&N<10?N+1:-2},nn.getL=function(P,k){var N=nn.getLblen(P,k);return N<1?"":P.substr(k+2,2*N)},nn.getVblen=function(P,k){var N;return""==(N=nn.getL(P,k))?-1:("8"===N.substr(0,1)?new ge(N.substr(2),16):new ge(N,16)).intValue()},nn.getVidx=function(P,k){var N=nn.getLblen(P,k);return N<0?N:k+2*(N+1)},nn.getV=function(P,k){var N=nn.getVidx(P,k),G=nn.getVblen(P,k);return P.substr(N,2*G)},nn.getTLV=function(P,k){return P.substr(k,2)+nn.getL(P,k)+nn.getV(P,k)},nn.getTLVblen=function(P,k){return 2+2*nn.getLblen(P,k)+2*nn.getVblen(P,k)},nn.getNextSiblingIdx=function(P,k){return nn.getVidx(P,k)+2*nn.getVblen(P,k)},nn.getChildIdx=function(P,k){var N,G,oe,ye=nn,Ae=[];N=ye.getVidx(P,k),G=2*ye.getVblen(P,k),"03"==P.substr(k,2)&&(N+=2,G-=2),oe=0;for(var Le=N;oe<=G;){var Be=ye.getTLVblen(P,Le);if((oe+=Be)<=G&&Ae.push(Le),Le+=Be,oe>=G)break}return Ae},nn.getNthChildIdx=function(P,k,N){return nn.getChildIdx(P,k)[N]},nn.getIdxbyList=function(P,k,N,G){var oe,ye,Ae=nn;return 0==N.length?void 0!==G&&P.substr(k,2)!==G?-1:k:(oe=N.shift())>=(ye=Ae.getChildIdx(P,k)).length?-1:Ae.getIdxbyList(P,ye[oe],N,G)},nn.getIdxbyListEx=function(P,k,N,G){var oe,ye,Ae=nn;if(0==N.length)return void 0!==G&&P.substr(k,2)!==G?-1:k;oe=N.shift(),ye=Ae.getChildIdx(P,k);for(var Le=0,Be=0;Be<ye.length;Be++){var je=P.substr(ye[Be],2);if("number"==typeof oe&&!Ae.isContextTag(je)&&Le==oe||"string"==typeof oe&&Ae.isContextTag(je,oe))return Ae.getIdxbyListEx(P,ye[Be],N,G);Ae.isContextTag(je)||Le++}return-1},nn.getTLVbyList=function(P,k,N,G){var oe=nn,ye=oe.getIdxbyList(P,k,N,G);return-1==ye||ye>=P.length?null:oe.getTLV(P,ye)},nn.getTLVbyListEx=function(P,k,N,G){var oe=nn,ye=oe.getIdxbyListEx(P,k,N,G);return-1==ye?null:oe.getTLV(P,ye)},nn.getVbyList=function(P,k,N,G,oe){var ye,Ae,Le=nn;return-1==(ye=Le.getIdxbyList(P,k,N,G))||ye>=P.length?null:(Ae=Le.getV(P,ye),!0===oe&&(Ae=Ae.substr(2)),Ae)},nn.getVbyListEx=function(P,k,N,G,oe){var ye,Ae,Le=nn;return-1==(ye=Le.getIdxbyListEx(P,k,N,G))?null:(Ae=Le.getV(P,ye),"03"==P.substr(ye,2)&&!1!==oe&&(Ae=Ae.substr(2)),Ae)},nn.getInt=function(P,k,N){null==N&&(N=-1);try{var G=P.substr(k,2);if("02"!=G&&"03"!=G)return N;var oe=nn.getV(P,k);return"02"==G?parseInt(oe,16):function(Ae){try{var Le=Ae.substr(0,2);if("00"==Le)return parseInt(Ae.substr(2),16);var Be=parseInt(Le,16),je=Ae.substr(2),Ge=parseInt(je,16).toString(2);return"0"==Ge&&(Ge="00000000"),Ge=Ge.slice(0,0-Be),parseInt(Ge,2)}catch{return-1}}(oe)}catch{return N}},nn.getOID=function(P,k,N){null==N&&(N=null);try{return"06"!=P.substr(k,2)?N:function(oe){if(!Vi(oe))return null;try{var ye=[],Ae=oe.substr(0,2),Le=parseInt(Ae,16);ye[0]=new String(Math.floor(Le/40)),ye[1]=new String(Le%40);for(var Be=oe.substr(2),je=[],Ge=0;Ge<Be.length/2;Ge++)je.push(parseInt(Be.substr(2*Ge,2),16));var Ke=[],Qe="";for(Ge=0;Ge<je.length;Ge++)128&je[Ge]?Qe+=Io((127&je[Ge]).toString(2),7):(Qe+=Io((127&je[Ge]).toString(2),7),Ke.push(new String(parseInt(Qe,2))),Qe="");var ot=ye.join(".");return Ke.length>0&&(ot=ot+"."+Ke.join(".")),ot}catch{return null}}(nn.getV(P,k))}catch{return N}},nn.getOIDName=function(P,k,N){null==N&&(N=null);try{var G=nn.getOID(P,k,N);if(G==N)return N;var oe=Ie.asn1.x509.OID.oid2name(G);return""==oe?G:oe}catch{return N}},nn.getString=function(P,k,N){null==N&&(N=null);try{return cr(nn.getV(P,k))}catch{return N}},nn.hextooidstr=function(P){var k=function(Qe,ot){return Qe.length>=ot?Qe:new Array(ot-Qe.length+1).join("0")+Qe},N=[],G=P.substr(0,2),oe=parseInt(G,16);N[0]=new String(Math.floor(oe/40)),N[1]=new String(oe%40);for(var ye=P.substr(2),Ae=[],Le=0;Le<ye.length/2;Le++)Ae.push(parseInt(ye.substr(2*Le,2),16));var Be=[],je="";for(Le=0;Le<Ae.length;Le++)128&Ae[Le]?je+=k((127&Ae[Le]).toString(2),7):(je+=k((127&Ae[Le]).toString(2),7),Be.push(new String(parseInt(je,2))),je="");var Ge=N.join(".");return Be.length>0&&(Ge=Ge+"."+Be.join(".")),Ge},nn.dump=function(P,k,N,G){var oe=nn,ye=oe.getV,Ae=oe.dump,Le=oe.getChildIdx,Be=P;P instanceof Ie.asn1.ASN1Object&&(Be=P.getEncodedHex());var je=function(Kt,Hn){return Kt.length<=2*Hn?Kt:Kt.substr(0,Hn)+"..(total "+Kt.length/2+"bytes).."+Kt.substr(Kt.length-Hn,Hn)};void 0===k&&(k={ommit_long_octet:32}),void 0===N&&(N=0),void 0===G&&(G="");var Ge,Ke=k.ommit_long_octet;if("01"==(Ge=Be.substr(N,2)))return"00"==(Qe=ye(Be,N))?G+"BOOLEAN FALSE\n":G+"BOOLEAN TRUE\n";if("02"==Ge)return G+"INTEGER "+je(Qe=ye(Be,N),Ke)+"\n";if("03"==Ge){var Qe=ye(Be,N);return oe.isASN1HEX(Qe.substr(2))?(ot=G+"BITSTRING, encapsulates\n")+Ae(Qe.substr(2),k,0,G+"  "):G+"BITSTRING "+je(Qe,Ke)+"\n"}if("04"==Ge)return Qe=ye(Be,N),oe.isASN1HEX(Qe)?(ot=G+"OCTETSTRING, encapsulates\n",ot+=Ae(Qe,k,0,G+"  ")):G+"OCTETSTRING "+je(Qe,Ke)+"\n";if("05"==Ge)return G+"NULL\n";if("06"==Ge){var yt=ye(Be,N),At=Ie.asn1.ASN1Util.oidHexToInt(yt),Dt=Ie.asn1.x509.OID.oid2name(At),Pe=At.replace(/\./g," ");return""!=Dt?G+"ObjectIdentifier "+Dt+" ("+Pe+")\n":G+"ObjectIdentifier ("+Pe+")\n"}if("0a"==Ge)return G+"ENUMERATED "+parseInt(ye(Be,N))+"\n";if("0c"==Ge)return G+"UTF8String '"+pr(ye(Be,N))+"'\n";if("13"==Ge)return G+"PrintableString '"+pr(ye(Be,N))+"'\n";if("14"==Ge)return G+"TeletexString '"+pr(ye(Be,N))+"'\n";if("16"==Ge)return G+"IA5String '"+pr(ye(Be,N))+"'\n";if("17"==Ge)return G+"UTCTime "+pr(ye(Be,N))+"\n";if("18"==Ge)return G+"GeneralizedTime "+pr(ye(Be,N))+"\n";if("1a"==Ge)return G+"VisualString '"+pr(ye(Be,N))+"'\n";if("1e"==Ge)return G+"BMPString '"+pr(ye(Be,N))+"'\n";if("30"==Ge){if("3000"==Be.substr(N,4))return G+"SEQUENCE {}\n";ot=G+"SEQUENCE\n";var qe=k;if((2==(xt=Le(Be,N)).length||3==xt.length)&&"06"==Be.substr(xt[0],2)&&"04"==Be.substr(xt[xt.length-1],2)){Dt=oe.oidname(ye(Be,xt[0]));var Xe=JSON.parse(JSON.stringify(k));Xe.x509ExtName=Dt,qe=Xe}for(var Je=0;Je<xt.length;Je++)ot+=Ae(Be,qe,xt[Je],G+"  ");return ot}if("31"==Ge){ot=G+"SET\n";var xt=Le(Be,N);for(Je=0;Je<xt.length;Je++)ot+=Ae(Be,k,xt[Je],G+"  ");return ot}if(128&(Ge=parseInt(Ge,16))){var ot,Tt=31&Ge;if(32&Ge){for(ot=G+"["+Tt+"]\n",xt=Le(Be,N),Je=0;Je<xt.length;Je++)ot+=Ae(Be,k,xt[Je],G+"  ");return ot}return Qe=ye(Be,N),nn.isASN1HEX(Qe)?(ot=G+"["+Tt+"]\n")+Ae(Qe,k,0,G+"  "):(("68747470"==Qe.substr(0,8)||"subjectAltName"===k.x509ExtName&&2==Tt)&&(Qe=pr(Qe)),G+"["+Tt+"] "+Qe+"\n")}return G+"UNKNOWN("+Ge+") "+ye(Be,N)+"\n"},nn.isContextTag=function(P,k){var N,G;P=P.toLowerCase();try{N=parseInt(P,16)}catch{return-1}if(void 0===k)return 128==(192&N);try{return null!=k.match(/^\[[0-9]+\]$/)&&!((G=parseInt(k.substr(1,k.length-1),10))>31)&&128==(192&N)&&(31&N)==G}catch{return!1}},nn.isASN1HEX=function(P){var k=nn;if(P.length%2==1)return!1;var N=k.getVblen(P,0),G=P.substr(0,2),oe=k.getL(P,0);return P.length-G.length-oe.length==2*N},nn.checkStrictDER=function(P,k,N,G,oe){var ye=nn;if(void 0===N){if("string"!=typeof P)throw new Error("not hex string");if(P=P.toLowerCase(),!Ie.lang.String.isHex(P))throw new Error("not hex string");N=P.length,oe=(G=P.length/2)<128?1:Math.ceil(G.toString(16))+1}if(ye.getL(P,k).length>2*oe)throw new Error("L of TLV too long: idx="+k);var Ae=ye.getVblen(P,k);if(Ae>G)throw new Error("value of L too long than hex: idx="+k);var Le=ye.getTLV(P,k),Be=Le.length-2-ye.getL(P,k).length;if(Be!==2*Ae)throw new Error("V string length and L's value not the same:"+Be+"/"+2*Ae);if(0===k&&P.length!=Le.length)throw new Error("total length and TLV length unmatch:"+P.length+"!="+Le.length);var je=P.substr(k,2);if("02"===je){var Ge=ye.getVidx(P,k);if("00"==P.substr(Ge,2)&&P.charCodeAt(Ge+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(je,16)){for(var Ke=ye.getVblen(P,k),Qe=0,ot=ye.getChildIdx(P,k),yt=0;yt<ot.length;yt++)Qe+=ye.getTLV(P,ot[yt]).length,ye.checkStrictDER(P,ot[yt],N,G,oe);if(2*Ke!=Qe)throw new Error("sum of children's TLV length and L unmatch: "+2*Ke+"!="+Qe)}},nn.oidname=function(P){var k=Ie.asn1;Ie.lang.String.isHex(P)&&(P=k.ASN1Util.oidHexToInt(P));var N=k.x509.OID.oid2name(P);return""===N&&(N=P),N},void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.lang&&Ie.lang||(Ie.lang={}),Ie.lang.String=function(){},"function"==typeof H?(S.utf8tob64u=Qr=function(k){return In(H.from(k,"utf8").toString("base64"))},S.b64utoutf8=yr=function(k){return H.from(or(k),"base64").toString("utf8")}):(S.utf8tob64u=Qr=function(k){return An(Do(Pi(k)))},S.b64utoutf8=yr=function(k){return decodeURIComponent(ao(vn(k)))}),Ie.lang.String.isInteger=function(P){return!!P.match(/^[0-9]+$/)||!!P.match(/^-[0-9]+$/)},Ie.lang.String.isHex=function(P){return Vi(P)},Ie.lang.String.isBase64=function(P){return!(!(P=P.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||P.length%4!=0)},Ie.lang.String.isBase64URL=function(P){return!P.match(/[+/=]/)&&(P=or(P),Ie.lang.String.isBase64(P))},Ie.lang.String.isIntegerArray=function(P){return!!(P=P.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},Ie.lang.String.isPrintable=function(P){return null!==P.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},Ie.lang.String.isIA5=function(P){return null!==P.match(/^[\x20-\x21\x23-\x7f]*$/)},Ie.lang.String.isMail=function(P){return null!==P.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Io=function(k,N,G){return null==G&&(G="0"),k.length>=N?k:new Array(N-k.length+1).join(G)+k};void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:q.algo.MD5,sha1:q.algo.SHA1,sha224:q.algo.SHA224,sha256:q.algo.SHA256,sha384:q.algo.SHA384,sha512:q.algo.SHA512,ripemd160:q.algo.RIPEMD160},this.getDigestInfoHex=function(P,k){if(void 0===this.DIGESTINFOHEAD[k])throw"alg not supported in Util.DIGESTINFOHEAD: "+k;return this.DIGESTINFOHEAD[k]+P},this.getPaddedDigestInfoHex=function(P,k,N){var G=this.getDigestInfoHex(P,k),oe=N/4;if(G.length+22>oe)throw"key is too short for SigAlg: keylen="+N+","+k;for(var Ae="00"+G,Le="",Be=oe-4-Ae.length,je=0;je<Be;je+=2)Le+="ff";return"0001"+Le+Ae},this.hashString=function(P,k){return new Ie.crypto.MessageDigest({alg:k}).digestString(P)},this.hashHex=function(P,k){return new Ie.crypto.MessageDigest({alg:k}).digestHex(P)},this.sha1=function(P){return this.hashString(P,"sha1")},this.sha256=function(P){return this.hashString(P,"sha256")},this.sha256Hex=function(P){return this.hashHex(P,"sha256")},this.sha512=function(P){return this.hashString(P,"sha512")},this.sha512Hex=function(P){return this.hashHex(P,"sha512")},this.isKey=function(P){return P instanceof Wt||P instanceof Ie.crypto.DSA||P instanceof Ie.crypto.ECDSA}},Ie.crypto.Util.md5=function(P){return new Ie.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(P)},Ie.crypto.Util.ripemd160=function(P){return new Ie.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(P)},Ie.crypto.Util.SECURERANDOMGEN=new ut,Ie.crypto.Util.getRandomHexOfNbytes=function(P){var k=new Array(P);return Ie.crypto.Util.SECURERANDOMGEN.nextBytes(k),Ct(k)},Ie.crypto.Util.getRandomBigIntegerOfNbytes=function(P){return new ge(Ie.crypto.Util.getRandomHexOfNbytes(P),16)},Ie.crypto.Util.getRandomHexOfNbits=function(P){var k=P%8,N=new Array((P-k)/8+1);return Ie.crypto.Util.SECURERANDOMGEN.nextBytes(N),N[0]=(255<<k&255^255)&N[0],Ct(N)},Ie.crypto.Util.getRandomBigIntegerOfNbits=function(P){return new ge(Ie.crypto.Util.getRandomHexOfNbits(P),16)},Ie.crypto.Util.getRandomBigIntegerZeroToMax=function(P){for(var k=P.bitLength();;){var N=Ie.crypto.Util.getRandomBigIntegerOfNbits(k);if(-1!=P.compareTo(N))return N}},Ie.crypto.Util.getRandomBigIntegerMinToMax=function(P,k){var N=P.compareTo(k);if(1==N)throw"biMin is greater than biMax";if(0==N)return P;var G=k.subtract(P);return Ie.crypto.Util.getRandomBigIntegerZeroToMax(G).add(P)},Ie.crypto.MessageDigest=function(P){this.setAlgAndProvider=function(k,N){if(null!==(k=Ie.crypto.MessageDigest.getCanonicalAlgName(k))&&void 0===N&&(N=Ie.crypto.Util.DEFAULTPROVIDER[k]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(k)&&"cryptojs"==N){try{this.md=Ie.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[k].create()}catch(G){throw"setAlgAndProvider hash alg set fail alg="+k+"/"+G}this.updateString=function(G){this.md.update(G)},this.updateHex=function(G){var oe=q.enc.Hex.parse(G);this.md.update(oe)},this.digest=function(){return this.md.finalize().toString(q.enc.Hex)},this.digestString=function(G){return this.updateString(G),this.digest()},this.digestHex=function(G){return this.updateHex(G),this.digest()}}if(-1!=":sha256:".indexOf(k)&&"sjcl"==N){try{this.md=new sjcl.hash.sha256}catch(G){throw"setAlgAndProvider hash alg set fail alg="+k+"/"+G}this.updateString=function(G){this.md.update(G)},this.updateHex=function(G){var oe=sjcl.codec.hex.toBits(G);this.md.update(oe)},this.digest=function(){var G=this.md.finalize();return sjcl.codec.hex.fromBits(G)},this.digestString=function(G){return this.updateString(G),this.digest()},this.digestHex=function(G){return this.updateHex(G),this.digest()}}},this.updateString=function(k){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(k){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(k){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(k){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==P&&void 0!==P.alg&&(this.algName=P.alg,void 0===P.prov&&(this.provName=Ie.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Ie.crypto.MessageDigest.getCanonicalAlgName=function(P){return"string"==typeof P&&(P=(P=P.toLowerCase()).replace(/-/,"")),P},Ie.crypto.MessageDigest.getHashLength=function(P){var k=Ie.crypto.MessageDigest,N=k.getCanonicalAlgName(P);if(void 0===k.HASHLENGTH[N])throw"not supported algorithm: "+P;return k.HASHLENGTH[N]},Ie.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Ie.crypto.Mac=function(P){this.setAlgAndProvider=function(k,N){if(null==(k=k.toLowerCase())&&(k="hmacsha1"),"hmac"!=(k=k.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+k;void 0===N&&(N=Ie.crypto.Util.DEFAULTPROVIDER[k]),this.algProv=k+"/"+N;var G=k.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(G)&&"cryptojs"==N){try{this.mac=q.algo.HMAC.create(Ie.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[G],this.pass)}catch(ye){throw"setAlgAndProvider hash alg set fail hashAlg="+G+"/"+ye}this.updateString=function(ye){this.mac.update(ye)},this.updateHex=function(ye){var Ae=q.enc.Hex.parse(ye);this.mac.update(Ae)},this.doFinal=function(){return this.mac.finalize().toString(q.enc.Hex)},this.doFinalString=function(ye){return this.updateString(ye),this.doFinal()},this.doFinalHex=function(ye){return this.updateHex(ye),this.doFinal()}}},this.updateString=function(k){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(k){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(k){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(k){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(k){if("string"==typeof k){var N=k;return k.length%2!=1&&k.match(/^[0-9A-Fa-f]+$/)||(N=Ar(k)),void(this.pass=q.enc.Hex.parse(N))}if("object"!=(void 0===k?"undefined":j(k)))throw"KJUR.crypto.Mac unsupported password type: "+k;if(N=null,void 0!==k.hex){if(k.hex.length%2!=0||!k.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+k.hex;N=k.hex}if(void 0!==k.utf8&&(N=$r(k.utf8)),void 0!==k.rstr&&(N=Ar(k.rstr)),void 0!==k.b64&&(N=_e(k.b64)),void 0!==k.b64u&&(N=vn(k.b64u)),null==N)throw"KJUR.crypto.Mac unsupported password type: "+k;this.pass=q.enc.Hex.parse(N)},void 0!==P&&(void 0!==P.pass&&this.setPassword(P.pass),void 0!==P.alg&&(this.algName=P.alg,void 0===P.prov&&(this.provName=Ie.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Ie.crypto.Signature=function(P){var k=null;if(this._setAlgNames=function(){var N=this.algName.match(/^(.+)with(.+)$/);N&&(this.mdAlgName=N[1].toLowerCase(),this.pubkeyAlgName=N[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(N,G){for(var oe="",ye=G/4-N.length,Ae=0;Ae<ye;Ae++)oe+="0";return oe+N},this.setAlgAndProvider=function(N,G){if(this._setAlgNames(),"cryptojs/jsrsa"!=G)throw new Error("provider not supported: "+G);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new Ie.crypto.MessageDigest({alg:this.mdAlgName})}catch(oe){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+oe)}this.init=function(oe,ye){var Ae=null;try{Ae=void 0===ye?_r.getKey(oe):_r.getKey(oe,ye)}catch(Le){throw"init failed:"+Le}if(!0===Ae.isPrivate)this.prvKey=Ae,this.state="SIGN";else{if(!0!==Ae.isPublic)throw"init failed.:"+Ae;this.pubKey=Ae,this.state="VERIFY"}},this.updateString=function(oe){this.md.updateString(oe)},this.updateHex=function(oe){this.md.updateHex(oe)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==Ie.crypto.ECDSA&&(this.prvKey=new Ie.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Wt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Wt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Ie.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Ie.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(oe){return this.updateString(oe),this.sign()},this.signHex=function(oe){return this.updateHex(oe),this.sign()},this.verify=function(oe){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==Ie.crypto.ECDSA&&(this.pubKey=new Ie.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Wt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,oe,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Wt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,oe);if(void 0!==Ie.crypto.ECDSA&&this.pubKey instanceof Ie.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,oe);if(void 0!==Ie.crypto.DSA&&this.pubKey instanceof Ie.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,oe);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(N,G){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(N){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(N){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(N){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(N){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(N){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=P,void 0!==P&&(void 0!==P.alg&&(this.algName=P.alg,this.provName=void 0===P.prov?Ie.crypto.Util.DEFAULTPROVIDER[this.algName]:P.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==P.psssaltlen&&(this.pssSaltLen=P.psssaltlen),void 0!==P.prvkeypem)){if(void 0!==P.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{k=_r.getKey(P.prvkeypem),this.init(k)}catch(N){throw"fatal error to load pem private key: "+N}}},Ie.crypto.Cipher=function(P){},Ie.crypto.Cipher.encrypt=function(P,k,N){if(k instanceof Wt&&k.isPublic){var G=Ie.crypto.Cipher.getAlgByKeyAndName(k,N);if("RSA"===G)return k.encrypt(P);if("RSAOAEP"===G)return k.encryptOAEP(P,"sha1");var oe=G.match(/^RSAOAEP(\d+)$/);if(null!==oe)return k.encryptOAEP(P,"sha"+oe[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+N}throw"Cipher.encrypt: unsupported key or algorithm"},Ie.crypto.Cipher.decrypt=function(P,k,N){if(k instanceof Wt&&k.isPrivate){var G=Ie.crypto.Cipher.getAlgByKeyAndName(k,N);if("RSA"===G)return k.decrypt(P);if("RSAOAEP"===G)return k.decryptOAEP(P,"sha1");var oe=G.match(/^RSAOAEP(\d+)$/);if(null!==oe)return k.decryptOAEP(P,"sha"+oe[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+N}throw"Cipher.decrypt: unsupported key or algorithm"},Ie.crypto.Cipher.getAlgByKeyAndName=function(P,k){if(P instanceof Wt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(k))return k;if(null==k)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+k}throw"getAlgByKeyAndName: not supported algorithm name: "+k},Ie.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.ECDSA=function(P){var k=Error,N=ge,G=tn,oe=Ie.crypto.ECDSA,ye=Ie.crypto.ECParameterDB,Ae=oe.getName,Be=nn.getVbyListEx,je=nn.isASN1HEX,Ge=new ut;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ke){return new N(Ke.bitLength(),Ge).mod(Ke.subtract(N.ONE)).add(N.ONE)},this.setNamedCurve=function(Ke){this.ecparams=ye.getByName(Ke),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ke},this.setPrivateKeyHex=function(Ke){this.isPrivate=!0,this.prvKeyHex=Ke},this.setPublicKeyHex=function(Ke){this.isPublic=!0,this.pubKeyHex=Ke},this.getPublicKeyXYHex=function(){var Ke=this.pubKeyHex;if("04"!==Ke.substr(0,2))throw"this method supports uncompressed format(04) only";var Qe=this.ecparams.keylen/4;if(Ke.length!==2+2*Qe)throw"malformed public key hex length";var ot={};return ot.x=Ke.substr(2,Qe),ot.y=Ke.substr(2+Qe),ot},this.getShortNISTPCurveName=function(){var Ke=this.curveName;return"secp256r1"===Ke||"NIST P-256"===Ke||"P-256"===Ke||"prime256v1"===Ke?"P-256":"secp384r1"===Ke||"NIST P-384"===Ke||"P-384"===Ke?"P-384":null},this.generateKeyPairHex=function(){var Qe=this.getBigRandom(this.ecparams.n),ot=this.ecparams.G.multiply(Qe),yt=ot.getX().toBigInteger(),At=ot.getY().toBigInteger(),Dt=this.ecparams.keylen/4,Pe=("0000000000"+Qe.toString(16)).slice(-Dt),qe="04"+("0000000000"+yt.toString(16)).slice(-Dt)+("0000000000"+At.toString(16)).slice(-Dt);return this.setPrivateKeyHex(Pe),this.setPublicKeyHex(qe),{ecprvhex:Pe,ecpubhex:qe}},this.signWithMessageHash=function(Ke){return this.signHex(Ke,this.prvKeyHex)},this.signHex=function(Ke,Qe){var ot=new N(Qe,16),yt=this.ecparams.n,At=new N(Ke.substring(0,this.ecparams.keylen/4),16);do{var Dt=this.getBigRandom(yt),Pe=this.ecparams.G.multiply(Dt).getX().toBigInteger().mod(yt)}while(Pe.compareTo(N.ZERO)<=0);var qe=Dt.modInverse(yt).multiply(At.add(ot.multiply(Pe))).mod(yt);return oe.biRSSigToASN1Sig(Pe,qe)},this.sign=function(Ke,Qe){var ot=Qe,yt=this.ecparams.n,At=N.fromByteArrayUnsigned(Ke);do{var Dt=this.getBigRandom(yt),Pe=this.ecparams.G.multiply(Dt).getX().toBigInteger().mod(yt)}while(Pe.compareTo(ge.ZERO)<=0);var qe=Dt.modInverse(yt).multiply(At.add(ot.multiply(Pe))).mod(yt);return this.serializeSig(Pe,qe)},this.verifyWithMessageHash=function(Ke,Qe){return this.verifyHex(Ke,Qe,this.pubKeyHex)},this.verifyHex=function(Ke,Qe,ot){try{var yt,At,Dt=oe.parseSigHex(Qe);yt=Dt.r,At=Dt.s;var Pe=G.decodeFromHex(this.ecparams.curve,ot),qe=new N(Ke.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(qe,yt,At,Pe)}catch{return!1}},this.verify=function(Ke,Qe,ot){var yt,At,Dt;if(Bitcoin.Util.isArray(Qe)){var Pe=this.parseSig(Qe);yt=Pe.r,At=Pe.s}else{if("object"!==(void 0===Qe?"undefined":j(Qe))||!Qe.r||!Qe.s)throw"Invalid value for signature";yt=Qe.r,At=Qe.s}if(ot instanceof tn)Dt=ot;else{if(!Bitcoin.Util.isArray(ot))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Dt=G.decodeFrom(this.ecparams.curve,ot)}var qe=N.fromByteArrayUnsigned(Ke);return this.verifyRaw(qe,yt,At,Dt)},this.verifyRaw=function(Ke,Qe,ot,yt){var At=this.ecparams.n,Dt=this.ecparams.G;if(Qe.compareTo(N.ONE)<0||Qe.compareTo(At)>=0||ot.compareTo(N.ONE)<0||ot.compareTo(At)>=0)return!1;var Pe=ot.modInverse(At),qe=Ke.multiply(Pe).mod(At),Xe=Qe.multiply(Pe).mod(At);return Dt.multiply(qe).add(yt.multiply(Xe)).getX().toBigInteger().mod(At).equals(Qe)},this.serializeSig=function(Ke,Qe){var ot=Ke.toByteArraySigned(),yt=Qe.toByteArraySigned(),At=[];return At.push(2),At.push(ot.length),(At=At.concat(ot)).push(2),At.push(yt.length),(At=At.concat(yt)).unshift(At.length),At.unshift(48),At},this.parseSig=function(Ke){var Qe;if(48!=Ke[0])throw new Error("Signature not a valid DERSequence");if(2!=Ke[Qe=2])throw new Error("First element in signature must be a DERInteger");var ot=Ke.slice(Qe+2,Qe+2+Ke[Qe+1]);if(2!=Ke[Qe+=2+Ke[Qe+1]])throw new Error("Second element in signature must be a DERInteger");var yt=Ke.slice(Qe+2,Qe+2+Ke[Qe+1]);return Qe+=2+Ke[Qe+1],{r:N.fromByteArrayUnsigned(ot),s:N.fromByteArrayUnsigned(yt)}},this.parseSigCompact=function(Ke){if(65!==Ke.length)throw"Signature has the wrong length";var Qe=Ke[0]-27;if(Qe<0||Qe>7)throw"Invalid signature type";var ot=this.ecparams.n;return{r:N.fromByteArrayUnsigned(Ke.slice(1,33)).mod(ot),s:N.fromByteArrayUnsigned(Ke.slice(33,65)).mod(ot),i:Qe}},this.readPKCS5PrvKeyHex=function(Ke){if(!1===je(Ke))throw new Error("not ASN.1 hex string");var Qe,ot,yt;try{Qe=Be(Ke,0,["[0]",0],"06"),ot=Be(Ke,0,[1],"04");try{yt=Be(Ke,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=Ae(Qe),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(yt),this.setPrivateKeyHex(ot),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ke){if(!1===je(Ke))throw new k("not ASN.1 hex string");var Qe,ot,yt;try{Be(Ke,0,[1,0],"06"),Qe=Be(Ke,0,[1,1],"06"),ot=Be(Ke,0,[2,0,1],"04");try{yt=Be(Ke,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new k("malformed PKCS#8 plain ECC private key")}if(this.curveName=Ae(Qe),void 0===this.curveName)throw new k("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(yt),this.setPrivateKeyHex(ot),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ke){if(!1===je(Ke))throw new k("not ASN.1 hex string");var Qe,ot;try{Be(Ke,0,[0,0],"06"),Qe=Be(Ke,0,[0,1],"06"),ot=Be(Ke,0,[1],"03")}catch{throw new k("malformed PKCS#8 ECC public key")}if(this.curveName=Ae(Qe),null===this.curveName)throw new k("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},this.readCertPubKeyHex=function(Ke,Qe){if(!1===je(Ke))throw new k("not ASN.1 hex string");var ot,yt;try{ot=Be(Ke,0,[0,5,0,1],"06"),yt=Be(Ke,0,[0,5,1],"03")}catch{throw new k("malformed X.509 certificate ECC public key")}if(this.curveName=Ae(ot),null===this.curveName)throw new k("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(yt)},void 0!==P&&void 0!==P.curve&&(this.curveName=P.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==P&&(void 0!==P.prv&&this.setPrivateKeyHex(P.prv),void 0!==P.pub&&this.setPublicKeyHex(P.pub))},Ie.crypto.ECDSA.parseSigHex=function(P){var k=Ie.crypto.ECDSA.parseSigHexInHexRS(P);return{r:new ge(k.r,16),s:new ge(k.s,16)}},Ie.crypto.ECDSA.parseSigHexInHexRS=function(P){var N=nn.getChildIdx,G=nn.getV;if(nn.checkStrictDER(P,0),"30"!=P.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var oe=N(P,0);if(2!=oe.length)throw new Error("signature shall have two elements");var ye=oe[0],Ae=oe[1];if("02"!=P.substr(ye,2))throw new Error("1st item not ASN.1 integer");if("02"!=P.substr(Ae,2))throw new Error("2nd item not ASN.1 integer");return{r:G(P,ye),s:G(P,Ae)}},Ie.crypto.ECDSA.asn1SigToConcatSig=function(P){var k=Ie.crypto.ECDSA.parseSigHexInHexRS(P),N=k.r,G=k.s;if("00"==N.substr(0,2)&&N.length%32==2&&(N=N.substr(2)),"00"==G.substr(0,2)&&G.length%32==2&&(G=G.substr(2)),N.length%32==30&&(N="00"+N),G.length%32==30&&(G="00"+G),N.length%32!=0)throw"unknown ECDSA sig r length error";if(G.length%32!=0)throw"unknown ECDSA sig s length error";return N+G},Ie.crypto.ECDSA.concatSigToASN1Sig=function(P){if(P.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var k=P.substr(0,P.length/2),N=P.substr(P.length/2);return Ie.crypto.ECDSA.hexRSSigToASN1Sig(k,N)},Ie.crypto.ECDSA.hexRSSigToASN1Sig=function(P,k){var N=new ge(P,16),G=new ge(k,16);return Ie.crypto.ECDSA.biRSSigToASN1Sig(N,G)},Ie.crypto.ECDSA.biRSSigToASN1Sig=function(P,k){var N=Ie.asn1,G=new N.DERInteger({bigint:P}),oe=new N.DERInteger({bigint:k});return new N.DERSequence({array:[G,oe]}).getEncodedHex()},Ie.crypto.ECDSA.getName=function(P){return"2b8104001f"===P?"secp192k1":"2a8648ce3d030107"===P?"secp256r1":"2b8104000a"===P?"secp256k1":"2b81040021"===P?"secp224r1":"2b81040022"===P?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(P)?"secp256r1":-1!=="|secp256k1|".indexOf(P)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(P)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(P)?"secp384r1":null},void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.ECParameterDB=new function(){var P={},k={};function N(G){return new ge(G,16)}this.getByName=function(G){var oe=G;if(void 0!==k[oe]&&(oe=k[G]),void 0!==P[oe])return P[oe];throw"unregistered EC curve name: "+oe},this.regist=function(G,oe,ye,Ae,Le,Be,je,Ge,Ke,Qe,ot,yt){P[G]={};var At=N(ye),Dt=N(Ae),Pe=N(Le),qe=N(Be),Xe=N(je),Je=new ir(At,Dt,Pe),xt=Je.decodePointHex("04"+Ge+Ke);P[G].name=G,P[G].keylen=oe,P[G].curve=Je,P[G].G=xt,P[G].n=qe,P[G].h=Xe,P[G].oid=ot,P[G].info=yt;for(var Tt=0;Tt<Qe.length;Tt++)k[Qe[Tt]]=G}},Ie.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),Ie.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),Ie.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),Ie.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),Ie.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),Ie.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),Ie.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),Ie.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),Ie.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),Ie.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var _r=function(){var P=function(je,Ge,Ke){return k(q.AES,je,Ge,Ke)},k=function(je,Ge,Ke,Qe){var ot=q.enc.Hex.parse(Ge),yt=q.enc.Hex.parse(Ke),At=q.enc.Hex.parse(Qe),Dt={};Dt.key=yt,Dt.iv=At,Dt.ciphertext=ot;var Pe=je.decrypt(Dt,yt,{iv:At});return q.enc.Hex.stringify(Pe)},N=function(je,Ge,Ke){return G(q.AES,je,Ge,Ke)},G=function(je,Ge,Ke,Qe){var ot=q.enc.Hex.parse(Ge),yt=q.enc.Hex.parse(Ke),At=q.enc.Hex.parse(Qe),Dt=je.encrypt(ot,yt,{iv:At}),Pe=q.enc.Hex.parse(Dt.toString());return q.enc.Base64.stringify(Pe)},oe={"AES-256-CBC":{proc:P,eproc:N,keylen:32,ivlen:16},"AES-192-CBC":{proc:P,eproc:N,keylen:24,ivlen:16},"AES-128-CBC":{proc:P,eproc:N,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(je,Ge,Ke){return k(q.TripleDES,je,Ge,Ke)},eproc:function(je,Ge,Ke){return G(q.TripleDES,je,Ge,Ke)},keylen:24,ivlen:8},"DES-CBC":{proc:function(je,Ge,Ke){return k(q.DES,je,Ge,Ke)},eproc:function(je,Ge,Ke){return G(q.DES,je,Ge,Ke)},keylen:8,ivlen:8}},ye=function(je){var Ge={},Ke=je.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ke&&(Ge.cipher=Ke[1],Ge.ivsalt=Ke[2]);var Qe=je.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Qe&&(Ge.type=Qe[1]);var ot=-1,yt=0;-1!=je.indexOf("\r\n\r\n")&&(ot=je.indexOf("\r\n\r\n"),yt=2),-1!=je.indexOf("\n\n")&&(ot=je.indexOf("\n\n"),yt=1);var At=je.indexOf("-----END");if(-1!=ot&&-1!=At){var Dt=je.substring(ot+2*yt,At-yt);Dt=Dt.replace(/\s+/g,""),Ge.data=Dt}return Ge},Ae=function(je,Ge,Ke){for(var Qe=Ke.substring(0,16),ot=q.enc.Hex.parse(Qe),yt=q.enc.Utf8.parse(Ge),At=oe[je].keylen+oe[je].ivlen,Dt="",Pe=null;;){var qe=q.algo.MD5.create();if(null!=Pe&&qe.update(Pe),qe.update(yt),qe.update(ot),Pe=qe.finalize(),(Dt+=q.enc.Hex.stringify(Pe)).length>=2*At)break}var Xe={};return Xe.keyhex=Dt.substr(0,2*oe[je].keylen),Xe.ivhex=Dt.substr(2*oe[je].keylen,2*oe[je].ivlen),Xe},Le=function(je,Ge,Ke,Qe){var ot=q.enc.Base64.parse(je),yt=q.enc.Hex.stringify(ot);return(0,oe[Ge].proc)(yt,Ke,Qe)};return{version:"1.0.0",parsePKCS5PEM:function(je){return ye(je)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(je,Ge,Ke){return Ae(je,Ge,Ke)},decryptKeyB64:function(je,Ge,Ke,Qe){return Le(je,Ge,Ke,Qe)},getDecryptedKeyHex:function(je,Ge){var Ke=ye(je),Qe=Ke.cipher,ot=Ke.ivsalt,yt=Ke.data,At=Ae(Qe,Ge,ot).keyhex;return Le(yt,Qe,At,ot)},getEncryptedPKCS5PEMFromPrvKeyHex:function(je,Ge,Ke,Qe,ot){var Pe,qe,yt="";if(void 0!==Qe&&null!=Qe||(Qe="AES-256-CBC"),void 0===oe[Qe])throw"KEYUTIL unsupported algorithm: "+Qe;void 0!==ot&&null!=ot||(ot=(Pe=oe[Qe].ivlen,qe=q.lib.WordArray.random(Pe),q.enc.Hex.stringify(qe)).toUpperCase());var At=function(Pe,qe,Xe,Je){return(0,oe[qe].eproc)(Pe,Xe,Je)}(Ge,Qe,Ae(Qe,Ke,ot).keyhex,ot);return yt="-----BEGIN "+je+" PRIVATE KEY-----\r\n",yt+="Proc-Type: 4,ENCRYPTED\r\n",yt+="DEK-Info: "+Qe+","+ot+"\r\n",yt+="\r\n",(yt+=At.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+je+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(je){var Ke=nn.getChildIdx,Qe=nn.getV,ot={},yt=Ke(je,0);if(2!=yt.length)throw"malformed format: SEQUENCE(0).items != 2: "+yt.length;ot.ciphertext=Qe(je,yt[1]);var At=Ke(je,yt[0]);if(2!=At.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+At.length;if("2a864886f70d01050d"!=Qe(je,At[0]))throw"this only supports pkcs5PBES2";var Dt=Ke(je,At[1]);if(2!=At.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+Dt.length;var Pe=Ke(je,Dt[1]);if(2!=Pe.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+Pe.length;if("2a864886f70d0307"!=Qe(je,Pe[0]))throw"this only supports TripleDES";ot.encryptionSchemeAlg="TripleDES",ot.encryptionSchemeIV=Qe(je,Pe[1]);var qe=Ke(je,Dt[0]);if(2!=qe.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+qe.length;if("2a864886f70d01050c"!=Qe(je,qe[0]))throw"this only supports pkcs5PBKDF2";var Xe=Ke(je,qe[1]);if(Xe.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Xe.length;ot.pbkdf2Salt=Qe(je,Xe[0]);var Je=Qe(je,Xe[1]);try{ot.pbkdf2Iter=parseInt(Je,16)}catch{throw"malformed format pbkdf2Iter: "+Je}return ot},getPBKDF2KeyHexFromParam:function(je,Ge){var Ke=q.enc.Hex.parse(je.pbkdf2Salt),ot=q.PBKDF2(Ge,Ke,{keySize:6,iterations:je.pbkdf2Iter});return q.enc.Hex.stringify(ot)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(je,Ge){var Ke=ei(je,"ENCRYPTED PRIVATE KEY"),Qe=this.parseHexOfEncryptedPKCS8(Ke),ot=_r.getPBKDF2KeyHexFromParam(Qe,Ge),yt={};yt.ciphertext=q.enc.Hex.parse(Qe.ciphertext);var At=q.enc.Hex.parse(ot),Dt=q.enc.Hex.parse(Qe.encryptionSchemeIV),Pe=q.TripleDES.decrypt(yt,At,{iv:Dt});return q.enc.Hex.stringify(Pe)},getKeyFromEncryptedPKCS8PEM:function(je,Ge){var Ke=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(je,Ge);return this.getKeyFromPlainPrivatePKCS8Hex(Ke)},parsePlainPrivatePKCS8Hex:function(je){var Ge=nn,Ke=Ge.getChildIdx,Qe=Ge.getV,ot={algparam:null};if("30"!=je.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var yt=Ke(je,0);if(3!=yt.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=je.substr(yt[1],2))throw"malformed PKCS8 private key(code:003)";var At=Ke(je,yt[1]);if(2!=At.length)throw"malformed PKCS8 private key(code:004)";if("06"!=je.substr(At[0],2))throw"malformed PKCS8 private key(code:005)";if(ot.algoid=Qe(je,At[0]),"06"==je.substr(At[1],2)&&(ot.algparam=Qe(je,At[1])),"04"!=je.substr(yt[2],2))throw"malformed PKCS8 private key(code:006)";return ot.keyidx=Ge.getVidx(je,yt[2]),ot},getKeyFromPlainPrivatePKCS8PEM:function(je){var Ge=ei(je,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ge)},getKeyFromPlainPrivatePKCS8Hex:function(je){var Ge,Ke=this.parsePlainPrivatePKCS8Hex(je);if("2a864886f70d010101"==Ke.algoid)Ge=new Wt;else if("2a8648ce380401"==Ke.algoid)Ge=new Ie.crypto.DSA;else{if("2a8648ce3d0201"!=Ke.algoid)throw"unsupported private key algorithm";Ge=new Ie.crypto.ECDSA}return Ge.readPKCS8PrvKeyHex(je),Ge},_getKeyFromPublicPKCS8Hex:function(je){var Ge,Ke=nn.getVbyList(je,0,[0,0],"06");if("2a864886f70d010101"===Ke)Ge=new Wt;else if("2a8648ce380401"===Ke)Ge=new Ie.crypto.DSA;else{if("2a8648ce3d0201"!==Ke)throw"unsupported PKCS#8 public key hex";Ge=new Ie.crypto.ECDSA}return Ge.readPKCS8PubKeyHex(je),Ge},parsePublicRawRSAKeyHex:function(je){var Ke=nn.getChildIdx,Qe=nn.getV,ot={};if("30"!=je.substr(0,2))throw"malformed RSA key(code:001)";var yt=Ke(je,0);if(2!=yt.length)throw"malformed RSA key(code:002)";if("02"!=je.substr(yt[0],2))throw"malformed RSA key(code:003)";if(ot.n=Qe(je,yt[0]),"02"!=je.substr(yt[1],2))throw"malformed RSA key(code:004)";return ot.e=Qe(je,yt[1]),ot},parsePublicPKCS8Hex:function(je){var Ge=nn,Ke=Ge.getChildIdx,Qe=Ge.getV,ot={algparam:null},yt=Ke(je,0);if(2!=yt.length)throw"outer DERSequence shall have 2 elements: "+yt.length;var At=yt[0];if("30"!=je.substr(At,2))throw"malformed PKCS8 public key(code:001)";var Dt=Ke(je,At);if(2!=Dt.length)throw"malformed PKCS8 public key(code:002)";if("06"!=je.substr(Dt[0],2))throw"malformed PKCS8 public key(code:003)";if(ot.algoid=Qe(je,Dt[0]),"06"==je.substr(Dt[1],2)?ot.algparam=Qe(je,Dt[1]):"30"==je.substr(Dt[1],2)&&(ot.algparam={},ot.algparam.p=Ge.getVbyList(je,Dt[1],[0],"02"),ot.algparam.q=Ge.getVbyList(je,Dt[1],[1],"02"),ot.algparam.g=Ge.getVbyList(je,Dt[1],[2],"02")),"03"!=je.substr(yt[1],2))throw"malformed PKCS8 public key(code:004)";return ot.key=Qe(je,yt[1]).substr(2),ot}}}();_r.getKey=function(P,k,N){var xr,G=(Dt=nn).getChildIdx,oe=Dt.getVbyList,ye=Ie.crypto,Ae=ye.ECDSA,Le=ye.DSA,Be=Wt,je=ei,Ge=_r;if(void 0!==Be&&P instanceof Be||void 0!==Ae&&P instanceof Ae||void 0!==Le&&P instanceof Le)return P;if(void 0!==P.curve&&void 0!==P.xy&&void 0===P.d)return new Ae({pub:P.xy,curve:P.curve});if(void 0!==P.curve&&void 0!==P.d)return new Ae({prv:P.d,curve:P.curve});if(void 0===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0===P.d)return(Cn=new Be).setPublic(P.n,P.e),Cn;if(void 0===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0!==P.d&&void 0!==P.p&&void 0!==P.q&&void 0!==P.dp&&void 0!==P.dq&&void 0!==P.co&&void 0===P.qi)return(Cn=new Be).setPrivateEx(P.n,P.e,P.d,P.p,P.q,P.dp,P.dq,P.co),Cn;if(void 0===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0!==P.d&&void 0===P.p)return(Cn=new Be).setPrivate(P.n,P.e,P.d),Cn;if(void 0!==P.p&&void 0!==P.q&&void 0!==P.g&&void 0!==P.y&&void 0===P.x)return(Cn=new Le).setPublic(P.p,P.q,P.g,P.y),Cn;if(void 0!==P.p&&void 0!==P.q&&void 0!==P.g&&void 0!==P.y&&void 0!==P.x)return(Cn=new Le).setPrivate(P.p,P.q,P.g,P.y,P.x),Cn;if("RSA"===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0===P.d)return(Cn=new Be).setPublic(vn(P.n),vn(P.e)),Cn;if("RSA"===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0!==P.d&&void 0!==P.p&&void 0!==P.q&&void 0!==P.dp&&void 0!==P.dq&&void 0!==P.qi)return(Cn=new Be).setPrivateEx(vn(P.n),vn(P.e),vn(P.d),vn(P.p),vn(P.q),vn(P.dp),vn(P.dq),vn(P.qi)),Cn;if("RSA"===P.kty&&void 0!==P.n&&void 0!==P.e&&void 0!==P.d)return(Cn=new Be).setPrivate(vn(P.n),vn(P.e),vn(P.d)),Cn;if("EC"===P.kty&&void 0!==P.crv&&void 0!==P.x&&void 0!==P.y&&void 0===P.d){var Ke=(un=new Ae({curve:P.crv})).ecparams.keylen/4,Qe="04"+("0000000000"+vn(P.x)).slice(-Ke)+("0000000000"+vn(P.y)).slice(-Ke);return un.setPublicKeyHex(Qe),un}if("EC"===P.kty&&void 0!==P.crv&&void 0!==P.x&&void 0!==P.y&&void 0!==P.d){Ke=(un=new Ae({curve:P.crv})).ecparams.keylen/4,Qe="04"+("0000000000"+vn(P.x)).slice(-Ke)+("0000000000"+vn(P.y)).slice(-Ke);var ot=("0000000000"+vn(P.d)).slice(-Ke);return un.setPublicKeyHex(Qe),un.setPrivateKeyHex(ot),un}if("pkcs5prv"===N){var yt,At=P,Dt=nn;if(9===(yt=G(At,0)).length)(Cn=new Be).readPKCS5PrvKeyHex(At);else if(6===yt.length)(Cn=new Le).readPKCS5PrvKeyHex(At);else{if(!(yt.length>2&&"04"===At.substr(yt[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Cn=new Ae).readPKCS5PrvKeyHex(At)}return Cn}if("pkcs8prv"===N)return Ge.getKeyFromPlainPrivatePKCS8Hex(P);if("pkcs8pub"===N)return Ge._getKeyFromPublicPKCS8Hex(P);if("x509pub"===N)return Tr.getPublicKeyFromCertHex(P);if(-1!=P.indexOf("-END CERTIFICATE-",0)||-1!=P.indexOf("-END X509 CERTIFICATE-",0)||-1!=P.indexOf("-END TRUSTED CERTIFICATE-",0))return Tr.getPublicKeyFromCertPEM(P);if(-1!=P.indexOf("-END PUBLIC KEY-")){var Pe=ei(P,"PUBLIC KEY");return Ge._getKeyFromPublicPKCS8Hex(Pe)}if(-1!=P.indexOf("-END RSA PRIVATE KEY-")&&-1==P.indexOf("4,ENCRYPTED")){var qe=je(P,"RSA PRIVATE KEY");return Ge.getKey(qe,null,"pkcs5prv")}if(-1!=P.indexOf("-END DSA PRIVATE KEY-")&&-1==P.indexOf("4,ENCRYPTED")){var Xe=oe(xr=je(P,"DSA PRIVATE KEY"),0,[1],"02"),Je=oe(xr,0,[2],"02"),xt=oe(xr,0,[3],"02"),Tt=oe(xr,0,[4],"02"),ln=oe(xr,0,[5],"02");return(Cn=new Le).setPrivate(new ge(Xe,16),new ge(Je,16),new ge(xt,16),new ge(Tt,16),new ge(ln,16)),Cn}if(-1!=P.indexOf("-END EC PRIVATE KEY-")&&-1==P.indexOf("4,ENCRYPTED"))return qe=je(P,"EC PRIVATE KEY"),Ge.getKey(qe,null,"pkcs5prv");if(-1!=P.indexOf("-END PRIVATE KEY-"))return Ge.getKeyFromPlainPrivatePKCS8PEM(P);if(-1!=P.indexOf("-END RSA PRIVATE KEY-")&&-1!=P.indexOf("4,ENCRYPTED")){var Kt=Ge.getDecryptedKeyHex(P,k),Hn=new Wt;return Hn.readPKCS5PrvKeyHex(Kt),Hn}if(-1!=P.indexOf("-END EC PRIVATE KEY-")&&-1!=P.indexOf("4,ENCRYPTED")){var un,Cn=oe(xr=Ge.getDecryptedKeyHex(P,k),0,[1],"04"),ar=oe(xr,0,[2,0],"06"),Er=oe(xr,0,[3,0],"03").substr(2);if(void 0===Ie.crypto.OID.oidhex2name[ar])throw"undefined OID(hex) in KJUR.crypto.OID: "+ar;return(un=new Ae({curve:Ie.crypto.OID.oidhex2name[ar]})).setPublicKeyHex(Er),un.setPrivateKeyHex(Cn),un.isPublic=!1,un}if(-1!=P.indexOf("-END DSA PRIVATE KEY-")&&-1!=P.indexOf("4,ENCRYPTED"))return Xe=oe(xr=Ge.getDecryptedKeyHex(P,k),0,[1],"02"),Je=oe(xr,0,[2],"02"),xt=oe(xr,0,[3],"02"),Tt=oe(xr,0,[4],"02"),ln=oe(xr,0,[5],"02"),(Cn=new Le).setPrivate(new ge(Xe,16),new ge(Je,16),new ge(xt,16),new ge(Tt,16),new ge(ln,16)),Cn;if(-1!=P.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Ge.getKeyFromEncryptedPKCS8PEM(P,k);throw new Error("not supported argument")},_r.generateKeypair=function(P,k){if("RSA"==P){var N=k;(Ae=new Wt).generate(N,"10001"),Ae.isPrivate=!0,Ae.isPublic=!0;var G=new Wt,oe=Ae.n.toString(16),ye=Ae.e.toString(16);return G.setPublic(oe,ye),G.isPrivate=!1,G.isPublic=!0,(Le={}).prvKeyObj=Ae,Le.pubKeyObj=G,Le}if("EC"==P){var Ae,Le,Be=k,je=new Ie.crypto.ECDSA({curve:Be}).generateKeyPairHex();return(Ae=new Ie.crypto.ECDSA({curve:Be})).setPublicKeyHex(je.ecpubhex),Ae.setPrivateKeyHex(je.ecprvhex),Ae.isPrivate=!0,Ae.isPublic=!1,(G=new Ie.crypto.ECDSA({curve:Be})).setPublicKeyHex(je.ecpubhex),G.isPrivate=!1,G.isPublic=!0,(Le={}).prvKeyObj=Ae,Le.pubKeyObj=G,Le}throw"unknown algorithm: "+P},_r.getPEM=function(P,k,N,G,oe,ye){var Le=Ie.asn1,Be=Le.DERObjectIdentifier,je=Le.DERInteger,Ge=Le.ASN1Util.newObject,Qe=Ie.crypto,ot=Qe.DSA,yt=Qe.ECDSA,At=Wt;function Dt(un){return Ge({seq:[{int:0},{int:{bigint:un.n}},{int:un.e},{int:{bigint:un.d}},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.dmp1}},{int:{bigint:un.dmq1}},{int:{bigint:un.coeff}}]})}function Pe(un){return Ge({seq:[{int:1},{octstr:{hex:un.prvKeyHex}},{tag:["a0",!0,{oid:{name:un.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+un.pubKeyHex}}]}]})}function qe(un){return Ge({seq:[{int:0},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.g}},{int:{bigint:un.y}},{int:{bigint:un.x}}]})}if((void 0!==At&&P instanceof At||void 0!==ot&&P instanceof ot||void 0!==yt&&P instanceof yt)&&1==P.isPublic&&(void 0===k||"PKCS8PUB"==k))return Lr(Tt=new(0,Le.x509.SubjectPublicKeyInfo)(P).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==k&&void 0!==At&&P instanceof At&&(void 0===N||null==N)&&1==P.isPrivate)return Lr(Tt=Dt(P).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==k&&void 0!==yt&&P instanceof yt&&(void 0===N||null==N)&&1==P.isPrivate){var Xe=new Be({name:P.curveName}).getEncodedHex(),Je=Pe(P).getEncodedHex(),xt="";return(xt+=Lr(Xe,"EC PARAMETERS"))+Lr(Je,"EC PRIVATE KEY")}if("PKCS1PRV"==k&&void 0!==ot&&P instanceof ot&&(void 0===N||null==N)&&1==P.isPrivate)return Lr(Tt=qe(P).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==k&&void 0!==At&&P instanceof At&&void 0!==N&&null!=N&&1==P.isPrivate){var Tt=Dt(P).getEncodedHex();return void 0===G&&(G="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",Tt,N,G,ye)}if("PKCS5PRV"==k&&void 0!==yt&&P instanceof yt&&void 0!==N&&null!=N&&1==P.isPrivate)return Tt=Pe(P).getEncodedHex(),void 0===G&&(G="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",Tt,N,G,ye);if("PKCS5PRV"==k&&void 0!==ot&&P instanceof ot&&void 0!==N&&null!=N&&1==P.isPrivate)return Tt=qe(P).getEncodedHex(),void 0===G&&(G="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",Tt,N,G,ye);var ln=function(Cn,ar){var Er=Kt(Cn,ar);return new Ge({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Er.pbkdf2Salt}},{int:Er.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Er.encryptionSchemeIV}}]}]}]},{octstr:{hex:Er.ciphertext}}]}).getEncodedHex()},Kt=function(Cn,ar){var Er=q.lib.WordArray.random(8),xr=q.lib.WordArray.random(8),Ci=q.PBKDF2(ar,Er,{keySize:6,iterations:100}),si=q.enc.Hex.parse(Cn),ti=q.TripleDES.encrypt(si,Ci,{iv:xr})+"",Ue={};return Ue.ciphertext=ti,Ue.pbkdf2Salt=q.enc.Hex.stringify(Er),Ue.pbkdf2Iter=100,Ue.encryptionSchemeAlg="DES-EDE3-CBC",Ue.encryptionSchemeIV=q.enc.Hex.stringify(xr),Ue};if("PKCS8PRV"==k&&null!=At&&P instanceof At&&1==P.isPrivate){var Hn=Dt(P).getEncodedHex();return Tt=Ge({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Hn}}]}).getEncodedHex(),void 0===N||null==N?Lr(Tt,"PRIVATE KEY"):Lr(Je=ln(Tt,N),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==k&&void 0!==yt&&P instanceof yt&&1==P.isPrivate)return Hn=new Ge({seq:[{int:1},{octstr:{hex:P.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+P.pubKeyHex}}]}]}).getEncodedHex(),Tt=Ge({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:P.curveName}}]},{octstr:{hex:Hn}}]}).getEncodedHex(),void 0===N||null==N?Lr(Tt,"PRIVATE KEY"):Lr(Je=ln(Tt,N),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==k&&void 0!==ot&&P instanceof ot&&1==P.isPrivate)return Hn=new je({bigint:P.x}).getEncodedHex(),Tt=Ge({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:P.p}},{int:{bigint:P.q}},{int:{bigint:P.g}}]}]},{octstr:{hex:Hn}}]}).getEncodedHex(),void 0===N||null==N?Lr(Tt,"PRIVATE KEY"):Lr(Je=ln(Tt,N),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},_r.getKeyFromCSRPEM=function(P){var k=ei(P,"CERTIFICATE REQUEST");return _r.getKeyFromCSRHex(k)},_r.getKeyFromCSRHex=function(P){var k=_r.parseCSRHex(P);return _r.getKey(k.p8pubkeyhex,null,"pkcs8pub")},_r.parseCSRHex=function(P){var N=nn.getChildIdx,G=nn.getTLV,oe={},ye=P;if("30"!=ye.substr(0,2))throw"malformed CSR(code:001)";var Ae=N(ye,0);if(Ae.length<1)throw"malformed CSR(code:002)";if("30"!=ye.substr(Ae[0],2))throw"malformed CSR(code:003)";var Le=N(ye,Ae[0]);if(Le.length<3)throw"malformed CSR(code:004)";return oe.p8pubkeyhex=G(ye,Le[2]),oe},_r.getKeyID=function(P){var k=_r,N=nn;"string"==typeof P&&-1!=P.indexOf("BEGIN ")&&(P=k.getKey(P));var G=ei(k.getPEM(P)),oe=N.getIdxbyList(G,0,[1]),ye=N.getV(G,oe).substring(2);return Ie.crypto.Util.hashHex(ye,"sha1")},_r.getJWKFromKey=function(P){var k={};if(P instanceof Wt&&P.isPrivate)return k.kty="RSA",k.n=An(P.n.toString(16)),k.e=An(P.e.toString(16)),k.d=An(P.d.toString(16)),k.p=An(P.p.toString(16)),k.q=An(P.q.toString(16)),k.dp=An(P.dmp1.toString(16)),k.dq=An(P.dmq1.toString(16)),k.qi=An(P.coeff.toString(16)),k;if(P instanceof Wt&&P.isPublic)return k.kty="RSA",k.n=An(P.n.toString(16)),k.e=An(P.e.toString(16)),k;if(P instanceof Ie.crypto.ECDSA&&P.isPrivate){if("P-256"!==(G=P.getShortNISTPCurveName())&&"P-384"!==G)throw"unsupported curve name for JWT: "+G;var N=P.getPublicKeyXYHex();return k.kty="EC",k.crv=G,k.x=An(N.x),k.y=An(N.y),k.d=An(P.prvKeyHex),k}if(P instanceof Ie.crypto.ECDSA&&P.isPublic){var G;if("P-256"!==(G=P.getShortNISTPCurveName())&&"P-384"!==G)throw"unsupported curve name for JWT: "+G;return N=P.getPublicKeyXYHex(),k.kty="EC",k.crv=G,k.x=An(N.x),k.y=An(N.y),k}throw"not supported key object"},Wt.getPosArrayOfChildrenFromHex=function(P){return nn.getChildIdx(P,0)},Wt.getHexValueArrayOfChildrenFromHex=function(P){var k,N=nn.getV,G=N(P,(k=Wt.getPosArrayOfChildrenFromHex(P))[0]),oe=N(P,k[1]),ye=N(P,k[2]),Ae=N(P,k[3]),Le=N(P,k[4]),Be=N(P,k[5]),je=N(P,k[6]),Ge=N(P,k[7]),Ke=N(P,k[8]);return(k=new Array).push(G,oe,ye,Ae,Le,Be,je,Ge,Ke),k},Wt.prototype.readPrivateKeyFromPEMString=function(P){var k=ei(P),N=Wt.getHexValueArrayOfChildrenFromHex(k);this.setPrivateEx(N[1],N[2],N[3],N[4],N[5],N[6],N[7],N[8])},Wt.prototype.readPKCS5PrvKeyHex=function(P){var k=Wt.getHexValueArrayOfChildrenFromHex(P);this.setPrivateEx(k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])},Wt.prototype.readPKCS8PrvKeyHex=function(P){var k,N,G,oe,ye,Ae,Le,Be,Ge=nn.getVbyListEx;if(!1===nn.isASN1HEX(P))throw new Error("not ASN.1 hex string");try{k=Ge(P,0,[2,0,1],"02"),N=Ge(P,0,[2,0,2],"02"),G=Ge(P,0,[2,0,3],"02"),oe=Ge(P,0,[2,0,4],"02"),ye=Ge(P,0,[2,0,5],"02"),Ae=Ge(P,0,[2,0,6],"02"),Le=Ge(P,0,[2,0,7],"02"),Be=Ge(P,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(k,N,G,oe,ye,Ae,Le,Be)},Wt.prototype.readPKCS5PubKeyHex=function(P){var k=nn,N=k.getV;if(!1===k.isASN1HEX(P))throw new Error("keyHex is not ASN.1 hex string");var G=k.getChildIdx(P,0);if(2!==G.length||"02"!==P.substr(G[0],2)||"02"!==P.substr(G[1],2))throw new Error("wrong hex for PKCS#5 public key");var oe=N(P,G[0]),ye=N(P,G[1]);this.setPublic(oe,ye)},Wt.prototype.readPKCS8PubKeyHex=function(P){var k=nn;if(!1===k.isASN1HEX(P))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==k.getTLVbyListEx(P,0,[0,0]))throw new Error("not PKCS8 RSA public key");var N=k.getTLVbyListEx(P,0,[1,0]);this.readPKCS5PubKeyHex(N)},Wt.prototype.readCertPubKeyHex=function(P,k){var N,G;(N=new Tr).readCertHex(P),G=N.getPublicKeyHex(),this.readPKCS8PubKeyHex(G)};var Oo=new RegExp("[^0-9a-f]","gi");function so(P,k){for(var N="",G=k/4-P.length,oe=0;oe<G;oe++)N+="0";return N+P}function Ai(P,k,N){for(var G="",oe=0;G.length<k;)G+=cr(N(Ar(P+String.fromCharCode.apply(String,[(4278190080&oe)>>24,(16711680&oe)>>16,(65280&oe)>>8,255&oe])))),oe+=1;return G}function Qi(P){for(var k in Ie.crypto.Util.DIGESTINFOHEAD){var N=Ie.crypto.Util.DIGESTINFOHEAD[k],G=N.length;if(P.substring(0,G)==N)return[k,P.substring(G)]}return[]}function Tr(P){var k,N=nn,G=N.getChildIdx,oe=N.getV,ye=N.getTLV,Ae=N.getVbyList,Le=N.getVbyListEx,Be=N.getTLVbyList,je=N.getTLVbyListEx,Ge=N.getIdxbyList,Ke=N.getIdxbyListEx,Qe=N.getVidx,ot=N.oidname,yt=N.hextooidstr,At=Tr,Dt=ei;try{k=Ie.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==Be(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return Le(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var Pe=je(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(Pe)},this.getAlgorithmIdentifierName=function(Pe){for(var qe in k)if(Pe===k[qe])return qe;return ot(Le(Pe,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Be(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return At.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Be(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return At.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var Pe=Ae(this.hex,0,[0,4+this.foffset,0]);return Pe=Pe.replace(/(..)/g,"%$1"),decodeURIComponent(Pe)},this.getNotAfter=function(){var Pe=Ae(this.hex,0,[0,4+this.foffset,1]);return Pe=Pe.replace(/(..)/g,"%$1"),decodeURIComponent(Pe)},this.getPublicKeyHex=function(){return N.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Ge(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var Pe=this.getPublicKeyIdx();return Ge(this.hex,Pe,[1,0],"30")},this.getPublicKey=function(){return _r.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var Pe=Be(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(Pe)},this.getSignatureValueHex=function(){return Ae(this.hex,0,[2],"03",!0)},this.verifySignature=function(Pe){var qe=this.getSignatureAlgorithmField(),Xe=this.getSignatureValueHex(),Je=Be(this.hex,0,[0],"30"),xt=new Ie.crypto.Signature({alg:qe});return xt.init(Pe),xt.updateHex(Je),xt.verify(Xe)},this.parseExt=function(Pe){var qe,Xe,Je;if(void 0===Pe){if(3!==this.version)return-1;qe=Ge(Je=this.hex,0,[0,7,0],"30"),Xe=G(Je,qe)}else{Je=ei(Pe);var xt=Ge(Je,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=oe(Je,xt))return void(this.aExtInfo=new Array);qe=Ge(Je,0,[0,3,0,1,0],"30"),Xe=G(Je,qe),this.hex=Je}this.aExtInfo=new Array;for(var Tt=0;Tt<Xe.length;Tt++){var ln={critical:!1},Kt=0;3===G(Je,Xe[Tt]).length&&(ln.critical=!0,Kt=1),ln.oid=N.hextooidstr(Ae(Je,Xe[Tt],[0],"06"));var Hn=Ge(Je,Xe[Tt],[1+Kt]);ln.vidx=Qe(Je,Hn),this.aExtInfo.push(ln)}},this.getExtInfo=function(Pe){var qe=this.aExtInfo,Xe=Pe;if(Pe.match(/^[0-9.]+$/)||(Xe=Ie.asn1.x509.OID.name2oid(Pe)),""!==Xe)for(var Je=0;Je<qe.length;Je++)if(qe[Je].oid===Xe)return qe[Je]},this.getExtBasicConstraints=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("basicConstraints");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"basicConstraints"};if(qe&&(Je.critical=!0),"3000"===Pe)return Je;if("30030101ff"===Pe)return Je.cA=!0,Je;if("30060101ff02"===Pe.substr(0,12)){var xt=oe(Pe,10),Tt=parseInt(xt,16);return Je.cA=!0,Je.pathLen=Tt,Je}throw new Error("hExtV parse error: "+Pe)},this.getExtKeyUsage=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("keyUsage");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"keyUsage"};return qe&&(Je.critical=!0),Je.names=this.getExtKeyUsageString(Pe).split(","),Je},this.getExtKeyUsageBin=function(Pe){if(void 0===Pe){var qe=this.getExtInfo("keyUsage");if(void 0===qe)return"";Pe=ye(this.hex,qe.vidx)}if(8!=Pe.length&&10!=Pe.length)throw new Error("malformed key usage value: "+Pe);var Xe="000000000000000"+parseInt(Pe.substr(6),16).toString(2);return 8==Pe.length&&(Xe=Xe.slice(-8)),10==Pe.length&&(Xe=Xe.slice(-16)),""==(Xe=Xe.replace(/0+$/,""))&&(Xe="0"),Xe},this.getExtKeyUsageString=function(Pe){for(var qe=this.getExtKeyUsageBin(Pe),Xe=new Array,Je=0;Je<qe.length;Je++)"1"==qe.substr(Je,1)&&Xe.push(Tr.KEYUSAGE_NAME[Je]);return Xe.join(",")},this.getExtSubjectKeyIdentifier=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("subjectKeyIdentifier");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"subjectKeyIdentifier"};qe&&(Je.critical=!0);var xt=oe(Pe,0);return Je.kid={hex:xt},Je},this.getExtAuthorityKeyIdentifier=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("authorityKeyIdentifier");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"authorityKeyIdentifier"};qe&&(Je.critical=!0);for(var xt=G(Pe,0),Tt=0;Tt<xt.length;Tt++){var ln=Pe.substr(xt[Tt],2);if("80"===ln&&(Je.kid={hex:oe(Pe,xt[Tt])}),"a1"===ln){var Kt=ye(Pe,xt[Tt]),Hn=this.getGeneralNames(Kt);Je.issuer=Hn[0].dn}"82"===ln&&(Je.sn={hex:oe(Pe,xt[Tt])})}return Je},this.getExtExtKeyUsage=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("extKeyUsage");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"extKeyUsage",array:[]};qe&&(Je.critical=!0);for(var xt=G(Pe,0),Tt=0;Tt<xt.length;Tt++)Je.array.push(ot(oe(Pe,xt[Tt])));return Je},this.getExtExtKeyUsageName=function(){var Pe=this.getExtInfo("extKeyUsage");if(void 0===Pe)return Pe;var qe=new Array,Xe=ye(this.hex,Pe.vidx);if(""===Xe)return qe;for(var Je=G(Xe,0),xt=0;xt<Je.length;xt++)qe.push(ot(oe(Xe,Je[xt])));return qe},this.getExtSubjectAltName=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("subjectAltName");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"subjectAltName",array:[]};return qe&&(Je.critical=!0),Je.array=this.getGeneralNames(Pe),Je},this.getExtIssuerAltName=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("issuerAltName");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"issuerAltName",array:[]};return qe&&(Je.critical=!0),Je.array=this.getGeneralNames(Pe),Je},this.getGeneralNames=function(Pe){for(var qe=G(Pe,0),Xe=[],Je=0;Je<qe.length;Je++){var xt=this.getGeneralName(ye(Pe,qe[Je]));void 0!==xt&&Xe.push(xt)}return Xe},this.getGeneralName=function(Pe){var qe=Pe.substr(0,2),Xe=oe(Pe,0),Je=cr(Xe);return"81"==qe?{rfc822:Je}:"82"==qe?{dns:Je}:"86"==qe?{uri:Je}:"87"==qe?{ip:xi(Xe)}:"a4"==qe?{dn:this.getX500Name(Xe)}:void 0},this.getExtSubjectAltName2=function(){var Pe,qe,Xe,Je=this.getExtInfo("subjectAltName");if(void 0===Je)return Je;for(var xt=new Array,Tt=ye(this.hex,Je.vidx),ln=G(Tt,0),Kt=0;Kt<ln.length;Kt++)Xe=Tt.substr(ln[Kt],2),Pe=oe(Tt,ln[Kt]),"81"===Xe&&(qe=pr(Pe),xt.push(["MAIL",qe])),"82"===Xe&&(qe=pr(Pe),xt.push(["DNS",qe])),"84"===Xe&&(qe=Tr.hex2dn(Pe,0),xt.push(["DN",qe])),"86"===Xe&&(qe=pr(Pe),xt.push(["URI",qe])),"87"===Xe&&(qe=xi(Pe),xt.push(["IP",qe]));return xt},this.getExtCRLDistributionPoints=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("cRLDistributionPoints");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"cRLDistributionPoints",array:[]};qe&&(Je.critical=!0);for(var xt=G(Pe,0),Tt=0;Tt<xt.length;Tt++){var ln=ye(Pe,xt[Tt]);Je.array.push(this.getDistributionPoint(ln))}return Je},this.getDistributionPoint=function(Pe){for(var qe={},Xe=G(Pe,0),Je=0;Je<Xe.length;Je++){var xt=Pe.substr(Xe[Je],2),Tt=ye(Pe,Xe[Je]);"a0"==xt&&(qe.dpname=this.getDistributionPointName(Tt))}return qe},this.getDistributionPointName=function(Pe){for(var qe={},Xe=G(Pe,0),Je=0;Je<Xe.length;Je++){var xt=Pe.substr(Xe[Je],2),Tt=ye(Pe,Xe[Je]);"a0"==xt&&(qe.full=this.getGeneralNames(Tt))}return qe},this.getExtCRLDistributionPointsURI=function(){var Pe=this.getExtInfo("cRLDistributionPoints");if(void 0===Pe)return Pe;for(var qe=new Array,Xe=G(this.hex,Pe.vidx),Je=0;Je<Xe.length;Je++)try{var xt=pr(Ae(this.hex,Xe[Je],[0,0,0],"86"));qe.push(xt)}catch{}return qe},this.getExtAIAInfo=function(){var Pe=this.getExtInfo("authorityInfoAccess");if(void 0===Pe)return Pe;for(var qe={ocsp:[],caissuer:[]},Xe=G(this.hex,Pe.vidx),Je=0;Je<Xe.length;Je++){var xt=Ae(this.hex,Xe[Je],[0],"06"),Tt=Ae(this.hex,Xe[Je],[1],"86");"2b06010505073001"===xt&&qe.ocsp.push(pr(Tt)),"2b06010505073002"===xt&&qe.caissuer.push(pr(Tt))}return qe},this.getExtAuthorityInfoAccess=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("authorityInfoAccess");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"authorityInfoAccess",array:[]};qe&&(Je.critical=!0);for(var xt=G(Pe,0),Tt=0;Tt<xt.length;Tt++){var ln=Le(Pe,xt[Tt],[0],"06"),Kt=pr(Ae(Pe,xt[Tt],[1],"86"));if("2b06010505073001"==ln)Je.array.push({ocsp:Kt});else{if("2b06010505073002"!=ln)throw new Error("unknown method: "+ln);Je.array.push({caissuer:Kt})}}return Je},this.getExtCertificatePolicies=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("certificatePolicies");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"certificatePolicies",array:[]};qe&&(Je.critical=!0);for(var xt=G(Pe,0),Tt=0;Tt<xt.length;Tt++){var ln=ye(Pe,xt[Tt]),Kt=this.getPolicyInformation(ln);Je.array.push(Kt)}return Je},this.getPolicyInformation=function(Pe){var qe={},Xe=Ae(Pe,0,[0],"06");qe.policyoid=ot(Xe);var Je=Ke(Pe,0,[1],"30");if(-1!=Je){qe.array=[];for(var xt=G(Pe,Je),Tt=0;Tt<xt.length;Tt++){var ln=ye(Pe,xt[Tt]),Kt=this.getPolicyQualifierInfo(ln);qe.array.push(Kt)}}return qe},this.getPolicyQualifierInfo=function(Pe){var qe={},Xe=Ae(Pe,0,[0],"06");if("2b06010505070201"===Xe){var Je=Le(Pe,0,[1],"16");qe.cps=cr(Je)}else if("2b06010505070202"===Xe){var xt=Be(Pe,0,[1],"30");qe.unotice=this.getUserNotice(xt)}return qe},this.getUserNotice=function(Pe){for(var qe={},Xe=G(Pe,0),Je=0;Je<Xe.length;Je++){var xt=ye(Pe,Xe[Je]);"30"!=xt.substr(0,2)&&(qe.exptext=this.getDisplayText(xt))}return qe},this.getDisplayText=function(Pe){var qe={};return qe.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[Pe.substr(0,2)],qe.str=cr(oe(Pe,0)),qe},this.getExtCRLNumber=function(Pe,qe){var Xe={extname:"cRLNumber"};if(qe&&(Xe.critical=!0),"02"==Pe.substr(0,2))return Xe.num={hex:oe(Pe,0)},Xe;throw new Error("hExtV parse error: "+Pe)},this.getExtCRLReason=function(Pe,qe){var Xe={extname:"cRLReason"};if(qe&&(Xe.critical=!0),"0a"==Pe.substr(0,2))return Xe.code=parseInt(oe(Pe,0),16),Xe;throw new Error("hExtV parse error: "+Pe)},this.getExtOcspNonce=function(Pe,qe){var Xe={extname:"ocspNonce"};qe&&(Xe.critical=!0);var Je=oe(Pe,0);return Xe.hex=Je,Xe},this.getExtOcspNoCheck=function(Pe,qe){var Xe={extname:"ocspNoCheck"};return qe&&(Xe.critical=!0),Xe},this.getExtAdobeTimeStamp=function(Pe,qe){if(void 0===Pe&&void 0===qe){var Xe=this.getExtInfo("adobeTimeStamp");if(void 0===Xe)return;Pe=ye(this.hex,Xe.vidx),qe=Xe.critical}var Je={extname:"adobeTimeStamp"};qe&&(Je.critical=!0);var xt=G(Pe,0);if(xt.length>1){var Tt=ye(Pe,xt[1]),ln=this.getGeneralName(Tt);null!=ln.uri&&(Je.uri=ln.uri)}if(xt.length>2){var Kt=ye(Pe,xt[2]);"0101ff"==Kt&&(Je.reqauth=!0),"010100"==Kt&&(Je.reqauth=!1)}return Je},this.getX500NameRule=function(Pe){for(var qe=null,Xe=[],Je=0;Je<Pe.length;Je++)for(var xt=Pe[Je],Tt=0;Tt<xt.length;Tt++)Xe.push(xt[Tt]);for(Je=0;Je<Xe.length;Je++){var ln=Xe[Je],Kt=ln.ds,un=ln.type;if("prn"!=Kt&&"utf8"!=Kt&&"ia5"!=Kt)return"mixed";if("ia5"==Kt){if("CN"!=un)return"mixed";if(Ie.lang.String.isMail(ln.value))continue;return"mixed"}if("C"==un){if("prn"==Kt)continue;return"mixed"}if(null==qe)qe=Kt;else if(qe!==Kt)return"mixed"}return qe??"prn"},this.getX500Name=function(Pe){var qe=this.getX500NameArray(Pe);return{array:qe,str:this.dnarraytostr(qe)}},this.getX500NameArray=function(Pe){for(var qe=[],Xe=G(Pe,0),Je=0;Je<Xe.length;Je++)qe.push(this.getRDN(ye(Pe,Xe[Je])));return qe},this.getRDN=function(Pe){for(var qe=[],Xe=G(Pe,0),Je=0;Je<Xe.length;Je++)qe.push(this.getAttrTypeAndValue(ye(Pe,Xe[Je])));return qe},this.getAttrTypeAndValue=function(Pe){var qe={type:null,value:null,ds:null},Xe=G(Pe,0),Je=Ae(Pe,Xe[0],[],"06"),xt=Ae(Pe,Xe[1],[]),Tt=Ie.asn1.ASN1Util.oidHexToInt(Je);return qe.type=Ie.asn1.x509.OID.oid2atype(Tt),qe.value=cr(xt),qe.ds=this.HEX2STAG[Pe.substr(Xe[1],2)],qe},this.readCertPEM=function(Pe){this.readCertHex(Dt(Pe))},this.readCertHex=function(Pe){this.hex=Pe,this.getVersion();try{Ge(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var Pe={};return Pe.version=this.getVersion(),Pe.serial={hex:this.getSerialNumberHex()},Pe.sigalg=this.getSignatureAlgorithmField(),Pe.issuer=this.getIssuer(),Pe.notbefore=this.getNotBefore(),Pe.notafter=this.getNotAfter(),Pe.subject=this.getSubject(),Pe.sbjpubkey=Lr(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(Pe.ext=this.getExtParamArray()),Pe.sighex=this.getSignatureValueHex(),Pe},this.getExtParamArray=function(Pe){null==Pe&&-1!=Ke(this.hex,0,[0,"[3]"])&&(Pe=je(this.hex,0,[0,"[3]",0],"30"));for(var qe=[],Xe=G(Pe,0),Je=0;Je<Xe.length;Je++){var xt=ye(Pe,Xe[Je]),Tt=this.getExtParam(xt);null!=Tt&&qe.push(Tt)}return qe},this.getExtParam=function(Pe){var qe=G(Pe,0).length;if(2!=qe&&3!=qe)throw new Error("wrong number elements in Extension: "+qe+" "+Pe);var Xe=yt(Ae(Pe,0,[0],"06")),Je=!1;3==qe&&"0101ff"==Be(Pe,0,[1])&&(Je=!0);var xt=Be(Pe,0,[qe-1,0]),Tt=void 0;if("2.5.29.14"==Xe?Tt=this.getExtSubjectKeyIdentifier(xt,Je):"2.5.29.15"==Xe?Tt=this.getExtKeyUsage(xt,Je):"2.5.29.17"==Xe?Tt=this.getExtSubjectAltName(xt,Je):"2.5.29.18"==Xe?Tt=this.getExtIssuerAltName(xt,Je):"2.5.29.19"==Xe?Tt=this.getExtBasicConstraints(xt,Je):"2.5.29.31"==Xe?Tt=this.getExtCRLDistributionPoints(xt,Je):"2.5.29.32"==Xe?Tt=this.getExtCertificatePolicies(xt,Je):"2.5.29.35"==Xe?Tt=this.getExtAuthorityKeyIdentifier(xt,Je):"2.5.29.37"==Xe?Tt=this.getExtExtKeyUsage(xt,Je):"1.3.6.1.5.5.7.1.1"==Xe?Tt=this.getExtAuthorityInfoAccess(xt,Je):"2.5.29.20"==Xe?Tt=this.getExtCRLNumber(xt,Je):"2.5.29.21"==Xe?Tt=this.getExtCRLReason(xt,Je):"1.3.6.1.5.5.7.48.1.2"==Xe?Tt=this.getExtOcspNonce(xt,Je):"1.3.6.1.5.5.7.48.1.5"==Xe?Tt=this.getExtOcspNoCheck(xt,Je):"1.2.840.113583.1.1.9.1"==Xe&&(Tt=this.getExtAdobeTimeStamp(xt,Je)),null!=Tt)return Tt;var ln={extname:Xe,extn:xt};return Je&&(ln.critical=!0),ln},this.findExt=function(Pe,qe){for(var Xe=0;Xe<Pe.length;Xe++)if(Pe[Xe].extname==qe)return Pe[Xe];return null},this.updateExtCDPFullURI=function(Pe,qe){var Xe=this.findExt(Pe,"cRLDistributionPoints");if(null!=Xe&&null!=Xe.array)for(var Je=Xe.array,xt=0;xt<Je.length;xt++)if(null!=Je[xt].dpname&&null!=Je[xt].dpname.full)for(var Tt=Je[xt].dpname.full,ln=0;ln<Tt.length;ln++){var Kt=Tt[xt];null!=Kt.uri&&(Kt.uri=qe)}},this.updateExtAIAOCSP=function(Pe,qe){var Xe=this.findExt(Pe,"authorityInfoAccess");if(null!=Xe&&null!=Xe.array)for(var Je=Xe.array,xt=0;xt<Je.length;xt++)null!=Je[xt].ocsp&&(Je[xt].ocsp=qe)},this.updateExtAIACAIssuer=function(Pe,qe){var Xe=this.findExt(Pe,"authorityInfoAccess");if(null!=Xe&&null!=Xe.array)for(var Je=Xe.array,xt=0;xt<Je.length;xt++)null!=Je[xt].caissuer&&(Je[xt].caissuer=qe)},this.dnarraytostr=function(Pe){return"/"+Pe.map(function(qe){return qe.map(function(xt){return(ln=xt).type+"="+ln.value;var ln}).join("+")}).join("/")},this.getInfo=function(){var Pe,qe,Xe,Ci,xt=function(Ci){for(var si="",ti=Ci.array,Ue=0;Ue<ti.length;Ue++){var ft=ti[Ue];if(si+="    policy oid: "+ft.policyoid+"\n",void 0!==ft.array)for(var ht=0;ht<ft.array.length;ht++){var kt=ft.array[ht];void 0!==kt.cps&&(si+="    cps: "+kt.cps+"\n")}}return si},Tt=function(Ci){for(var si="",ti=Ci.array,Ue=0;Ue<ti.length;Ue++){var ft=ti[Ue];try{void 0!==ft.dpname.full[0].uri&&(si+="    "+ft.dpname.full[0].uri+"\n")}catch{}try{void 0!==ft.dname.full[0].dn.hex&&(si+="    "+Tr.hex2dn(ft.dpname.full[0].dn.hex)+"\n")}catch{}}return si},ln=function(Ci){for(var si="",ti=Ci.array,Ue=0;Ue<ti.length;Ue++){var ft=ti[Ue];void 0!==ft.caissuer&&(si+="    caissuer: "+ft.caissuer+"\n"),void 0!==ft.ocsp&&(si+="    ocsp: "+ft.ocsp+"\n")}return si};if(Pe="Basic Fields\n",Pe+="  serial number: "+this.getSerialNumberHex()+"\n",Pe+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",Pe+="  issuer: "+this.getIssuerString()+"\n",Pe+="  notBefore: "+this.getNotBefore()+"\n",Pe+="  notAfter: "+this.getNotAfter()+"\n",Pe+="  subject: "+this.getSubjectString()+"\n",Pe+="  subject public key info: \n",Pe+="    key algorithm: "+(qe=this.getPublicKey()).type+"\n","RSA"===qe.type&&(Pe+="    n="+ca(qe.n.toString(16)).substr(0,16)+"...\n",Pe+="    e="+ca(qe.e.toString(16))+"\n"),null!=(Xe=this.aExtInfo)){Pe+="X509v3 Extensions:\n";for(var Kt=0;Kt<Xe.length;Kt++){var Hn=Xe[Kt],un=Ie.asn1.x509.OID.oid2name(Hn.oid);""===un&&(un=Hn.oid);var Cn="";if(!0===Hn.critical&&(Cn="CRITICAL"),Pe+="  "+un+" "+Cn+":\n","basicConstraints"===un){var ar=this.getExtBasicConstraints();void 0===ar.cA?Pe+="    {}\n":(Pe+="    cA=true",void 0!==ar.pathLen&&(Pe+=", pathLen="+ar.pathLen),Pe+="\n")}else if("keyUsage"===un)Pe+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===un)Pe+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===un){var Er=this.getExtAuthorityKeyIdentifier();void 0!==Er.kid&&(Pe+="    kid="+Er.kid.hex+"\n")}else"extKeyUsage"===un?Pe+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===un?Pe+="    "+(Ci=this.getExtSubjectAltName(),JSON.stringify(Ci.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===un?Pe+=Tt(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===un?Pe+=ln(this.getExtAuthorityInfoAccess()):"certificatePolicies"===un&&(Pe+=xt(this.getExtCertificatePolicies()))}}return(Pe+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof P&&(-1!=P.indexOf("-----BEGIN")?this.readCertPEM(P):Ie.lang.String.isHex(P)&&this.readCertHex(P))}Wt.prototype.sign=function(P,k){var N=function(oe){return Ie.crypto.Util.hashString(oe,k)}(P);return this.signWithMessageHash(N,k)},Wt.prototype.signWithMessageHash=function(P,k){var N=Nt(Ie.crypto.Util.getPaddedDigestInfoHex(P,k,this.n.bitLength()),16);return so(this.doPrivate(N).toString(16),this.n.bitLength())},Wt.prototype.signPSS=function(P,k,N){var ye,G=(ye=Ar(P),Ie.crypto.Util.hashHex(ye,k));return void 0===N&&(N=-1),this.signWithMessageHashPSS(G,k,N)},Wt.prototype.signWithMessageHashPSS=function(P,k,N){var G,oe=cr(P),ye=oe.length,Ae=this.n.bitLength()-1,Le=Math.ceil(Ae/8),Be=function(Pe){return Ie.crypto.Util.hashHex(Pe,k)};if(-1===N||void 0===N)N=ye;else if(-2===N)N=Le-ye-2;else if(N<-2)throw new Error("invalid salt length");if(Le<ye+N+2)throw new Error("data too long");var je="";N>0&&(je=new Array(N),(new ut).nextBytes(je),je=String.fromCharCode.apply(String,je));var Ge=cr(Be(Ar("\0\0\0\0\0\0\0\0"+oe+je))),Ke=[];for(G=0;G<Le-N-ye-2;G+=1)Ke[G]=0;var Qe=String.fromCharCode.apply(String,Ke)+"\x01"+je,ot=Ai(Ge,Qe.length,Be),yt=[];for(G=0;G<Qe.length;G+=1)yt[G]=Qe.charCodeAt(G)^ot.charCodeAt(G);for(yt[0]&=~(65280>>8*Le-Ae&255),G=0;G<ye;G++)yt.push(Ge.charCodeAt(G));return yt.push(188),so(this.doPrivate(new ge(yt)).toString(16),this.n.bitLength())},Wt.prototype.verify=function(P,k){var N=Nt(k=(k=k.replace(Oo,"")).replace(/[ \n]+/g,""),16);if(N.bitLength()>this.n.bitLength())return 0;var G=Qi(this.doPublic(N).toString(16).replace(/^1f+00/,""));return 0!=G.length&&G[1]==Ie.crypto.Util.hashString(P,G[0])},Wt.prototype.verifyWithMessageHash=function(P,k){if(k.length!=Math.ceil(this.n.bitLength()/4))return!1;var N=Nt(k,16);if(N.bitLength()>this.n.bitLength())return 0;var G=Qi(this.doPublic(N).toString(16).replace(/^1f+00/,""));return 0!=G.length&&G[1]==P},Wt.prototype.verifyPSS=function(P,k,N,G){var Ae,oe=(Ae=Ar(P),Ie.crypto.Util.hashHex(Ae,N));return void 0===G&&(G=-1),this.verifyWithMessageHashPSS(oe,k,N,G)},Wt.prototype.verifyWithMessageHashPSS=function(P,k,N,G){if(k.length!=Math.ceil(this.n.bitLength()/4))return!1;var oe,ye=new ge(k,16),Ae=function(Xe){return Ie.crypto.Util.hashHex(Xe,N)},Le=cr(P),Be=Le.length,je=this.n.bitLength()-1,Ge=Math.ceil(je/8);if(-1===G||void 0===G)G=Be;else if(-2===G)G=Ge-Be-2;else if(G<-2)throw new Error("invalid salt length");if(Ge<Be+G+2)throw new Error("data too long");var Ke=this.doPublic(ye).toByteArray();for(oe=0;oe<Ke.length;oe+=1)Ke[oe]&=255;for(;Ke.length<Ge;)Ke.unshift(0);if(188!==Ke[Ge-1])throw new Error("encoded message does not end in 0xbc");var Qe=(Ke=String.fromCharCode.apply(String,Ke)).substr(0,Ge-Be-1),ot=Ke.substr(Qe.length,Be),yt=65280>>8*Ge-je&255;if(Qe.charCodeAt(0)&yt)throw new Error("bits beyond keysize not zero");var At=Ai(ot,Qe.length,Ae),Dt=[];for(oe=0;oe<Qe.length;oe+=1)Dt[oe]=Qe.charCodeAt(oe)^At.charCodeAt(oe);Dt[0]&=~yt;var Pe=Ge-Be-G-2;for(oe=0;oe<Pe;oe+=1)if(0!==Dt[oe])throw new Error("leftmost octets not zero");if(1!==Dt[Pe])throw new Error("0x01 marker not found");return ot===cr(Ae(Ar("\0\0\0\0\0\0\0\0"+Le+String.fromCharCode.apply(String,Dt.slice(-G)))))},Wt.SALT_LEN_HLEN=-1,Wt.SALT_LEN_MAX=-2,Wt.SALT_LEN_RECOVER=-2,Tr.hex2dn=function(P,k){if(void 0===k&&(k=0),"30"!==P.substr(k,2))throw new Error("malformed DN");for(var N=new Array,G=nn.getChildIdx(P,k),oe=0;oe<G.length;oe++)N.push(Tr.hex2rdn(P,G[oe]));return"/"+(N=N.map(function(ye){return ye.replace("/","\\/")})).join("/")},Tr.hex2rdn=function(P,k){if(void 0===k&&(k=0),"31"!==P.substr(k,2))throw new Error("malformed RDN");for(var N=new Array,G=nn.getChildIdx(P,k),oe=0;oe<G.length;oe++)N.push(Tr.hex2attrTypeValue(P,G[oe]));return(N=N.map(function(ye){return ye.replace("+","\\+")})).join("+")},Tr.hex2attrTypeValue=function(P,k){var N=nn,G=N.getV;if(void 0===k&&(k=0),"30"!==P.substr(k,2))throw new Error("malformed attribute type and value");var oe=N.getChildIdx(P,k);2!==oe.length||P.substr(oe[0],2);var ye=G(P,oe[0]),Ae=Ie.asn1.ASN1Util.oidHexToInt(ye);return Ie.asn1.x509.OID.oid2atype(Ae)+"="+cr(G(P,oe[1]))},Tr.getPublicKeyFromCertHex=function(P){var k=new Tr;return k.readCertHex(P),k.getPublicKey()},Tr.getPublicKeyFromCertPEM=function(P){var k=new Tr;return k.readCertPEM(P),k.getPublicKey()},Tr.getPublicKeyInfoPropOfCertPEM=function(P){var k,N,G=nn.getVbyList,oe={algparam:null};return(k=new Tr).readCertPEM(P),N=k.getPublicKeyHex(),oe.keyhex=G(N,0,[1],"03").substr(2),oe.algoid=G(N,0,[0,0],"06"),"2a8648ce3d0201"===oe.algoid&&(oe.algparam=G(N,0,[0,1],"06")),oe},Tr.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==Ie&&Ie||(S.KJUR=Ie={}),void 0!==Ie.jws&&Ie.jws||(Ie.jws={}),Ie.jws.JWS=function(){var P=Ie.jws.JWS.isSafeJSONString;this.parseJWS=function(k,N){if(void 0===this.parsedJWS||!N&&void 0===this.parsedJWS.sigvalH){var G=k.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==G)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var oe=G[1],ye=G[2],Ae=G[3],Le=oe+"."+ye;if(this.parsedJWS={},this.parsedJWS.headB64U=oe,this.parsedJWS.payloadB64U=ye,this.parsedJWS.sigvalB64U=Ae,this.parsedJWS.si=Le,!N){var Be=vn(Ae),je=Nt(Be,16);this.parsedJWS.sigvalH=Be,this.parsedJWS.sigvalBI=je}var Ge=yr(oe),Ke=yr(ye);if(this.parsedJWS.headS=Ge,this.parsedJWS.payloadS=Ke,!P(Ge,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Ge}}},Ie.jws.JWS.sign=function(P,k,N,G,oe){var ye,Ae,Le,je=Ie.jws.JWS,Ge=je.readSafeJSONString,Ke=je.isSafeJSONString,Qe=Ie.crypto,ot=Qe.Mac,yt=Qe.Signature,At=JSON;if("string"!=typeof k&&"object"!=(void 0===k?"undefined":j(k)))throw"spHeader must be JSON string or object: "+k;if("object"==(void 0===k?"undefined":j(k))&&(ye=At.stringify(Ae=k)),"string"==typeof k){if(!Ke(ye=k))throw"JWS Head is not safe JSON string: "+ye;Ae=Ge(ye)}if(Le=N,"object"==(void 0===N?"undefined":j(N))&&(Le=At.stringify(N)),""!=P&&null!=P||void 0===Ae.alg||(P=Ae.alg),""!=P&&null!=P&&void 0===Ae.alg&&(Ae.alg=P,ye=At.stringify(Ae)),P!==Ae.alg)throw"alg and sHeader.alg doesn't match: "+P+"!="+Ae.alg;var Dt=null;if(void 0===je.jwsalg2sigalg[P])throw"unsupported alg name: "+P;Dt=je.jwsalg2sigalg[P];var Pe=Qr(ye)+"."+Qr(Le),qe="";if("Hmac"==Dt.substr(0,4)){if(void 0===G)throw"mac key shall be specified for HS* alg";var Xe=new ot({alg:Dt,prov:"cryptojs",pass:G});Xe.updateString(Pe),qe=Xe.doFinal()}else if(-1!=Dt.indexOf("withECDSA")){(xt=new yt({alg:Dt})).init(G,oe),xt.updateString(Pe);var Je=xt.sign();qe=Ie.crypto.ECDSA.asn1SigToConcatSig(Je)}else{var xt;"none"!=Dt&&((xt=new yt({alg:Dt})).init(G,oe),xt.updateString(Pe),qe=xt.sign())}return Pe+"."+An(qe)},Ie.jws.JWS.verify=function(P,k,N){var G,ye=Ie.jws.JWS,Ae=ye.readSafeJSONString,Le=Ie.crypto,Be=Le.ECDSA,je=Le.Mac,Ge=Le.Signature;void 0!==j(Wt)&&(G=Wt);var Ke=P.split(".");if(3!==Ke.length)return!1;var Dt,Qe=Ke[0]+"."+Ke[1],ot=vn(Ke[2]),yt=Ae(yr(Ke[0])),At=null;if(void 0===yt.alg)throw"algorithm not specified in header";if(Dt=(At=yt.alg).substr(0,2),null!=N&&"[object Array]"===Object.prototype.toString.call(N)&&N.length>0&&-1==(":"+N.join(":")+":").indexOf(":"+At+":"))throw"algorithm '"+At+"' not accepted in the list";if("none"!=At&&null===k)throw"key shall be specified to verify.";if("string"==typeof k&&-1!=k.indexOf("-----BEGIN ")&&(k=_r.getKey(k)),!("RS"!=Dt&&"PS"!=Dt||k instanceof G))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==Dt&&!(k instanceof Be))throw"key shall be a ECDSA obj for ES* algs";var Pe=null;if(void 0===ye.jwsalg2sigalg[yt.alg])throw"unsupported alg name: "+At;if("none"==(Pe=ye.jwsalg2sigalg[At]))throw"not supported";if("Hmac"==Pe.substr(0,4)){if(void 0===k)throw"hexadecimal key shall be specified for HMAC";var qe=new je({alg:Pe,pass:k});return qe.updateString(Qe),ot==qe.doFinal()}if(-1!=Pe.indexOf("withECDSA")){var Xe,Je=null;try{Je=Be.concatSigToASN1Sig(ot)}catch{return!1}return(Xe=new Ge({alg:Pe})).init(k),Xe.updateString(Qe),Xe.verify(Je)}return(Xe=new Ge({alg:Pe})).init(k),Xe.updateString(Qe),Xe.verify(ot)},Ie.jws.JWS.parse=function(P){var N,G,oe=P.split("."),ye={};if(2!=oe.length&&3!=oe.length)throw"malformed sJWS: wrong number of '.' splitted elements";return N=oe[1],3==oe.length&&(G=oe[2]),ye.headerObj=Ie.jws.JWS.readSafeJSONString(yr(oe[0])),ye.payloadObj=Ie.jws.JWS.readSafeJSONString(yr(N)),ye.headerPP=JSON.stringify(ye.headerObj,null,"  "),ye.payloadPP=null==ye.payloadObj?yr(N):JSON.stringify(ye.payloadObj,null,"  "),void 0!==G&&(ye.sigHex=vn(G)),ye},Ie.jws.JWS.verifyJWT=function(P,k,N){var G=Ie.jws,oe=G.JWS,ye=oe.readSafeJSONString,Ae=oe.inArray,Le=oe.includedArray,Be=P.split("."),je=Be[0],Ge=Be[1],Ke=(vn(Be[2]),ye(yr(je))),Qe=ye(yr(Ge));if(void 0===Ke.alg)return!1;if(void 0===N.alg)throw"acceptField.alg shall be specified";if(!Ae(Ke.alg,N.alg)||void 0!==Qe.iss&&"object"===j(N.iss)&&!Ae(Qe.iss,N.iss)||void 0!==Qe.sub&&"object"===j(N.sub)&&!Ae(Qe.sub,N.sub))return!1;if(void 0!==Qe.aud&&"object"===j(N.aud))if("string"==typeof Qe.aud){if(!Ae(Qe.aud,N.aud))return!1}else if("object"==j(Qe.aud)&&!Le(Qe.aud,N.aud))return!1;var ot=G.IntDate.getNow();return void 0!==N.verifyAt&&"number"==typeof N.verifyAt&&(ot=N.verifyAt),void 0!==N.gracePeriod&&"number"==typeof N.gracePeriod||(N.gracePeriod=0),!(void 0!==Qe.exp&&"number"==typeof Qe.exp&&Qe.exp+N.gracePeriod<ot||void 0!==Qe.nbf&&"number"==typeof Qe.nbf&&ot<Qe.nbf-N.gracePeriod||void 0!==Qe.iat&&"number"==typeof Qe.iat&&ot<Qe.iat-N.gracePeriod||void 0!==Qe.jti&&void 0!==N.jti&&Qe.jti!==N.jti||!oe.verify(P,k,N.alg))},Ie.jws.JWS.includedArray=function(P,k){var N=Ie.jws.JWS.inArray;if(null===P||"object"!==(void 0===P?"undefined":j(P))||"number"!=typeof P.length)return!1;for(var G=0;G<P.length;G++)if(!N(P[G],k))return!1;return!0},Ie.jws.JWS.inArray=function(P,k){if(null===k||"object"!==(void 0===k?"undefined":j(k))||"number"!=typeof k.length)return!1;for(var N=0;N<k.length;N++)if(k[N]==P)return!0;return!1},Ie.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},Ie.jws.JWS.isSafeJSONString=function(P,k,N){var G=null;try{return"object"!=(void 0===(G=jn(P))?"undefined":j(G))||G.constructor===Array?0:(k&&(k[N]=G),1)}catch{return 0}},Ie.jws.JWS.readSafeJSONString=function(P){var k=null;try{return"object"!=(void 0===(k=jn(P))?"undefined":j(k))||k.constructor===Array?null:k}catch{return null}},Ie.jws.JWS.getEncodedSignatureValueFromJWS=function(P){var k=P.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==k)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return k[1]},Ie.jws.JWS.getJWKthumbprint=function(P){if("RSA"!==P.kty&&"EC"!==P.kty&&"oct"!==P.kty)throw"unsupported algorithm for JWK Thumprint";var k="{";if("RSA"===P.kty){if("string"!=typeof P.n||"string"!=typeof P.e)throw"wrong n and e value for RSA key";k+='"e":"'+P.e+'",',k+='"kty":"'+P.kty+'",',k+='"n":"'+P.n+'"}'}else if("EC"===P.kty){if("string"!=typeof P.crv||"string"!=typeof P.x||"string"!=typeof P.y)throw"wrong crv, x and y value for EC key";k+='"crv":"'+P.crv+'",',k+='"kty":"'+P.kty+'",',k+='"x":"'+P.x+'",',k+='"y":"'+P.y+'"}'}else if("oct"===P.kty){if("string"!=typeof P.k)throw"wrong k value for oct(symmetric) key";k+='"kty":"'+P.kty+'",',k+='"k":"'+P.k+'"}'}var N=Ar(k);return An(Ie.crypto.Util.hashHex(N,"sha256"))},Ie.jws.IntDate={},Ie.jws.IntDate.get=function(P){var k=Ie.jws.IntDate,N=k.getNow,G=k.getZulu;if("now"==P)return N();if("now + 1hour"==P)return N()+3600;if("now + 1day"==P)return N()+86400;if("now + 1month"==P)return N()+2592e3;if("now + 1year"==P)return N()+31536e3;if(P.match(/Z$/))return G(P);if(P.match(/^[0-9]+$/))return parseInt(P);throw"unsupported format: "+P},Ie.jws.IntDate.getZulu=function(P){return ki(P)},Ie.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Ie.jws.IntDate.intDate2UTCString=function(P){return new Date(1e3*P).toUTCString()},Ie.jws.IntDate.intDate2Zulu=function(P){var k=new Date(1e3*P);return("0000"+k.getUTCFullYear()).slice(-4)+("00"+(k.getUTCMonth()+1)).slice(-2)+("00"+k.getUTCDate()).slice(-2)+("00"+k.getUTCHours()).slice(-2)+("00"+k.getUTCMinutes()).slice(-2)+("00"+k.getUTCSeconds()).slice(-2)+"Z"},S.SecureRandom=ut,S.rng_seed_time=Ce,S.BigInteger=ge,S.RSAKey=Wt,S.EDSA=Ie.crypto.EDSA,S.DSA=Ie.crypto.DSA,S.Signature=Ie.crypto.Signature,S.MessageDigest=Ie.crypto.MessageDigest,S.Mac=Ie.crypto.Mac,S.Cipher=Ie.crypto.Cipher,S.KEYUTIL=_r,S.ASN1HEX=nn,S.X509=Tr,S.CryptoJS=q,S.b64tohex=_e,S.b64toBA=be,S.stoBA=To,S.BAtos=Ui,S.BAtohex=Ct,S.stohex=Rt,S.stob64=function(k){return de(Rt(k))},S.stob64u=function(k){return In(de(Rt(k)))},S.b64utos=function(k){return Ui(be(or(k)))},S.b64tob64u=In,S.b64utob64=or,S.hex2b64=de,S.hextob64u=An,S.b64utohex=vn,S.utf8tob64u=Qr,S.b64utoutf8=yr,S.utf8tob64=function(k){return de(Do(Pi(k)))},S.b64toutf8=function(k){return decodeURIComponent(ao(_e(k)))},S.utf8tohex=$r,S.hextoutf8=pr,S.hextorstr=cr,S.rstrtohex=Ar,S.hextob64=Xi,S.hextob64nl=zi,S.b64nltohex=Rr,S.hextopem=Lr,S.pemtohex=ei,S.hextoArrayBuffer=function(k){if(k.length%2!=0)throw"input is not even length";if(null==k.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var N=new ArrayBuffer(k.length/2),G=new DataView(N),oe=0;oe<k.length/2;oe++)G.setUint8(oe,parseInt(k.substr(2*oe,2),16));return N},S.ArrayBuffertohex=function(k){for(var N="",G=new DataView(k),oe=0;oe<k.byteLength;oe++)N+=("00"+G.getUint8(oe).toString(16)).slice(-2);return N},S.zulutomsec=Ko,S.zulutosec=ki,S.zulutodate=function(k){return new Date(Ko(k))},S.datetozulu=function(k,N,G){var oe,ye=k.getUTCFullYear();if(N){if(ye<1950||2049<ye)throw"not proper year for UTCTime: "+ye;oe=(""+ye).slice(-2)}else oe=("000"+ye).slice(-4);if(oe+=("0"+(k.getUTCMonth()+1)).slice(-2),oe+=("0"+k.getUTCDate()).slice(-2),oe+=("0"+k.getUTCHours()).slice(-2),oe+=("0"+k.getUTCMinutes()).slice(-2),oe+=("0"+k.getUTCSeconds()).slice(-2),G){var Ae=k.getUTCMilliseconds();0!==Ae&&(oe+="."+(Ae=(Ae=("00"+Ae).slice(-3)).replace(/0+$/g,"")))}return oe+"Z"},S.uricmptohex=Do,S.hextouricmp=ao,S.ipv6tohex=fo,S.hextoipv6=_i,S.hextoip=xi,S.iptohex=function(k){var N="malformed IP address";if(!(k=k.toLowerCase(k)).match(/^[0-9.]+$/)){if(k.match(/^[0-9a-f:]+$/)&&-1!==k.indexOf(":"))return fo(k);throw N}var G=k.split(".");if(4!==G.length)throw N;var oe="";try{for(var ye=0;ye<4;ye++)oe+=("0"+parseInt(G[ye]).toString(16)).slice(-2);return oe}catch{throw N}},S.encodeURIComponentAll=Pi,S.newline_toUnix=function(k){return k.replace(/\r\n/gm,"\n")},S.newline_toDos=function(k){return(k=k.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},S.hextoposhex=ca,S.intarystrtohex=function(k){k=(k=(k=k.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return k.split(/,/).map(function(N,G,oe){var ye=parseInt(N);if(ye<0||255<ye)throw"integer not in range 0-255";return("00"+ye.toString(16)).slice(-2)}).join("")}catch(N){throw"malformed integer array string: "+N}},S.strdiffidx=function(k,N){var G=k.length;k.length>N.length&&(G=N.length);for(var oe=0;oe<G;oe++)if(k.charCodeAt(oe)!=N.charCodeAt(oe))return oe;return k.length!=N.length?G:-1},S.KJUR=Ie,S.crypto=Ie.crypto,S.asn1=Ie.asn1,S.jws=Ie.jws,S.lang=Ie.lang}).call(this,M(28).Buffer)},function(Z,S,M){"use strict";(function(H){var j=M(30),o=M(31),v=M(32);function h(){return _.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g(me,ee){if(h()<ee)throw new RangeError("Invalid typed array length");return _.TYPED_ARRAY_SUPPORT?(me=new Uint8Array(ee)).__proto__=_.prototype:(null===me&&(me=new _(ee)),me.length=ee),me}function _(me,ee,se){if(!(_.TYPED_ARRAY_SUPPORT||this instanceof _))return new _(me,ee,se);if("number"==typeof me){if("string"==typeof ee)throw new Error("If encoding is specified then the first argument must be a string");return F(this,me)}return w(this,me,ee,se)}function w(me,ee,se,Re){if("number"==typeof ee)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?function(pe,Ce,dt,Ee){if(dt<0||Ce.byteLength<dt)throw new RangeError("'offset' is out of bounds");if(Ce.byteLength<dt+(Ee||0))throw new RangeError("'length' is out of bounds");return Ce=void 0===dt&&void 0===Ee?new Uint8Array(Ce):void 0===Ee?new Uint8Array(Ce,dt):new Uint8Array(Ce,dt,Ee),_.TYPED_ARRAY_SUPPORT?(pe=Ce).__proto__=_.prototype:pe=L(pe,Ce),pe}(me,ee,se,Re):"string"==typeof ee?function(pe,Ce,dt){if("string"==typeof dt&&""!==dt||(dt="utf8"),!_.isEncoding(dt))throw new TypeError('"encoding" must be a valid string encoding');var Ee=0|z(Ce,dt),le=(pe=g(pe,Ee)).write(Ce,dt);return le!==Ee&&(pe=pe.slice(0,le)),pe}(me,ee,se):function(pe,Ce){if(_.isBuffer(Ce)){var dt=0|U(Ce.length);return 0===(pe=g(pe,dt)).length||Ce.copy(pe,0,0,dt),pe}if(Ce){if(typeof ArrayBuffer<"u"&&Ce.buffer instanceof ArrayBuffer||"length"in Ce)return"number"!=typeof Ce.length||(le=Ce.length)!=le?g(pe,0):L(pe,Ce);if("Buffer"===Ce.type&&v(Ce.data))return L(pe,Ce.data)}var le;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(me,ee)}function O(me){if("number"!=typeof me)throw new TypeError('"size" argument must be a number');if(me<0)throw new RangeError('"size" argument must not be negative')}function F(me,ee){if(O(ee),me=g(me,ee<0?0:0|U(ee)),!_.TYPED_ARRAY_SUPPORT)for(var se=0;se<ee;++se)me[se]=0;return me}function L(me,ee){var se=ee.length<0?0:0|U(ee.length);me=g(me,se);for(var Re=0;Re<se;Re+=1)me[Re]=255&ee[Re];return me}function U(me){if(me>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|me}function z(me,ee){if(_.isBuffer(me))return me.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(me)||me instanceof ArrayBuffer))return me.byteLength;"string"!=typeof me&&(me=""+me);var se=me.length;if(0===se)return 0;for(var Re=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":case void 0:return it(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return Ve(me).length;default:if(Re)return it(me).length;ee=(""+ee).toLowerCase(),Re=!0}}function Q(me,ee,se){var Re=!1;if((void 0===ee||ee<0)&&(ee=0),ee>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=(ee>>>=0))return"";for(me||(me="utf8");;)switch(me){case"hex":return T(this,ee,se);case"utf8":case"utf-8":return A(this,ee,se);case"ascii":return I(this,ee,se);case"latin1":case"binary":return $(this,ee,se);case"base64":return x(this,ee,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ee,se);default:if(Re)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Re=!0}}function Y(me,ee,se){var Re=me[ee];me[ee]=me[se],me[se]=Re}function ae(me,ee,se,Re,Ze){if(0===me.length)return-1;if("string"==typeof se?(Re=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,isNaN(se)&&(se=Ze?0:me.length-1),se<0&&(se=me.length+se),se>=me.length){if(Ze)return-1;se=me.length-1}else if(se<0){if(!Ze)return-1;se=0}if("string"==typeof ee&&(ee=_.from(ee,Re)),_.isBuffer(ee))return 0===ee.length?-1:q(me,ee,se,Re,Ze);if("number"==typeof ee)return ee&=255,_.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ze?Uint8Array.prototype.indexOf.call(me,ee,se):Uint8Array.prototype.lastIndexOf.call(me,ee,se):q(me,[ee],se,Re,Ze);throw new TypeError("val must be string, number or Buffer")}function q(me,ee,se,Re,Ze){var pe,Ce=1,dt=me.length,Ee=ee.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(me.length<2||ee.length<2)return-1;Ce=2,dt/=2,Ee/=2,se/=2}function le(Nt,Mt){return 1===Ce?Nt[Mt]:Nt.readUInt16BE(Mt*Ce)}if(Ze){var ce=-1;for(pe=se;pe<dt;pe++)if(le(me,pe)===le(ee,-1===ce?0:pe-ce)){if(-1===ce&&(ce=pe),pe-ce+1===Ee)return ce*Ce}else-1!==ce&&(pe-=pe-ce),ce=-1}else for(se+Ee>dt&&(se=dt-Ee),pe=se;pe>=0;pe--){for(var Fe=!0,ut=0;ut<Ee;ut++)if(le(me,pe+ut)!==le(ee,ut)){Fe=!1;break}if(Fe)return pe}return-1}function W(me,ee,se,Re){se=Number(se)||0;var Ze=me.length-se;Re?(Re=Number(Re))>Ze&&(Re=Ze):Re=Ze;var pe=ee.length;if(pe%2!=0)throw new TypeError("Invalid hex string");Re>pe/2&&(Re=pe/2);for(var Ce=0;Ce<Re;++Ce){var dt=parseInt(ee.substr(2*Ce,2),16);if(isNaN(dt))return Ce;me[se+Ce]=dt}return Ce}function J(me,ee,se,Re){return st(it(ee,me.length-se),me,se,Re)}function de(me,ee,se,Re){return st(function(pe){for(var Ce=[],dt=0;dt<pe.length;++dt)Ce.push(255&pe.charCodeAt(dt));return Ce}(ee),me,se,Re)}function _e(me,ee,se,Re){return de(me,ee,se,Re)}function be(me,ee,se,Re){return st(Ve(ee),me,se,Re)}function ge(me,ee,se,Re){return st(function(pe,Ce){for(var dt,Ee,ce=[],Fe=0;Fe<pe.length&&!((Ce-=2)<0);++Fe)Ee=(dt=pe.charCodeAt(Fe))>>8,ce.push(dt%256),ce.push(Ee);return ce}(ee,me.length-se),me,se,Re)}function x(me,ee,se){return j.fromByteArray(0===ee&&se===me.length?me:me.slice(ee,se))}function A(me,ee,se){se=Math.min(me.length,se);for(var Re=[],Ze=ee;Ze<se;){var pe,Ce,dt,Ee,le=me[Ze],ce=null,Fe=le>239?4:le>223?3:le>191?2:1;if(Ze+Fe<=se)switch(Fe){case 1:le<128&&(ce=le);break;case 2:128==(192&(pe=me[Ze+1]))&&(Ee=(31&le)<<6|63&pe)>127&&(ce=Ee);break;case 3:Ce=me[Ze+2],128==(192&(pe=me[Ze+1]))&&128==(192&Ce)&&(Ee=(15&le)<<12|(63&pe)<<6|63&Ce)>2047&&(Ee<55296||Ee>57343)&&(ce=Ee);break;case 4:Ce=me[Ze+2],dt=me[Ze+3],128==(192&(pe=me[Ze+1]))&&128==(192&Ce)&&128==(192&dt)&&(Ee=(15&le)<<18|(63&pe)<<12|(63&Ce)<<6|63&dt)>65535&&Ee<1114112&&(ce=Ee)}null===ce?(ce=65533,Fe=1):ce>65535&&(Re.push((ce-=65536)>>>10&1023|55296),ce=56320|1023&ce),Re.push(ce),Ze+=Fe}return function(Nt){var Mt=Nt.length;if(Mt<=C)return String.fromCharCode.apply(String,Nt);for(var Wt="",mn=0;mn<Mt;)Wt+=String.fromCharCode.apply(String,Nt.slice(mn,mn+=C));return Wt}(Re)}S.Buffer=_,S.SlowBuffer=function(ee){return+ee!=ee&&(ee=0),_.alloc(+ee)},S.INSPECT_MAX_BYTES=50,_.TYPED_ARRAY_SUPPORT=void 0!==H.TYPED_ARRAY_SUPPORT?H.TYPED_ARRAY_SUPPORT:function(){try{var ee=new Uint8Array(1);return ee.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ee.foo()&&"function"==typeof ee.subarray&&0===ee.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=h(),_.poolSize=8192,_._augment=function(me){return me.__proto__=_.prototype,me},_.from=function(me,ee,se){return w(null,me,ee,se)},_.TYPED_ARRAY_SUPPORT&&(_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0})),_.alloc=function(me,ee,se){return null,Ce=ee,dt=se,O(pe=me),pe<=0?g(null,pe):void 0!==Ce?"string"==typeof dt?g(null,pe).fill(Ce,dt):g(null,pe).fill(Ce):g(null,pe);var pe,Ce,dt},_.allocUnsafe=function(me){return F(null,me)},_.allocUnsafeSlow=function(me){return F(null,me)},_.isBuffer=function(ee){return!(null==ee||!ee._isBuffer)},_.compare=function(ee,se){if(!_.isBuffer(ee)||!_.isBuffer(se))throw new TypeError("Arguments must be Buffers");if(ee===se)return 0;for(var Re=ee.length,Ze=se.length,pe=0,Ce=Math.min(Re,Ze);pe<Ce;++pe)if(ee[pe]!==se[pe]){Re=ee[pe],Ze=se[pe];break}return Re<Ze?-1:Ze<Re?1:0},_.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(ee,se){if(!v(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ee.length)return _.alloc(0);var Re;if(void 0===se)for(se=0,Re=0;Re<ee.length;++Re)se+=ee[Re].length;var Ze=_.allocUnsafe(se),pe=0;for(Re=0;Re<ee.length;++Re){var Ce=ee[Re];if(!_.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(Ze,pe),pe+=Ce.length}return Ze},_.byteLength=z,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var ee=this.length;if(ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<ee;se+=2)Y(this,se,se+1);return this},_.prototype.swap32=function(){var ee=this.length;if(ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<ee;se+=4)Y(this,se,se+3),Y(this,se+1,se+2);return this},_.prototype.swap64=function(){var ee=this.length;if(ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<ee;se+=8)Y(this,se,se+7),Y(this,se+1,se+6),Y(this,se+2,se+5),Y(this,se+3,se+4);return this},_.prototype.toString=function(){var ee=0|this.length;return 0===ee?"":0===arguments.length?A(this,0,ee):Q.apply(this,arguments)},_.prototype.equals=function(ee){if(!_.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee||0===_.compare(this,ee)},_.prototype.inspect=function(){var ee="",se=S.INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,se).match(/.{2}/g).join(" "),this.length>se&&(ee+=" ... ")),"<Buffer "+ee+">"},_.prototype.compare=function(ee,se,Re,Ze,pe){if(!_.isBuffer(ee))throw new TypeError("Argument must be a Buffer");if(void 0===se&&(se=0),void 0===Re&&(Re=ee?ee.length:0),void 0===Ze&&(Ze=0),void 0===pe&&(pe=this.length),se<0||Re>ee.length||Ze<0||pe>this.length)throw new RangeError("out of range index");if(Ze>=pe&&se>=Re)return 0;if(Ze>=pe)return-1;if(se>=Re)return 1;if(this===ee)return 0;for(var Ce=(pe>>>=0)-(Ze>>>=0),dt=(Re>>>=0)-(se>>>=0),Ee=Math.min(Ce,dt),le=this.slice(Ze,pe),ce=ee.slice(se,Re),Fe=0;Fe<Ee;++Fe)if(le[Fe]!==ce[Fe]){Ce=le[Fe],dt=ce[Fe];break}return Ce<dt?-1:dt<Ce?1:0},_.prototype.includes=function(ee,se,Re){return-1!==this.indexOf(ee,se,Re)},_.prototype.indexOf=function(ee,se,Re){return ae(this,ee,se,Re,!0)},_.prototype.lastIndexOf=function(ee,se,Re){return ae(this,ee,se,Re,!1)},_.prototype.write=function(ee,se,Re,Ze){if(void 0===se)Ze="utf8",Re=this.length,se=0;else if(void 0===Re&&"string"==typeof se)Ze=se,Re=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se|=0,isFinite(Re)?(Re|=0,void 0===Ze&&(Ze="utf8")):(Ze=Re,Re=void 0)}var pe=this.length-se;if((void 0===Re||Re>pe)&&(Re=pe),ee.length>0&&(Re<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");for(var Ce=!1;;)switch(Ze){case"hex":return W(this,ee,se,Re);case"utf8":case"utf-8":return J(this,ee,se,Re);case"ascii":return de(this,ee,se,Re);case"latin1":case"binary":return _e(this,ee,se,Re);case"base64":return be(this,ee,se,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,ee,se,Re);default:if(Ce)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),Ce=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function I(me,ee,se){var Re="";se=Math.min(me.length,se);for(var Ze=ee;Ze<se;++Ze)Re+=String.fromCharCode(127&me[Ze]);return Re}function $(me,ee,se){var Re="";se=Math.min(me.length,se);for(var Ze=ee;Ze<se;++Ze)Re+=String.fromCharCode(me[Ze]);return Re}function T(me,ee,se){var Re=me.length;(!ee||ee<0)&&(ee=0),(!se||se<0||se>Re)&&(se=Re);for(var Ze="",pe=ee;pe<se;++pe)Ze+=St(me[pe]);return Ze}function X(me,ee,se){for(var Re=me.slice(ee,se),Ze="",pe=0;pe<Re.length;pe+=2)Ze+=String.fromCharCode(Re[pe]+256*Re[pe+1]);return Ze}function fe(me,ee,se){if(me%1!=0||me<0)throw new RangeError("offset is not uint");if(me+ee>se)throw new RangeError("Trying to access beyond buffer length")}function De(me,ee,se,Re,Ze,pe){if(!_.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>Ze||ee<pe)throw new RangeError('"value" argument is out of bounds');if(se+Re>me.length)throw new RangeError("Index out of range")}function re(me,ee,se,Re){ee<0&&(ee=65535+ee+1);for(var Ze=0,pe=Math.min(me.length-se,2);Ze<pe;++Ze)me[se+Ze]=(ee&255<<8*(Re?Ze:1-Ze))>>>8*(Re?Ze:1-Ze)}function Ne(me,ee,se,Re){ee<0&&(ee=4294967295+ee+1);for(var Ze=0,pe=Math.min(me.length-se,4);Ze<pe;++Ze)me[se+Ze]=ee>>>8*(Re?Ze:3-Ze)&255}function at(me,ee,se,Re,Ze,pe){if(se+Re>me.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Oe(me,ee,se,Re,Ze){return Ze||at(me,0,se,4),o.write(me,ee,se,Re,23,4),se+4}function rt(me,ee,se,Re,Ze){return Ze||at(me,0,se,8),o.write(me,ee,se,Re,52,8),se+8}_.prototype.slice=function(ee,se){var Re,Ze=this.length;if((ee=~~ee)<0?(ee+=Ze)<0&&(ee=0):ee>Ze&&(ee=Ze),(se=void 0===se?Ze:~~se)<0?(se+=Ze)<0&&(se=0):se>Ze&&(se=Ze),se<ee&&(se=ee),_.TYPED_ARRAY_SUPPORT)(Re=this.subarray(ee,se)).__proto__=_.prototype;else{var pe=se-ee;Re=new _(pe,void 0);for(var Ce=0;Ce<pe;++Ce)Re[Ce]=this[Ce+ee]}return Re},_.prototype.readUIntLE=function(ee,se,Re){ee|=0,se|=0,Re||fe(ee,se,this.length);for(var Ze=this[ee],pe=1,Ce=0;++Ce<se&&(pe*=256);)Ze+=this[ee+Ce]*pe;return Ze},_.prototype.readUIntBE=function(ee,se,Re){ee|=0,se|=0,Re||fe(ee,se,this.length);for(var Ze=this[ee+--se],pe=1;se>0&&(pe*=256);)Ze+=this[ee+--se]*pe;return Ze},_.prototype.readUInt8=function(ee,se){return se||fe(ee,1,this.length),this[ee]},_.prototype.readUInt16LE=function(ee,se){return se||fe(ee,2,this.length),this[ee]|this[ee+1]<<8},_.prototype.readUInt16BE=function(ee,se){return se||fe(ee,2,this.length),this[ee]<<8|this[ee+1]},_.prototype.readUInt32LE=function(ee,se){return se||fe(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+16777216*this[ee+3]},_.prototype.readUInt32BE=function(ee,se){return se||fe(ee,4,this.length),16777216*this[ee]+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},_.prototype.readIntLE=function(ee,se,Re){ee|=0,se|=0,Re||fe(ee,se,this.length);for(var Ze=this[ee],pe=1,Ce=0;++Ce<se&&(pe*=256);)Ze+=this[ee+Ce]*pe;return Ze>=(pe*=128)&&(Ze-=Math.pow(2,8*se)),Ze},_.prototype.readIntBE=function(ee,se,Re){ee|=0,se|=0,Re||fe(ee,se,this.length);for(var Ze=se,pe=1,Ce=this[ee+--Ze];Ze>0&&(pe*=256);)Ce+=this[ee+--Ze]*pe;return Ce>=(pe*=128)&&(Ce-=Math.pow(2,8*se)),Ce},_.prototype.readInt8=function(ee,se){return se||fe(ee,1,this.length),128&this[ee]?-1*(255-this[ee]+1):this[ee]},_.prototype.readInt16LE=function(ee,se){se||fe(ee,2,this.length);var Re=this[ee]|this[ee+1]<<8;return 32768&Re?4294901760|Re:Re},_.prototype.readInt16BE=function(ee,se){se||fe(ee,2,this.length);var Re=this[ee+1]|this[ee]<<8;return 32768&Re?4294901760|Re:Re},_.prototype.readInt32LE=function(ee,se){return se||fe(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},_.prototype.readInt32BE=function(ee,se){return se||fe(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},_.prototype.readFloatLE=function(ee,se){return se||fe(ee,4,this.length),o.read(this,ee,!0,23,4)},_.prototype.readFloatBE=function(ee,se){return se||fe(ee,4,this.length),o.read(this,ee,!1,23,4)},_.prototype.readDoubleLE=function(ee,se){return se||fe(ee,8,this.length),o.read(this,ee,!0,52,8)},_.prototype.readDoubleBE=function(ee,se){return se||fe(ee,8,this.length),o.read(this,ee,!1,52,8)},_.prototype.writeUIntLE=function(ee,se,Re,Ze){ee=+ee,se|=0,Re|=0,Ze||De(this,ee,se,Re,Math.pow(2,8*Re)-1,0);var pe=1,Ce=0;for(this[se]=255&ee;++Ce<Re&&(pe*=256);)this[se+Ce]=ee/pe&255;return se+Re},_.prototype.writeUIntBE=function(ee,se,Re,Ze){ee=+ee,se|=0,Re|=0,Ze||De(this,ee,se,Re,Math.pow(2,8*Re)-1,0);var pe=Re-1,Ce=1;for(this[se+pe]=255&ee;--pe>=0&&(Ce*=256);)this[se+pe]=ee/Ce&255;return se+Re},_.prototype.writeUInt8=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,1,255,0),_.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[se]=255&ee,se+1},_.prototype.writeUInt16LE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[se]=255&ee,this[se+1]=ee>>>8):re(this,ee,se,!0),se+2},_.prototype.writeUInt16BE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[se]=ee>>>8,this[se+1]=255&ee):re(this,ee,se,!1),se+2},_.prototype.writeUInt32LE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[se+3]=ee>>>24,this[se+2]=ee>>>16,this[se+1]=ee>>>8,this[se]=255&ee):Ne(this,ee,se,!0),se+4},_.prototype.writeUInt32BE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,4,4294967295,0),_.TYPED_ARRAY_SUPPORT?(this[se]=ee>>>24,this[se+1]=ee>>>16,this[se+2]=ee>>>8,this[se+3]=255&ee):Ne(this,ee,se,!1),se+4},_.prototype.writeIntLE=function(ee,se,Re,Ze){if(ee=+ee,se|=0,!Ze){var pe=Math.pow(2,8*Re-1);De(this,ee,se,Re,pe-1,-pe)}var Ce=0,dt=1,Ee=0;for(this[se]=255&ee;++Ce<Re&&(dt*=256);)ee<0&&0===Ee&&0!==this[se+Ce-1]&&(Ee=1),this[se+Ce]=(ee/dt>>0)-Ee&255;return se+Re},_.prototype.writeIntBE=function(ee,se,Re,Ze){if(ee=+ee,se|=0,!Ze){var pe=Math.pow(2,8*Re-1);De(this,ee,se,Re,pe-1,-pe)}var Ce=Re-1,dt=1,Ee=0;for(this[se+Ce]=255&ee;--Ce>=0&&(dt*=256);)ee<0&&0===Ee&&0!==this[se+Ce+1]&&(Ee=1),this[se+Ce]=(ee/dt>>0)-Ee&255;return se+Re},_.prototype.writeInt8=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,1,127,-128),_.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[se]=255&ee,se+1},_.prototype.writeInt16LE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[se]=255&ee,this[se+1]=ee>>>8):re(this,ee,se,!0),se+2},_.prototype.writeInt16BE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[se]=ee>>>8,this[se+1]=255&ee):re(this,ee,se,!1),se+2},_.prototype.writeInt32LE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,4,2147483647,-2147483648),_.TYPED_ARRAY_SUPPORT?(this[se]=255&ee,this[se+1]=ee>>>8,this[se+2]=ee>>>16,this[se+3]=ee>>>24):Ne(this,ee,se,!0),se+4},_.prototype.writeInt32BE=function(ee,se,Re){return ee=+ee,se|=0,Re||De(this,ee,se,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),_.TYPED_ARRAY_SUPPORT?(this[se]=ee>>>24,this[se+1]=ee>>>16,this[se+2]=ee>>>8,this[se+3]=255&ee):Ne(this,ee,se,!1),se+4},_.prototype.writeFloatLE=function(ee,se,Re){return Oe(this,ee,se,!0,Re)},_.prototype.writeFloatBE=function(ee,se,Re){return Oe(this,ee,se,!1,Re)},_.prototype.writeDoubleLE=function(ee,se,Re){return rt(this,ee,se,!0,Re)},_.prototype.writeDoubleBE=function(ee,se,Re){return rt(this,ee,se,!1,Re)},_.prototype.copy=function(ee,se,Re,Ze){if(Re||(Re=0),Ze||0===Ze||(Ze=this.length),se>=ee.length&&(se=ee.length),se||(se=0),Ze>0&&Ze<Re&&(Ze=Re),Ze===Re||0===ee.length||0===this.length)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("sourceStart out of bounds");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),ee.length-se<Ze-Re&&(Ze=ee.length-se+Re);var pe,Ce=Ze-Re;if(this===ee&&Re<se&&se<Ze)for(pe=Ce-1;pe>=0;--pe)ee[pe+se]=this[pe+Re];else if(Ce<1e3||!_.TYPED_ARRAY_SUPPORT)for(pe=0;pe<Ce;++pe)ee[pe+se]=this[pe+Re];else Uint8Array.prototype.set.call(ee,this.subarray(Re,Re+Ce),se);return Ce},_.prototype.fill=function(ee,se,Re,Ze){if("string"==typeof ee){if("string"==typeof se?(Ze=se,se=0,Re=this.length):"string"==typeof Re&&(Ze=Re,Re=this.length),1===ee.length){var pe=ee.charCodeAt(0);pe<256&&(ee=pe)}if(void 0!==Ze&&"string"!=typeof Ze)throw new TypeError("encoding must be a string");if("string"==typeof Ze&&!_.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze)}else"number"==typeof ee&&(ee&=255);if(se<0||this.length<se||this.length<Re)throw new RangeError("Out of range index");if(Re<=se)return this;var Ce;if(se>>>=0,Re=void 0===Re?this.length:Re>>>0,ee||(ee=0),"number"==typeof ee)for(Ce=se;Ce<Re;++Ce)this[Ce]=ee;else{var dt=_.isBuffer(ee)?ee:it(new _(ee,Ze).toString()),Ee=dt.length;for(Ce=0;Ce<Re-se;++Ce)this[Ce+se]=dt[Ce%Ee]}return this};var et=/[^+\/0-9A-Za-z-_]/g;function St(me){return me<16?"0"+me.toString(16):me.toString(16)}function it(me,ee){var se;ee=ee||1/0;for(var Re=me.length,Ze=null,pe=[],Ce=0;Ce<Re;++Ce){if((se=me.charCodeAt(Ce))>55295&&se<57344){if(!Ze){if(se>56319){(ee-=3)>-1&&pe.push(239,191,189);continue}if(Ce+1===Re){(ee-=3)>-1&&pe.push(239,191,189);continue}Ze=se;continue}if(se<56320){(ee-=3)>-1&&pe.push(239,191,189),Ze=se;continue}se=65536+(Ze-55296<<10|se-56320)}else Ze&&(ee-=3)>-1&&pe.push(239,191,189);if(Ze=null,se<128){if((ee-=1)<0)break;pe.push(se)}else if(se<2048){if((ee-=2)<0)break;pe.push(se>>6|192,63&se|128)}else if(se<65536){if((ee-=3)<0)break;pe.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((ee-=4)<0)break;pe.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return pe}function Ve(me){return j.toByteArray(function(se){if((se=(Ze=se,Ze.trim?Ze.trim():Ze.replace(/^\s+|\s+$/g,"")).replace(et,"")).length<2)return"";for(var Ze;se.length%4!=0;)se+="=";return se}(me))}function st(me,ee,se,Re){for(var Ze=0;Ze<Re&&!(Ze+se>=ee.length||Ze>=me.length);++Ze)ee[Ze+se]=me[Ze];return Ze}}).call(this,M(29))},function(Z,S){var M;M=function(){return this}();try{M=M||new Function("return this")()}catch{"object"==typeof window&&(M=window)}Z.exports=M},function(Z,S,M){"use strict";S.byteLength=function(F){var L=_(F),z=L[1];return 3*(L[0]+z)/4-z},S.toByteArray=function(F){var L,U,be,z=_(F),Q=z[0],Y=z[1],ae=new o(3*(Q+(be=Y))/4-be),q=0,W=Y>0?Q-4:Q;for(U=0;U<W;U+=4)L=j[F.charCodeAt(U)]<<18|j[F.charCodeAt(U+1)]<<12|j[F.charCodeAt(U+2)]<<6|j[F.charCodeAt(U+3)],ae[q++]=L>>16&255,ae[q++]=L>>8&255,ae[q++]=255&L;return 2===Y&&(L=j[F.charCodeAt(U)]<<2|j[F.charCodeAt(U+1)]>>4,ae[q++]=255&L),1===Y&&(L=j[F.charCodeAt(U)]<<10|j[F.charCodeAt(U+1)]<<4|j[F.charCodeAt(U+2)]>>2,ae[q++]=L>>8&255,ae[q++]=255&L),ae},S.fromByteArray=function(F){for(var L,U=F.length,z=U%3,Q=[],Y=16383,ae=0,q=U-z;ae<q;ae+=Y)Q.push(w(F,ae,ae+Y>q?q:ae+Y));return 1===z?Q.push(H[(L=F[U-1])>>2]+H[L<<4&63]+"=="):2===z&&Q.push(H[(L=(F[U-2]<<8)+F[U-1])>>10]+H[L>>4&63]+H[L<<2&63]+"="),Q.join("")};for(var H=[],j=[],o=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)H[h]=v[h],j[v.charCodeAt(h)]=h;function _(O){var F=O.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=O.indexOf("=");return-1===L&&(L=F),[L,L===F?0:4-L%4]}function w(O,F,L){for(var z,Q=[],Y=F;Y<L;Y+=3)Q.push(H[(z=(O[Y]<<16&16711680)+(O[Y+1]<<8&65280)+(255&O[Y+2]))>>18&63]+H[z>>12&63]+H[z>>6&63]+H[63&z]);return Q.join("")}j["-".charCodeAt(0)]=62,j["_".charCodeAt(0)]=63},function(Z,S){S.read=function(M,H,j,o,v){var h,g,_=8*v-o-1,w=(1<<_)-1,O=w>>1,F=-7,L=j?v-1:0,U=j?-1:1,z=M[H+L];for(L+=U,h=z&(1<<-F)-1,z>>=-F,F+=_;F>0;h=256*h+M[H+L],L+=U,F-=8);for(g=h&(1<<-F)-1,h>>=-F,F+=o;F>0;g=256*g+M[H+L],L+=U,F-=8);if(0===h)h=1-O;else{if(h===w)return g?NaN:1/0*(z?-1:1);g+=Math.pow(2,o),h-=O}return(z?-1:1)*g*Math.pow(2,h-o)},S.write=function(M,H,j,o,v,h){var g,_,w,O=8*h-v-1,F=(1<<O)-1,L=F>>1,U=23===v?Math.pow(2,-24)-Math.pow(2,-77):0,z=o?0:h-1,Q=o?1:-1,Y=H<0||0===H&&1/H<0?1:0;for(H=Math.abs(H),isNaN(H)||H===1/0?(_=isNaN(H)?1:0,g=F):(g=Math.floor(Math.log(H)/Math.LN2),H*(w=Math.pow(2,-g))<1&&(g--,w*=2),(H+=g+L>=1?U/w:U*Math.pow(2,1-L))*w>=2&&(g++,w/=2),g+L>=F?(_=0,g=F):g+L>=1?(_=(H*w-1)*Math.pow(2,v),g+=L):(_=H*Math.pow(2,L-1)*Math.pow(2,v),g=0));v>=8;M[j+z]=255&_,z+=Q,_/=256,v-=8);for(g=g<<v|_,O+=v;O>0;M[j+z]=255&g,z+=Q,g/=256,O-=8);M[j+z-Q]|=128*Y}},function(Z,S){var M={}.toString;Z.exports=Array.isArray||function(H){return"[object Array]"==M.call(H)}},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(o){var v=o.jws,h=o.KeyUtil,g=o.X509,_=o.crypto,w=o.hextob64u,O=o.b64tohex,F=o.AllowedSigningAlgs;return function(){function L(){!function(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,L)}return L.parseJwt=function(z){H.Log.debug("JoseUtil.parseJwt");try{var Q=v.JWS.parse(z);return{header:Q.headerObj,payload:Q.payloadObj}}catch(Y){H.Log.error(Y)}},L.validateJwt=function(z,Q,Y,ae,q,W,J){H.Log.debug("JoseUtil.validateJwt");try{if("RSA"===Q.kty)if(Q.e&&Q.n)Q=h.getKey(Q);else{if(!Q.x5c||!Q.x5c.length)return H.Log.error("JoseUtil.validateJwt: RSA key missing key material",Q),Promise.reject(new Error("RSA key missing key material"));var de=O(Q.x5c[0]);Q=g.getPublicKeyFromCertHex(de)}else{if("EC"!==Q.kty)return H.Log.error("JoseUtil.validateJwt: Unsupported key type",Q&&Q.kty),Promise.reject(new Error(Q.kty));if(!(Q.crv&&Q.x&&Q.y))return H.Log.error("JoseUtil.validateJwt: EC key missing key material",Q),Promise.reject(new Error("EC key missing key material"));Q=h.getKey(Q)}return L._validateJwt(z,Q,Y,ae,q,W,J)}catch(_e){return H.Log.error(_e&&_e.message||_e),Promise.reject("JWT validation failed")}},L.validateJwtAttributes=function(z,Q,Y,ae,q,W){ae||(ae=0),q||(q=parseInt(Date.now()/1e3));var J=L.parseJwt(z).payload;if(!J.iss)return H.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(J.iss!==Q)return H.Log.error("JoseUtil._validateJwt: Invalid issuer in token",J.iss),Promise.reject(new Error("Invalid issuer in token: "+J.iss));if(!J.aud)return H.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(J.aud===Y||Array.isArray(J.aud)&&J.aud.indexOf(Y)>=0))return H.Log.error("JoseUtil._validateJwt: Invalid audience in token",J.aud),Promise.reject(new Error("Invalid audience in token: "+J.aud));if(J.azp&&J.azp!==Y)return H.Log.error("JoseUtil._validateJwt: Invalid azp in token",J.azp),Promise.reject(new Error("Invalid azp in token: "+J.azp));if(!W){var de=q+ae,_e=q-ae;if(!J.iat)return H.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(de<J.iat)return H.Log.error("JoseUtil._validateJwt: iat is in the future",J.iat),Promise.reject(new Error("iat is in the future: "+J.iat));if(J.nbf&&de<J.nbf)return H.Log.error("JoseUtil._validateJwt: nbf is in the future",J.nbf),Promise.reject(new Error("nbf is in the future: "+J.nbf));if(!J.exp)return H.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(J.exp<_e)return H.Log.error("JoseUtil._validateJwt: exp is in the past",J.exp),Promise.reject(new Error("exp is in the past:"+J.exp))}return Promise.resolve(J)},L._validateJwt=function(z,Q,Y,ae,q,W,J){return L.validateJwtAttributes(z,Y,ae,q,W,J).then(function(de){try{return v.JWS.verify(z,Q,F)?de:(H.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(_e){return H.Log.error(_e&&_e.message||_e),Promise.reject(new Error("signature validation failed"))}})},L.hashString=function(z,Q){try{return _.Util.hashString(z,Q)}catch(Y){H.Log.error(Y)}},L.hexToBase64Url=function(z){try{return w(z)}catch(Q){H.Log.error(Q)}},L}()};var H=M(0);Z.exports=S.default},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SigninResponse=void 0;var H=function(){function v(h,g){for(var _=0;_<g.length;_++){var w=g[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,g,_){return g&&v(h.prototype,g),_&&v(h,_),h}}(),j=M(3);S.SigninResponse=function(){function v(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function o(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}(this,v);var _=j.UrlUtility.parseUrlFragment(h,g);this.error=_.error,this.error_description=_.error_description,this.error_uri=_.error_uri,this.code=_.code,this.state=_.state,this.id_token=_.id_token,this.session_state=_.session_state,this.access_token=_.access_token,this.token_type=_.token_type,this.scope=_.scope,this.profile=void 0,this.expires_in=_.expires_in}return H(v,[{key:"expires_in",get:function(){if(this.expires_at){var g=parseInt(Date.now()/1e3);return this.expires_at-g}},set:function(g){var _=parseInt(g);if("number"==typeof _&&_>0){var w=parseInt(Date.now()/1e3);this.expires_at=w+_}}},{key:"expired",get:function(){var g=this.expires_in;if(void 0!==g)return g<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutRequest=void 0;var H=M(0),j=M(3),o=M(9);S.SignoutRequest=function v(h){var g=h.url,_=h.id_token_hint,w=h.post_logout_redirect_uri,O=h.data,F=h.extraQueryParams,L=h.request_type;if(function(Q,Y){if(!(Q instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,v),!g)throw H.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var U in _&&(g=j.UrlUtility.addQueryParam(g,"id_token_hint",_)),w&&(g=j.UrlUtility.addQueryParam(g,"post_logout_redirect_uri",w),O&&(this.state=new o.State({data:O,request_type:L}),g=j.UrlUtility.addQueryParam(g,"state",this.state.id))),F)g=j.UrlUtility.addQueryParam(g,U,F[U]);this.url=g}},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SignoutResponse=void 0;var H=M(3);S.SignoutResponse=function j(o){!function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,j);var v=H.UrlUtility.parseUrlFragment(o,"?");this.error=v.error,this.error_description=v.error_description,this.error_uri=v.error_uri,this.state=v.state}},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.InMemoryWebStorage=void 0;var H=function(){function o(v,h){for(var g=0;g<h.length;g++){var _=h[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,h,g){return h&&o(v.prototype,h),g&&o(v,g),v}}(),j=M(0);S.InMemoryWebStorage=function(){function o(){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,o),this._data={}}return o.prototype.getItem=function(h){return j.Log.debug("InMemoryWebStorage.getItem",h),this._data[h]},o.prototype.setItem=function(h,g){j.Log.debug("InMemoryWebStorage.setItem",h),this._data[h]=g},o.prototype.removeItem=function(h){j.Log.debug("InMemoryWebStorage.removeItem",h),delete this._data[h]},o.prototype.key=function(h){return Object.getOwnPropertyNames(this._data)[h]},H(o,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManager=void 0;var H=function(){function Y(ae,q){for(var W=0;W<q.length;W++){var J=q[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(ae,J.key,J)}}return function(ae,q,W){return q&&Y(ae.prototype,q),W&&Y(ae,W),ae}}(),j=M(0),o=M(10),v=M(39),h=M(15),g=M(45),_=M(47),w=M(18),O=M(8),F=M(20),L=M(11),U=M(4);S.UserManager=function(Y){function ae(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.SilentRenewService,J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.SessionMonitor,de=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.TokenRevocationClient,_e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:L.TokenClient,be=arguments.length>5&&void 0!==arguments[5]?arguments[5]:U.JoseUtil;(function z(Y,ae){if(!(Y instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,ae),q instanceof v.UserManagerSettings||(q=new v.UserManagerSettings(q));var ge=function Q(Y,ae){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ae||"object"!=typeof ae&&"function"!=typeof ae?Y:ae}(this,Y.call(this,q));return ge._events=new g.UserManagerEvents(q),ge._silentRenewService=new W(ge),ge.settings.automaticSilentRenew&&(j.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),ge.startSilentRenew()),ge.settings.monitorSession&&(j.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),ge._sessionMonitor=new J(ge)),ge._tokenRevocationClient=new de(ge._settings),ge._tokenClient=new _e(ge._settings),ge._joseUtil=be,ge}return function(W,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);W.prototype=Object.create(J&&J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(W,J):W.__proto__=J)}(ae,Y),ae.prototype.getUser=function(){var W=this;return this._loadUser().then(function(J){return J?(j.Log.info("UserManager.getUser: user loaded"),W._events.load(J,!1),J):(j.Log.info("UserManager.getUser: user not found in storage"),null)})},ae.prototype.removeUser=function(){var W=this;return this.storeUser(null).then(function(){j.Log.info("UserManager.removeUser: user removed from storage"),W._events.unload()})},ae.prototype.signinRedirect=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(W=Object.assign({},W)).request_type="si:r",this._signinStart(W,this._redirectNavigator,{useReplaceToNavigate:W.useReplaceToNavigate}).then(function(){j.Log.info("UserManager.signinRedirect: successful")})},ae.prototype.signinRedirectCallback=function(W){return this._signinEnd(W||this._redirectNavigator.url).then(function(J){return J.profile&&J.profile.sub?j.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",J.profile.sub):j.Log.info("UserManager.signinRedirectCallback: no sub"),J})},ae.prototype.signinPopup=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="si:p";var J=W.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return J?(W.redirect_uri=J,W.display="popup",this._signin(W,this._popupNavigator,{startUrl:J,popupWindowFeatures:W.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:W.popupWindowTarget||this.settings.popupWindowTarget}).then(function(de){return de&&(de.profile&&de.profile.sub?j.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",de.profile.sub):j.Log.info("UserManager.signinPopup: no sub")),de})):(j.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},ae.prototype.signinPopupCallback=function(W){return this._signinCallback(W,this._popupNavigator).then(function(J){return J&&(J.profile&&J.profile.sub?j.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",J.profile.sub):j.Log.info("UserManager.signinPopupCallback: no sub")),J}).catch(function(J){j.Log.error(J.message)})},ae.prototype.signinSilent=function(){var W=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J=Object.assign({},J),this._loadUser().then(function(de){return de&&de.refresh_token?(J.refresh_token=de.refresh_token,W._useRefreshToken(J)):(J.request_type="si:s",J.id_token_hint=J.id_token_hint||W.settings.includeIdTokenInSilentRenew&&de&&de.id_token,de&&W._settings.validateSubOnSilentRenew&&(j.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",de.profile.sub),J.current_sub=de.profile.sub),W._signinSilentIframe(J))})},ae.prototype._useRefreshToken=function(){var W=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(de){return de?de.access_token?W._loadUser().then(function(_e){if(_e){var be=Promise.resolve();return de.id_token&&(be=W._validateIdTokenFromTokenRefreshToken(_e.profile,de.id_token)),be.then(function(){return j.Log.debug("UserManager._useRefreshToken: refresh token response success"),_e.id_token=de.id_token||_e.id_token,_e.access_token=de.access_token,_e.refresh_token=de.refresh_token||_e.refresh_token,_e.expires_in=de.expires_in,W.storeUser(_e).then(function(){return W._events.load(_e),_e})})}return null}):(j.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(j.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},ae.prototype._validateIdTokenFromTokenRefreshToken=function(W,J){var de=this;return this._metadataService.getIssuer().then(function(_e){return de.settings.getEpochTime().then(function(be){return de._joseUtil.validateJwtAttributes(J,_e,de._settings.client_id,de._settings.clockSkew,be).then(function(ge){return ge?ge.sub!==W.sub?(j.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):ge.auth_time&&ge.auth_time!==W.auth_time?(j.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):ge.azp&&ge.azp!==W.azp?(j.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!ge.azp&&W.azp?(j.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(j.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},ae.prototype._signinSilentIframe=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=W.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return J?(W.redirect_uri=J,W.prompt=W.prompt||"none",this._signin(W,this._iframeNavigator,{startUrl:J,silentRequestTimeout:W.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(de){return de&&(de.profile&&de.profile.sub?j.Log.info("UserManager.signinSilent: successful, signed in sub: ",de.profile.sub):j.Log.info("UserManager.signinSilent: no sub")),de})):(j.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ae.prototype.signinSilentCallback=function(W){return this._signinCallback(W,this._iframeNavigator).then(function(J){return J&&(J.profile&&J.profile.sub?j.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",J.profile.sub):j.Log.info("UserManager.signinSilentCallback: no sub")),J})},ae.prototype.signinCallback=function(W){var J=this;return this.readSigninResponseState(W).then(function(de){var _e=de.state;return"si:r"===_e.request_type?J.signinRedirectCallback(W):"si:p"===_e.request_type?J.signinPopupCallback(W):"si:s"===_e.request_type?J.signinSilentCallback(W):Promise.reject(new Error("invalid response_type in state"))})},ae.prototype.signoutCallback=function(W,J){var de=this;return this.readSignoutResponseState(W).then(function(_e){var be=_e.state,ge=_e.response;return be?"so:r"===be.request_type?de.signoutRedirectCallback(W):"so:p"===be.request_type?de.signoutPopupCallback(W,J):Promise.reject(new Error("invalid response_type in state")):ge})},ae.prototype.querySessionStatus=function(){var W=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(J=Object.assign({},J)).request_type="si:s";var de=J.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return de?(J.redirect_uri=de,J.prompt="none",J.response_type=J.response_type||this.settings.query_status_response_type,J.scope=J.scope||"openid",J.skipUserInfo=!0,this._signinStart(J,this._iframeNavigator,{startUrl:de,silentRequestTimeout:J.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(_e){return W.processSigninResponse(_e.url).then(function(be){if(j.Log.debug("UserManager.querySessionStatus: got signin response"),be.session_state&&be.profile.sub)return j.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",be.profile.sub),{session_state:be.session_state,sub:be.profile.sub,sid:be.profile.sid};j.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(be){if(be.session_state&&W.settings.monitorAnonymousSession&&("login_required"==be.message||"consent_required"==be.message||"interaction_required"==be.message||"account_selection_required"==be.message))return j.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:be.session_state};throw be})})):(j.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ae.prototype._signin=function(W,J){var de=this;return this._signinStart(W,J,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(be){return de._signinEnd(be.url,W)})},ae.prototype._signinStart=function(W,J){var de=this,_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J.prepare(_e).then(function(be){return j.Log.debug("UserManager._signinStart: got navigator window handle"),de.createSigninRequest(W).then(function(ge){return j.Log.debug("UserManager._signinStart: got signin request"),_e.url=ge.url,_e.id=ge.state.id,be.navigate(_e)}).catch(function(ge){throw be.close&&(j.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),be.close()),ge})})},ae.prototype._signinEnd=function(W){var J=this,de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(W).then(function(_e){j.Log.debug("UserManager._signinEnd: got signin response");var be=new h.User(_e);if(de.current_sub){if(de.current_sub!==be.profile.sub)return j.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",be.profile.sub),Promise.reject(new Error("login_required"));j.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return J.storeUser(be).then(function(){return j.Log.debug("UserManager._signinEnd: user stored"),J._events.load(be),be})})},ae.prototype._signinCallback=function(W,J){j.Log.debug("UserManager._signinCallback");var de="query"===this._settings.response_mode||!this._settings.response_mode&&O.SigninRequest.isCode(this._settings.response_type)?"?":"#";return J.callback(W,void 0,de)},ae.prototype.signoutRedirect=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="so:r";var J=W.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return J&&(W.post_logout_redirect_uri=J),this._signoutStart(W,this._redirectNavigator,{useReplaceToNavigate:W.useReplaceToNavigate}).then(function(){j.Log.info("UserManager.signoutRedirect: successful")})},ae.prototype.signoutRedirectCallback=function(W){return this._signoutEnd(W||this._redirectNavigator.url).then(function(J){return j.Log.info("UserManager.signoutRedirectCallback: successful"),J})},ae.prototype.signoutPopup=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(W=Object.assign({},W)).request_type="so:p";var J=W.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return W.post_logout_redirect_uri=J,W.display="popup",W.post_logout_redirect_uri&&(W.state=W.state||{}),this._signout(W,this._popupNavigator,{startUrl:J,popupWindowFeatures:W.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:W.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){j.Log.info("UserManager.signoutPopup: successful")})},ae.prototype.signoutPopupCallback=function(W,J){return void 0===J&&"boolean"==typeof W&&(J=W,W=null),this._popupNavigator.callback(W,J,"?").then(function(){j.Log.info("UserManager.signoutPopupCallback: successful")})},ae.prototype._signout=function(W,J){var de=this;return this._signoutStart(W,J,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(be){return de._signoutEnd(be.url)})},ae.prototype._signoutStart=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=this,_e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(_e).then(function(be){return j.Log.debug("UserManager._signoutStart: got navigator window handle"),J._loadUser().then(function(ge){return j.Log.debug("UserManager._signoutStart: loaded current user from storage"),(J._settings.revokeAccessTokenOnSignout?J._revokeInternal(ge):Promise.resolve()).then(function(){var x=W.id_token_hint||ge&&ge.id_token;return x&&(j.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),W.id_token_hint=x),J.removeUser().then(function(){return j.Log.debug("UserManager._signoutStart: user removed, creating signout request"),J.createSignoutRequest(W).then(function(A){return j.Log.debug("UserManager._signoutStart: got signout request"),_e.url=A.url,A.state&&(_e.id=A.state.id),be.navigate(_e)})})})}).catch(function(ge){throw be.close&&(j.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),be.close()),ge})})},ae.prototype._signoutEnd=function(W){return this.processSignoutResponse(W).then(function(J){return j.Log.debug("UserManager._signoutEnd: got signout response"),J})},ae.prototype.revokeAccessToken=function(){var W=this;return this._loadUser().then(function(J){return W._revokeInternal(J,!0).then(function(de){if(de)return j.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),J.access_token=null,J.refresh_token=null,J.expires_at=null,J.token_type=null,W.storeUser(J).then(function(){j.Log.debug("UserManager.revokeAccessToken: user stored"),W._events.load(J)})})}).then(function(){j.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},ae.prototype._revokeInternal=function(W,J){var de=this;if(W){var be=W.refresh_token;return this._revokeAccessTokenInternal(W.access_token,J).then(function(ge){return de._revokeRefreshTokenInternal(be,J).then(function(x){return ge||x||j.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),ge||x})})}return Promise.resolve(!1)},ae.prototype._revokeAccessTokenInternal=function(W,J){return!W||W.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(W,J).then(function(){return!0})},ae.prototype._revokeRefreshTokenInternal=function(W,J){return W?this._tokenRevocationClient.revoke(W,J,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},ae.prototype.startSilentRenew=function(){this._silentRenewService.start()},ae.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},ae.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(W){return W?(j.Log.debug("UserManager._loadUser: user storageString loaded"),h.User.fromStorageString(W)):(j.Log.debug("UserManager._loadUser: no user storageString"),null)})},ae.prototype.storeUser=function(W){if(W){j.Log.debug("UserManager.storeUser: storing user");var J=W.toStorageString();return this._userStore.set(this._userStoreKey,J)}return j.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},H(ae,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),ae}(o.OidcClient)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerSettings=void 0;var H=function(){function L(U,z){for(var Q=0;Q<z.length;Q++){var Y=z[Q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(U,Y.key,Y)}}return function(U,z,Q){return z&&L(U.prototype,z),Q&&L(U,Q),U}}(),j=(M(0),M(5)),o=M(40),v=M(41),h=M(43),g=M(6),_=M(1),w=M(8);S.UserManagerSettings=function(L){function U(){var z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Q=z.popup_redirect_uri,Y=z.popup_post_logout_redirect_uri,ae=z.popupWindowFeatures,q=z.popupWindowTarget,W=z.silent_redirect_uri,J=z.silentRequestTimeout,de=z.automaticSilentRenew,_e=void 0!==de&&de,be=z.validateSubOnSilentRenew,ge=void 0!==be&&be,x=z.includeIdTokenInSilentRenew,A=void 0===x||x,C=z.monitorSession,I=void 0===C||C,$=z.monitorAnonymousSession,T=void 0!==$&&$,X=z.checkSessionInterval,fe=void 0===X?2e3:X,De=z.stopCheckSessionOnError,re=void 0===De||De,Ne=z.query_status_response_type,at=z.revokeAccessTokenOnSignout,Oe=void 0!==at&&at,rt=z.accessTokenExpiringNotificationTime,et=void 0===rt?60:rt,St=z.redirectNavigator,it=void 0===St?new o.RedirectNavigator:St,Ve=z.popupNavigator,st=void 0===Ve?new v.PopupNavigator:Ve,me=z.iframeNavigator,ee=void 0===me?new h.IFrameNavigator:me,se=z.userStore,Re=void 0===se?new g.WebStorageStateStore({store:_.Global.sessionStorage}):se;!function O(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U);var Ze=function F(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?L:U}(this,L.call(this,arguments[0]));return Ze._popup_redirect_uri=Q,Ze._popup_post_logout_redirect_uri=Y,Ze._popupWindowFeatures=ae,Ze._popupWindowTarget=q,Ze._silent_redirect_uri=W,Ze._silentRequestTimeout=J,Ze._automaticSilentRenew=_e,Ze._validateSubOnSilentRenew=ge,Ze._includeIdTokenInSilentRenew=A,Ze._accessTokenExpiringNotificationTime=et,Ze._monitorSession=I,Ze._monitorAnonymousSession=T,Ze._checkSessionInterval=fe,Ze._stopCheckSessionOnError=re,Ze._query_status_response_type=Ne||(arguments[0]&&arguments[0].response_type?w.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Ze._revokeAccessTokenOnSignout=Oe,Ze._redirectNavigator=it,Ze._popupNavigator=st,Ze._iframeNavigator=ee,Ze._userStore=Re,Ze}return function(Q,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);Q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,Y):Q.__proto__=Y)}(U,L),H(U,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),U}(j.OidcClientSettings)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.RedirectNavigator=void 0;var H=function(){function o(v,h){for(var g=0;g<h.length;g++){var _=h[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,h,g){return h&&o(v.prototype,h),g&&o(v,g),v}}(),j=M(0);S.RedirectNavigator=function(){function o(){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,o)}return o.prototype.prepare=function(){return Promise.resolve(this)},o.prototype.navigate=function(h){return h&&h.url?(h.useReplaceToNavigate?window.location.replace(h.url):window.location=h.url,Promise.resolve()):(j.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},H(o,[{key:"url",get:function(){return window.location.href}}]),o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupNavigator=void 0;var H=M(0),j=M(42);S.PopupNavigator=function(){function o(){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,o)}return o.prototype.prepare=function(h){var g=new j.PopupWindow(h);return Promise.resolve(g)},o.prototype.callback=function(h,g,_){H.Log.debug("PopupNavigator.callback");try{return j.PopupWindow.notifyOpener(h,g,_),Promise.resolve()}catch(w){return Promise.reject(w)}},o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.PopupWindow=void 0;var H=function(){function v(h,g){for(var _=0;_<g.length;_++){var w=g[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,g,_){return g&&v(h.prototype,g),_&&v(h,_),h}}(),j=M(0),o=M(3);S.PopupWindow=function(){function v(h){var g=this;(function(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this._promise=new Promise(function(O,F){g._resolve=O,g._reject=F}),this._popup=window.open("",h.popupWindowTarget||"_blank",h.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(j.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return v.prototype.navigate=function(g){return this._popup?g&&g.url?(j.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=g.id,this._id&&(window["popupCallback_"+g.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=g.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},v.prototype._success=function(g){j.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(g)},v.prototype._error=function(g){j.Log.error("PopupWindow.error: ",g),this._cleanup(),this._reject(new Error(g))},v.prototype.close=function(){this._cleanup(!1)},v.prototype._cleanup=function(g){j.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!g&&this._popup.close(),this._popup=null},v.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},v.prototype._callback=function(g,_){this._cleanup(_),g?(j.Log.debug("PopupWindow.callback success"),this._success({url:g})):(j.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},v.notifyOpener=function(g,_,w){if(window.opener){if(g=g||window.location.href){var O=o.UrlUtility.parseUrlFragment(g,w);if(O.state){var L=window.opener["popupCallback_"+O.state];L?(j.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),L(g,_)):j.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else j.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else j.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},H(v,[{key:"promise",get:function(){return this._promise}}]),v}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameNavigator=void 0;var H=M(0),j=M(44);S.IFrameNavigator=function(){function o(){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,o)}return o.prototype.prepare=function(h){var g=new j.IFrameWindow(h);return Promise.resolve(g)},o.prototype.callback=function(h){H.Log.debug("IFrameNavigator.callback");try{return j.IFrameWindow.notifyParent(h),Promise.resolve()}catch(g){return Promise.reject(g)}},o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.IFrameWindow=void 0;var H=function(){function o(v,h){for(var g=0;g<h.length;g++){var _=h[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,h,g){return h&&o(v.prototype,h),g&&o(v,g),v}}(),j=M(0);S.IFrameWindow=function(){function o(v){var h=this;(function(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(g,_){h._resolve=g,h._reject=_}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return o.prototype.navigate=function(h){if(h&&h.url){var g=h.silentRequestTimeout||1e4;j.Log.debug("IFrameWindow.navigate: Using timeout of:",g),this._timer=window.setTimeout(this._timeout.bind(this),g),this._frame.src=h.url}else this._error("No url provided");return this.promise},o.prototype._success=function(h){this._cleanup(),j.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(h)},o.prototype._error=function(h){this._cleanup(),j.Log.error(h),this._reject(new Error(h))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._frame&&(j.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},o.prototype._timeout=function(){j.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},o.prototype._message=function(h){if(j.Log.debug("IFrameWindow.message"),this._timer&&h.origin===this._origin&&h.source===this._frame.contentWindow&&"string"==typeof h.data&&(h.data.startsWith("http://")||h.data.startsWith("https://"))){var g=h.data;g?this._success({url:g}):this._error("Invalid response from frame")}},o.notifyParent=function(h){j.Log.debug("IFrameWindow.notifyParent"),(h=h||window.location.href)&&(j.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(h,location.protocol+"//"+location.host))},H(o,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),o}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.UserManagerEvents=void 0;var H=M(0),j=M(16),o=M(17);S.UserManagerEvents=function(v){function h(g){!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,h);var _=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,v.call(this,g));return _._userLoaded=new o.Event("User loaded"),_._userUnloaded=new o.Event("User unloaded"),_._silentRenewError=new o.Event("Silent renew error"),_._userSignedIn=new o.Event("User signed in"),_._userSignedOut=new o.Event("User signed out"),_._userSessionChanged=new o.Event("User session changed"),_}return function(_,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}(h,v),h.prototype.load=function(_){var w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H.Log.debug("UserManagerEvents.load"),v.prototype.load.call(this,_),w&&this._userLoaded.raise(_)},h.prototype.unload=function(){H.Log.debug("UserManagerEvents.unload"),v.prototype.unload.call(this),this._userUnloaded.raise()},h.prototype.addUserLoaded=function(_){this._userLoaded.addHandler(_)},h.prototype.removeUserLoaded=function(_){this._userLoaded.removeHandler(_)},h.prototype.addUserUnloaded=function(_){this._userUnloaded.addHandler(_)},h.prototype.removeUserUnloaded=function(_){this._userUnloaded.removeHandler(_)},h.prototype.addSilentRenewError=function(_){this._silentRenewError.addHandler(_)},h.prototype.removeSilentRenewError=function(_){this._silentRenewError.removeHandler(_)},h.prototype._raiseSilentRenewError=function(_){H.Log.debug("UserManagerEvents._raiseSilentRenewError",_.message),this._silentRenewError.raise(_)},h.prototype.addUserSignedIn=function(_){this._userSignedIn.addHandler(_)},h.prototype.removeUserSignedIn=function(_){this._userSignedIn.removeHandler(_)},h.prototype._raiseUserSignedIn=function(){H.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},h.prototype.addUserSignedOut=function(_){this._userSignedOut.addHandler(_)},h.prototype.removeUserSignedOut=function(_){this._userSignedOut.removeHandler(_)},h.prototype._raiseUserSignedOut=function(){H.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},h.prototype.addUserSessionChanged=function(_){this._userSessionChanged.addHandler(_)},h.prototype.removeUserSessionChanged=function(_){this._userSessionChanged.removeHandler(_)},h.prototype._raiseUserSessionChanged=function(){H.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},h}(j.AccessTokenEvents)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Timer=void 0;var H=function(){function _(w,O){for(var F=0;F<O.length;F++){var L=O[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,O,F){return O&&_(w.prototype,O),F&&_(w,F),w}}(),j=M(0),o=M(1),v=M(17);S.Timer=function(_){function w(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function h(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var U=function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?_:w}(this,_.call(this,O));return U._timer=F,U._nowFunc=L||function(){return Date.now()/1e3},U}return function(F,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(F,L):F.__proto__=L)}(w,_),w.prototype.init=function(F){F<=0&&(F=1),F=parseInt(F);var L=this.now+F;if(this.expiration===L&&this._timerHandle)j.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),j.Log.debug("Timer.init timer "+this._name+" for duration:",F),this._expiration=L;var U=5;F<U&&(U=F),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*U)}},w.prototype.cancel=function(){this._timerHandle&&(j.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},w.prototype._callback=function(){j.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),_.prototype.raise.call(this))},H(w,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),w}(v.Event)},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.SilentRenewService=void 0;var H=M(0);S.SilentRenewService=function(){function j(o){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,j),this._userManager=o}return j.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(v){}).catch(function(v){H.Log.error("SilentRenewService.start: Error from getUser:",v.message)}))},j.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},j.prototype._tokenExpiring=function(){var v=this;this._userManager.signinSilent().then(function(h){H.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(h){H.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",h.message),v._userManager.events._raiseSilentRenewError(h)})},j}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaPopupNavigator=void 0;var H=M(21);S.CordovaPopupNavigator=function(){function j(){!function(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}(this,j)}return j.prototype.prepare=function(v){var h=new H.CordovaPopupWindow(v);return Promise.resolve(h)},j}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CordovaIFrameNavigator=void 0;var H=M(21);S.CordovaIFrameNavigator=function(){function j(){!function(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}(this,j)}return j.prototype.prepare=function(v){v.popupWindowFeatures="hidden=yes";var h=new H.CordovaPopupWindow(v);return Promise.resolve(h)},j}()},function(Z,S,M){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Version="1.11.5"}])},7434:ve=>{var Z=String.prototype.replace,S=/%20/g;ve.exports={default:"RFC3986",formatters:{RFC1738:function(j){return Z.call(j,S,"+")},RFC3986:function(j){return String(j)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},3670:(ve,Z,S)=>{var M=S(1799),H=S(2207),j=S(7434);ve.exports={formats:j,parse:H,stringify:M}},2207:(ve,Z,S)=>{var M=S(8477),H=Object.prototype.hasOwnProperty,j=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:M.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(z){return z.replace(/&#(\d+);/g,function(Q,Y){return String.fromCharCode(parseInt(Y,10))})},h=function(z,Q){return z&&"string"==typeof z&&Q.comma&&z.indexOf(",")>-1?z.split(","):z},F=function(z,Q,Y,ae){if(z){var q=Y.allowDots?z.replace(/\.([^.[]+)/g,"[$1]"):z,J=/(\[[^[\]]*])/g,de=Y.depth>0&&/(\[[^[\]]*])/.exec(q),_e=de?q.slice(0,de.index):q,be=[];if(_e){if(!Y.plainObjects&&H.call(Object.prototype,_e)&&!Y.allowPrototypes)return;be.push(_e)}for(var ge=0;Y.depth>0&&null!==(de=J.exec(q))&&ge<Y.depth;){if(ge+=1,!Y.plainObjects&&H.call(Object.prototype,de[1].slice(1,-1))&&!Y.allowPrototypes)return;be.push(de[1])}return de&&be.push("["+q.slice(de.index)+"]"),function(z,Q,Y,ae){for(var q=ae?Q:h(Q,Y),W=z.length-1;W>=0;--W){var J,de=z[W];if("[]"===de&&Y.parseArrays)J=[].concat(q);else{J=Y.plainObjects?Object.create(null):{};var _e="["===de.charAt(0)&&"]"===de.charAt(de.length-1)?de.slice(1,-1):de,be=parseInt(_e,10);Y.parseArrays||""!==_e?!isNaN(be)&&de!==_e&&String(be)===_e&&be>=0&&Y.parseArrays&&be<=Y.arrayLimit?(J=[])[be]=q:"__proto__"!==_e&&(J[_e]=q):J={0:q}}q=J}return q}(be,Q,Y,ae)}};ve.exports=function(U,z){var Q=function(z){if(!z)return o;if(null!=z.decoder&&"function"!=typeof z.decoder)throw new TypeError("Decoder has to be a function.");if(typeof z.charset<"u"&&"utf-8"!==z.charset&&"iso-8859-1"!==z.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:typeof z.allowDots>"u"?o.allowDots:!!z.allowDots,allowPrototypes:"boolean"==typeof z.allowPrototypes?z.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof z.allowSparse?z.allowSparse:o.allowSparse,arrayLimit:"number"==typeof z.arrayLimit?z.arrayLimit:o.arrayLimit,charset:typeof z.charset>"u"?o.charset:z.charset,charsetSentinel:"boolean"==typeof z.charsetSentinel?z.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof z.comma?z.comma:o.comma,decoder:"function"==typeof z.decoder?z.decoder:o.decoder,delimiter:"string"==typeof z.delimiter||M.isRegExp(z.delimiter)?z.delimiter:o.delimiter,depth:"number"==typeof z.depth||!1===z.depth?+z.depth:o.depth,ignoreQueryPrefix:!0===z.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof z.interpretNumericEntities?z.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof z.parameterLimit?z.parameterLimit:o.parameterLimit,parseArrays:!1!==z.parseArrays,plainObjects:"boolean"==typeof z.plainObjects?z.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof z.strictNullHandling?z.strictNullHandling:o.strictNullHandling}}(z);if(""===U||null===U||typeof U>"u")return Q.plainObjects?Object.create(null):{};for(var Y="string"==typeof U?function(z,Q){var de,Y={__proto__:null},W=(Q.ignoreQueryPrefix?z.replace(/^\?/,""):z).split(Q.delimiter,Q.parameterLimit===1/0?void 0:Q.parameterLimit),J=-1,_e=Q.charset;if(Q.charsetSentinel)for(de=0;de<W.length;++de)0===W[de].indexOf("utf8=")&&("utf8=%E2%9C%93"===W[de]?_e="utf-8":"utf8=%26%2310003%3B"===W[de]&&(_e="iso-8859-1"),J=de,de=W.length);for(de=0;de<W.length;++de)if(de!==J){var A,C,be=W[de],ge=be.indexOf("]="),x=-1===ge?be.indexOf("="):ge+1;-1===x?(A=Q.decoder(be,o.decoder,_e,"key"),C=Q.strictNullHandling?null:""):(A=Q.decoder(be.slice(0,x),o.decoder,_e,"key"),C=M.maybeMap(h(be.slice(x+1),Q),function(I){return Q.decoder(I,o.decoder,_e,"value")})),C&&Q.interpretNumericEntities&&"iso-8859-1"===_e&&(C=v(C)),be.indexOf("[]=")>-1&&(C=j(C)?[C]:C),Y[A]=H.call(Y,A)?M.combine(Y[A],C):C}return Y}(U,Q):U,ae=Q.plainObjects?Object.create(null):{},q=Object.keys(Y),W=0;W<q.length;++W){var J=q[W],de=F(J,Y[J],Q,"string"==typeof U);ae=M.merge(ae,de,Q)}return!0===Q.allowSparse?ae:M.compact(ae)}},1799:(ve,Z,S)=>{var M=S(8432),H=S(8477),j=S(7434),o=Object.prototype.hasOwnProperty,v={brackets:function(ae){return ae+"[]"},comma:"comma",indices:function(ae,q){return ae+"["+q+"]"},repeat:function(ae){return ae}},h=Array.isArray,g=Array.prototype.push,_=function(ae,q){g.apply(ae,h(q)?q:[q])},w=Date.prototype.toISOString,O=j.default,F={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:H.encode,encodeValuesOnly:!1,format:O,formatter:j.formatters[O],indices:!1,serializeDate:function(ae){return w.call(ae)},skipNulls:!1,strictNullHandling:!1},U={},z=function Y(ae,q,W,J,de,_e,be,ge,x,A,C,I,$,T,X,fe){for(var De=ae,re=fe,Ne=0,at=!1;void 0!==(re=re.get(U))&&!at;){var Oe=re.get(ae);if(Ne+=1,typeof Oe<"u"){if(Oe===Ne)throw new RangeError("Cyclic object value");at=!0}typeof re.get(U)>"u"&&(Ne=0)}if("function"==typeof ge?De=ge(q,De):De instanceof Date?De=C(De):"comma"===W&&h(De)&&(De=H.maybeMap(De,function(Ze){return Ze instanceof Date?C(Ze):Ze})),null===De){if(de)return be&&!T?be(q,F.encoder,X,"key",I):q;De=""}if(function(ae){return"string"==typeof ae||"number"==typeof ae||"boolean"==typeof ae||"symbol"==typeof ae||"bigint"==typeof ae}(De)||H.isBuffer(De))return be?[$(T?q:be(q,F.encoder,X,"key",I))+"="+$(be(De,F.encoder,X,"value",I))]:[$(q)+"="+$(String(De))];var St,et=[];if(typeof De>"u")return et;if("comma"===W&&h(De))T&&be&&(De=H.maybeMap(De,be)),St=[{value:De.length>0?De.join(",")||null:void 0}];else if(h(ge))St=ge;else{var it=Object.keys(De);St=x?it.sort(x):it}for(var Ve=J&&h(De)&&1===De.length?q+"[]":q,st=0;st<St.length;++st){var me=St[st],ee="object"==typeof me&&typeof me.value<"u"?me.value:De[me];if(!_e||null!==ee){var se=h(De)?"function"==typeof W?W(Ve,me):Ve:Ve+(A?"."+me:"["+me+"]");fe.set(ae,Ne);var Re=M();Re.set(U,fe),_(et,Y(ee,se,W,J,de,_e,"comma"===W&&T&&h(De)?null:be,ge,x,A,C,I,$,T,X,Re))}}return et};ve.exports=function(Y,ae){var J,q=Y,W=function(ae){if(!ae)return F;if(null!==ae.encoder&&typeof ae.encoder<"u"&&"function"!=typeof ae.encoder)throw new TypeError("Encoder has to be a function.");var q=ae.charset||F.charset;if(typeof ae.charset<"u"&&"utf-8"!==ae.charset&&"iso-8859-1"!==ae.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var W=j.default;if(typeof ae.format<"u"){if(!o.call(j.formatters,ae.format))throw new TypeError("Unknown format option provided.");W=ae.format}var J=j.formatters[W],de=F.filter;return("function"==typeof ae.filter||h(ae.filter))&&(de=ae.filter),{addQueryPrefix:"boolean"==typeof ae.addQueryPrefix?ae.addQueryPrefix:F.addQueryPrefix,allowDots:typeof ae.allowDots>"u"?F.allowDots:!!ae.allowDots,charset:q,charsetSentinel:"boolean"==typeof ae.charsetSentinel?ae.charsetSentinel:F.charsetSentinel,delimiter:typeof ae.delimiter>"u"?F.delimiter:ae.delimiter,encode:"boolean"==typeof ae.encode?ae.encode:F.encode,encoder:"function"==typeof ae.encoder?ae.encoder:F.encoder,encodeValuesOnly:"boolean"==typeof ae.encodeValuesOnly?ae.encodeValuesOnly:F.encodeValuesOnly,filter:de,format:W,formatter:J,serializeDate:"function"==typeof ae.serializeDate?ae.serializeDate:F.serializeDate,skipNulls:"boolean"==typeof ae.skipNulls?ae.skipNulls:F.skipNulls,sort:"function"==typeof ae.sort?ae.sort:null,strictNullHandling:"boolean"==typeof ae.strictNullHandling?ae.strictNullHandling:F.strictNullHandling}}(ae);"function"==typeof W.filter?q=(0,W.filter)("",q):h(W.filter)&&(J=W.filter);var _e=[];if("object"!=typeof q||null===q)return"";var ge=v[ae&&ae.arrayFormat in v?ae.arrayFormat:ae&&"indices"in ae?ae.indices?"indices":"repeat":"indices"];if(ae&&"commaRoundTrip"in ae&&"boolean"!=typeof ae.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var x="comma"===ge&&ae&&ae.commaRoundTrip;J||(J=Object.keys(q)),W.sort&&J.sort(W.sort);for(var A=M(),C=0;C<J.length;++C){var I=J[C];W.skipNulls&&null===q[I]||_(_e,z(q[I],I,ge,x,W.strictNullHandling,W.skipNulls,W.encode?W.encoder:null,W.filter,W.sort,W.allowDots,W.serializeDate,W.format,W.formatter,W.encodeValuesOnly,W.charset,A))}var $=_e.join(W.delimiter),T=!0===W.addQueryPrefix?"?":"";return W.charsetSentinel&&(T+="iso-8859-1"===W.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),$.length>0?T+$:""}},8477:(ve,Z,S)=>{var M=S(7434),H=Object.prototype.hasOwnProperty,j=Array.isArray,o=function(){for(var Y=[],ae=0;ae<256;++ae)Y.push("%"+((ae<16?"0":"")+ae.toString(16)).toUpperCase());return Y}(),h=function(ae,q){for(var W=q&&q.plainObjects?Object.create(null):{},J=0;J<ae.length;++J)typeof ae[J]<"u"&&(W[J]=ae[J]);return W};ve.exports={arrayToObject:h,assign:function(ae,q){return Object.keys(q).reduce(function(W,J){return W[J]=q[J],W},ae)},combine:function(ae,q){return[].concat(ae,q)},compact:function(ae){for(var q=[{obj:{o:ae},prop:"o"}],W=[],J=0;J<q.length;++J)for(var de=q[J],_e=de.obj[de.prop],be=Object.keys(_e),ge=0;ge<be.length;++ge){var x=be[ge],A=_e[x];"object"==typeof A&&null!==A&&-1===W.indexOf(A)&&(q.push({obj:_e,prop:x}),W.push(A))}return function(ae){for(;ae.length>1;){var q=ae.pop(),W=q.obj[q.prop];if(j(W)){for(var J=[],de=0;de<W.length;++de)typeof W[de]<"u"&&J.push(W[de]);q.obj[q.prop]=J}}}(q),ae},decode:function(ae,q,W){var J=ae.replace(/\+/g," ");if("iso-8859-1"===W)return J.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(J)}catch{return J}},encode:function(ae,q,W,J,de){if(0===ae.length)return ae;var _e=ae;if("symbol"==typeof ae?_e=Symbol.prototype.toString.call(ae):"string"!=typeof ae&&(_e=String(ae)),"iso-8859-1"===W)return escape(_e).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});for(var be="",ge=0;ge<_e.length;++ge){var x=_e.charCodeAt(ge);45===x||46===x||95===x||126===x||x>=48&&x<=57||x>=65&&x<=90||x>=97&&x<=122||de===M.RFC1738&&(40===x||41===x)?be+=_e.charAt(ge):x<128?be+=o[x]:x<2048?be+=o[192|x>>6]+o[128|63&x]:x<55296||x>=57344?be+=o[224|x>>12]+o[128|x>>6&63]+o[128|63&x]:(x=65536+((1023&x)<<10|1023&_e.charCodeAt(ge+=1)),be+=o[240|x>>18]+o[128|x>>12&63]+o[128|x>>6&63]+o[128|63&x])}return be},isBuffer:function(ae){return!(!ae||"object"!=typeof ae||!(ae.constructor&&ae.constructor.isBuffer&&ae.constructor.isBuffer(ae)))},isRegExp:function(ae){return"[object RegExp]"===Object.prototype.toString.call(ae)},maybeMap:function(ae,q){if(j(ae)){for(var W=[],J=0;J<ae.length;J+=1)W.push(q(ae[J]));return W}return q(ae)},merge:function Y(ae,q,W){if(!q)return ae;if("object"!=typeof q){if(j(ae))ae.push(q);else{if(!ae||"object"!=typeof ae)return[ae,q];(W&&(W.plainObjects||W.allowPrototypes)||!H.call(Object.prototype,q))&&(ae[q]=!0)}return ae}if(!ae||"object"!=typeof ae)return[ae].concat(q);var J=ae;return j(ae)&&!j(q)&&(J=h(ae,W)),j(ae)&&j(q)?(q.forEach(function(de,_e){if(H.call(ae,_e)){var be=ae[_e];be&&"object"==typeof be&&de&&"object"==typeof de?ae[_e]=Y(be,de,W):ae.push(de)}else ae[_e]=de}),ae):Object.keys(q).reduce(function(de,_e){var be=q[_e];return de[_e]=H.call(de,_e)?Y(de[_e],be,W):be,de},J)}}},9877:(ve,Z,S)=>{var H=S(6712),j=S(1856),o=S(5381);function v(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!H)throw Error(v(227));function h(d,m,b,V,ie,xe,Te,He,gt){var $t=Array.prototype.slice.call(arguments,3);try{m.apply(b,$t)}catch(Qt){this.onError(Qt)}}var g=!1,_=null,w=!1,O=null,F={onError:function(m){g=!0,_=m}};function L(d,m,b,V,ie,xe,Te,He,gt){g=!1,_=null,h.apply(F,arguments)}var z=null,Q=null,Y=null;function ae(d,m,b){var V=d.type||"unknown-event";d.currentTarget=Y(b),function U(d,m,b,V,ie,xe,Te,He,gt){if(L.apply(this,arguments),g){if(!g)throw Error(v(198));var $t=_;g=!1,_=null,w||(w=!0,O=$t)}}(V,m,void 0,d),d.currentTarget=null}var q=null,W={};function J(){if(q)for(var d in W){var m=W[d],b=q.indexOf(d);if(!(-1<b))throw Error(v(96,d));if(!_e[b]){if(!m.extractEvents)throw Error(v(97,d));for(var V in _e[b]=m,b=m.eventTypes){var ie=void 0,xe=b[V],Te=m,He=V;if(be.hasOwnProperty(He))throw Error(v(99,He));be[He]=xe;var gt=xe.phasedRegistrationNames;if(gt){for(ie in gt)gt.hasOwnProperty(ie)&&de(gt[ie],Te,He);ie=!0}else xe.registrationName?(de(xe.registrationName,Te,He),ie=!0):ie=!1;if(!ie)throw Error(v(98,V,d))}}}}function de(d,m,b){if(ge[d])throw Error(v(100,d));ge[d]=m,x[d]=m.eventTypes[b].dependencies}var _e=[],be={},ge={},x={};function A(d){var b,m=!1;for(b in d)if(d.hasOwnProperty(b)){var V=d[b];if(!W.hasOwnProperty(b)||W[b]!==V){if(W[b])throw Error(v(102,b));W[b]=V,m=!0}}m&&J()}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I=null,$=null,T=null;function X(d){if(d=Q(d)){if("function"!=typeof I)throw Error(v(280));var m=d.stateNode;m&&(m=z(m),I(d.stateNode,d.type,m))}}function fe(d){$?T?T.push(d):T=[d]:$=d}function De(){if($){var d=$,m=T;if(T=$=null,X(d),m)for(d=0;d<m.length;d++)X(m[d])}}function re(d,m){return d(m)}function Ne(d,m,b,V,ie){return d(m,b,V,ie)}function at(){}var Oe=re,rt=!1,et=!1;function St(){(null!==$||null!==T)&&(at(),De())}function it(d,m,b){if(et)return d(m,b);et=!0;try{return Oe(d,m,b)}finally{et=!1,St()}}var Ve=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,st=Object.prototype.hasOwnProperty,me={},ee={};function pe(d,m,b,V,ie,xe){this.acceptsBooleans=2===m||3===m||4===m,this.attributeName=V,this.attributeNamespace=ie,this.mustUseProperty=b,this.propertyName=d,this.type=m,this.sanitizeURL=xe}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){Ce[d]=new pe(d,0,!1,d,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];Ce[m]=new pe(m,1,!1,d[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){Ce[d]=new pe(d,2,!1,d.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){Ce[d]=new pe(d,2,!1,d,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){Ce[d]=new pe(d,3,!1,d.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(d){Ce[d]=new pe(d,3,!0,d,null,!1)}),["capture","download"].forEach(function(d){Ce[d]=new pe(d,4,!1,d,null,!1)}),["cols","rows","size","span"].forEach(function(d){Ce[d]=new pe(d,6,!1,d,null,!1)}),["rowSpan","start"].forEach(function(d){Ce[d]=new pe(d,5,!1,d.toLowerCase(),null,!1)});var dt=/[\-:]([a-z])/g;function Ee(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(dt,Ee);Ce[m]=new pe(m,1,!1,d,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(dt,Ee);Ce[m]=new pe(m,1,!1,d,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(dt,Ee);Ce[m]=new pe(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(d){Ce[d]=new pe(d,1,!1,d.toLowerCase(),null,!1)}),Ce.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(d){Ce[d]=new pe(d,1,!1,d.toLowerCase(),null,!0)});var le=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ce(d,m,b,V){var ie=Ce.hasOwnProperty(m)?Ce[m]:null;(null!==ie?0===ie.type:!V&&2<m.length&&("o"===m[0]||"O"===m[0])&&("n"===m[1]||"N"===m[1]))||(function Ze(d,m,b,V){if(null===m||typeof m>"u"||function Re(d,m,b,V){if(null!==b&&0===b.type)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return!V&&(null!==b?!b.acceptsBooleans:"data-"!==(d=d.toLowerCase().slice(0,5))&&"aria-"!==d);default:return!1}}(d,m,b,V))return!0;if(V)return!1;if(null!==b)switch(b.type){case 3:return!m;case 4:return!1===m;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}(m,b,ie,V)&&(b=null),V||null===ie?function se(d){return!!st.call(ee,d)||!st.call(me,d)&&(Ve.test(d)?ee[d]=!0:(me[d]=!0,!1))}(m)&&(null===b?d.removeAttribute(m):d.setAttribute(m,""+b)):ie.mustUseProperty?d[ie.propertyName]=null===b?3!==ie.type&&"":b:(m=ie.attributeName,V=ie.attributeNamespace,null===b?d.removeAttribute(m):(b=3===(ie=ie.type)||4===ie&&!0===b?"":""+b,V?d.setAttributeNS(V,m,b):d.setAttribute(m,b))))}le.hasOwnProperty("ReactCurrentDispatcher")||(le.ReactCurrentDispatcher={current:null}),le.hasOwnProperty("ReactCurrentBatchConfig")||(le.ReactCurrentBatchConfig={suspense:null});var Fe=/^(.*)[\\\/]/,ut="function"==typeof Symbol&&Symbol.for,Nt=ut?Symbol.for("react.element"):60103,Mt=ut?Symbol.for("react.portal"):60106,Wt=ut?Symbol.for("react.fragment"):60107,mn=ut?Symbol.for("react.strict_mode"):60108,tn=ut?Symbol.for("react.profiler"):60114,ir=ut?Symbol.for("react.provider"):60109,jn=ut?Symbol.for("react.context"):60110,Ie=ut?Symbol.for("react.concurrent_mode"):60111,Qr=ut?Symbol.for("react.forward_ref"):60112,yr=ut?Symbol.for("react.suspense"):60113,nn=ut?Symbol.for("react.suspense_list"):60120,To=ut?Symbol.for("react.memo"):60115,Ui=ut?Symbol.for("react.lazy"):60116,Ct=ut?Symbol.for("react.block"):60121,Rt="function"==typeof Symbol&&Symbol.iterator;function In(d){return null===d||"object"!=typeof d?null:"function"==typeof(d=Rt&&d[Rt]||d["@@iterator"])?d:null}function An(d){if(null==d)return null;if("function"==typeof d)return d.displayName||d.name||null;if("string"==typeof d)return d;switch(d){case Wt:return"Fragment";case Mt:return"Portal";case tn:return"Profiler";case mn:return"StrictMode";case yr:return"Suspense";case nn:return"SuspenseList"}if("object"==typeof d)switch(d.$$typeof){case jn:return"Context.Consumer";case ir:return"Context.Provider";case Qr:var m=d.render;return m=m.displayName||m.name||"",d.displayName||(""!==m?"ForwardRef("+m+")":"ForwardRef");case To:return An(d.type);case Ct:return An(d.render);case Ui:if(d=1===d._status?d._result:null)return An(d)}return null}function vn(d){var m="";do{e:switch(d.tag){case 3:case 4:case 6:case 7:case 10:case 9:var b="";break e;default:var V=d._debugOwner,ie=d._debugSource,xe=An(d.type);b=null,V&&(b=An(V.type)),V=xe,xe="",ie?xe=" (at "+ie.fileName.replace(Fe,"")+":"+ie.lineNumber+")":b&&(xe=" (created by "+b+")"),b="\n    in "+(V||"Unknown")+xe}m+=b,d=d.return}while(d);return m}function $r(d){switch(typeof d){case"boolean":case"number":case"object":case"string":case"undefined":return d;default:return""}}function pr(d){var m=d.type;return(d=d.nodeName)&&"input"===d.toLowerCase()&&("checkbox"===m||"radio"===m)}function Ar(d){d._valueTracker||(d._valueTracker=function cr(d){var m=pr(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),V=""+d[m];if(!d.hasOwnProperty(m)&&typeof b<"u"&&"function"==typeof b.get&&"function"==typeof b.set){var ie=b.get,xe=b.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return ie.call(this)},set:function(He){V=""+He,xe.call(this,He)}}),Object.defineProperty(d,m,{enumerable:b.enumerable}),{getValue:function(){return V},setValue:function(He){V=""+He},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}(d))}function Xi(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var b=m.getValue(),V="";return d&&(V=pr(d)?d.checked?"true":"false":d.value),(d=V)!==b&&(m.setValue(d),!0)}function zi(d,m){return j({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m.checked??d._wrapperState.initialChecked})}function Rr(d,m){var b=null==m.defaultValue?"":m.defaultValue,V=null!=m.checked?m.checked:m.defaultChecked;b=$r(null!=m.value?m.value:b),d._wrapperState={initialChecked:V,initialValue:b,controlled:"checkbox"===m.type||"radio"===m.type?null!=m.checked:null!=m.value}}function Lr(d,m){null!=(m=m.checked)&&ce(d,"checked",m,!1)}function ei(d,m){Lr(d,m);var b=$r(m.value),V=m.type;if(null!=b)"number"===V?(0===b&&""===d.value||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if("submit"===V||"reset"===V)return void d.removeAttribute("value");m.hasOwnProperty("value")?ki(d,m.type,b):m.hasOwnProperty("defaultValue")&&ki(d,m.type,$r(m.defaultValue)),null==m.checked&&null!=m.defaultChecked&&(d.defaultChecked=!!m.defaultChecked)}function Ko(d,m,b){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var V=m.type;if(("submit"===V||"reset"===V)&&null==m.value)return;m=""+d._wrapperState.initialValue,b||m===d.value||(d.value=m),d.defaultValue=m}""!==(b=d.name)&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,""!==b&&(d.name=b)}function ki(d,m,b){("number"!==m||d.ownerDocument.activeElement!==d)&&(null==b?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}function ao(d,m){return d=j({children:void 0},m),(m=function Do(d){var m="";return H.Children.forEach(d,function(b){null!=b&&(m+=b)}),m}(m.children))&&(d.children=m),d}function fo(d,m,b,V){if(d=d.options,m){m={};for(var ie=0;ie<b.length;ie++)m["$"+b[ie]]=!0;for(b=0;b<d.length;b++)ie=m.hasOwnProperty("$"+d[b].value),d[b].selected!==ie&&(d[b].selected=ie),ie&&V&&(d[b].defaultSelected=!0)}else{for(b=""+$r(b),m=null,ie=0;ie<d.length;ie++){if(d[ie].value===b)return d[ie].selected=!0,void(V&&(d[ie].defaultSelected=!0));null!==m||d[ie].disabled||(m=d[ie])}null!==m&&(m.selected=!0)}}function _i(d,m){if(null!=m.dangerouslySetInnerHTML)throw Error(v(91));return j({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function xi(d,m){var b=m.value;if(null==b){if(b=m.children,m=m.defaultValue,null!=b){if(null!=m)throw Error(v(92));if(Array.isArray(b)){if(!(1>=b.length))throw Error(v(93));b=b[0]}m=b}null==m&&(m=""),b=m}d._wrapperState={initialValue:$r(b)}}function Pi(d,m){var b=$r(m.value),V=$r(m.defaultValue);null!=b&&((b=""+b)!==d.value&&(d.value=b),null==m.defaultValue&&d.defaultValue!==b&&(d.defaultValue=b)),null!=V&&(d.defaultValue=""+V)}function Vi(d){var m=d.textContent;m===d._wrapperState.initialValue&&""!==m&&null!==m&&(d.value=m)}function Io(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _r(d,m){return null==d||"http://www.w3.org/1999/xhtml"===d?Io(m):"http://www.w3.org/2000/svg"===d&&"foreignObject"===m?"http://www.w3.org/1999/xhtml":d}var Oo,d,so=(d=function(d,m){if("http://www.w3.org/2000/svg"!==d.namespaceURI||"innerHTML"in d)d.innerHTML=m;else{for((Oo=Oo||document.createElement("div")).innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Oo.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,b,V,ie){MSApp.execUnsafeLocalFunction(function(){return d(m,b)})}:d);function Ai(d,m){if(m){var b=d.firstChild;if(b&&b===d.lastChild&&3===b.nodeType)return void(b.nodeValue=m)}d.textContent=m}function Qi(d,m){var b={};return b[d.toLowerCase()]=m.toLowerCase(),b["Webkit"+d]="webkit"+m,b["Moz"+d]="moz"+m,b}var Tr={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},Wo={},as={};function bi(d){if(Wo[d])return Wo[d];if(!Tr[d])return d;var b,m=Tr[d];for(b in m)if(m.hasOwnProperty(b)&&b in as)return Wo[d]=m[b];return d}C&&(as=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Fs=bi("animationend"),_u=bi("animationiteration"),Yu=bi("animationstart"),el=bi("transitionend"),Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tl=new("function"==typeof WeakMap?WeakMap:Map);function xu(d){var m=tl.get(d);return void 0===m&&tl.set(d,m=new Map),m}function P(d){var m=d,b=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do{1026&(m=d).effectTag&&(b=m.return),d=m.return}while(d)}return 3===m.tag?b:null}function k(d){if(13===d.tag){var m=d.memoizedState;if(null===m&&null!==(d=d.alternate)&&(m=d.memoizedState),null!==m)return m.dehydrated}return null}function N(d){if(P(d)!==d)throw Error(v(188))}function ye(d,m){if(null==m)throw Error(v(30));return null==d?m:Array.isArray(d)?Array.isArray(m)?(d.push.apply(d,m),d):(d.push(m),d):Array.isArray(m)?[d].concat(m):[d,m]}function Ae(d,m,b){Array.isArray(d)?d.forEach(m,b):d&&m.call(b,d)}var Le=null;function Be(d){if(d){var m=d._dispatchListeners,b=d._dispatchInstances;if(Array.isArray(m))for(var V=0;V<m.length&&!d.isPropagationStopped();V++)ae(d,m[V],b[V]);else m&&ae(d,m,b);d._dispatchListeners=null,d._dispatchInstances=null,d.isPersistent()||d.constructor.release(d)}}function je(d){if(null!==d&&(Le=ye(Le,d)),d=Le,Le=null,d){if(Ae(d,Be),Le)throw Error(v(95));if(w)throw d=O,w=!1,O=null,d}}function Ge(d){return(d=d.target||d.srcElement||window).correspondingUseElement&&(d=d.correspondingUseElement),3===d.nodeType?d.parentNode:d}function Ke(d){if(!C)return!1;var m=(d="on"+d)in document;return m||((m=document.createElement("div")).setAttribute(d,"return;"),m="function"==typeof m[d]),m}var Qe=[];function ot(d){d.topLevelType=null,d.nativeEvent=null,d.targetInst=null,d.ancestors.length=0,10>Qe.length&&Qe.push(d)}function yt(d,m,b,V){if(Qe.length){var ie=Qe.pop();return ie.topLevelType=d,ie.eventSystemFlags=V,ie.nativeEvent=m,ie.targetInst=b,ie}return{topLevelType:d,eventSystemFlags:V,nativeEvent:m,targetInst:b,ancestors:[]}}function At(d){var m=d.targetInst,b=m;do{if(!b){d.ancestors.push(b);break}var V=b;if(3===V.tag)V=V.stateNode.containerInfo;else{for(;V.return;)V=V.return;V=3!==V.tag?null:V.stateNode.containerInfo}if(!V)break;5!==(m=b.tag)&&6!==m||d.ancestors.push(b),b=sl(V)}while(b);for(b=0;b<d.ancestors.length;b++){m=d.ancestors[b];var ie=Ge(d.nativeEvent);V=d.topLevelType;var xe=d.nativeEvent,Te=d.eventSystemFlags;0===b&&(Te|=64);for(var He=null,gt=0;gt<_e.length;gt++){var $t=_e[gt];$t&&($t=$t.extractEvents(V,m,xe,ie,Te))&&(He=ye(He,$t))}je(He)}}function Dt(d,m,b){if(!b.has(d)){switch(d){case"scroll":Gr(m,"scroll",!0);break;case"focus":case"blur":Gr(m,"focus",!0),Gr(m,"blur",!0),b.set("blur",null),b.set("focus",null);break;case"cancel":case"close":Ke(d)&&Gr(m,d,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ms.indexOf(d)&&lr(d,m)}b.set(d,null)}}var Pe,qe,Xe,Je=!1,xt=[],Tt=null,ln=null,Kt=null,Hn=new Map,un=new Map,Cn=[],ar="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Er="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ci(d,m,b,V,ie){return{blockedOn:d,topLevelType:m,eventSystemFlags:32|b,nativeEvent:ie,container:V}}function si(d,m){switch(d){case"focus":case"blur":Tt=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Hn.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(m.pointerId)}}function ti(d,m,b,V,ie,xe){return null===d||d.nativeEvent!==xe?(d=Ci(m,b,V,ie,xe),null!==m&&null!==(m=ul(m))&&qe(m),d):(d.eventSystemFlags|=V,d)}function ft(d){var m=sl(d.target);if(null!==m){var b=P(m);if(null!==b)if(13===(m=b.tag)){if(null!==(m=k(b)))return d.blockedOn=m,void o.unstable_runWithPriority(d.priority,function(){Xe(b)})}else if(3===m&&b.stateNode.hydrate)return void(d.blockedOn=3===b.tag?b.stateNode.containerInfo:null)}d.blockedOn=null}function ht(d){if(null!==d.blockedOn)return!1;var m=Mo(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);if(null!==m){var b=ul(m);return null!==b&&qe(b),d.blockedOn=m,!1}return!0}function kt(d,m,b){ht(d)&&b.delete(m)}function jt(){for(Je=!1;0<xt.length;){var d=xt[0];if(null!==d.blockedOn){null!==(d=ul(d.blockedOn))&&Pe(d);break}var m=Mo(d.topLevelType,d.eventSystemFlags,d.container,d.nativeEvent);null!==m?d.blockedOn=m:xt.shift()}null!==Tt&&ht(Tt)&&(Tt=null),null!==ln&&ht(ln)&&(ln=null),null!==Kt&&ht(Kt)&&(Kt=null),Hn.forEach(kt),un.forEach(kt)}function Ot(d,m){d.blockedOn===m&&(d.blockedOn=null,Je||(Je=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function an(d){function m(ie){return Ot(ie,d)}if(0<xt.length){Ot(xt[0],d);for(var b=1;b<xt.length;b++){var V=xt[b];V.blockedOn===d&&(V.blockedOn=null)}}for(null!==Tt&&Ot(Tt,d),null!==ln&&Ot(ln,d),null!==Kt&&Ot(Kt,d),Hn.forEach(m),un.forEach(m),b=0;b<Cn.length;b++)(V=Cn[b]).blockedOn===d&&(V.blockedOn=null);for(;0<Cn.length&&null===(b=Cn[0]).blockedOn;)ft(b),null===b.blockedOn&&Cn.shift()}var wn={},Tn=new Map,sr=new Map,Jn=["abort","abort",Fs,"animationEnd",_u,"animationIteration",Yu,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",el,"transitionEnd","waiting","waiting"];function br(d,m){for(var b=0;b<d.length;b+=2){var V=d[b],ie=d[b+1],xe="on"+(ie[0].toUpperCase()+ie.slice(1));xe={phasedRegistrationNames:{bubbled:xe,captured:xe+"Capture"},dependencies:[V],eventPriority:m},sr.set(V,m),Tn.set(V,xe),wn[ie]=xe}}br("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),br("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),br(Jn,2);for(var wi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vr=0;Vr<wi.length;Vr++)sr.set(wi[Vr],0);var pi=o.unstable_UserBlockingPriority,Ni=o.unstable_runWithPriority,ni=!0;function lr(d,m){Gr(m,d,!1)}function Gr(d,m,b){var V=sr.get(m);switch(void 0===V?2:V){case 0:V=Xo.bind(null,m,1,d);break;case 1:V=Fo.bind(null,m,1,d);break;default:V=Dr.bind(null,m,1,d)}d.addEventListener(m,V,!!b)}function Xo(d,m,b,V){rt||at();var ie=Dr,xe=rt;rt=!0;try{Ne(ie,d,m,b,V)}finally{(rt=xe)||St()}}function Fo(d,m,b,V){Ni(pi,Dr.bind(null,d,m,b,V))}function Dr(d,m,b,V){if(ni)if(0<xt.length&&-1<ar.indexOf(d))d=Ci(null,d,m,b,V),xt.push(d);else{var ie=Mo(d,m,b,V);if(null===ie)si(d,V);else if(-1<ar.indexOf(d))d=Ci(ie,d,m,b,V),xt.push(d);else if(!function Ue(d,m,b,V,ie){switch(m){case"focus":return Tt=ti(Tt,d,m,b,V,ie),!0;case"dragenter":return ln=ti(ln,d,m,b,V,ie),!0;case"mouseover":return Kt=ti(Kt,d,m,b,V,ie),!0;case"pointerover":var xe=ie.pointerId;return Hn.set(xe,ti(Hn.get(xe)||null,d,m,b,V,ie)),!0;case"gotpointercapture":return un.set(xe=ie.pointerId,ti(un.get(xe)||null,d,m,b,V,ie)),!0}return!1}(ie,d,m,b,V)){si(d,V),d=yt(d,V,null,m);try{it(At,d)}finally{ot(d)}}}}function Mo(d,m,b,V){if(null!==(b=sl(b=Ge(V)))){var ie=P(b);if(null===ie)b=null;else{var xe=ie.tag;if(13===xe){if(null!==(b=k(ie)))return b;b=null}else if(3===xe){if(ie.stateNode.hydrate)return 3===ie.tag?ie.stateNode.containerInfo:null;b=null}else ie!==b&&(b=null)}}d=yt(d,V,b,m);try{it(At,d)}finally{ot(d)}return null}var Qo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];function Ns(d,m,b){return null==m||"boolean"==typeof m||""===m?"":b||"number"!=typeof m||0===m||Qo.hasOwnProperty(d)&&Qo[d]?(""+m).trim():m+"px"}function Ea(d,m){for(var b in d=d.style,m)if(m.hasOwnProperty(b)){var V=0===b.indexOf("--"),ie=Ns(b,m[b],V);"float"===b&&(b="cssFloat"),V?d.setProperty(b,ie):d[b]=ie}}Object.keys(Qo).forEach(function(d){hi.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Qo[m]=Qo[d]})});var Si=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(d,m){if(m){if(Si[d]&&(null!=m.children||null!=m.dangerouslySetInnerHTML))throw Error(v(137,d,""));if(null!=m.dangerouslySetInnerHTML){if(null!=m.children)throw Error(v(60));if("object"!=typeof m.dangerouslySetInnerHTML||!("__html"in m.dangerouslySetInnerHTML))throw Error(v(61))}if(null!=m.style&&"object"!=typeof m.style)throw Error(v(62,""))}}function Za(d,m){if(-1===d.indexOf("-"))return"string"==typeof m.is;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs="http://www.w3.org/1999/xhtml";function ja(d,m){var b=xu(d=9===d.nodeType||11===d.nodeType?d:d.ownerDocument);m=x[m];for(var V=0;V<m.length;V++)Dt(m[V],d,b)}function oc(){}function nl(d){if(typeof(d=d||(typeof document<"u"?document:void 0))>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function S0(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function E0(d,m){var V,b=S0(d);for(d=0;b;){if(3===b.nodeType){if(V=d+b.textContent.length,d<=m&&V>=m)return{node:b,offset:m-d};d=V}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=S0(b)}}function rl(d,m){return!(!d||!m)&&(d===m||(!d||3!==d.nodeType)&&(m&&3===m.nodeType?rl(d,m.parentNode):"contains"in d?d.contains(m):!!d.compareDocumentPosition&&!!(16&d.compareDocumentPosition(m))))}function k0(){for(var d=window,m=nl();m instanceof d.HTMLIFrameElement;){try{var b="string"==typeof m.contentWindow.location.href}catch{b=!1}if(!b)break;m=nl((d=m.contentWindow).document)}return m}function ac(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&("input"===m&&("text"===d.type||"search"===d.type||"tel"===d.type||"url"===d.type||"password"===d.type)||"textarea"===m||"true"===d.contentEditable)}var Nf="$",Bf="/$",po="$?",ss="$!",Zf=null,jf=null;function $f(d,m){switch(d){case"button":case"input":case"select":case"textarea":return!!m.autoFocus}return!1}function Lf(d,m){return"textarea"===d||"option"===d||"noscript"===d||"string"==typeof m.children||"number"==typeof m.children||"object"==typeof m.dangerouslySetInnerHTML&&null!==m.dangerouslySetInnerHTML&&null!=m.dangerouslySetInnerHTML.__html}var sc="function"==typeof setTimeout?setTimeout:void 0,uc="function"==typeof clearTimeout?clearTimeout:void 0;function bu(d){for(;null!=d;d=d.nextSibling){var m=d.nodeType;if(1===m||3===m)break}return d}function P0(d){d=d.previousSibling;for(var m=0;d;){if(8===d.nodeType){var b=d.data;if(b===Nf||b===ss||b===po){if(0===m)return d;m--}else b===Bf&&m++}d=d.previousSibling}return null}var il=Math.random().toString(36).slice(2),us="__reactInternalInstance$"+il,ol="__reactEventHandlers$"+il,al="__reactContainere$"+il;function sl(d){var m=d[us];if(m)return m;for(var b=d.parentNode;b;){if(m=b[al]||b[us]){if(b=m.alternate,null!==m.child||null!==b&&null!==b.child)for(d=P0(d);null!==d;){if(b=d[us])return b;d=P0(d)}return m}b=(d=b).parentNode}return null}function ul(d){return!(d=d[us]||d[al])||5!==d.tag&&6!==d.tag&&13!==d.tag&&3!==d.tag?null:d}function js(d){if(5===d.tag||6===d.tag)return d.stateNode;throw Error(v(33))}function lc(d){return d[ol]||null}function Jo(d){do{d=d.return}while(d&&5!==d.tag);return d||null}function Uf(d,m){var b=d.stateNode;if(!b)return null;var V=z(b);if(!V)return null;b=V[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(V=!("button"===(d=d.type)||"input"===d||"select"===d||"textarea"===d)),d=!V;break e;default:d=!1}if(d)return null;if(b&&"function"!=typeof b)throw Error(v(231,m,typeof b));return b}function A0(d,m,b){(m=Uf(d,b.dispatchConfig.phasedRegistrationNames[m]))&&(b._dispatchListeners=ye(b._dispatchListeners,m),b._dispatchInstances=ye(b._dispatchInstances,d))}function R0(d){if(d&&d.dispatchConfig.phasedRegistrationNames){for(var m=d._targetInst,b=[];m;)b.push(m),m=Jo(m);for(m=b.length;0<m--;)A0(b[m],"captured",d);for(m=0;m<b.length;m++)A0(b[m],"bubbled",d)}}function zf(d,m,b){d&&b&&b.dispatchConfig.registrationName&&(m=Uf(d,b.dispatchConfig.registrationName))&&(b._dispatchListeners=ye(b._dispatchListeners,m),b._dispatchInstances=ye(b._dispatchInstances,d))}function Cu(d){Ae(d,R0)}var ls=null,Vf=null,cc=null;function Gf(){if(cc)return cc;var d,V,m=Vf,b=m.length,ie="value"in ls?ls.value:ls.textContent,xe=ie.length;for(d=0;d<b&&m[d]===ie[d];d++);var Te=b-d;for(V=1;V<=Te&&m[b-V]===ie[xe-V];V++);return cc=ie.slice(d,1<V?1-V:void 0)}function wu(){return!0}function ll(){return!1}function No(d,m,b,V){for(var ie in this.dispatchConfig=d,this._targetInst=m,this.nativeEvent=b,d=this.constructor.Interface)d.hasOwnProperty(ie)&&((m=d[ie])?this[ie]=m(b):"target"===ie?this.target=V:this[ie]=b[ie]);return this.isDefaultPrevented=(null!=b.defaultPrevented?b.defaultPrevented:!1===b.returnValue)?wu:ll,this.isPropagationStopped=ll,this}function GR(d,m,b,V){if(this.eventPool.length){var ie=this.eventPool.pop();return this.call(ie,d,m,b,V),ie}return new this(d,m,b,V)}function HR(d){if(!(d instanceof this))throw Error(v(279));d.destructor(),10>this.eventPool.length&&this.eventPool.push(d)}function rk(d){d.eventPool=[],d.getPooled=GR,d.release=HR}j(No.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():"unknown"!=typeof m.returnValue&&(m.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():"unknown"!=typeof m.cancelBubble&&(m.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){this.isPersistent=wu},isPersistent:ll,destructor:function(){var b,m=this.constructor.Interface;for(b in m)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ll,this._dispatchInstances=this._dispatchListeners=null}}),No.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},No.extend=function(d){function m(){}function b(){return V.apply(this,arguments)}var V=this;m.prototype=V.prototype;var ie=new m;return j(ie,b.prototype),(b.prototype=ie).constructor=b,b.Interface=j({},V.Interface,d),b.extend=V.extend,rk(b),b},rk(No);var K=No.extend({data:null}),ue=No.extend({data:null}),dc=[9,13,27,32],en=C&&"CompositionEvent"in window,hr=null;C&&"documentMode"in document&&(hr=document.documentMode);var ho=C&&"TextEvent"in window&&!hr,yn=C&&(!en||hr&&8<hr&&11>=hr),Hf=String.fromCharCode(32),da={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cl=!1;function qf(d,m){switch(d){case"keyup":return-1!==dc.indexOf(m.keyCode);case"keydown":return 229!==m.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Kf(d){return"object"==typeof(d=d.detail)&&"data"in d?d.data:null}var ka=!1,$a={eventTypes:da,extractEvents:function(m,b,V,ie){var xe;if(en)e:{switch(m){case"compositionstart":var Te=da.compositionStart;break e;case"compositionend":Te=da.compositionEnd;break e;case"compositionupdate":Te=da.compositionUpdate;break e}Te=void 0}else ka?qf(m,V)&&(Te=da.compositionEnd):"keydown"===m&&229===V.keyCode&&(Te=da.compositionStart);return Te?(yn&&"ko"!==V.locale&&(ka||Te!==da.compositionStart?Te===da.compositionEnd&&ka&&(xe=Gf()):(Vf="value"in(ls=ie)?ls.value:ls.textContent,ka=!0)),Te=K.getPooled(Te,b,V,ie),(xe||null!==(xe=Kf(V)))&&(Te.data=xe),Cu(Te),xe=Te):xe=null,(m=ho?function ik(d,m){switch(d){case"compositionend":return Kf(m);case"keypress":return 32!==m.which?null:(cl=!0,Hf);case"textInput":return(d=m.data)===Hf&&cl?null:d;default:return null}}(m,V):function ok(d,m){if(ka)return"compositionend"===d||!en&&qf(d,m)?(d=Gf(),cc=Vf=ls=null,ka=!1,d):null;switch(d){case"paste":default:return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return yn&&"ko"!==m.locale?null:m.data}}(m,V))?((b=ue.getPooled(da.beforeInput,b,V,ie)).data=m,Cu(b)):b=null,null===xe?b:null===b?xe:[xe,b]}},sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return"input"===m?!!sn[d.type]:"textarea"===m}var T0={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function D0(d,m,b){return(d=No.getPooled(T0.change,d,m,b)).type="change",fe(b),Cu(d),d}var Su=null,$s=null;function dl(d){je(d)}function fc(d){if(Xi(js(d)))return d}function Wf(d,m){if("change"===d)return m}var Bo=!1;function Ls(){Su&&(Su.detachEvent("onpropertychange",pc),$s=Su=null)}function pc(d){if("value"===d.propertyName&&fc($s))if(d=D0($s,d,Ge(d)),rt)je(d);else{rt=!0;try{re(dl,d)}finally{rt=!1,St()}}}function I0(d,m,b){"focus"===d?(Ls(),$s=b,(Su=m).attachEvent("onpropertychange",pc)):"blur"===d&&Ls()}function ui(d){if("selectionchange"===d||"keyup"===d||"keydown"===d)return fc($s)}function Hr(d,m){if("click"===d)return fc(m)}function ak(d,m){if("input"===d||"change"===d)return fc(m)}C&&(Bo=Ke("input")&&(!document.documentMode||9<document.documentMode));var sk={eventTypes:T0,_isInputEventSupported:Bo,extractEvents:function(m,b,V,ie){var xe=b?js(b):window,Te=xe.nodeName&&xe.nodeName.toLowerCase();if("select"===Te||"input"===Te&&"file"===xe.type)var He=Wf;else if(bt(xe))if(Bo)He=ak;else{He=ui;var gt=I0}else(Te=xe.nodeName)&&"input"===Te.toLowerCase()&&("checkbox"===xe.type||"radio"===xe.type)&&(He=Hr);if(He&&(He=He(m,b)))return D0(He,V,ie);gt&&gt(m,xe,b),"blur"===m&&(m=xe._wrapperState)&&m.controlled&&"number"===xe.type&&ki(xe,"number",xe.value)}},fl=No.extend({view:null,detail:null}),O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):!!(d=O0[d])&&!!m[d]}function Xf(){return pl}var hc=0,Qf=0,F0=!1,M0=!1,hl=fl.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Xf,button:null,buttons:null,relatedTarget:function(m){return m.relatedTarget||(m.fromElement===m.srcElement?m.toElement:m.fromElement)},movementX:function(m){if("movementX"in m)return m.movementX;var b=hc;return hc=m.screenX,F0?"mousemove"===m.type?m.screenX-b:0:(F0=!0,0)},movementY:function(m){if("movementY"in m)return m.movementY;var b=Qf;return Qf=m.screenY,M0?"mousemove"===m.type?m.screenY-b:0:(M0=!0,0)}}),N0=hl.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Eu={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},B0={eventTypes:Eu,extractEvents:function(m,b,V,ie,xe){var Te="mouseover"===m||"pointerover"===m,He="mouseout"===m||"pointerout"===m;if(Te&&!(32&xe)&&(V.relatedTarget||V.fromElement)||!He&&!Te)return null;if(Te=ie.window===ie?ie:(Te=ie.ownerDocument)?Te.defaultView||Te.parentWindow:window,He?(He=b,null!==(b=(b=V.relatedTarget||V.toElement)?sl(b):null)&&(b!==P(b)||5!==b.tag&&6!==b.tag)&&(b=null)):He=null,He===b)return null;if("mouseout"===m||"mouseover"===m)var $t=hl,Qt=Eu.mouseLeave,En=Eu.mouseEnter,Rn="mouse";else("pointerout"===m||"pointerover"===m)&&($t=N0,Qt=Eu.pointerLeave,En=Eu.pointerEnter,Rn="pointer");if(m=null==He?Te:js(He),Te=null==b?Te:js(b),(Qt=$t.getPooled(Qt,He,V,ie)).type=Rn+"leave",Qt.target=m,Qt.relatedTarget=Te,(V=$t.getPooled(En,b,V,ie)).type=Rn+"enter",V.target=Te,V.relatedTarget=m,Rn=b,(ie=He)&&Rn)e:{for(En=Rn,He=0,m=$t=ie;m;m=Jo(m))He++;for(m=0,b=En;b;b=Jo(b))m++;for(;0<He-m;)$t=Jo($t),He--;for(;0<m-He;)En=Jo(En),m--;for(;He--;){if($t===En||$t===En.alternate)break e;$t=Jo($t),En=Jo(En)}$t=null}else $t=null;for(En=$t,$t=[];ie&&ie!==En&&(null===(He=ie.alternate)||He!==En);)$t.push(ie),ie=Jo(ie);for(ie=[];Rn&&Rn!==En&&(null===(He=Rn.alternate)||He!==En);)ie.push(Rn),Rn=Jo(Rn);for(Rn=0;Rn<$t.length;Rn++)zf($t[Rn],"bubbled",Qt);for(Rn=ie.length;0<Rn--;)zf(ie[Rn],"captured",V);return 64&xe?[Qt,V]:[Qt]}},cs="function"==typeof Object.is?Object.is:function Z0(d,m){return d===m&&(0!==d||1/d==1/m)||d!=d&&m!=m},j0=Object.prototype.hasOwnProperty;function ku(d,m){if(cs(d,m))return!0;if("object"!=typeof d||null===d||"object"!=typeof m||null===m)return!1;var b=Object.keys(d),V=Object.keys(m);if(b.length!==V.length)return!1;for(V=0;V<b.length;V++)if(!j0.call(m,b[V])||!cs(d[b[V]],m[b[V]]))return!1;return!0}var La=C&&"documentMode"in document&&11>=document.documentMode,$0={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Pu=null,Jf=null,ml=null,Yf=!1;function L0(d,m){var b=m.window===m?m.document:9===m.nodeType?m:m.ownerDocument;return Yf||null==Pu||Pu!==nl(b)?null:(b="selectionStart"in(b=Pu)&&ac(b)?{start:b.selectionStart,end:b.selectionEnd}:{anchorNode:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset},ml&&ku(ml,b)?null:(ml=b,(d=No.getPooled($0.select,Jf,d,m)).type="select",d.target=Pu,Cu(d),d))}var uk={eventTypes:$0,extractEvents:function(m,b,V,ie,xe,Te){if(!(Te=!(xe=Te||(ie.window===ie?ie.document:9===ie.nodeType?ie:ie.ownerDocument)))){e:{xe=xu(xe),Te=x.onSelect;for(var He=0;He<Te.length;He++)if(!xe.has(Te[He])){xe=!1;break e}xe=!0}Te=!xe}if(Te)return null;switch(xe=b?js(b):window,m){case"focus":(bt(xe)||"true"===xe.contentEditable)&&(Pu=xe,Jf=b,ml=null);break;case"blur":ml=Jf=Pu=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yf=!1,L0(V,ie);case"selectionchange":if(La)break;case"keydown":case"keyup":return L0(V,ie)}return null}},ep=No.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Au=No.extend({clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),lk=fl.extend({relatedTarget:null});function mc(d){var m=d.keyCode;return"charCode"in d?0===(d=d.charCode)&&13===m&&(d=13):d=m,10===d&&(d=13),32<=d||13===d?d:0}var ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jr=fl.extend({key:function(m){if(m.key){var b=ck[m.key]||m.key;if("Unidentified"!==b)return b}return"keypress"===m.type?13===(m=mc(m))?"Enter":String.fromCharCode(m):"keydown"===m.type||"keyup"===m.type?dk[m.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Xf,charCode:function(m){return"keypress"===m.type?mc(m):0},keyCode:function(m){return"keydown"===m.type||"keyup"===m.type?m.keyCode:0},which:function(m){return"keypress"===m.type?mc(m):"keydown"===m.type||"keyup"===m.type?m.keyCode:0}}),U0=hl.extend({dataTransfer:null}),ri=fl.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Xf}),fk=No.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),pk=hl.extend({deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:null,deltaMode:null}),qR={eventTypes:wn,extractEvents:function(m,b,V,ie){var xe=Tn.get(m);if(!xe)return null;switch(m){case"keypress":if(0===mc(V))return null;case"keydown":case"keyup":m=Jr;break;case"blur":case"focus":m=lk;break;case"click":if(2===V.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ri;break;case Fs:case _u:case Yu:m=ep;break;case el:m=fk;break;case"scroll":m=fl;break;case"wheel":m=pk;break;case"copy":case"cut":case"paste":m=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N0;break;default:m=No}return Cu(b=m.getPooled(xe,b,V,ie)),b}};if(q)throw Error(v(101));q=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),J(),z=lc,Q=ul,Y=js,A({SimpleEventPlugin:qR,EnterLeaveEventPlugin:B0,ChangeEventPlugin:sk,SelectEventPlugin:uk,BeforeInputEventPlugin:$a});var z0=[],gl=-1;function ii(d){0>gl||(d.current=z0[gl],z0[gl]=null,gl--)}function Ei(d,m){gl++,z0[gl]=d.current,d.current=m}var Ua={},Gi={current:Ua},uo={current:!1},Pa=Ua;function za(d,m){var b=d.type.contextTypes;if(!b)return Ua;var V=d.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===m)return V.__reactInternalMemoizedMaskedChildContext;var xe,ie={};for(xe in b)ie[xe]=m[xe];return V&&((d=d.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=ie),ie}function mi(d){return null!=d.childContextTypes}function mo(){ii(uo),ii(Gi)}function V0(d,m,b){if(Gi.current!==Ua)throw Error(v(168));Ei(Gi,m),Ei(uo,b)}function G0(d,m,b){var V=d.stateNode;if(d=m.childContextTypes,"function"!=typeof V.getChildContext)return b;for(var ie in V=V.getChildContext())if(!(ie in d))throw Error(v(108,An(m)||"Unknown",ie));return j({},b,{},V)}function gc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ua,Pa=Gi.current,Ei(Gi,d),Ei(uo,uo.current),!0}function H0(d,m,b){var V=d.stateNode;if(!V)throw Error(v(169));b?(d=G0(d,m,Pa),V.__reactInternalMemoizedMergedChildContext=d,ii(uo),ii(Gi),Ei(Gi,d)):ii(uo),Ei(uo,b)}var WR=o.unstable_runWithPriority,tp=o.unstable_scheduleCallback,q0=o.unstable_cancelCallback,K0=o.unstable_requestPaint,W0=o.unstable_now,np=o.unstable_getCurrentPriorityLevel,vc=o.unstable_ImmediatePriority,X0=o.unstable_UserBlockingPriority,yc=o.unstable_NormalPriority,Q0=o.unstable_LowPriority,hk=o.unstable_IdlePriority,J0={},mk=o.unstable_shouldYield,Y0=void 0!==K0?K0:function(){},Va=null,_c=null,xc=!1,rp=W0(),Zo=1e4>rp?W0:function(){return W0()-rp};function bc(){switch(np()){case vc:return 99;case X0:return 98;case yc:return 97;case Q0:return 96;case hk:return 95;default:throw Error(v(332))}}function ex(d){switch(d){case 99:return vc;case 98:return X0;case 97:return yc;case 96:return Q0;case 95:return hk;default:throw Error(v(332))}}function Us(d,m){return d=ex(d),WR(d,m)}function ip(d,m,b){return d=ex(d),tp(d,m,b)}function op(d){return null===Va?(Va=[d],_c=tp(vc,ap)):Va.push(d),J0}function Ga(){if(null!==_c){var d=_c;_c=null,q0(d)}ap()}function ap(){if(!xc&&null!==Va){xc=!0;var d=0;try{var m=Va;Us(99,function(){for(;d<m.length;d++){var b=m[d];do{b=b(!0)}while(null!==b)}}),Va=null}catch(b){throw null!==Va&&(Va=Va.slice(d+1)),tp(vc,Ga),b}finally{xc=!1}}}function f(d,m,b){return 1073741821-(1+((1073741821-d+m/10)/(b/=10)|0))*b}function Fr(d,m){if(d&&d.defaultProps)for(var b in m=j({},m),d=d.defaultProps)void 0===m[b]&&(m[b]=d[b]);return m}var fa={current:null},pa=null,ds=null,Cc=null;function sp(){Cc=ds=pa=null}function tx(d){var m=fa.current;ii(fa),d.type._context._currentValue=m}function nx(d,m){for(;null!==d;){var b=d.alternate;if(d.childExpirationTime<m)d.childExpirationTime=m,null!==b&&b.childExpirationTime<m&&(b.childExpirationTime=m);else{if(!(null!==b&&b.childExpirationTime<m))break;b.childExpirationTime=m}d=d.return}}function Ji(d,m){pa=d,Cc=ds=null,null!==(d=d.dependencies)&&null!==d.firstContext&&(d.expirationTime>=m&&(Ra=!0),d.firstContext=null)}function jo(d,m){if(Cc!==d&&!1!==m&&0!==m)if(("number"!=typeof m||1073741823===m)&&(Cc=d,m=1073741823),m={context:d,observedBits:m,next:null},null===ds){if(null===pa)throw Error(v(308));ds=m,pa.dependencies={expirationTime:0,firstContext:m,responders:null}}else ds=ds.next=m;return d._currentValue}var Ha=!1;function up(d){d.updateQueue={baseState:d.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lp(d,m){m.updateQueue===(d=d.updateQueue)&&(m.updateQueue={baseState:d.baseState,baseQueue:d.baseQueue,shared:d.shared,effects:d.effects})}function zs(d,m){return(d={expirationTime:d,suspenseConfig:m,tag:0,payload:null,callback:null,next:null}).next=d}function fs(d,m){if(null!==(d=d.updateQueue)){var b=(d=d.shared).pending;null===b?m.next=m:(m.next=b.next,b.next=m),d.pending=m}}function rx(d,m){var b=d.alternate;null!==b&&lp(b,d),null===(b=(d=d.updateQueue).baseQueue)?(d.baseQueue=m.next=m,m.next=m):(m.next=b.next,b.next=m)}function vl(d,m,b,V){var ie=d.updateQueue;Ha=!1;var xe=ie.baseQueue,Te=ie.shared.pending;if(null!==Te){if(null!==xe){var He=xe.next;xe.next=Te.next,Te.next=He}xe=Te,ie.shared.pending=null,null!==(He=d.alternate)&&null!==(He=He.updateQueue)&&(He.baseQueue=Te)}if(null!==xe){var gt=ie.baseState,$t=0,Qt=null,En=null,Rn=null;if(null!==(He=xe.next))for(var wr=He;;){if((Te=wr.expirationTime)<V){var vo={expirationTime:wr.expirationTime,suspenseConfig:wr.suspenseConfig,tag:wr.tag,payload:wr.payload,callback:wr.callback,next:null};null===Rn?(En=Rn=vo,Qt=gt):Rn=Rn.next=vo,Te>$t&&($t=Te)}else{null!==Rn&&(Rn=Rn.next={expirationTime:1073741823,suspenseConfig:wr.suspenseConfig,tag:wr.tag,payload:wr.payload,callback:wr.callback,next:null}),El(Te,wr.suspenseConfig);e:{var Ii=d,Pt=wr;switch(Te=m,vo=b,Pt.tag){case 1:if("function"==typeof(Ii=Pt.payload)){gt=Ii.call(vo,gt,Te);break e}gt=Ii;break e;case 3:Ii.effectTag=-4097&Ii.effectTag|64;case 0:if(null==(Te="function"==typeof(Ii=Pt.payload)?Ii.call(vo,gt,Te):Ii))break e;gt=j({},gt,Te);break e;case 2:Ha=!0}}null!==wr.callback&&(d.effectTag|=32,null===(Te=ie.effects)?ie.effects=[wr]:Te.push(wr))}if(null===(wr=wr.next)||wr===He){if(null===(Te=ie.shared.pending))break;wr=xe.next=Te.next,Te.next=He,ie.baseQueue=xe=Te,ie.shared.pending=null}}null===Rn?Qt=gt:Rn.next=En,ie.baseState=Qt,ie.baseQueue=Rn,Xc($t),d.expirationTime=$t,d.memoizedState=gt}}function ix(d,m,b){if(d=m.effects,m.effects=null,null!==d)for(m=0;m<d.length;m++){var V=d[m],ie=V.callback;if(null!==ie){if(V.callback=null,V=ie,ie=b,"function"!=typeof V)throw Error(v(191,V));V.call(ie)}}}var yl=le.ReactCurrentBatchConfig,ox=(new H.Component).refs;function Vs(d,m,b,V){b=null==(b=b(V,m=d.memoizedState))?m:j({},m,b),d.memoizedState=b,0===d.expirationTime&&(d.updateQueue.baseState=b)}var wc={isMounted:function(m){return!!(m=m._reactInternalFiber)&&P(m)===m},enqueueSetState:function(m,b,V){m=m._reactInternalFiber;var ie=go(),xe=yl.suspense;(xe=zs(ie=Js(ie,m,xe),xe)).payload=b,null!=V&&(xe.callback=V),fs(m,xe),gs(m,ie)},enqueueReplaceState:function(m,b,V){m=m._reactInternalFiber;var ie=go(),xe=yl.suspense;(xe=zs(ie=Js(ie,m,xe),xe)).tag=1,xe.payload=b,null!=V&&(xe.callback=V),fs(m,xe),gs(m,ie)},enqueueForceUpdate:function(m,b){m=m._reactInternalFiber;var V=go(),ie=yl.suspense;(ie=zs(V=Js(V,m,ie),ie)).tag=2,null!=b&&(ie.callback=b),fs(m,ie),gs(m,V)}};function ax(d,m,b,V,ie,xe,Te){return"function"==typeof(d=d.stateNode).shouldComponentUpdate?d.shouldComponentUpdate(V,xe,Te):!(m.prototype&&m.prototype.isPureReactComponent&&ku(b,V)&&ku(ie,xe))}function cp(d,m,b){var V=!1,ie=Ua,xe=m.contextType;return"object"==typeof xe&&null!==xe?xe=jo(xe):(ie=mi(m)?Pa:Gi.current,xe=(V=null!=(V=m.contextTypes))?za(d,ie):Ua),m=new m(b,xe),d.memoizedState=null!=m.state?m.state:null,m.updater=wc,d.stateNode=m,m._reactInternalFiber=d,V&&((d=d.stateNode).__reactInternalMemoizedUnmaskedChildContext=ie,d.__reactInternalMemoizedMaskedChildContext=xe),m}function sx(d,m,b,V){d=m.state,"function"==typeof m.componentWillReceiveProps&&m.componentWillReceiveProps(b,V),"function"==typeof m.UNSAFE_componentWillReceiveProps&&m.UNSAFE_componentWillReceiveProps(b,V),m.state!==d&&wc.enqueueReplaceState(m,m.state,null)}function dp(d,m,b,V){var ie=d.stateNode;ie.props=b,ie.state=d.memoizedState,ie.refs=ox,up(d);var xe=m.contextType;"object"==typeof xe&&null!==xe?ie.context=jo(xe):(xe=mi(m)?Pa:Gi.current,ie.context=za(d,xe)),vl(d,b,ie,V),ie.state=d.memoizedState,"function"==typeof(xe=m.getDerivedStateFromProps)&&(Vs(d,m,xe,b),ie.state=d.memoizedState),"function"==typeof m.getDerivedStateFromProps||"function"==typeof ie.getSnapshotBeforeUpdate||"function"!=typeof ie.UNSAFE_componentWillMount&&"function"!=typeof ie.componentWillMount||(m=ie.state,"function"==typeof ie.componentWillMount&&ie.componentWillMount(),"function"==typeof ie.UNSAFE_componentWillMount&&ie.UNSAFE_componentWillMount(),m!==ie.state&&wc.enqueueReplaceState(ie,ie.state,null),vl(d,b,ie,V),ie.state=d.memoizedState),"function"==typeof ie.componentDidMount&&(d.effectTag|=4)}var Sc=Array.isArray;function Ec(d,m,b){if(null!==(d=b.ref)&&"function"!=typeof d&&"object"!=typeof d){if(b._owner){if(b=b._owner){if(1!==b.tag)throw Error(v(309));var V=b.stateNode}if(!V)throw Error(v(147,d));var ie=""+d;return null!==m&&null!==m.ref&&"function"==typeof m.ref&&m.ref._stringRef===ie?m.ref:((m=function(Te){var He=V.refs;He===ox&&(He=V.refs={}),null===Te?delete He[ie]:He[ie]=Te})._stringRef=ie,m)}if("string"!=typeof d)throw Error(v(284));if(!b._owner)throw Error(v(290,d))}return d}function kc(d,m){if("textarea"!==d.type)throw Error(v(31,"[object Object]"===Object.prototype.toString.call(m)?"object with keys {"+Object.keys(m).join(", ")+"}":m,""))}function Gs(d){function m(Pt,_t){if(d){var Lt=Pt.lastEffect;null!==Lt?(Lt.nextEffect=_t,Pt.lastEffect=_t):Pt.firstEffect=Pt.lastEffect=_t,_t.nextEffect=null,_t.effectTag=8}}function b(Pt,_t){if(!d)return null;for(;null!==_t;)m(Pt,_t),_t=_t.sibling;return null}function V(Pt,_t){for(Pt=new Map;null!==_t;)Pt.set(null!==_t.key?_t.key:_t.index,_t),_t=_t.sibling;return Pt}function ie(Pt,_t){return(Pt=Ys(Pt,_t)).index=0,Pt.sibling=null,Pt}function xe(Pt,_t,Lt){return Pt.index=Lt,d?null!==(Lt=Pt.alternate)?(Lt=Lt.index)<_t?(Pt.effectTag=2,_t):Lt:(Pt.effectTag=2,_t):_t}function Te(Pt){return d&&null===Pt.alternate&&(Pt.effectTag=2),Pt}function He(Pt,_t,Lt,Jt){return null===_t||6!==_t.tag?((_t=Jc(Lt,Pt.mode,Jt)).return=Pt,_t):((_t=ie(_t,Lt)).return=Pt,_t)}function gt(Pt,_t,Lt,Jt){return null!==_t&&_t.elementType===Lt.type?((Jt=ie(_t,Lt.props)).ref=Ec(Pt,_t,Lt),Jt.return=Pt,Jt):((Jt=Qc(Lt.type,Lt.key,Lt.props,null,Pt.mode,Jt)).ref=Ec(Pt,_t,Lt),Jt.return=Pt,Jt)}function $t(Pt,_t,Lt,Jt){return null===_t||4!==_t.tag||_t.stateNode.containerInfo!==Lt.containerInfo||_t.stateNode.implementation!==Lt.implementation?((_t=Wp(Lt,Pt.mode,Jt)).return=Pt,_t):((_t=ie(_t,Lt.children||[])).return=Pt,_t)}function Qt(Pt,_t,Lt,Jt,on){return null===_t||7!==_t.tag?((_t=co(Lt,Pt.mode,Jt,on)).return=Pt,_t):((_t=ie(_t,Lt)).return=Pt,_t)}function En(Pt,_t,Lt){if("string"==typeof _t||"number"==typeof _t)return(_t=Jc(""+_t,Pt.mode,Lt)).return=Pt,_t;if("object"==typeof _t&&null!==_t){switch(_t.$$typeof){case Nt:return(Lt=Qc(_t.type,_t.key,_t.props,null,Pt.mode,Lt)).ref=Ec(Pt,null,_t),Lt.return=Pt,Lt;case Mt:return(_t=Wp(_t,Pt.mode,Lt)).return=Pt,_t}if(Sc(_t)||In(_t))return(_t=co(_t,Pt.mode,Lt,null)).return=Pt,_t;kc(Pt,_t)}return null}function Rn(Pt,_t,Lt,Jt){var on=null!==_t?_t.key:null;if("string"==typeof Lt||"number"==typeof Lt)return null!==on?null:He(Pt,_t,""+Lt,Jt);if("object"==typeof Lt&&null!==Lt){switch(Lt.$$typeof){case Nt:return Lt.key===on?Lt.type===Wt?Qt(Pt,_t,Lt.props.children,Jt,on):gt(Pt,_t,Lt,Jt):null;case Mt:return Lt.key===on?$t(Pt,_t,Lt,Jt):null}if(Sc(Lt)||In(Lt))return null!==on?null:Qt(Pt,_t,Lt,Jt,null);kc(Pt,Lt)}return null}function wr(Pt,_t,Lt,Jt,on){if("string"==typeof Jt||"number"==typeof Jt)return He(_t,Pt=Pt.get(Lt)||null,""+Jt,on);if("object"==typeof Jt&&null!==Jt){switch(Jt.$$typeof){case Nt:return Pt=Pt.get(null===Jt.key?Lt:Jt.key)||null,Jt.type===Wt?Qt(_t,Pt,Jt.props.children,on,Jt.key):gt(_t,Pt,Jt,on);case Mt:return $t(_t,Pt=Pt.get(null===Jt.key?Lt:Jt.key)||null,Jt,on)}if(Sc(Jt)||In(Jt))return Qt(_t,Pt=Pt.get(Lt)||null,Jt,on,null);kc(_t,Jt)}return null}return function(Pt,_t,Lt,Jt){var on="object"==typeof Lt&&null!==Lt&&Lt.type===Wt&&null===Lt.key;on&&(Lt=Lt.props.children);var gn="object"==typeof Lt&&null!==Lt;if(gn)switch(Lt.$$typeof){case Nt:e:{for(gn=Lt.key,on=_t;null!==on;){if(on.key===gn){if(7===on.tag){if(Lt.type===Wt){b(Pt,on.sibling),(_t=ie(on,Lt.props.children)).return=Pt,Pt=_t;break e}}else if(on.elementType===Lt.type){b(Pt,on.sibling),(_t=ie(on,Lt.props)).ref=Ec(Pt,on,Lt),_t.return=Pt,Pt=_t;break e}b(Pt,on);break}m(Pt,on),on=on.sibling}Lt.type===Wt?((_t=co(Lt.props.children,Pt.mode,Jt,Lt.key)).return=Pt,Pt=_t):((Jt=Qc(Lt.type,Lt.key,Lt.props,null,Pt.mode,Jt)).ref=Ec(Pt,_t,Lt),Jt.return=Pt,Pt=Jt)}return Te(Pt);case Mt:e:{for(on=Lt.key;null!==_t;){if(_t.key===on){if(4===_t.tag&&_t.stateNode.containerInfo===Lt.containerInfo&&_t.stateNode.implementation===Lt.implementation){b(Pt,_t.sibling),(_t=ie(_t,Lt.children||[])).return=Pt,Pt=_t;break e}b(Pt,_t);break}m(Pt,_t),_t=_t.sibling}(_t=Wp(Lt,Pt.mode,Jt)).return=Pt,Pt=_t}return Te(Pt)}if("string"==typeof Lt||"number"==typeof Lt)return Lt=""+Lt,null!==_t&&6===_t.tag?(b(Pt,_t.sibling),(_t=ie(_t,Lt)).return=Pt,Pt=_t):(b(Pt,_t),(_t=Jc(Lt,Pt.mode,Jt)).return=Pt,Pt=_t),Te(Pt);if(Sc(Lt))return function vo(Pt,_t,Lt,Jt){for(var on=null,gn=null,On=_t,ur=_t=0,qr=null;null!==On&&ur<Lt.length;ur++){On.index>ur?(qr=On,On=null):qr=On.sibling;var tr=Rn(Pt,On,Lt[ur],Jt);if(null===tr){null===On&&(On=qr);break}d&&On&&null===tr.alternate&&m(Pt,On),_t=xe(tr,_t,ur),null===gn?on=tr:gn.sibling=tr,gn=tr,On=qr}if(ur===Lt.length)return b(Pt,On),on;if(null===On){for(;ur<Lt.length;ur++)null!==(On=En(Pt,Lt[ur],Jt))&&(_t=xe(On,_t,ur),null===gn?on=On:gn.sibling=On,gn=On);return on}for(On=V(Pt,On);ur<Lt.length;ur++)null!==(qr=wr(On,Pt,ur,Lt[ur],Jt))&&(d&&null!==qr.alternate&&On.delete(null===qr.key?ur:qr.key),_t=xe(qr,_t,ur),null===gn?on=qr:gn.sibling=qr,gn=qr);return d&&On.forEach(function(Ja){return m(Pt,Ja)}),on}(Pt,_t,Lt,Jt);if(In(Lt))return function Ii(Pt,_t,Lt,Jt){var on=In(Lt);if("function"!=typeof on)throw Error(v(150));if(null==(Lt=on.call(Lt)))throw Error(v(151));for(var gn=on=null,On=_t,ur=_t=0,qr=null,tr=Lt.next();null!==On&&!tr.done;ur++,tr=Lt.next()){On.index>ur?(qr=On,On=null):qr=On.sibling;var Ja=Rn(Pt,On,tr.value,Jt);if(null===Ja){null===On&&(On=qr);break}d&&On&&null===Ja.alternate&&m(Pt,On),_t=xe(Ja,_t,ur),null===gn?on=Ja:gn.sibling=Ja,gn=Ja,On=qr}if(tr.done)return b(Pt,On),on;if(null===On){for(;!tr.done;ur++,tr=Lt.next())null!==(tr=En(Pt,tr.value,Jt))&&(_t=xe(tr,_t,ur),null===gn?on=tr:gn.sibling=tr,gn=tr);return on}for(On=V(Pt,On);!tr.done;ur++,tr=Lt.next())null!==(tr=wr(On,Pt,ur,tr.value,Jt))&&(d&&null!==tr.alternate&&On.delete(null===tr.key?ur:tr.key),_t=xe(tr,_t,ur),null===gn?on=tr:gn.sibling=tr,gn=tr);return d&&On.forEach(function(Ux){return m(Pt,Ux)}),on}(Pt,_t,Lt,Jt);if(gn&&kc(Pt,Lt),typeof Lt>"u"&&!on)switch(Pt.tag){case 1:case 0:throw Pt=Pt.type,Error(v(152,Pt.displayName||Pt.name||"Component"))}return b(Pt,_t)}}var Ru=Gs(!0),fp=Gs(!1),_l={},Aa={current:_l},xl={current:_l},bl={current:_l};function Tu(d){if(d===_l)throw Error(v(174));return d}function pp(d,m){switch(Ei(bl,m),Ei(xl,d),Ei(Aa,_l),d=m.nodeType){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:_r(null,"");break;default:m=_r(m=(d=8===d?m.parentNode:m).namespaceURI||null,d=d.tagName)}ii(Aa),Ei(Aa,m)}function Du(){ii(Aa),ii(xl),ii(bl)}function ux(d){Tu(bl.current);var m=Tu(Aa.current),b=_r(m,d.type);m!==b&&(Ei(xl,d),Ei(Aa,b))}function hp(d){xl.current===d&&(ii(Aa),ii(xl))}var li={current:0};function mp(d){for(var m=d;null!==m;){if(13===m.tag){var b=m.memoizedState;if(null!==b&&(null===(b=b.dehydrated)||b.data===po||b.data===ss))return m}else if(19===m.tag&&void 0!==m.memoizedProps.revealOrder){if(64&m.effectTag)return m}else if(null!==m.child){m.child.return=m,m=m.child;continue}if(m===d)break;for(;null===m.sibling;){if(null===m.return||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function gp(d,m){return{responder:d,props:m}}var Pc=le.ReactCurrentDispatcher,Yo=le.ReactCurrentBatchConfig,ps=0,Ri=null,Yi=null,eo=null,Ac=!1;function ea(){throw Error(v(321))}function vp(d,m){if(null===m)return!1;for(var b=0;b<m.length&&b<d.length;b++)if(!cs(d[b],m[b]))return!1;return!0}function yp(d,m,b,V,ie,xe){if(ps=xe,Ri=m,m.memoizedState=null,m.updateQueue=null,m.expirationTime=0,Pc.current=null===d||null===d.memoizedState?yk:_k,d=b(V,ie),m.expirationTime===ps){xe=0;do{if(m.expirationTime=0,!(25>xe))throw Error(v(301));xe+=1,eo=Yi=null,m.updateQueue=null,Pc.current=xk,d=b(V,ie)}while(m.expirationTime===ps)}if(Pc.current=Oc,m=null!==Yi&&null!==Yi.next,ps=0,eo=Yi=Ri=null,Ac=!1,m)throw Error(v(300));return d}function Iu(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ri.memoizedState=eo=d:eo=eo.next=d,eo}function Ou(){if(null===Yi){var d=Ri.alternate;d=null!==d?d.memoizedState:null}else d=Yi.next;var m=null===eo?Ri.memoizedState:eo.next;if(null!==m)eo=m,Yi=d;else{if(null===d)throw Error(v(310));d={memoizedState:(Yi=d).memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},null===eo?Ri.memoizedState=eo=d:eo=eo.next=d}return eo}function Hs(d,m){return"function"==typeof m?m(d):m}function hs(d){var m=Ou(),b=m.queue;if(null===b)throw Error(v(311));b.lastRenderedReducer=d;var V=Yi,ie=V.baseQueue,xe=b.pending;if(null!==xe){if(null!==ie){var Te=ie.next;ie.next=xe.next,xe.next=Te}V.baseQueue=ie=xe,b.pending=null}if(null!==ie){V=V.baseState;var He=Te=xe=null,gt=ie=ie.next;do{var $t=gt.expirationTime;if($t<ps){var Qt={expirationTime:gt.expirationTime,suspenseConfig:gt.suspenseConfig,action:gt.action,eagerReducer:gt.eagerReducer,eagerState:gt.eagerState,next:null};null===He?(Te=He=Qt,xe=V):He=He.next=Qt,$t>Ri.expirationTime&&(Ri.expirationTime=$t,Xc($t))}else null!==He&&(He=He.next={expirationTime:1073741823,suspenseConfig:gt.suspenseConfig,action:gt.action,eagerReducer:gt.eagerReducer,eagerState:gt.eagerState,next:null}),El($t,gt.suspenseConfig),V=gt.eagerReducer===d?gt.eagerState:d(V,gt.action);gt=gt.next}while(null!==gt&&gt!==ie);null===He?xe=V:He.next=Te,cs(V,m.memoizedState)||(Ra=!0),m.memoizedState=V,m.baseState=xe,m.baseQueue=He,b.lastRenderedState=V}return[m.memoizedState,b.dispatch]}function Rc(d){var m=Ou(),b=m.queue;if(null===b)throw Error(v(311));b.lastRenderedReducer=d;var V=b.dispatch,ie=b.pending,xe=m.memoizedState;if(null!==ie){b.pending=null;var Te=ie=ie.next;do{xe=d(xe,Te.action),Te=Te.next}while(Te!==ie);cs(xe,m.memoizedState)||(Ra=!0),m.memoizedState=xe,null===m.baseQueue&&(m.baseState=xe),b.lastRenderedState=xe}return[xe,V]}function _p(d){var m=Iu();return"function"==typeof d&&(d=d()),m.memoizedState=m.baseState=d,d=(d=m.queue={pending:null,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:d}).dispatch=Sp.bind(null,Ri,d),[m.memoizedState,d]}function xp(d,m,b,V){return d={tag:d,create:m,destroy:b,deps:V,next:null},null===(m=Ri.updateQueue)?(Ri.updateQueue=m={lastEffect:null},m.lastEffect=d.next=d):null===(b=m.lastEffect)?m.lastEffect=d.next=d:(V=b.next,b.next=d,d.next=V,m.lastEffect=d),d}function gk(){return Ou().memoizedState}function bp(d,m,b,V){var ie=Iu();Ri.effectTag|=d,ie.memoizedState=xp(1|m,b,void 0,void 0===V?null:V)}function Cp(d,m,b,V){var ie=Ou();V=void 0===V?null:V;var xe=void 0;if(null!==Yi){var Te=Yi.memoizedState;if(xe=Te.destroy,null!==V&&vp(V,Te.deps))return void xp(m,b,xe,V)}Ri.effectTag|=d,ie.memoizedState=xp(1|m,b,xe,V)}function lx(d,m){return bp(516,4,d,m)}function Tc(d,m){return Cp(516,4,d,m)}function cx(d,m){return Cp(4,2,d,m)}function dx(d,m){return"function"==typeof m?(d=d(),m(d),function(){m(null)}):null!=m?(d=d(),m.current=d,function(){m.current=null}):void 0}function fx(d,m,b){return b=null!=b?b.concat([d]):null,Cp(4,2,dx.bind(null,m,d),b)}function wp(){}function px(d,m){return Iu().memoizedState=[d,void 0===m?null:m],d}function Dc(d,m){var b=Ou();m=void 0===m?null:m;var V=b.memoizedState;return null!==V&&null!==m&&vp(m,V[1])?V[0]:(b.memoizedState=[d,m],d)}function vk(d,m){var b=Ou();m=void 0===m?null:m;var V=b.memoizedState;return null!==V&&null!==m&&vp(m,V[1])?V[0]:(d=d(),b.memoizedState=[d,m],d)}function Ic(d,m,b){var V=bc();Us(98>V?98:V,function(){d(!0)}),Us(97<V?97:V,function(){var ie=Yo.suspense;Yo.suspense=void 0===m?null:m;try{d(!1),b()}finally{Yo.suspense=ie}})}function Sp(d,m,b){var V=go(),ie=yl.suspense;ie={expirationTime:V=Js(V,d,ie),suspenseConfig:ie,action:b,eagerReducer:null,eagerState:null,next:null};var xe=m.pending;if(null===xe?ie.next=ie:(ie.next=xe.next,xe.next=ie),m.pending=ie,xe=d.alternate,d===Ri||null!==xe&&xe===Ri)Ac=!0,ie.expirationTime=ps,Ri.expirationTime=ps;else{if(0===d.expirationTime&&(null===xe||0===xe.expirationTime)&&null!==(xe=m.lastRenderedReducer))try{var Te=m.lastRenderedState,He=xe(Te,b);if(ie.eagerReducer=xe,ie.eagerState=He,cs(He,Te))return}catch{}gs(d,V)}}var Oc={readContext:jo,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useResponder:ea,useDeferredValue:ea,useTransition:ea},yk={readContext:jo,useCallback:px,useContext:jo,useEffect:lx,useImperativeHandle:function(m,b,V){return V=null!=V?V.concat([m]):null,bp(4,2,dx.bind(null,b,m),V)},useLayoutEffect:function(m,b){return bp(4,2,m,b)},useMemo:function(m,b){var V=Iu();return b=void 0===b?null:b,m=m(),V.memoizedState=[m,b],m},useReducer:function(m,b,V){var ie=Iu();return b=void 0!==V?V(b):b,ie.memoizedState=ie.baseState=b,m=(m=ie.queue={pending:null,dispatch:null,lastRenderedReducer:m,lastRenderedState:b}).dispatch=Sp.bind(null,Ri,m),[ie.memoizedState,m]},useRef:function(m){return Iu().memoizedState={current:m}},useState:_p,useDebugValue:wp,useResponder:gp,useDeferredValue:function(m,b){var V=_p(m),ie=V[0],xe=V[1];return lx(function(){var Te=Yo.suspense;Yo.suspense=void 0===b?null:b;try{xe(m)}finally{Yo.suspense=Te}},[m,b]),ie},useTransition:function(m){var b=_p(!1),V=b[0];return[px(Ic.bind(null,b=b[1],m),[b,m]),V]}},_k={readContext:jo,useCallback:Dc,useContext:jo,useEffect:Tc,useImperativeHandle:fx,useLayoutEffect:cx,useMemo:vk,useReducer:hs,useRef:gk,useState:function(){return hs(Hs)},useDebugValue:wp,useResponder:gp,useDeferredValue:function(m,b){var V=hs(Hs),ie=V[0],xe=V[1];return Tc(function(){var Te=Yo.suspense;Yo.suspense=void 0===b?null:b;try{xe(m)}finally{Yo.suspense=Te}},[m,b]),ie},useTransition:function(m){var b=hs(Hs),V=b[0];return[Dc(Ic.bind(null,b=b[1],m),[b,m]),V]}},xk={readContext:jo,useCallback:Dc,useContext:jo,useEffect:Tc,useImperativeHandle:fx,useLayoutEffect:cx,useMemo:vk,useReducer:Rc,useRef:gk,useState:function(){return Rc(Hs)},useDebugValue:wp,useResponder:gp,useDeferredValue:function(m,b){var V=Rc(Hs),ie=V[0],xe=V[1];return Tc(function(){var Te=Yo.suspense;Yo.suspense=void 0===b?null:b;try{xe(m)}finally{Yo.suspense=Te}},[m,b]),ie},useTransition:function(m){var b=Rc(Hs),V=b[0];return[Dc(Ic.bind(null,b=b[1],m),[b,m]),V]}},qa=null,Ks=null,Ws=!1;function hx(d,m){var b=Di(5,null,null,0);b.elementType="DELETED",b.type="DELETED",b.stateNode=m,b.return=d,b.effectTag=8,null!==d.lastEffect?(d.lastEffect.nextEffect=b,d.lastEffect=b):d.firstEffect=d.lastEffect=b}function Ep(d,m){switch(d.tag){case 5:return null!==(m=1!==m.nodeType||d.type.toLowerCase()!==m.nodeName.toLowerCase()?null:m)&&(d.stateNode=m,!0);case 6:return null!==(m=""===d.pendingProps||3!==m.nodeType?null:m)&&(d.stateNode=m,!0);default:return!1}}function Fc(d){if(Ws){var m=Ks;if(m){var b=m;if(!Ep(d,m)){if(!(m=bu(b.nextSibling))||!Ep(d,m))return d.effectTag=-1025&d.effectTag|2,Ws=!1,void(qa=d);hx(qa,b)}qa=d,Ks=bu(m.firstChild)}else d.effectTag=-1025&d.effectTag|2,Ws=!1,qa=d}}function mx(d){for(d=d.return;null!==d&&5!==d.tag&&3!==d.tag&&13!==d.tag;)d=d.return;qa=d}function Mc(d){if(d!==qa)return!1;if(!Ws)return mx(d),Ws=!0,!1;var m=d.type;if(5!==d.tag||"head"!==m&&"body"!==m&&!Lf(m,d.memoizedProps))for(m=Ks;m;)hx(d,m),m=bu(m.nextSibling);if(mx(d),13===d.tag){if(!(d=null!==(d=d.memoizedState)?d.dehydrated:null))throw Error(v(317));e:{for(d=d.nextSibling,m=0;d;){if(8===d.nodeType){var b=d.data;if(b===Bf){if(0===m){Ks=bu(d.nextSibling);break e}m--}else b!==Nf&&b!==ss&&b!==po||m++}d=d.nextSibling}Ks=null}}else Ks=qa?bu(d.stateNode.nextSibling):null;return!0}function kp(){Ks=qa=null,Ws=!1}var bk=le.ReactCurrentOwner,Ra=!1;function ta(d,m,b,V){m.child=null===d?fp(m,null,b,V):Ru(m,d.child,b,V)}function gx(d,m,b,V,ie){b=b.render;var xe=m.ref;return Ji(m,ie),V=yp(d,m,b,V,xe,ie),null===d||Ra?(m.effectTag|=1,ta(d,m,V,ie),m.child):(m.updateQueue=d.updateQueue,m.effectTag&=-517,d.expirationTime<=ie&&(d.expirationTime=0),Ka(d,m,ie))}function vx(d,m,b,V,ie,xe){if(null===d){var Te=b.type;return"function"!=typeof Te||ze(Te)||void 0!==Te.defaultProps||null!==b.compare||void 0!==b.defaultProps?((d=Qc(b.type,null,V,null,m.mode,xe)).ref=m.ref,d.return=m,m.child=d):(m.tag=15,m.type=Te,Pp(d,m,Te,V,ie,xe))}return Te=d.child,ie<xe&&(b=null!==(b=b.compare)?b:ku)(ie=Te.memoizedProps,V)&&d.ref===m.ref?Ka(d,m,xe):(m.effectTag|=1,(d=Ys(Te,V)).ref=m.ref,d.return=m,m.child=d)}function Pp(d,m,b,V,ie,xe){return null!==d&&ku(d.memoizedProps,V)&&d.ref===m.ref&&(Ra=!1,ie<xe)?(m.expirationTime=d.expirationTime,Ka(d,m,xe)):Rp(d,m,b,V,xe)}function Ap(d,m){var b=m.ref;(null===d&&null!==b||null!==d&&d.ref!==b)&&(m.effectTag|=128)}function Rp(d,m,b,V,ie){var xe=mi(b)?Pa:Gi.current;return xe=za(m,xe),Ji(m,ie),b=yp(d,m,b,V,xe,ie),null===d||Ra?(m.effectTag|=1,ta(d,m,b,ie),m.child):(m.updateQueue=d.updateQueue,m.effectTag&=-517,d.expirationTime<=ie&&(d.expirationTime=0),Ka(d,m,ie))}function yx(d,m,b,V,ie){if(mi(b)){var xe=!0;gc(m)}else xe=!1;if(Ji(m,ie),null===m.stateNode)null!==d&&(d.alternate=null,m.alternate=null,m.effectTag|=2),cp(m,b,V),dp(m,b,V,ie),V=!0;else if(null===d){var Te=m.stateNode,He=m.memoizedProps;Te.props=He;var gt=Te.context,$t=b.contextType;$t="object"==typeof $t&&null!==$t?jo($t):za(m,$t=mi(b)?Pa:Gi.current);var Qt=b.getDerivedStateFromProps,En="function"==typeof Qt||"function"==typeof Te.getSnapshotBeforeUpdate;En||"function"!=typeof Te.UNSAFE_componentWillReceiveProps&&"function"!=typeof Te.componentWillReceiveProps||(He!==V||gt!==$t)&&sx(m,Te,V,$t),Ha=!1;var Rn=m.memoizedState;Te.state=Rn,vl(m,V,Te,ie),gt=m.memoizedState,He!==V||Rn!==gt||uo.current||Ha?("function"==typeof Qt&&(Vs(m,b,Qt,V),gt=m.memoizedState),(He=Ha||ax(m,b,He,V,Rn,gt,$t))?(En||"function"!=typeof Te.UNSAFE_componentWillMount&&"function"!=typeof Te.componentWillMount||("function"==typeof Te.componentWillMount&&Te.componentWillMount(),"function"==typeof Te.UNSAFE_componentWillMount&&Te.UNSAFE_componentWillMount()),"function"==typeof Te.componentDidMount&&(m.effectTag|=4)):("function"==typeof Te.componentDidMount&&(m.effectTag|=4),m.memoizedProps=V,m.memoizedState=gt),Te.props=V,Te.state=gt,Te.context=$t,V=He):("function"==typeof Te.componentDidMount&&(m.effectTag|=4),V=!1)}else Te=m.stateNode,lp(d,m),He=m.memoizedProps,Te.props=m.type===m.elementType?He:Fr(m.type,He),gt=Te.context,$t="object"==typeof($t=b.contextType)&&null!==$t?jo($t):za(m,$t=mi(b)?Pa:Gi.current),(En="function"==typeof(Qt=b.getDerivedStateFromProps)||"function"==typeof Te.getSnapshotBeforeUpdate)||"function"!=typeof Te.UNSAFE_componentWillReceiveProps&&"function"!=typeof Te.componentWillReceiveProps||(He!==V||gt!==$t)&&sx(m,Te,V,$t),Ha=!1,Te.state=gt=m.memoizedState,vl(m,V,Te,ie),Rn=m.memoizedState,He!==V||gt!==Rn||uo.current||Ha?("function"==typeof Qt&&(Vs(m,b,Qt,V),Rn=m.memoizedState),(Qt=Ha||ax(m,b,He,V,gt,Rn,$t))?(En||"function"!=typeof Te.UNSAFE_componentWillUpdate&&"function"!=typeof Te.componentWillUpdate||("function"==typeof Te.componentWillUpdate&&Te.componentWillUpdate(V,Rn,$t),"function"==typeof Te.UNSAFE_componentWillUpdate&&Te.UNSAFE_componentWillUpdate(V,Rn,$t)),"function"==typeof Te.componentDidUpdate&&(m.effectTag|=4),"function"==typeof Te.getSnapshotBeforeUpdate&&(m.effectTag|=256)):("function"!=typeof Te.componentDidUpdate||He===d.memoizedProps&&gt===d.memoizedState||(m.effectTag|=4),"function"!=typeof Te.getSnapshotBeforeUpdate||He===d.memoizedProps&&gt===d.memoizedState||(m.effectTag|=256),m.memoizedProps=V,m.memoizedState=Rn),Te.props=V,Te.state=Rn,Te.context=$t,V=Qt):("function"!=typeof Te.componentDidUpdate||He===d.memoizedProps&&gt===d.memoizedState||(m.effectTag|=4),"function"!=typeof Te.getSnapshotBeforeUpdate||He===d.memoizedProps&&gt===d.memoizedState||(m.effectTag|=256),V=!1);return Tp(d,m,b,V,xe,ie)}function Tp(d,m,b,V,ie,xe){Ap(d,m);var Te=0!=(64&m.effectTag);if(!V&&!Te)return ie&&H0(m,b,!1),Ka(d,m,xe);V=m.stateNode,bk.current=m;var He=Te&&"function"!=typeof b.getDerivedStateFromError?null:V.render();return m.effectTag|=1,null!==d&&Te?(m.child=Ru(m,d.child,null,xe),m.child=Ru(m,null,He,xe)):ta(d,m,He,xe),m.memoizedState=V.state,ie&&H0(m,b,!0),m.child}function _x(d){var m=d.stateNode;m.pendingContext?V0(0,m.pendingContext,m.pendingContext!==m.context):m.context&&V0(0,m.context,!1),pp(d,m.containerInfo)}var Cx,Op,wx,wk,Dp={dehydrated:null,retryTime:0};function Ck(d,m,b){var He,V=m.mode,ie=m.pendingProps,xe=li.current,Te=!1;if((He=0!=(64&m.effectTag))||(He=0!=(2&xe)&&(null===d||null!==d.memoizedState)),He?(Te=!0,m.effectTag&=-65):null!==d&&null===d.memoizedState||void 0===ie.fallback||!0===ie.unstable_avoidThisFallback||(xe|=1),Ei(li,1&xe),null===d){if(void 0!==ie.fallback&&Fc(m),Te){if(Te=ie.fallback,(ie=co(null,V,0,null)).return=m,!(2&m.mode))for(ie.child=d=null!==m.memoizedState?m.child.child:m.child;null!==d;)d.return=ie,d=d.sibling;return(b=co(Te,V,b,null)).return=m,ie.sibling=b,m.memoizedState=Dp,m.child=ie,b}return V=ie.children,m.memoizedState=null,m.child=fp(m,null,V,b)}if(null!==d.memoizedState){if(V=(d=d.child).sibling,Te){if(ie=ie.fallback,(b=Ys(d,d.pendingProps)).return=m,!(2&m.mode)&&(Te=null!==m.memoizedState?m.child.child:m.child)!==d.child)for(b.child=Te;null!==Te;)Te.return=b,Te=Te.sibling;return(V=Ys(V,ie)).return=m,b.sibling=V,b.childExpirationTime=0,m.memoizedState=Dp,m.child=b,V}return b=Ru(m,d.child,ie.children,b),m.memoizedState=null,m.child=b}if(d=d.child,Te){if(Te=ie.fallback,(ie=co(null,V,0,null)).return=m,ie.child=d,null!==d&&(d.return=ie),!(2&m.mode))for(ie.child=d=null!==m.memoizedState?m.child.child:m.child;null!==d;)d.return=ie,d=d.sibling;return(b=co(Te,V,b,null)).return=m,ie.sibling=b,b.effectTag|=2,ie.childExpirationTime=0,m.memoizedState=Dp,m.child=ie,b}return m.memoizedState=null,m.child=Ru(m,d,ie.children,b)}function xx(d,m){d.expirationTime<m&&(d.expirationTime=m);var b=d.alternate;null!==b&&b.expirationTime<m&&(b.expirationTime=m),nx(d.return,m)}function Ip(d,m,b,V,ie,xe){var Te=d.memoizedState;null===Te?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:V,tail:b,tailExpiration:0,tailMode:ie,lastEffect:xe}:(Te.isBackwards=m,Te.rendering=null,Te.renderingStartTime=0,Te.last=V,Te.tail=b,Te.tailExpiration=0,Te.tailMode=ie,Te.lastEffect=xe)}function bx(d,m,b){var V=m.pendingProps,ie=V.revealOrder,xe=V.tail;if(ta(d,m,V.children,b),2&(V=li.current))V=1&V|2,m.effectTag|=64;else{if(null!==d&&64&d.effectTag)e:for(d=m.child;null!==d;){if(13===d.tag)null!==d.memoizedState&&xx(d,b);else if(19===d.tag)xx(d,b);else if(null!==d.child){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;null===d.sibling;){if(null===d.return||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}V&=1}if(Ei(li,V),2&m.mode)switch(ie){case"forwards":for(b=m.child,ie=null;null!==b;)null!==(d=b.alternate)&&null===mp(d)&&(ie=b),b=b.sibling;null===(b=ie)?(ie=m.child,m.child=null):(ie=b.sibling,b.sibling=null),Ip(m,!1,ie,b,xe,m.lastEffect);break;case"backwards":for(b=null,ie=m.child,m.child=null;null!==ie;){if(null!==(d=ie.alternate)&&null===mp(d)){m.child=ie;break}d=ie.sibling,ie.sibling=b,b=ie,ie=d}Ip(m,!0,b,null,xe,m.lastEffect);break;case"together":Ip(m,!1,null,null,void 0,m.lastEffect);break;default:m.memoizedState=null}else m.memoizedState=null;return m.child}function Ka(d,m,b){null!==d&&(m.dependencies=d.dependencies);var V=m.expirationTime;if(0!==V&&Xc(V),m.childExpirationTime<b)return null;if(null!==d&&m.child!==d.child)throw Error(v(153));if(null!==m.child){for(b=Ys(d=m.child,d.pendingProps),m.child=b,b.return=m;null!==d.sibling;)(b=b.sibling=Ys(d=d.sibling,d.pendingProps)).return=m;b.sibling=null}return m.child}function Nc(d,m){switch(d.tailMode){case"hidden":m=d.tail;for(var b=null;null!==m;)null!==m.alternate&&(b=m),m=m.sibling;null===b?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var V=null;null!==b;)null!==b.alternate&&(V=b),b=b.sibling;null===V?m||null===d.tail?d.tail=null:d.tail.sibling=null:V.sibling=null}}function Sk(d,m,b){var V=m.pendingProps;switch(m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(m.type)&&mo(),null;case 3:return Du(),ii(uo),ii(Gi),(b=m.stateNode).pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),null!==d&&null!==d.child||!Mc(m)||(m.effectTag|=4),Op(m),null;case 5:hp(m),b=Tu(bl.current);var ie=m.type;if(null!==d&&null!=m.stateNode)wx(d,m,ie,V,b),d.ref!==m.ref&&(m.effectTag|=128);else{if(!V){if(null===m.stateNode)throw Error(v(166));return null}if(d=Tu(Aa.current),Mc(m)){ie=m.type;var xe=m.memoizedProps;switch((V=m.stateNode)[us]=m,V[ol]=xe,ie){case"iframe":case"object":case"embed":lr("load",V);break;case"video":case"audio":for(d=0;d<Ms.length;d++)lr(Ms[d],V);break;case"source":lr("error",V);break;case"img":case"image":case"link":lr("error",V),lr("load",V);break;case"form":lr("reset",V),lr("submit",V);break;case"details":lr("toggle",V);break;case"input":Rr(V,xe),lr("invalid",V),ja(b,"onChange");break;case"select":V._wrapperState={wasMultiple:!!xe.multiple},lr("invalid",V),ja(b,"onChange");break;case"textarea":xi(V,xe),lr("invalid",V),ja(b,"onChange")}for(var Te in Bs(ie,xe),d=null,xe)if(xe.hasOwnProperty(Te)){var He=xe[Te];"children"===Te?"string"==typeof He?V.textContent!==He&&(d=["children",He]):"number"==typeof He&&V.textContent!==""+He&&(d=["children",""+He]):ge.hasOwnProperty(Te)&&null!=He&&ja(b,Te)}switch(ie){case"input":Ar(V),Ko(V,xe,!0);break;case"textarea":Ar(V),Vi(V);break;case"select":case"option":break;default:"function"==typeof xe.onClick&&(V.onclick=oc)}m.updateQueue=b=d,null!==b&&(m.effectTag|=4)}else{switch(Te=9===b.nodeType?b:b.ownerDocument,d===Zs&&(d=Io(ie)),d===Zs?"script"===ie?((d=Te.createElement("div")).innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):"string"==typeof V.is?d=Te.createElement(ie,{is:V.is}):(d=Te.createElement(ie),"select"===ie&&(Te=d,V.multiple?Te.multiple=!0:V.size&&(Te.size=V.size))):d=Te.createElementNS(d,ie),d[us]=m,d[ol]=V,Cx(d,m,!1,!1),m.stateNode=d,Te=Za(ie,V),ie){case"iframe":case"object":case"embed":lr("load",d),He=V;break;case"video":case"audio":for(He=0;He<Ms.length;He++)lr(Ms[He],d);He=V;break;case"source":lr("error",d),He=V;break;case"img":case"image":case"link":lr("error",d),lr("load",d),He=V;break;case"form":lr("reset",d),lr("submit",d),He=V;break;case"details":lr("toggle",d),He=V;break;case"input":Rr(d,V),He=zi(d,V),lr("invalid",d),ja(b,"onChange");break;case"option":He=ao(d,V);break;case"select":d._wrapperState={wasMultiple:!!V.multiple},He=j({},V,{value:void 0}),lr("invalid",d),ja(b,"onChange");break;case"textarea":xi(d,V),He=_i(d,V),lr("invalid",d),ja(b,"onChange");break;default:He=V}Bs(ie,He);var gt=He;for(xe in gt)if(gt.hasOwnProperty(xe)){var $t=gt[xe];"style"===xe?Ea(d,$t):"dangerouslySetInnerHTML"===xe?null!=($t=$t?$t.__html:void 0)&&so(d,$t):"children"===xe?"string"==typeof $t?("textarea"!==ie||""!==$t)&&Ai(d,$t):"number"==typeof $t&&Ai(d,""+$t):"suppressContentEditableWarning"!==xe&&"suppressHydrationWarning"!==xe&&"autoFocus"!==xe&&(ge.hasOwnProperty(xe)?null!=$t&&ja(b,xe):null!=$t&&ce(d,xe,$t,Te))}switch(ie){case"input":Ar(d),Ko(d,V,!1);break;case"textarea":Ar(d),Vi(d);break;case"option":null!=V.value&&d.setAttribute("value",""+$r(V.value));break;case"select":d.multiple=!!V.multiple,null!=(b=V.value)?fo(d,!!V.multiple,b,!1):null!=V.defaultValue&&fo(d,!!V.multiple,V.defaultValue,!0);break;default:"function"==typeof He.onClick&&(d.onclick=oc)}$f(ie,V)&&(m.effectTag|=4)}null!==m.ref&&(m.effectTag|=128)}return null;case 6:if(d&&null!=m.stateNode)wk(d,m,d.memoizedProps,V);else{if("string"!=typeof V&&null===m.stateNode)throw Error(v(166));b=Tu(bl.current),Tu(Aa.current),Mc(m)?(V=m.memoizedProps,(b=m.stateNode)[us]=m,b.nodeValue!==V&&(m.effectTag|=4)):((b=(9===b.nodeType?b:b.ownerDocument).createTextNode(V))[us]=m,m.stateNode=b)}return null;case 13:return ii(li),V=m.memoizedState,64&m.effectTag?(m.expirationTime=b,m):(b=null!==V,V=!1,null===d?void 0!==m.memoizedProps.fallback&&Mc(m):(V=null!==(ie=d.memoizedState),b||null===ie||null!==(ie=d.child.sibling)&&(null!==(xe=m.firstEffect)?(m.firstEffect=ie,ie.nextEffect=xe):(m.firstEffect=m.lastEffect=ie,ie.nextEffect=null),ie.effectTag=8)),b&&!V&&2&m.mode&&(null===d&&!0!==m.memoizedProps.unstable_avoidThisFallback||1&li.current?Zi===Xs&&(Zi=Zc):((Zi===Xs||Zi===Zc)&&(Zi=jc),0!==wl&&null!==$o&&(eu($o,Lo),Lx($o,wl)))),(b||V)&&(m.effectTag|=4),null);case 4:return Du(),Op(m),null;case 10:return tx(m),null;case 19:if(ii(li),null===(V=m.memoizedState))return null;if(ie=0!=(64&m.effectTag),null===(xe=V.rendering)){if(ie)Nc(V,!1);else if(Zi!==Xs||null!==d&&64&d.effectTag)for(xe=m.child;null!==xe;){if(null!==(d=mp(xe))){for(m.effectTag|=64,Nc(V,!1),null!==(ie=d.updateQueue)&&(m.updateQueue=ie,m.effectTag|=4),null===V.lastEffect&&(m.firstEffect=null),m.lastEffect=V.lastEffect,V=m.child;null!==V;)xe=b,(ie=V).effectTag&=2,ie.nextEffect=null,ie.firstEffect=null,ie.lastEffect=null,null===(d=ie.alternate)?(ie.childExpirationTime=0,ie.expirationTime=xe,ie.child=null,ie.memoizedProps=null,ie.memoizedState=null,ie.updateQueue=null,ie.dependencies=null):(ie.childExpirationTime=d.childExpirationTime,ie.expirationTime=d.expirationTime,ie.child=d.child,ie.memoizedProps=d.memoizedProps,ie.memoizedState=d.memoizedState,ie.updateQueue=d.updateQueue,ie.dependencies=null===(xe=d.dependencies)?null:{expirationTime:xe.expirationTime,firstContext:xe.firstContext,responders:xe.responders}),V=V.sibling;return Ei(li,1&li.current|2),m.child}xe=xe.sibling}}else{if(!ie)if(null!==(d=mp(xe))){if(m.effectTag|=64,ie=!0,null!==(b=d.updateQueue)&&(m.updateQueue=b,m.effectTag|=4),Nc(V,!0),null===V.tail&&"hidden"===V.tailMode&&!xe.alternate)return null!==(m=m.lastEffect=V.lastEffect)&&(m.nextEffect=null),null}else 2*Zo()-V.renderingStartTime>V.tailExpiration&&1<b&&(m.effectTag|=64,ie=!0,Nc(V,!1),m.expirationTime=m.childExpirationTime=b-1);V.isBackwards?(xe.sibling=m.child,m.child=xe):(null!==(b=V.last)?b.sibling=xe:m.child=xe,V.last=xe)}return null!==V.tail?(0===V.tailExpiration&&(V.tailExpiration=Zo()+500),V.rendering=b=V.tail,V.tail=b.sibling,V.lastEffect=m.lastEffect,V.renderingStartTime=Zo(),b.sibling=null,m=li.current,Ei(li,ie?1&m|2:1&m),b):null}throw Error(v(156,m.tag))}function Ek(d){switch(d.tag){case 1:mi(d.type)&&mo();var m=d.effectTag;return 4096&m?(d.effectTag=-4097&m|64,d):null;case 3:if(Du(),ii(uo),ii(Gi),64&(m=d.effectTag))throw Error(v(285));return d.effectTag=-4097&m|64,d;case 5:return hp(d),null;case 13:return ii(li),4096&(m=d.effectTag)?(d.effectTag=-4097&m|64,d):null;case 19:return ii(li),null;case 4:return Du(),null;case 10:return tx(d),null;default:return null}}function Fp(d,m){return{value:d,source:m,stack:vn(m)}}Cx=function(m,b){for(var V=b.child;null!==V;){if(5===V.tag||6===V.tag)m.appendChild(V.stateNode);else if(4!==V.tag&&null!==V.child){V.child.return=V,V=V.child;continue}if(V===b)break;for(;null===V.sibling;){if(null===V.return||V.return===b)return;V=V.return}V.sibling.return=V.return,V=V.sibling}},Op=function(){},wx=function(m,b,V,ie,xe){var Te=m.memoizedProps;if(Te!==ie){var gt,$t,He=b.stateNode;switch(Tu(Aa.current),m=null,V){case"input":Te=zi(He,Te),ie=zi(He,ie),m=[];break;case"option":Te=ao(He,Te),ie=ao(He,ie),m=[];break;case"select":Te=j({},Te,{value:void 0}),ie=j({},ie,{value:void 0}),m=[];break;case"textarea":Te=_i(He,Te),ie=_i(He,ie),m=[];break;default:"function"!=typeof Te.onClick&&"function"==typeof ie.onClick&&(He.onclick=oc)}for(gt in Bs(V,ie),V=null,Te)if(!ie.hasOwnProperty(gt)&&Te.hasOwnProperty(gt)&&null!=Te[gt])if("style"===gt)for($t in He=Te[gt])He.hasOwnProperty($t)&&(V||(V={}),V[$t]="");else"dangerouslySetInnerHTML"!==gt&&"children"!==gt&&"suppressContentEditableWarning"!==gt&&"suppressHydrationWarning"!==gt&&"autoFocus"!==gt&&(ge.hasOwnProperty(gt)?m||(m=[]):(m=m||[]).push(gt,null));for(gt in ie){var Qt=ie[gt];if(He=Te?.[gt],ie.hasOwnProperty(gt)&&Qt!==He&&(null!=Qt||null!=He))if("style"===gt)if(He){for($t in He)!He.hasOwnProperty($t)||Qt&&Qt.hasOwnProperty($t)||(V||(V={}),V[$t]="");for($t in Qt)Qt.hasOwnProperty($t)&&He[$t]!==Qt[$t]&&(V||(V={}),V[$t]=Qt[$t])}else V||(m||(m=[]),m.push(gt,V)),V=Qt;else"dangerouslySetInnerHTML"===gt?(He=He?He.__html:void 0,null!=(Qt=Qt?Qt.__html:void 0)&&He!==Qt&&(m=m||[]).push(gt,Qt)):"children"===gt?He===Qt||"string"!=typeof Qt&&"number"!=typeof Qt||(m=m||[]).push(gt,""+Qt):"suppressContentEditableWarning"!==gt&&"suppressHydrationWarning"!==gt&&(ge.hasOwnProperty(gt)?(null!=Qt&&ja(xe,gt),m||He===Qt||(m=[])):(m=m||[]).push(gt,Qt))}V&&(m=m||[]).push("style",V),(b.updateQueue=xe=m)&&(b.effectTag|=4)}},wk=function(m,b,V,ie){V!==ie&&(b.effectTag|=4)};var kk="function"==typeof WeakSet?WeakSet:Set;function Mp(d,m){var b=m.source,V=m.stack;null===V&&null!==b&&(V=vn(b)),null!==b&&An(b.type),m=m.value,null!==d&&1===d.tag&&An(d.type);try{console.error(m)}catch(ie){setTimeout(function(){throw ie})}}function Sx(d){var m=d.ref;if(null!==m)if("function"==typeof m)try{m(null)}catch(b){gr(d,b)}else m.current=null}function XR(d,m){switch(m.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&m.effectTag&&null!==d){var b=d.memoizedProps,V=d.memoizedState;m=(d=m.stateNode).getSnapshotBeforeUpdate(m.elementType===m.type?b:Fr(m.type,b),V),d.__reactInternalSnapshotBeforeUpdate=m}return}throw Error(v(163))}function Ex(d,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var b=m=m.next;do{if((b.tag&d)===d){var V=b.destroy;b.destroy=void 0,void 0!==V&&V()}b=b.next}while(b!==m)}}function kx(d,m){if(null!==(m=null!==(m=m.updateQueue)?m.lastEffect:null)){var b=m=m.next;do{(b.tag&d)===d&&(b.destroy=(0,b.create)()),b=b.next}while(b!==m)}}function Ak(d,m,b){switch(b.tag){case 0:case 11:case 15:case 22:return void kx(3,b);case 1:if(d=b.stateNode,4&b.effectTag)if(null===m)d.componentDidMount();else{var V=b.elementType===b.type?m.memoizedProps:Fr(b.type,m.memoizedProps);d.componentDidUpdate(V,m.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}return void(null!==(m=b.updateQueue)&&ix(b,m,d));case 3:if(null!==(m=b.updateQueue)){if(d=null,null!==b.child)switch(b.child.tag){case 5:case 1:d=b.child.stateNode}ix(b,m,d)}return;case 5:return d=b.stateNode,void(null===m&&4&b.effectTag&&$f(b.type,b.memoizedProps)&&d.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===b.memoizedState&&(b=b.alternate,null!==b&&(b=b.memoizedState,null!==b&&(b=b.dehydrated,null!==b&&an(b)))))}throw Error(v(163))}function Px(d,m,b){switch("function"==typeof Qa&&Qa(m),m.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(d=m.updateQueue)&&null!==(d=d.lastEffect)){var V=d.next;Us(97<b?97:b,function(){var ie=V;do{var xe=ie.destroy;if(void 0!==xe){var Te=m;try{xe()}catch(He){gr(Te,He)}}ie=ie.next}while(ie!==V)})}break;case 1:Sx(m),"function"==typeof(b=m.stateNode).componentWillUnmount&&function Pk(d,m){try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(b){gr(d,b)}}(m,b);break;case 5:Sx(m);break;case 4:Ix(d,m,b)}}function Ax(d){var m=d.alternate;d.return=null,d.child=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.alternate=null,d.firstEffect=null,d.lastEffect=null,d.pendingProps=null,d.memoizedProps=null,d.stateNode=null,null!==m&&Ax(m)}function Rx(d){return 5===d.tag||3===d.tag||4===d.tag}function Tx(d){e:{for(var m=d.return;null!==m;){if(Rx(m)){var b=m;break e}m=m.return}throw Error(v(160))}switch(m=b.stateNode,b.tag){case 5:var V=!1;break;case 3:case 4:m=m.containerInfo,V=!0;break;default:throw Error(v(161))}16&b.effectTag&&(Ai(m,""),b.effectTag&=-17);e:t:for(b=d;;){for(;null===b.sibling;){if(null===b.return||Rx(b.return)){b=null;break e}b=b.return}for(b.sibling.return=b.return,b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(2&b.effectTag||null===b.child||4===b.tag)continue t;b.child.return=b,b=b.child}if(!(2&b.effectTag)){b=b.stateNode;break e}}V?Dx(d,b,m):Np(d,b,m)}function Dx(d,m,b){var V=d.tag,ie=5===V||6===V;if(ie)d=ie?d.stateNode:d.stateNode.instance,m?8===b.nodeType?b.parentNode.insertBefore(d,m):b.insertBefore(d,m):(8===b.nodeType?(m=b.parentNode).insertBefore(d,b):(m=b).appendChild(d),null!=(b=b._reactRootContainer)||null!==m.onclick||(m.onclick=oc));else if(4!==V&&null!==(d=d.child))for(Dx(d,m,b),d=d.sibling;null!==d;)Dx(d,m,b),d=d.sibling}function Np(d,m,b){var V=d.tag,ie=5===V||6===V;if(ie)d=ie?d.stateNode:d.stateNode.instance,m?b.insertBefore(d,m):b.appendChild(d);else if(4!==V&&null!==(d=d.child))for(Np(d,m,b),d=d.sibling;null!==d;)Np(d,m,b),d=d.sibling}function Ix(d,m,b){for(var xe,Te,V=m,ie=!1;;){if(!ie){ie=V.return;e:for(;;){if(null===ie)throw Error(v(160));switch(xe=ie.stateNode,ie.tag){case 5:Te=!1;break e;case 3:case 4:xe=xe.containerInfo,Te=!0;break e}ie=ie.return}ie=!0}if(5===V.tag||6===V.tag){e:for(var He=d,gt=V,$t=b,Qt=gt;;)if(Px(He,Qt,$t),null!==Qt.child&&4!==Qt.tag)Qt.child.return=Qt,Qt=Qt.child;else{if(Qt===gt)break e;for(;null===Qt.sibling;){if(null===Qt.return||Qt.return===gt)break e;Qt=Qt.return}Qt.sibling.return=Qt.return,Qt=Qt.sibling}Te?(gt=V.stateNode,8===(He=xe).nodeType?He.parentNode.removeChild(gt):He.removeChild(gt)):xe.removeChild(V.stateNode)}else if(4===V.tag){if(null!==V.child){xe=V.stateNode.containerInfo,Te=!0,V.child.return=V,V=V.child;continue}}else if(Px(d,V,b),null!==V.child){V.child.return=V,V=V.child;continue}if(V===m)break;for(;null===V.sibling;){if(null===V.return||V.return===m)return;4===(V=V.return).tag&&(ie=!1)}V.sibling.return=V.return,V=V.sibling}}function Bp(d,m){switch(m.tag){case 0:case 11:case 14:case 15:case 22:return void Ex(3,m);case 1:case 12:case 17:return;case 5:var b=m.stateNode;if(null!=b){var V=m.memoizedProps,ie=null!==d?d.memoizedProps:V;d=m.type;var xe=m.updateQueue;if(m.updateQueue=null,null!==xe){for(b[ol]=V,"input"===d&&"radio"===V.type&&null!=V.name&&Lr(b,V),Za(d,ie),m=Za(d,V),ie=0;ie<xe.length;ie+=2){var Te=xe[ie],He=xe[ie+1];"style"===Te?Ea(b,He):"dangerouslySetInnerHTML"===Te?so(b,He):"children"===Te?Ai(b,He):ce(b,Te,He,m)}switch(d){case"input":ei(b,V);break;case"textarea":Pi(b,V);break;case"select":m=b._wrapperState.wasMultiple,b._wrapperState.wasMultiple=!!V.multiple,null!=(d=V.value)?fo(b,!!V.multiple,d,!1):m!==!!V.multiple&&(null!=V.defaultValue?fo(b,!!V.multiple,V.defaultValue,!0):fo(b,!!V.multiple,V.multiple?[]:"",!1))}}}return;case 6:if(null===m.stateNode)throw Error(v(162));return void(m.stateNode.nodeValue=m.memoizedProps);case 3:return void((m=m.stateNode).hydrate&&(m.hydrate=!1,an(m.containerInfo)));case 13:if(b=m,null===m.memoizedState?V=!1:(V=!0,b=m.child,zp=Zo()),null!==b)e:for(d=b;;){if(5===d.tag)xe=d.stateNode,V?"function"==typeof(xe=xe.style).setProperty?xe.setProperty("display","none","important"):xe.display="none":(xe=d.stateNode,ie=null!=(ie=d.memoizedProps.style)&&ie.hasOwnProperty("display")?ie.display:null,xe.style.display=Ns("display",ie));else if(6===d.tag)d.stateNode.nodeValue=V?"":d.memoizedProps;else{if(13===d.tag&&null!==d.memoizedState&&null===d.memoizedState.dehydrated){(xe=d.child.sibling).return=d,d=xe;continue}if(null!==d.child){d.child.return=d,d=d.child;continue}}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}return void Ox(m);case 19:return void Ox(m)}throw Error(v(163))}function Ox(d){var m=d.updateQueue;if(null!==m){d.updateQueue=null;var b=d.stateNode;null===b&&(b=d.stateNode=new kk),m.forEach(function(V){var ie=Hi.bind(null,d,V);b.has(V)||(b.add(V),V.then(ie,ie))})}}var Rk="function"==typeof WeakMap?WeakMap:Map;function Fx(d,m,b){(b=zs(b,null)).tag=3,b.payload={element:null};var V=m.value;return b.callback=function(){Uc||(Uc=!0,Vp=V),Mp(d,m)},b}function Tk(d,m,b){(b=zs(b,null)).tag=3;var V=d.type.getDerivedStateFromError;if("function"==typeof V){var ie=m.value;b.payload=function(){return Mp(d,m),V(ie)}}var xe=d.stateNode;return null!==xe&&"function"==typeof xe.componentDidCatch&&(b.callback=function(){"function"!=typeof V&&(null===ms?ms=new Set([this]):ms.add(this),Mp(d,m));var Te=m.stack;this.componentDidCatch(m.value,{componentStack:null!==Te?Te:""})}),b}var lo,Dk=Math.ceil,Bc=le.ReactCurrentDispatcher,Zp=le.ReactCurrentOwner,Bi=0,jp=8,ha=16,Ta=32,Xs=0,$p=1,Mx=2,Zc=3,jc=4,Lp=5,qn=Bi,$o=null,Yn=null,Lo=0,Zi=Xs,$c=null,Wa=1073741823,Cl=1073741823,Lc=null,wl=0,Up=!1,zp=0,Nx=500,kn=null,Uc=!1,Vp=null,ms=null,zc=!1,Sl=null,Vc=90,Qs=null,Gc=0,Hc=null,Gp=0;function go(){return(qn&(ha|Ta))!==Bi?1073741821-(Zo()/10|0):0!==Gp?Gp:Gp=1073741821-(Zo()/10|0)}function Js(d,m,b){if(!(2&(m=m.mode)))return 1073741823;var V=bc();if(!(4&m))return 99===V?1073741823:1073741822;if((qn&ha)!==Bi)return Lo;if(null!==b)d=f(d,0|b.timeoutMs||5e3,250);else switch(V){case 99:d=1073741823;break;case 98:d=f(d,150,100);break;case 97:case 96:d=f(d,5e3,250);break;case 95:d=2;break;default:throw Error(v(326))}return null!==$o&&d===Lo&&--d,d}function gs(d,m){if(50<Gc)throw Gc=0,Hc=null,Error(v(185));if(null!==(d=qc(d,m))){var b=bc();1073741823===m?(qn&jp)!==Bi&&(qn&(ha|Ta))===Bi?Hp(d):(Uo(d),qn===Bi&&Ga()):Uo(d),(4&qn)===Bi||98!==b&&99!==b||(null===Qs?Qs=new Map([[d,m]]):(void 0===(b=Qs.get(d))||b>m)&&Qs.set(d,m))}}function qc(d,m){d.expirationTime<m&&(d.expirationTime=m);var b=d.alternate;null!==b&&b.expirationTime<m&&(b.expirationTime=m);var V=d.return,ie=null;if(null===V&&3===d.tag)ie=d.stateNode;else for(;null!==V;){if(b=V.alternate,V.childExpirationTime<m&&(V.childExpirationTime=m),null!==b&&b.childExpirationTime<m&&(b.childExpirationTime=m),null===V.return&&3===V.tag){ie=V.stateNode;break}V=V.return}return null!==ie&&($o===ie&&(Xc(m),Zi===jc&&eu(ie,Lo)),Lx(ie,m)),ie}function Kc(d){var m=d.lastExpiredTime;if(0!==m||!$x(d,m=d.firstPendingTime))return m;var b=d.lastPingedTime;return 2>=(d=b>(d=d.nextKnownPendingLevel)?b:d)&&m!==d?0:d}function Uo(d){if(0!==d.lastExpiredTime)d.callbackExpirationTime=1073741823,d.callbackPriority=99,d.callbackNode=op(Hp.bind(null,d));else{var m=Kc(d),b=d.callbackNode;if(0===m)null!==b&&(d.callbackNode=null,d.callbackExpirationTime=0,d.callbackPriority=90);else{var V=go();if(V=1073741823===m?99:1===m||2===m?95:0>=(V=10*(1073741821-m)-10*(1073741821-V))?99:250>=V?98:5250>=V?97:95,null!==b){if(d.callbackExpirationTime===m&&d.callbackPriority>=V)return;b!==J0&&q0(b)}d.callbackExpirationTime=m,d.callbackPriority=V,m=1073741823===m?op(Hp.bind(null,d)):ip(V,Bx.bind(null,d),{timeout:10*(1073741821-m)-Zo()}),d.callbackNode=m}}}function Bx(d,m){if(Gp=0,m)return Pn(d,m=go()),Uo(d),null;var b=Kc(d);if(0!==b){if(m=d.callbackNode,(qn&(ha|Ta))!==Bi)throw Error(v(327));if(Fu(),d===$o&&b===Lo||zt(d,b),null!==Yn){var V=qn;qn|=ha;for(var ie=ke();;)try{Ok();break}catch(He){Vt(d,He)}if(sp(),qn=V,Bc.current=ie,Zi===$p)throw m=$c,zt(d,b),eu(d,b),Uo(d),m;if(null===Yn)switch(ie=d.finishedWork=d.current.alternate,d.finishedExpirationTime=b,V=Zi,$o=null,V){case Xs:case $p:throw Error(v(345));case Mx:Pn(d,2<b?2:b);break;case Zc:if(eu(d,b),b===(V=d.lastSuspendedTime)&&(d.nextKnownPendingLevel=Ti(ie)),1073741823===Wa&&10<(ie=zp+Nx-Zo())){if(Up){var xe=d.lastPingedTime;if(0===xe||xe>=b){d.lastPingedTime=b,zt(d,b);break}}if(0!==(xe=Kc(d))&&xe!==b)break;if(0!==V&&V!==b){d.lastPingedTime=V;break}d.timeoutHandle=sc(Xa.bind(null,d),ie);break}Xa(d);break;case jc:if(eu(d,b),b===(V=d.lastSuspendedTime)&&(d.nextKnownPendingLevel=Ti(ie)),Up&&(0===(ie=d.lastPingedTime)||ie>=b)){d.lastPingedTime=b,zt(d,b);break}if(0!==(ie=Kc(d))&&ie!==b)break;if(0!==V&&V!==b){d.lastPingedTime=V;break}if(1073741823!==Cl?V=10*(1073741821-Cl)-Zo():1073741823===Wa?V=0:(V=10*(1073741821-Wa)-5e3,0>(V=(ie=Zo())-V)&&(V=0),(b=10*(1073741821-b)-ie)<(V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*Dk(V/1960))-V)&&(V=b)),10<V){d.timeoutHandle=sc(Xa.bind(null,d),V);break}Xa(d);break;case Lp:if(1073741823!==Wa&&null!==Lc){xe=Wa;var Te=Lc;if(0>=(V=0|Te.busyMinDurationMs)?V=0:(ie=0|Te.busyDelayMs,V=(xe=Zo()-(10*(1073741821-xe)-(0|Te.timeoutMs||5e3)))<=ie?0:ie+V-xe),10<V){eu(d,b),d.timeoutHandle=sc(Xa.bind(null,d),V);break}}Xa(d);break;default:throw Error(v(329))}if(Uo(d),d.callbackNode===m)return Bx.bind(null,d)}}return null}function Hp(d){var m=d.lastExpiredTime;if(m=0!==m?m:1073741823,(qn&(ha|Ta))!==Bi)throw Error(v(327));if(Fu(),d===$o&&m===Lo||zt(d,m),null!==Yn){var b=qn;qn|=ha;for(var V=ke();;)try{Ik();break}catch(ie){Vt(d,ie)}if(sp(),qn=b,Bc.current=V,Zi===$p)throw b=$c,zt(d,m),eu(d,m),Uo(d),b;if(null!==Yn)throw Error(v(261));d.finishedWork=d.current.alternate,d.finishedExpirationTime=m,$o=null,Xa(d),Uo(d)}return null}function qp(d,m){var b=qn;qn&=-2,qn|=jp;try{return d(m)}finally{(qn=b)===Bi&&Ga()}}function zt(d,m){d.finishedWork=null,d.finishedExpirationTime=0;var b=d.timeoutHandle;if(-1!==b&&(d.timeoutHandle=-1,uc(b)),null!==Yn)for(b=Yn.return;null!==b;){var V=b;switch(V.tag){case 1:null!=(V=V.type.childContextTypes)&&mo();break;case 3:Du(),ii(uo),ii(Gi);break;case 5:hp(V);break;case 4:Du();break;case 13:case 19:ii(li);break;case 10:tx(V)}b=b.return}$o=d,Yn=Ys(d.current,null),Lo=m,Zi=Xs,$c=null,Cl=Wa=1073741823,Lc=null,wl=0,Up=!1}function Vt(d,m){for(;;){try{if(sp(),Pc.current=Oc,Ac)for(var b=Ri.memoizedState;null!==b;){var V=b.queue;null!==V&&(V.pending=null),b=b.next}if(ps=0,eo=Yi=Ri=null,Ac=!1,null===Yn||null===Yn.return)return Zi=$p,$c=m,Yn=null;e:{var ie=d,xe=Yn.return,Te=Yn,He=m;if(m=Lo,Te.effectTag|=2048,Te.firstEffect=Te.lastEffect=null,null!==He&&"object"==typeof He&&"function"==typeof He.then){var gt=He;if(!(2&Te.mode)){var $t=Te.alternate;$t?(Te.updateQueue=$t.updateQueue,Te.memoizedState=$t.memoizedState,Te.expirationTime=$t.expirationTime):(Te.updateQueue=null,Te.memoizedState=null)}var Qt=0!=(1&li.current),En=xe;do{var Rn;if(Rn=13===En.tag){var wr=En.memoizedState;if(null!==wr)Rn=null!==wr.dehydrated;else{var vo=En.memoizedProps;Rn=void 0!==vo.fallback&&(!0!==vo.unstable_avoidThisFallback||!Qt)}}if(Rn){var Ii=En.updateQueue;if(null===Ii){var Pt=new Set;Pt.add(gt),En.updateQueue=Pt}else Ii.add(gt);if(!(2&En.mode)){if(En.effectTag|=64,Te.effectTag&=-2981,1===Te.tag)if(null===Te.alternate)Te.tag=17;else{var _t=zs(1073741823,null);_t.tag=2,fs(Te,_t)}Te.expirationTime=1073741823;break e}He=void 0,Te=m;var Lt=ie.pingCache;if(null===Lt?(Lt=ie.pingCache=new Rk).set(gt,He=new Set):void 0===(He=Lt.get(gt))&&Lt.set(gt,He=new Set),!He.has(Te)){He.add(Te);var Jt=Kp.bind(null,ie,gt,Te);gt.then(Jt,Jt)}En.effectTag|=4096,En.expirationTime=m;break e}En=En.return}while(null!==En);He=Error((An(Te.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vn(Te))}Zi!==Lp&&(Zi=Mx),He=Fp(He,Te),En=xe;do{switch(En.tag){case 3:gt=He,En.effectTag|=4096,En.expirationTime=m,rx(En,Fx(En,gt,m));break e;case 1:gt=He;var On=En.stateNode;if(!(64&En.effectTag||"function"!=typeof En.type.getDerivedStateFromError&&(null===On||"function"!=typeof On.componentDidCatch||null!==ms&&ms.has(On)))){En.effectTag|=4096,En.expirationTime=m,rx(En,Tk(En,gt,m));break e}}En=En.return}while(null!==En)}Yn=jx(Yn)}catch(qr){m=qr;continue}break}}function ke(){var d=Bc.current;return Bc.current=Oc,null===d?Oc:d}function El(d,m){d<Wa&&2<d&&(Wa=d),null!==m&&d<Cl&&2<d&&(Cl=d,Lc=m)}function Xc(d){d>wl&&(wl=d)}function Ik(){for(;null!==Yn;)Yn=Zx(Yn)}function Ok(){for(;null!==Yn&&!mk();)Yn=Zx(Yn)}function Zx(d){var m=lo(d.alternate,d,Lo);return d.memoizedProps=d.pendingProps,null===m&&(m=jx(d)),Zp.current=null,m}function jx(d){Yn=d;do{var m=Yn.alternate;if(d=Yn.return,2048&Yn.effectTag){if(null!==(m=Ek(Yn)))return m.effectTag&=2047,m;null!==d&&(d.firstEffect=d.lastEffect=null,d.effectTag|=2048)}else{if(m=Sk(m,Yn,Lo),1===Lo||1!==Yn.childExpirationTime){for(var b=0,V=Yn.child;null!==V;){var ie=V.expirationTime,xe=V.childExpirationTime;ie>b&&(b=ie),xe>b&&(b=xe),V=V.sibling}Yn.childExpirationTime=b}if(null!==m)return m;null!==d&&!(2048&d.effectTag)&&(null===d.firstEffect&&(d.firstEffect=Yn.firstEffect),null!==Yn.lastEffect&&(null!==d.lastEffect&&(d.lastEffect.nextEffect=Yn.firstEffect),d.lastEffect=Yn.lastEffect),1<Yn.effectTag&&(null!==d.lastEffect?d.lastEffect.nextEffect=Yn:d.firstEffect=Yn,d.lastEffect=Yn))}if(null!==(m=Yn.sibling))return m;Yn=d}while(null!==Yn);return Zi===Xs&&(Zi=Lp),null}function Ti(d){var m=d.expirationTime;return m>(d=d.childExpirationTime)?m:d}function Xa(d){var m=bc();return Us(99,Fk.bind(null,d,m)),null}function Fk(d,m){do{Fu()}while(null!==Sl);if((qn&(ha|Ta))!==Bi)throw Error(v(327));var b=d.finishedWork,V=d.finishedExpirationTime;if(null===b)return null;if(d.finishedWork=null,d.finishedExpirationTime=0,b===d.current)throw Error(v(177));d.callbackNode=null,d.callbackExpirationTime=0,d.callbackPriority=90,d.nextKnownPendingLevel=0;var ie=Ti(b);if(d.firstPendingTime=ie,V<=d.lastSuspendedTime?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:V<=d.firstSuspendedTime&&(d.firstSuspendedTime=V-1),V<=d.lastPingedTime&&(d.lastPingedTime=0),V<=d.lastExpiredTime&&(d.lastExpiredTime=0),d===$o&&(Yn=$o=null,Lo=0),1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,ie=b.firstEffect):ie=b:ie=b.firstEffect,null!==ie){var xe=qn;qn|=Ta,Zp.current=null,Zf=ni;var Te=k0();if(ac(Te)){if("selectionStart"in Te)var He={start:Te.selectionStart,end:Te.selectionEnd};else{var gt=(He=(He=Te.ownerDocument)&&He.defaultView||window).getSelection&&He.getSelection();if(gt&&0!==gt.rangeCount){He=gt.anchorNode;var $t=gt.anchorOffset,Qt=gt.focusNode;gt=gt.focusOffset;var En=0,Rn=-1,wr=-1,vo=0,Ii=0,Pt=Te,_t=null;t:for(;;){for(var Lt;Pt!==He||0!==$t&&3!==Pt.nodeType||(Rn=En+$t),Pt!==Qt||0!==gt&&3!==Pt.nodeType||(wr=En+gt),3===Pt.nodeType&&(En+=Pt.nodeValue.length),null!==(Lt=Pt.firstChild);)_t=Pt,Pt=Lt;for(;;){if(Pt===Te)break t;if(_t===He&&++vo===$t&&(Rn=En),_t===Qt&&++Ii===gt&&(wr=En),null!==(Lt=Pt.nextSibling))break;_t=(Pt=_t).parentNode}Pt=Lt}He=-1===Rn||-1===wr?null:{start:Rn,end:wr}}else He=null}He=He||{start:0,end:0}}else He=null;jf={activeElementDetached:null,focusedElem:Te,selectionRange:He},ni=!1,kn=ie;do{try{Mk()}catch(tr){if(null===kn)throw Error(v(330));gr(kn,tr),kn=kn.nextEffect}}while(null!==kn);kn=ie;do{try{for(Te=d,He=m;null!==kn;){var Jt=kn.effectTag;if(16&Jt&&Ai(kn.stateNode,""),128&Jt){var on=kn.alternate;if(null!==on){var gn=on.ref;null!==gn&&("function"==typeof gn?gn(null):gn.current=null)}}switch(1038&Jt){case 2:Tx(kn),kn.effectTag&=-3;break;case 6:Tx(kn),kn.effectTag&=-3,Bp(kn.alternate,kn);break;case 1024:kn.effectTag&=-1025;break;case 1028:kn.effectTag&=-1025,Bp(kn.alternate,kn);break;case 4:Bp(kn.alternate,kn);break;case 8:Ix(Te,$t=kn,He),Ax($t)}kn=kn.nextEffect}}catch(tr){if(null===kn)throw Error(v(330));gr(kn,tr),kn=kn.nextEffect}}while(null!==kn);if(gn=jf,on=k0(),He=gn.selectionRange,on!==(Jt=gn.focusedElem)&&Jt&&Jt.ownerDocument&&rl(Jt.ownerDocument.documentElement,Jt)){for((null!==He&&ac(Jt)&&(on=He.start,void 0===(gn=He.end)&&(gn=on),"selectionStart"in Jt?(Jt.selectionStart=on,Jt.selectionEnd=Math.min(gn,Jt.value.length)):(gn=(on=Jt.ownerDocument||document)&&on.defaultView||window).getSelection&&(gn=gn.getSelection(),$t=Jt.textContent.length,Te=Math.min(He.start,$t),He=void 0===He.end?Te:Math.min(He.end,$t),!gn.extend&&Te>He&&($t=He,He=Te,Te=$t),$t=E0(Jt,Te),Qt=E0(Jt,He),$t&&Qt&&(1!==gn.rangeCount||gn.anchorNode!==$t.node||gn.anchorOffset!==$t.offset||gn.focusNode!==Qt.node||gn.focusOffset!==Qt.offset)&&((on=on.createRange()).setStart($t.node,$t.offset),gn.removeAllRanges(),Te>He?(gn.addRange(on),gn.extend(Qt.node,Qt.offset)):(on.setEnd(Qt.node,Qt.offset),gn.addRange(on))))),on=[],gn=Jt);gn=gn.parentNode;)1===gn.nodeType&&on.push({element:gn,left:gn.scrollLeft,top:gn.scrollTop});for("function"==typeof Jt.focus&&Jt.focus(),Jt=0;Jt<on.length;Jt++)(gn=on[Jt]).element.scrollLeft=gn.left,gn.element.scrollTop=gn.top}ni=!!Zf,jf=Zf=null,d.current=b,kn=ie;do{try{for(Jt=d;null!==kn;){var On=kn.effectTag;if(36&On&&Ak(Jt,kn.alternate,kn),128&On){on=void 0;var ur=kn.ref;if(null!==ur)on=kn.stateNode,"function"==typeof ur?ur(on):ur.current=on}kn=kn.nextEffect}}catch(tr){if(null===kn)throw Error(v(330));gr(kn,tr),kn=kn.nextEffect}}while(null!==kn);kn=null,Y0(),qn=xe}else d.current=b;if(zc)zc=!1,Sl=d,Vc=m;else for(kn=ie;null!==kn;)m=kn.nextEffect,kn.nextEffect=null,kn=m;if(0===(m=d.firstPendingTime)&&(ms=null),1073741823===m?d===Hc?Gc++:(Gc=0,Hc=d):Gc=0,"function"==typeof Vn&&Vn(b.stateNode,V),Uo(d),Uc)throw Uc=!1,d=Vp,Vp=null,d;return(qn&jp)!==Bi||Ga(),null}function Mk(){for(;null!==kn;){var d=kn.effectTag;256&d&&XR(kn.alternate,kn),!(512&d)||zc||(zc=!0,ip(97,function(){return Fu(),null})),kn=kn.nextEffect}}function Fu(){if(90!==Vc){var d=97<Vc?97:Vc;return Vc=90,Us(d,Br)}}function Br(){if(null===Sl)return!1;var d=Sl;if(Sl=null,(qn&(ha|Ta))!==Bi)throw Error(v(331));var m=qn;for(qn|=Ta,d=d.current.firstEffect;null!==d;){try{var b=d;if(512&b.effectTag)switch(b.tag){case 0:case 11:case 15:case 22:Ex(5,b),kx(5,b)}}catch(V){if(null===d)throw Error(v(330));gr(d,V)}b=d.nextEffect,d.nextEffect=null,d=b}return qn=m,Ga(),!0}function Cr(d,m,b){fs(d,m=Fx(d,m=Fp(b,m),1073741823)),null!==(d=qc(d,1073741823))&&Uo(d)}function gr(d,m){if(3===d.tag)Cr(d,d,m);else for(var b=d.return;null!==b;){if(3===b.tag){Cr(b,d,m);break}if(1===b.tag){var V=b.stateNode;if("function"==typeof b.type.getDerivedStateFromError||"function"==typeof V.componentDidCatch&&(null===ms||!ms.has(V))){fs(b,d=Tk(b,d=Fp(m,d),1073741823)),null!==(b=qc(b,1073741823))&&Uo(b);break}}b=b.return}}function Kp(d,m,b){var V=d.pingCache;null!==V&&V.delete(m),$o===d&&Lo===b?Zi===jc||Zi===Zc&&1073741823===Wa&&Zo()-zp<Nx?zt(d,Lo):Up=!0:$x(d,b)&&(0!==(m=d.lastPingedTime)&&m<b||(d.lastPingedTime=b,Uo(d)))}function Hi(d,m){var b=d.stateNode;null!==b&&b.delete(m),0==(m=0)&&(m=Js(m=go(),d,null)),null!==(d=qc(d,m))&&Uo(d)}lo=function(m,b,V){var ie=b.expirationTime;if(null!==m){var xe=b.pendingProps;if(m.memoizedProps!==xe||uo.current)Ra=!0;else{if(ie<V){switch(Ra=!1,b.tag){case 3:_x(b),kp();break;case 5:if(ux(b),4&b.mode&&1!==V&&xe.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:mi(b.type)&&gc(b);break;case 4:pp(b,b.stateNode.containerInfo);break;case 10:ie=b.memoizedProps.value,Ei(fa,(xe=b.type._context)._currentValue),xe._currentValue=ie;break;case 13:if(null!==b.memoizedState)return 0!==(ie=b.child.childExpirationTime)&&ie>=V?Ck(m,b,V):(Ei(li,1&li.current),null!==(b=Ka(m,b,V))?b.sibling:null);Ei(li,1&li.current);break;case 19:if(ie=b.childExpirationTime>=V,64&m.effectTag){if(ie)return bx(m,b,V);b.effectTag|=64}if(null!==(xe=b.memoizedState)&&(xe.rendering=null,xe.tail=null),Ei(li,li.current),!ie)return null}return Ka(m,b,V)}Ra=!1}}else Ra=!1;switch(b.expirationTime=0,b.tag){case 2:if(ie=b.type,null!==m&&(m.alternate=null,b.alternate=null,b.effectTag|=2),m=b.pendingProps,xe=za(b,Gi.current),Ji(b,V),xe=yp(null,b,ie,m,xe,V),b.effectTag|=1,"object"==typeof xe&&null!==xe&&"function"==typeof xe.render&&void 0===xe.$$typeof){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,mi(ie)){var Te=!0;gc(b)}else Te=!1;b.memoizedState=null!=xe.state?xe.state:null,up(b);var He=ie.getDerivedStateFromProps;"function"==typeof He&&Vs(b,ie,He,m),xe.updater=wc,b.stateNode=xe,xe._reactInternalFiber=b,dp(b,ie,m,V),b=Tp(null,b,ie,!0,Te,V)}else b.tag=0,ta(null,b,xe,V),b=b.child;return b;case 16:e:{if(xe=b.elementType,null!==m&&(m.alternate=null,b.alternate=null,b.effectTag|=2),m=b.pendingProps,function or(d){if(-1===d._status){d._status=0;var m=d._ctor;m=m(),d._result=m,m.then(function(b){0===d._status&&(b=b.default,d._status=1,d._result=b)},function(b){0===d._status&&(d._status=2,d._result=b)})}}(xe),1!==xe._status)throw xe._result;switch(b.type=xe=xe._result,Te=b.tag=function kl(d){if("function"==typeof d)return ze(d)?1:0;if(null!=d){if((d=d.$$typeof)===Qr)return 11;if(d===To)return 14}return 2}(xe),m=Fr(xe,m),Te){case 0:b=Rp(null,b,xe,m,V);break e;case 1:b=yx(null,b,xe,m,V);break e;case 11:b=gx(null,b,xe,m,V);break e;case 14:b=vx(null,b,xe,Fr(xe.type,m),ie,V);break e}throw Error(v(306,xe,""))}return b;case 0:return xe=b.pendingProps,Rp(m,b,ie=b.type,xe=b.elementType===ie?xe:Fr(ie,xe),V);case 1:return xe=b.pendingProps,yx(m,b,ie=b.type,xe=b.elementType===ie?xe:Fr(ie,xe),V);case 3:if(_x(b),ie=b.updateQueue,null===m||null===ie)throw Error(v(282));if(ie=b.pendingProps,xe=null!==(xe=b.memoizedState)?xe.element:null,lp(m,b),vl(b,ie,null,V),(ie=b.memoizedState.element)===xe)kp(),b=Ka(m,b,V);else{if((xe=b.stateNode.hydrate)&&(Ks=bu(b.stateNode.containerInfo.firstChild),qa=b,xe=Ws=!0),xe)for(V=fp(b,null,ie,V),b.child=V;V;)V.effectTag=-3&V.effectTag|1024,V=V.sibling;else ta(m,b,ie,V),kp();b=b.child}return b;case 5:return ux(b),null===m&&Fc(b),Te=null!==m?m.memoizedProps:null,He=(xe=b.pendingProps).children,Lf(ie=b.type,xe)?He=null:null!==Te&&Lf(ie,Te)&&(b.effectTag|=16),Ap(m,b),4&b.mode&&1!==V&&xe.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(ta(m,b,He,V),b=b.child),b;case 6:return null===m&&Fc(b),null;case 13:return Ck(m,b,V);case 4:return pp(b,b.stateNode.containerInfo),ie=b.pendingProps,null===m?b.child=Ru(b,null,ie,V):ta(m,b,ie,V),b.child;case 11:return xe=b.pendingProps,gx(m,b,ie=b.type,xe=b.elementType===ie?xe:Fr(ie,xe),V);case 7:return ta(m,b,b.pendingProps,V),b.child;case 8:case 12:return ta(m,b,b.pendingProps.children,V),b.child;case 10:e:{ie=b.type._context,He=b.memoizedProps,Te=(xe=b.pendingProps).value;var gt=b.type._context;if(Ei(fa,gt._currentValue),gt._currentValue=Te,null!==He)if(0==(Te=cs(gt=He.value,Te)?0:0|("function"==typeof ie._calculateChangedBits?ie._calculateChangedBits(gt,Te):1073741823))){if(He.children===xe.children&&!uo.current){b=Ka(m,b,V);break e}}else for(null!==(gt=b.child)&&(gt.return=b);null!==gt;){var $t=gt.dependencies;if(null!==$t){He=gt.child;for(var Qt=$t.firstContext;null!==Qt;){if(Qt.context===ie&&Qt.observedBits&Te){1===gt.tag&&((Qt=zs(V,null)).tag=2,fs(gt,Qt)),gt.expirationTime<V&&(gt.expirationTime=V),null!==(Qt=gt.alternate)&&Qt.expirationTime<V&&(Qt.expirationTime=V),nx(gt.return,V),$t.expirationTime<V&&($t.expirationTime=V);break}Qt=Qt.next}}else He=10===gt.tag&&gt.type===b.type?null:gt.child;if(null!==He)He.return=gt;else for(He=gt;null!==He;){if(He===b){He=null;break}if(null!==(gt=He.sibling)){gt.return=He.return,He=gt;break}He=He.return}gt=He}ta(m,b,xe.children,V),b=b.child}return b;case 9:return xe=b.type,ie=(Te=b.pendingProps).children,Ji(b,V),ie=ie(xe=jo(xe,Te.unstable_observedBits)),b.effectTag|=1,ta(m,b,ie,V),b.child;case 14:return Te=Fr(xe=b.type,b.pendingProps),vx(m,b,xe,Te=Fr(xe.type,Te),ie,V);case 15:return Pp(m,b,b.type,b.pendingProps,ie,V);case 17:return xe=b.pendingProps,xe=b.elementType===(ie=b.type)?xe:Fr(ie,xe),null!==m&&(m.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,mi(ie)?(m=!0,gc(b)):m=!1,Ji(b,V),cp(b,ie,xe),dp(b,ie,xe,V),Tp(null,b,ie,!0,m,V);case 19:return bx(m,b,V)}throw Error(v(156,b.tag))};var Vn=null,Qa=null;function Mu(d,m,b,V){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Di(d,m,b,V){return new Mu(d,m,b,V)}function ze(d){return!(!(d=d.prototype)||!d.isReactComponent)}function Ys(d,m){var b=d.alternate;return null===b?((b=Di(d.tag,m,d.key,d.mode)).elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=m,b.effectTag=0,b.nextEffect=null,b.firstEffect=null,b.lastEffect=null),b.childExpirationTime=d.childExpirationTime,b.expirationTime=d.expirationTime,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,b.dependencies=null===(m=d.dependencies)?null:{expirationTime:m.expirationTime,firstContext:m.firstContext,responders:m.responders},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function Qc(d,m,b,V,ie,xe){var Te=2;if(V=d,"function"==typeof d)ze(d)&&(Te=1);else if("string"==typeof d)Te=5;else e:switch(d){case Wt:return co(b.children,ie,xe,m);case Ie:Te=8,ie|=7;break;case mn:Te=8,ie|=1;break;case tn:return(d=Di(12,b,m,8|ie)).elementType=tn,d.type=tn,d.expirationTime=xe,d;case yr:return(d=Di(13,b,m,ie)).type=yr,d.elementType=yr,d.expirationTime=xe,d;case nn:return(d=Di(19,b,m,ie)).elementType=nn,d.expirationTime=xe,d;default:if("object"==typeof d&&null!==d)switch(d.$$typeof){case ir:Te=10;break e;case jn:Te=9;break e;case Qr:Te=11;break e;case To:Te=14;break e;case Ui:Te=16,V=null;break e;case Ct:Te=22;break e}throw Error(v(130,null==d?d:typeof d,""))}return(m=Di(Te,b,m,ie)).elementType=d,m.type=V,m.expirationTime=xe,m}function co(d,m,b,V){return(d=Di(7,d,V,m)).expirationTime=b,d}function Jc(d,m,b){return(d=Di(6,d,null,m)).expirationTime=b,d}function Wp(d,m,b){return(m=Di(4,null!==d.children?d.children:[],d.key,m)).expirationTime=b,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Yc(d,m,b){this.tag=m,this.current=null,this.containerInfo=d,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=b,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function $x(d,m){var b=d.firstSuspendedTime;return d=d.lastSuspendedTime,0!==b&&b>=m&&d<=m}function eu(d,m){var b=d.firstSuspendedTime,V=d.lastSuspendedTime;b<m&&(d.firstSuspendedTime=m),(V>m||0===b)&&(d.lastSuspendedTime=m),m<=d.lastPingedTime&&(d.lastPingedTime=0),m<=d.lastExpiredTime&&(d.lastExpiredTime=0)}function Lx(d,m){m>d.firstPendingTime&&(d.firstPendingTime=m);var b=d.firstSuspendedTime;0!==b&&(m>=b?d.firstSuspendedTime=d.lastSuspendedTime=d.nextKnownPendingLevel=0:m>=d.lastSuspendedTime&&(d.lastSuspendedTime=m+1),m>d.nextKnownPendingLevel&&(d.nextKnownPendingLevel=m))}function Pn(d,m){var b=d.lastExpiredTime;(0===b||b>m)&&(d.lastExpiredTime=m)}function Zr(d,m,b,V){var ie=m.current,xe=go(),Te=yl.suspense;xe=Js(xe,ie,Te);e:if(b){t:{if(P(b=b._reactInternalFiber)!==b||1!==b.tag)throw Error(v(170));var He=b;do{switch(He.tag){case 3:He=He.stateNode.context;break t;case 1:if(mi(He.type)){He=He.stateNode.__reactInternalMemoizedMergedChildContext;break t}}He=He.return}while(null!==He);throw Error(v(171))}if(1===b.tag){var gt=b.type;if(mi(gt)){b=G0(b,gt,He);break e}}b=He}else b=Ua;return null===m.context?m.context=b:m.pendingContext=b,(m=zs(xe,Te)).payload={element:d},null!==(V=void 0===V?null:V)&&(m.callback=V),fs(ie,m),gs(ie,xe),xe}function ga(d){return(d=d.current).child?d.child.stateNode:null}function Xp(d,m){null!==(d=d.memoizedState)&&null!==d.dehydrated&&d.retryTime<m&&(d.retryTime=m)}function Qp(d,m){Xp(d,m),(d=d.alternate)&&Xp(d,m)}function Jp(d,m,b){var V=new Yc(d,m,b=null!=b&&!0===b.hydrate),ie=Di(3,null,null,2===m?7:1===m?3:0);V.current=ie,ie.stateNode=V,up(ie),d[al]=V.current,b&&0!==m&&function xr(d,m){var b=xu(m);ar.forEach(function(V){Dt(V,m,b)}),Er.forEach(function(V){Dt(V,m,b)})}(0,9===d.nodeType?d:d.ownerDocument),this._internalRoot=V}function ed(d){return!(!d||1!==d.nodeType&&9!==d.nodeType&&11!==d.nodeType&&(8!==d.nodeType||" react-mount-point-unstable "!==d.nodeValue))}function td(d,m,b,V,ie){var xe=b._reactRootContainer;if(xe){var Te=xe._internalRoot;if("function"==typeof ie){var He=ie;ie=function(){var Qt=ga(Te);He.call(Qt)}}Zr(m,Te,d,ie)}else{if(xe=b._reactRootContainer=function Nk(d,m){if(m||(m=!(!(m=d?9===d.nodeType?d.documentElement:d.firstChild:null)||1!==m.nodeType||!m.hasAttribute("data-reactroot"))),!m)for(var b;b=d.lastChild;)d.removeChild(b);return new Jp(d,0,m?{hydrate:!0}:void 0)}(b,V),Te=xe._internalRoot,"function"==typeof ie){var gt=ie;ie=function(){var Qt=ga(Te);gt.call(Qt)}}qp(function(){Zr(m,Te,d,ie)})}return ga(Te)}Jp.prototype.render=function(d){Zr(d,this._internalRoot,null,null)},Jp.prototype.unmount=function(){var d=this._internalRoot,m=d.containerInfo;Zr(null,d,null,function(){m[al]=null})},Pe=function(m){if(13===m.tag){var b=f(go(),150,100);gs(m,b),Qp(m,b)}},qe=function(m){13===m.tag&&(gs(m,3),Qp(m,3))},Xe=function(m){if(13===m.tag){var b=go();gs(m,b=Js(b,m,null)),Qp(m,b)}},I=function(m,b,V){switch(b){case"input":if(ei(m,V),b=V.name,"radio"===V.type&&null!=b){for(V=m;V.parentNode;)V=V.parentNode;for(V=V.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<V.length;b++){var ie=V[b];if(ie!==m&&ie.form===m.form){var xe=lc(ie);if(!xe)throw Error(v(90));Xi(ie),ei(ie,xe)}}}break;case"textarea":Pi(m,V);break;case"select":null!=(b=V.value)&&fo(m,!!V.multiple,b,!1)}},re=function We(d,m){var b=qn;qn|=1;try{return d(m)}finally{(qn=b)===Bi&&Ga()}},Ne=function(m,b,V,ie,xe){var Te=qn;qn|=4;try{return Us(98,m.bind(null,b,V,ie,xe))}finally{(qn=Te)===Bi&&Ga()}},at=function(){(qn&(1|ha|Ta))===Bi&&(function Wc(){if(null!==Qs){var d=Qs;Qs=null,d.forEach(function(m,b){Pn(b,m),Uo(b)}),Ga()}}(),Fu())},Oe=function(m,b){var V=qn;qn|=2;try{return m(b)}finally{(qn=V)===Bi&&Ga()}};(function(d){var m=d.findFiberByHostInstance;!function ma(d){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)return!0;try{var b=m.inject(d);Vn=function(ie){try{m.onCommitFiberRoot(b,ie,void 0,64==(64&ie.current.effectTag))}catch{}},Qa=function(ie){try{m.onCommitFiberUnmount(b,ie)}catch{}}}catch{}}(j({},d,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(V){return null===(V=function oe(d){if(d=function G(d){var m=d.alternate;if(!m){if(null===(m=P(d)))throw Error(v(188));return m!==d?null:d}for(var b=d,V=m;;){var ie=b.return;if(null===ie)break;var xe=ie.alternate;if(null===xe){if(null!==(V=ie.return)){b=V;continue}break}if(ie.child===xe.child){for(xe=ie.child;xe;){if(xe===b)return N(ie),d;if(xe===V)return N(ie),m;xe=xe.sibling}throw Error(v(188))}if(b.return!==V.return)b=ie,V=xe;else{for(var Te=!1,He=ie.child;He;){if(He===b){Te=!0,b=ie,V=xe;break}if(He===V){Te=!0,V=ie,b=xe;break}He=He.sibling}if(!Te){for(He=xe.child;He;){if(He===b){Te=!0,b=xe,V=ie;break}if(He===V){Te=!0,V=xe,b=ie;break}He=He.sibling}if(!Te)throw Error(v(189))}}if(b.alternate!==V)throw Error(v(190))}if(3!==b.tag)throw Error(v(188));return b.stateNode.current===b?d:m}(d),!d)return null;for(var m=d;;){if(5===m.tag||6===m.tag)return m;if(m.child)m.child.return=m,m=m.child;else{if(m===d)break;for(;!m.sibling;){if(!m.return||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}}return null}(V))?null:V.stateNode},findFiberByHostInstance:function(V){return m?m(V):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:sl,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),Z.render=function(d,m,b){if(!ed(m))throw Error(v(200));return td(null,d,m,!1,b)},Z.unmountComponentAtNode=function(d){if(!ed(d))throw Error(v(40));return!!d._reactRootContainer&&(qp(function(){td(null,null,d,!1,function(){d._reactRootContainer=null,d[al]=null})}),!0)}},7628:(ve,Z,S)=>{(function M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M)}catch(H){console.error(H)}})(),ve.exports=S(9877)},298:(ve,Z,S)=>{var M=S(1856),H="function"==typeof Symbol&&Symbol.for,j=H?Symbol.for("react.element"):60103,o=H?Symbol.for("react.portal"):60106,v=H?Symbol.for("react.fragment"):60107,h=H?Symbol.for("react.strict_mode"):60108,g=H?Symbol.for("react.profiler"):60114,_=H?Symbol.for("react.provider"):60109,w=H?Symbol.for("react.context"):60110,O=H?Symbol.for("react.forward_ref"):60112,F=H?Symbol.for("react.suspense"):60113,L=H?Symbol.for("react.memo"):60115,U=H?Symbol.for("react.lazy"):60116,z="function"==typeof Symbol&&Symbol.iterator;function Q(Ve){for(var st="https://reactjs.org/docs/error-decoder.html?invariant="+Ve,me=1;me<arguments.length;me++)st+="&args[]="+encodeURIComponent(arguments[me]);return"Minified React error #"+Ve+"; visit "+st+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae={};function q(Ve,st,me){this.props=Ve,this.context=st,this.refs=ae,this.updater=me||Y}function W(){}function J(Ve,st,me){this.props=Ve,this.context=st,this.refs=ae,this.updater=me||Y}q.prototype.isReactComponent={},q.prototype.setState=function(Ve,st){if("object"!=typeof Ve&&"function"!=typeof Ve&&null!=Ve)throw Error(Q(85));this.updater.enqueueSetState(this,Ve,st,"setState")},q.prototype.forceUpdate=function(Ve){this.updater.enqueueForceUpdate(this,Ve,"forceUpdate")},W.prototype=q.prototype;var de=J.prototype=new W;de.constructor=J,M(de,q.prototype),de.isPureReactComponent=!0;var _e={current:null},be=Object.prototype.hasOwnProperty,ge={key:!0,ref:!0,__self:!0,__source:!0};function x(Ve,st,me){var ee,se={},Re=null,Ze=null;if(null!=st)for(ee in void 0!==st.ref&&(Ze=st.ref),void 0!==st.key&&(Re=""+st.key),st)be.call(st,ee)&&!ge.hasOwnProperty(ee)&&(se[ee]=st[ee]);var pe=arguments.length-2;if(1===pe)se.children=me;else if(1<pe){for(var Ce=Array(pe),dt=0;dt<pe;dt++)Ce[dt]=arguments[dt+2];se.children=Ce}if(Ve&&Ve.defaultProps)for(ee in pe=Ve.defaultProps)void 0===se[ee]&&(se[ee]=pe[ee]);return{$$typeof:j,type:Ve,key:Re,ref:Ze,props:se,_owner:_e.current}}function C(Ve){return"object"==typeof Ve&&null!==Ve&&Ve.$$typeof===j}var $=/\/+/g,T=[];function X(Ve,st,me,ee){if(T.length){var se=T.pop();return se.result=Ve,se.keyPrefix=st,se.func=me,se.context=ee,se.count=0,se}return{result:Ve,keyPrefix:st,func:me,context:ee,count:0}}function fe(Ve){Ve.result=null,Ve.keyPrefix=null,Ve.func=null,Ve.context=null,Ve.count=0,10>T.length&&T.push(Ve)}function De(Ve,st,me,ee){var se=typeof Ve;("undefined"===se||"boolean"===se)&&(Ve=null);var Re=!1;if(null===Ve)Re=!0;else switch(se){case"string":case"number":Re=!0;break;case"object":switch(Ve.$$typeof){case j:case o:Re=!0}}if(Re)return me(ee,Ve,""===st?"."+Ne(Ve,0):st),1;if(Re=0,st=""===st?".":st+":",Array.isArray(Ve))for(var Ze=0;Ze<Ve.length;Ze++){var pe=st+Ne(se=Ve[Ze],Ze);Re+=De(se,pe,me,ee)}else if("function"==typeof(pe=null===Ve||"object"!=typeof Ve?null:"function"==typeof(pe=z&&Ve[z]||Ve["@@iterator"])?pe:null))for(Ve=pe.call(Ve),Ze=0;!(se=Ve.next()).done;)Re+=De(se=se.value,pe=st+Ne(se,Ze++),me,ee);else if("object"===se)throw me=""+Ve,Error(Q(31,"[object Object]"===me?"object with keys {"+Object.keys(Ve).join(", ")+"}":me,""));return Re}function re(Ve,st,me){return null==Ve?0:De(Ve,"",st,me)}function Ne(Ve,st){return"object"==typeof Ve&&null!==Ve&&null!=Ve.key?function I(Ve){var st={"=":"=0",":":"=2"};return"$"+(""+Ve).replace(/[=:]/g,function(me){return st[me]})}(Ve.key):st.toString(36)}function at(Ve,st){Ve.func.call(Ve.context,st,Ve.count++)}function Oe(Ve,st,me){var ee=Ve.result,se=Ve.keyPrefix;Ve=Ve.func.call(Ve.context,st,Ve.count++),Array.isArray(Ve)?rt(Ve,ee,me,function(Re){return Re}):null!=Ve&&(C(Ve)&&(Ve=function A(Ve,st){return{$$typeof:j,type:Ve.type,key:st,ref:Ve.ref,props:Ve.props,_owner:Ve._owner}}(Ve,se+(!Ve.key||st&&st.key===Ve.key?"":(""+Ve.key).replace($,"$&/")+"/")+me)),ee.push(Ve))}function rt(Ve,st,me,ee,se){var Re="";null!=me&&(Re=(""+me).replace($,"$&/")+"/"),re(Ve,Oe,st=X(st,Re,ee,se)),fe(st)}var et={current:null};function St(){var Ve=et.current;if(null===Ve)throw Error(Q(321));return Ve}var it={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_e,IsSomeRendererActing:{current:!1},assign:M};Z.Children={map:function(st,me,ee){if(null==st)return st;var se=[];return rt(st,se,null,me,ee),se},forEach:function(st,me,ee){if(null==st)return st;re(st,at,me=X(null,null,me,ee)),fe(me)},count:function(st){return re(st,function(){return null},null)},toArray:function(st){var me=[];return rt(st,me,null,function(ee){return ee}),me},only:function(st){if(!C(st))throw Error(Q(143));return st}},Z.Component=q,Z.Fragment=v,Z.Profiler=g,Z.PureComponent=J,Z.StrictMode=h,Z.Suspense=F,Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=it,Z.cloneElement=function(Ve,st,me){if(null==Ve)throw Error(Q(267,Ve));var ee=M({},Ve.props),se=Ve.key,Re=Ve.ref,Ze=Ve._owner;if(null!=st){if(void 0!==st.ref&&(Re=st.ref,Ze=_e.current),void 0!==st.key&&(se=""+st.key),Ve.type&&Ve.type.defaultProps)var pe=Ve.type.defaultProps;for(Ce in st)be.call(st,Ce)&&!ge.hasOwnProperty(Ce)&&(ee[Ce]=void 0===st[Ce]&&void 0!==pe?pe[Ce]:st[Ce])}var Ce=arguments.length-2;if(1===Ce)ee.children=me;else if(1<Ce){pe=Array(Ce);for(var dt=0;dt<Ce;dt++)pe[dt]=arguments[dt+2];ee.children=pe}return{$$typeof:j,type:Ve.type,key:se,ref:Re,props:ee,_owner:Ze}},Z.createContext=function(Ve,st){return void 0===st&&(st=null),(Ve={$$typeof:w,_calculateChangedBits:st,_currentValue:Ve,_currentValue2:Ve,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:_,_context:Ve},Ve.Consumer=Ve},Z.createElement=x,Z.createFactory=function(Ve){var st=x.bind(null,Ve);return st.type=Ve,st},Z.createRef=function(){return{current:null}},Z.forwardRef=function(Ve){return{$$typeof:O,render:Ve}},Z.isValidElement=C,Z.lazy=function(Ve){return{$$typeof:U,_ctor:Ve,_status:-1,_result:null}},Z.memo=function(Ve,st){return{$$typeof:L,type:Ve,compare:void 0===st?null:st}},Z.useCallback=function(Ve,st){return St().useCallback(Ve,st)},Z.useContext=function(Ve,st){return St().useContext(Ve,st)},Z.useDebugValue=function(){},Z.useEffect=function(Ve,st){return St().useEffect(Ve,st)},Z.useImperativeHandle=function(Ve,st,me){return St().useImperativeHandle(Ve,st,me)},Z.useLayoutEffect=function(Ve,st){return St().useLayoutEffect(Ve,st)},Z.useMemo=function(Ve,st){return St().useMemo(Ve,st)},Z.useReducer=function(Ve,st,me){return St().useReducer(Ve,st,me)},Z.useRef=function(Ve){return St().useRef(Ve)},Z.useState=function(Ve){return St().useState(Ve)},Z.version="16.14.0"},6712:(ve,Z,S)=>{ve.exports=S(298)},8055:function(ve,Z,S){var H,j,M=S(9482).default;typeof self<"u"&&self,ve.exports=(H={182:function(v){var h={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};v.exports={types:h,iterableTypes:[h.ITERABLE_OBJECT,h.MAP,h.ARRAY,h.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},688:function(v,h,g){var _,w=g(182),O=w.types,F=w.iterableTypes,L=w.errors,U=g(555),z=(M(_={},O.NUMBER,U.isNumber),M(_,O.BOOLEAN,U.isBoolean),M(_,O.STRING,U.isString),M(_,O.DATE,U.isDate),M(_,O.UNDEFINED,U.isUndefined),M(_,O.NULL,U.isNull),M(_,O.ARRAY,U.isArray),M(_,O.MAP,U.isMap),M(_,O.SET,U.isSet),M(_,O.ITERABLE_OBJECT,U.isIterableObject),_),Q=M({},O.DATE,U.areDatesEqual);function Y(J){for(var de=Object.keys(z),_e=O.DEFAULT,be=0;be<de.length;be+=1)if(z[de[be]](J)){_e=de[be];break}return _e}function ae(J,de,_e,be,ge){var x={op:_e,path:be};return"add"!==_e&&"update"!==_e||(x.val=de),ge&&"add"!==_e&&(x.oldVal=J),x}function q(J,de,_e,be,ge){var Ne,x=Y(J),A=Y(de),C=be||[],I=ge||[];if((Ne=x)===A&&F.indexOf(Ne)>=0)for(var $=function(Ne,at,Oe){if(Oe===O.ARRAY){var rt=new Array(Ne.length>at.length?Ne.length:at.length);return rt.fill(0),new Set(rt.map(function(et,St){return St}))}return new Set(Object.keys(Ne).concat(Object.keys(at)))}(J,de,x).values(),T=$.next(),X=T.value,fe=T.done;!fe;){Object.prototype.hasOwnProperty.call(J,X)?Object.prototype.hasOwnProperty.call(de,X)?q(J[X],de[X],_e,C.concat(X),I):I.push(ae(J[X],de[X],"delete",C.concat(X),_e)):I.push(ae(J[X],de[X],"add",C.concat(X),_e));var De=$.next();X=De.value,fe=De.done}else{var re=function(Ne,at,Oe,rt){var et,St,it,Ve;return Oe===O.UNDEFINED&&rt!==O.UNDEFINED?et="add":Oe!==O.UNDEFINED&&rt===O.UNDEFINED?et="delete":(St=Ne,it=at,(Ve=Oe)===rt&&(Q[Ve]?Q[Ve](St,it):St===it)?U.noop():et="update"),et}(J,de,x,A);null!=re&&I.push(ae(J,de,re,be,_e))}return I}var W={add:U.setValueByPath,update:U.setValueByPath,delete:U.deleteValueByPath};v.exports={getDiff:function(de,_e){return q(de,_e,arguments.length>2&&void 0!==arguments[2]&&arguments[2])},applyDiff:function(de,_e,be){return function(ge,x,A){if(!(x instanceof Array))throw new Error(L.INVALID_DIFF_FORMAT);var C=ge;return x.forEach(function(I){var $=I.op,T=I.val,X=I.path;if(!W[$])throw new Error(L.INVALID_DIFF_OP);C=W[$](C,X,T,A)}),C}(de,_e,be)}}},555:function(v){var h=function(U){return function(z){return z instanceof U}},g=h(Date),_=h(Array),w=h(Map),O=h(Set),F=function(U){return"[object Object]"===Object.prototype.toString.call(U)};v.exports={isNumber:function(U){return"number"==typeof U},isBoolean:function(U){return"boolean"==typeof U},isString:function(U){return"string"==typeof U},isDate:g,isUndefined:function(U){return void 0===U},isNull:function(U){return null===U},isArray:_,isMap:w,isSet:O,isIterableObject:F,noop:function(){},areDatesEqual:function(U,z){return U.getTime()===z.getTime()},setValueByPath:function(U){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Q=arguments.length>2?arguments[2]:void 0,Y=arguments.length>3?arguments[3]:void 0;if(!_(z))throw new Error('Diff path: "'.concat(z,'" is not valid'));var ae=z.length;if(0===ae)return Q;for(var q=U,W=0;W<ae;W+=1){var J=z[W];if(!q)throw new Error('Invalid path: "'.concat(z,'" for object: ').concat(JSON.stringify(U,null,2)));if(null==J)throw new Error('Invalid path: "'.concat(z,'" for object: ').concat(JSON.stringify(U,null,2)));W!==ae-1?(q=q[J],Y&&Y(q)):q[J]=Q}return U},deleteValueByPath:function(U,z){var Q=z||[];if(0!==Q.length){for(var Y=U,ae=Q.length,q=0;q<ae;q+=1)if(q!==ae-1){if(!Y[Q[q]])throw new Error('Invalid path: "'.concat(z,'" for object: ').concat(JSON.stringify(U,null,2)));Y=Y[Q[q]]}else if(F(Y))delete Y[Q[q]];else for(var W=parseInt(Q[q],10);Y.length>W;)Y.pop();return U}}}}},j={},function o(v){var h=j[v];if(void 0!==h)return h.exports;var g=j[v]={exports:{}};return H[v](g,g.exports,o),g.exports}(688))},7400:(ve,Z,S)=>{S.d(Z,{D:()=>be});var M=S(4987),H=S(8728),j=S(1944);function o(ge){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,j.e)(function(A,C){C.add(ge.schedule(function(){return A.subscribe(C)},x))})}var g=S(833),w=S(7321),O=S(2971),F=S(1817);function U(ge,x){if(!ge)throw new Error("Iterable cannot be null");return new g.y(function(A){(0,F.f)(A,x,function(){var C=ge[Symbol.asyncIterator]();(0,F.f)(A,x,function(){C.next().then(function(I){I.done?A.complete():A.next(I.value)})},0,!0)})})}var z=S(1331),Q=S(9548),Y=S(9806),ae=S(3433),q=S(470),W=S(1750),J=S(181);function be(ge,x){return x?function _e(ge,x){if(null!=ge){if((0,z.c)(ge))return function v(ge,x){return(0,M.Xf)(ge).pipe(o(x),(0,H.Q)(x))}(ge,x);if((0,Y.z)(ge))return function _(ge,x){return new g.y(function(A){var C=0;return x.schedule(function(){C===ge.length?A.complete():(A.next(ge[C++]),A.closed||this.schedule())})})}(ge,x);if((0,Q.t)(ge))return function h(ge,x){return(0,M.Xf)(ge).pipe(o(x),(0,H.Q)(x))}(ge,x);if((0,q.D)(ge))return U(ge,x);if((0,ae.T)(ge))return function L(ge,x){return new g.y(function(A){var C;return(0,F.f)(A,x,function(){C=ge[w.h](),(0,F.f)(A,x,function(){var I,$;try{var T=C.next();I=T.value,$=T.done}catch(X){return void A.error(X)}$?A.complete():A.next(I)},0,!0)}),function(){return(0,O.m)(C?.return)&&C.return()}})}(ge,x);if((0,J.L)(ge))return function de(ge,x){return U((0,J.Q)(ge),x)}(ge,x)}throw(0,W.z)(ge)}(ge,x):(0,M.Xf)(ge)}},745:(ve,Z,S)=>{S.d(Z,{of:()=>j});var M=S(420),H=S(7400);function j(){for(var o=arguments.length,v=new Array(o),h=0;h<o;h++)v[h]=arguments[h];var g=(0,M.yG)(v);return(0,H.D)(v,g)}},3853:(ve,Z,S)=>{S.d(Z,{b:()=>j});var M=S(9525),H=S(2971);function j(o,v){return(0,H.m)(v)?(0,M.z)(o,v,1):(0,M.z)(o,1)}},4744:(ve,Z,S)=>{S.d(Z,{d:()=>j});var M=S(1944),H=S(3945);function j(o){return(0,M.e)(function(v,h){var g=!1;v.subscribe((0,H.x)(h,function(_){g=!0,h.next(_)},function(){g||h.next(o),h.complete()}))})}},155:(ve,Z,S)=>{S.d(Z,{P:()=>g});var M=S(4423),H=S(116),j=S(9295),o=S(4744),v=S(7354),h=S(9173);function g(_,w){var O=arguments.length>=2;return function(F){return F.pipe(_?(0,H.h)(function(L,U){return _(L,U,F)}):h.y,(0,j.q)(1),O?(0,o.d)(w):(0,v.T)(function(){return new M.K}))}}},8728:(ve,Z,S)=>{S.d(Z,{Q:()=>o});var M=S(1817),H=S(1944),j=S(3945);function o(v){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,H.e)(function(g,_){g.subscribe((0,j.x)(_,function(w){return(0,M.f)(_,v,function(){return _.next(w)},h)},function(){return(0,M.f)(_,v,function(){return _.complete()},h)},function(w){return(0,M.f)(_,v,function(){return _.error(w)},h)}))})}},7354:(ve,Z,S)=>{S.d(Z,{T:()=>o});var M=S(4423),H=S(1944),j=S(3945);function o(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return(0,H.e)(function(g,_){var w=!1;g.subscribe((0,j.x)(_,function(O){w=!0,_.next(O)},function(){return w?_.complete():_.error(h())}))})}function v(){return new M.K}},7580:(ve,Z,S)=>{S.d(Z,{V:()=>w});var M=S(6936),H=S(7885),j=S(1944),o=S(4987),v=S(7543),h=S(3945),g=S(1817),_=(0,v.d)(function(F){return function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;F(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=U}});function w(F,L){var U=(0,H.q)(F)?{first:F}:"number"==typeof F?{each:F}:F,z=U.first,Q=U.each,Y=U.with,ae=void 0===Y?O:Y,q=U.scheduler,W=void 0===q?L??M.z:q,J=U.meta,de=void 0===J?null:J;if(null==z&&null==Q)throw new TypeError("No timeout provided.");return(0,j.e)(function(_e,be){var ge,x,A=null,C=0,I=function(T){x=(0,g.f)(be,W,function(){try{ge.unsubscribe(),(0,o.Xf)(ae({meta:de,lastValue:A,seen:C})).subscribe(be)}catch(X){be.error(X)}},T)};ge=_e.subscribe((0,h.x)(be,function($){x?.unsubscribe(),C++,be.next(A=$),Q>0&&I(Q)},void 0,void 0,function(){x?.closed||x?.unsubscribe(),A=null})),!C&&I(null!=z?"number"==typeof z?z:+z-W.now():Q)})}function O(F){throw new _(F)}},538:(ve,Z,S)=>{S.d(Z,{M:()=>_});var M=S(6170),H=S(1944),j=S(3945),o=S(4987),v=S(9173),h=S(9635),g=S(420);function _(){for(var w=arguments.length,O=new Array(w),F=0;F<w;F++)O[F]=arguments[F];var L=(0,g.jO)(O);return(0,H.e)(function(U,z){for(var Q=O.length,Y=new Array(Q),ae=O.map(function(){return!1}),q=!1,W=function(_e){(0,o.Xf)(O[_e]).subscribe((0,j.x)(z,function(be){Y[_e]=be,!q&&!ae[_e]&&(ae[_e]=!0,(q=ae.every(v.y))&&(ae=null))},h.Z))},J=0;J<Q;J++)W(J);U.subscribe((0,j.x)(z,function(de){if(q){var _e=[de].concat(Y);z.next(L?L.apply(void 0,(0,M.Z)(_e)):_e)}}))})}},4915:(ve,Z,S)=>{S.d(Z,{N:()=>F});var M=S(8069),H=S(8047),j=S(4089),o=S(265),v=S(4582),h=S(8694),_=function(U){(0,v.Z)(Q,U);var z=(0,h.Z)(Q);function Q(Y,ae){var q;return(0,M.Z)(this,Q),(q=z.call(this,Y,ae)).scheduler=Y,q.work=ae,q}return(0,H.Z)(Q,[{key:"schedule",value:function(ae){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return q>0?(0,j.Z)((0,o.Z)(Q.prototype),"schedule",this).call(this,ae,q):(this.delay=q,this.state=ae,this.scheduler.flush(this),this)}},{key:"execute",value:function(ae,q){return q>0||this.closed?(0,j.Z)((0,o.Z)(Q.prototype),"execute",this).call(this,ae,q):this._execute(ae,q)}},{key:"requestAsyncId",value:function(ae,q){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=W&&W>0||null==W&&this.delay>0?(0,j.Z)((0,o.Z)(Q.prototype),"requestAsyncId",this).call(this,ae,q,W):(ae.flush(this),0)}}]),Q}(S(5417).o),F=new(function(U){(0,v.Z)(Q,U);var z=(0,h.Z)(Q);function Q(){return(0,M.Z)(this,Q),z.apply(this,arguments)}return(0,H.Z)(Q)}(S(1010).v))(_)},4423:(ve,Z,S)=>{S.d(Z,{K:()=>H});var H=(0,S(7543).d)(function(j){return function(){j(this),this.name="EmptyError",this.message="no elements in sequence"}})},420:(ve,Z,S)=>{S.d(Z,{_6:()=>h,jO:()=>o,yG:()=>v});var M=S(2971),H=S(9867);function j(g){return g[g.length-1]}function o(g){return(0,M.m)(j(g))?g.pop():void 0}function v(g){return(0,H.K)(j(g))?g.pop():void 0}function h(g,_){return"number"==typeof j(g)?g.pop():_}},1817:(ve,Z,S)=>{function M(H,j,o){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],g=j.schedule(function(){o(),h?H.add(this.schedule(null,v)):this.unsubscribe()},v);if(H.add(g),!h)return g}S.d(Z,{f:()=>M})},9867:(ve,Z,S)=>{S.d(Z,{K:()=>H});var M=S(2971);function H(j){return j&&(0,M.m)(j.schedule)}},3774:(ve,Z)=>{var S,M,H,j,o;if(typeof window>"u"||"function"!=typeof MessageChannel){var v=null,h=null,g=function et(){if(null!==v)try{var St=Z.unstable_now();v(!0,St),v=null}catch(it){throw setTimeout(et,0),it}},_=Date.now();Z.unstable_now=function(){return Date.now()-_},S=function(St){null!==v?setTimeout(S,0,St):(v=St,setTimeout(g,0))},M=function(St,it){h=setTimeout(St,it)},H=function(){clearTimeout(h)},j=function(){return!1},o=Z.unstable_forceFrameRate=function(){}}else{var w=window.performance,O=window.Date,F=window.setTimeout,L=window.clearTimeout;if(typeof console<"u"){var U=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof U&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof w&&"function"==typeof w.now)Z.unstable_now=function(){return w.now()};else{var z=O.now();Z.unstable_now=function(){return O.now()-z}}var Q=!1,Y=null,ae=-1,q=5,W=0;j=function(){return Z.unstable_now()>=W},o=function(){},Z.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):q=0<et?Math.floor(1e3/et):5};var J=new MessageChannel,de=J.port2;J.port1.onmessage=function(){if(null!==Y){var et=Z.unstable_now();W=et+q;try{Y(!0,et)?de.postMessage(null):(Q=!1,Y=null)}catch(St){throw de.postMessage(null),St}}else Q=!1},S=function(St){Y=St,Q||(Q=!0,de.postMessage(null))},M=function(St,it){ae=F(function(){St(Z.unstable_now())},it)},H=function(){L(ae),ae=-1}}function _e(et,St){var it=et.length;et.push(St);e:for(;;){var Ve=it-1>>>1,st=et[Ve];if(!(void 0!==st&&0<x(st,St)))break e;et[Ve]=St,et[it]=st,it=Ve}}function be(et){return void 0===(et=et[0])?null:et}function ge(et){var St=et[0];if(void 0!==St){var it=et.pop();if(it!==St){et[0]=it;e:for(var Ve=0,st=et.length;Ve<st;){var me=2*(Ve+1)-1,ee=et[me],se=me+1,Re=et[se];if(void 0!==ee&&0>x(ee,it))void 0!==Re&&0>x(Re,ee)?(et[Ve]=Re,et[se]=it,Ve=se):(et[Ve]=ee,et[me]=it,Ve=me);else{if(!(void 0!==Re&&0>x(Re,it)))break e;et[Ve]=Re,et[se]=it,Ve=se}}}return St}return null}function x(et,St){var it=et.sortIndex-St.sortIndex;return 0!==it?it:et.id-St.id}var A=[],C=[],I=1,$=null,T=3,X=!1,fe=!1,De=!1;function re(et){for(var St=be(C);null!==St;){if(null===St.callback)ge(C);else{if(!(St.startTime<=et))break;ge(C),St.sortIndex=St.expirationTime,_e(A,St)}St=be(C)}}function Ne(et){if(De=!1,re(et),!fe)if(null!==be(A))fe=!0,S(at);else{var St=be(C);null!==St&&M(Ne,St.startTime-et)}}function at(et,St){fe=!1,De&&(De=!1,H()),X=!0;var it=T;try{for(re(St),$=be(A);null!==$&&(!($.expirationTime>St)||et&&!j());){var Ve=$.callback;if(null!==Ve){$.callback=null,T=$.priorityLevel;var st=Ve($.expirationTime<=St);St=Z.unstable_now(),"function"==typeof st?$.callback=st:$===be(A)&&ge(A),re(St)}else ge(A);$=be(A)}if(null!==$)var me=!0;else{var ee=be(C);null!==ee&&M(Ne,ee.startTime-St),me=!1}return me}finally{$=null,T=it,X=!1}}function Oe(et){switch(et){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var rt=o;Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(et){et.callback=null},Z.unstable_continueExecution=function(){fe||X||(fe=!0,S(at))},Z.unstable_getCurrentPriorityLevel=function(){return T},Z.unstable_getFirstCallbackNode=function(){return be(A)},Z.unstable_next=function(et){switch(T){case 1:case 2:case 3:var St=3;break;default:St=T}var it=T;T=St;try{return et()}finally{T=it}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=rt,Z.unstable_runWithPriority=function(et,St){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var it=T;T=et;try{return St()}finally{T=it}},Z.unstable_scheduleCallback=function(et,St,it){var Ve=Z.unstable_now();if("object"==typeof it&&null!==it){var st=it.delay;st="number"==typeof st&&0<st?Ve+st:Ve,it="number"==typeof it.timeout?it.timeout:Oe(et)}else it=Oe(et),st=Ve;return et={id:I++,callback:St,priorityLevel:et,startTime:st,expirationTime:it=st+it,sortIndex:-1},st>Ve?(et.sortIndex=st,_e(C,et),null===be(A)&&et===be(C)&&(De?H():De=!0,M(Ne,st-Ve))):(et.sortIndex=it,_e(A,et),fe||X||(fe=!0,S(at))),et},Z.unstable_shouldYield=function(){var et=Z.unstable_now();re(et);var St=be(A);return St!==$&&null!==$&&null!==St&&null!==St.callback&&St.startTime<=et&&St.expirationTime<$.expirationTime||j()},Z.unstable_wrapCallback=function(et){var St=T;return function(){var it=T;T=St;try{return et.apply(this,arguments)}finally{T=it}}}},5381:(ve,Z,S)=>{ve.exports=S(3774)},7559:(ve,Z,S)=>{var M=S(3974),H=S(5051)("selectn"),j=S(5979),o=S(1934),v=Object.prototype.toString;ve.exports=M(function h(g,_){H("arguments:",{path:g,object:_});for(var w=-1,O="[object Array]"===v.call(g)?g:o(j(g)),F=O.length,L=F?_:void 0;++w<F;){if(Object(L)!==L)return;L=L[O[w]]}return H("ref:",L),"function"==typeof L?L():L})},5051:(ve,Z,S)=>{function v(){var g;try{g=Z.storage.debug}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=process.env.DEBUG),g}(Z=ve.exports=S(2133)).log=function j(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},Z.formatArgs=function H(g){var _=this.useColors;if(g[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+g[0]+(_?"%c ":" ")+"+"+Z.humanize(this.diff),_){var w="color: "+this.color;g.splice(1,0,w,"color: inherit");var O=0,F=0;g[0].replace(/%[a-zA-Z%]/g,function(L){"%%"!==L&&(O++,"%c"===L&&(F=O))}),g.splice(F,0,w)}},Z.save=function o(g){try{null==g?Z.storage.removeItem("debug"):Z.storage.debug=g}catch{}},Z.load=v,Z.useColors=function M(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},Z.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function h(){try{return window.localStorage}catch{}}(),Z.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],Z.formatters.j=function(g){try{return JSON.stringify(g)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},Z.enable(v())},2133:(ve,Z,S)=>{var M;function j(_){function w(){if(w.enabled){var O=w,F=+new Date;O.diff=F-(M||F),O.prev=M,O.curr=F,M=F;for(var U=new Array(arguments.length),z=0;z<U.length;z++)U[z]=arguments[z];U[0]=Z.coerce(U[0]),"string"!=typeof U[0]&&U.unshift("%O");var Q=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,function(ae,q){if("%%"===ae)return ae;Q++;var W=Z.formatters[q];return"function"==typeof W&&(ae=W.call(O,U[Q]),U.splice(Q,1),Q--),ae}),Z.formatArgs.call(O,U),(w.log||Z.log||console.log.bind(console)).apply(O,U)}}return w.namespace=_,w.enabled=Z.enabled(_),w.useColors=Z.useColors(),w.color=function H(_){var O,w=0;for(O in _)w=(w<<5)-w+_.charCodeAt(O),w|=0;return Z.colors[Math.abs(w)%Z.colors.length]}(_),"function"==typeof Z.init&&Z.init(w),w}(Z=ve.exports=j.debug=j.default=j).coerce=function g(_){return _ instanceof Error?_.stack||_.message:_},Z.disable=function v(){Z.enable("")},Z.enable=function o(_){Z.save(_),Z.names=[],Z.skips=[];for(var w=("string"==typeof _?_:"").split(/[\s,]+/),O=w.length,F=0;F<O;F++)w[F]&&("-"===(_=w[F].replace(/\*/g,".*?"))[0]?Z.skips.push(new RegExp("^"+_.substr(1)+"$")):Z.names.push(new RegExp("^"+_+"$")))},Z.enabled=function h(_){var w,O;for(w=0,O=Z.skips.length;w<O;w++)if(Z.skips[w].test(_))return!1;for(w=0,O=Z.names.length;w<O;w++)if(Z.names[w].test(_))return!0;return!1},Z.humanize=S(3007),Z.names=[],Z.skips=[],Z.formatters={}},3007:ve=>{var Z=1e3,S=60*Z,M=60*S,H=24*M;function g(_,w,O){if(!(_<w))return _<1.5*w?Math.floor(_/w)+" "+O:Math.ceil(_/w)+" "+O+"s"}ve.exports=function(_,w){w=w||{};var O=typeof _;if("string"===O&&_.length>0)return function o(_){if(!((_=String(_)).length>100)){var w=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(_);if(w){var O=parseFloat(w[1]);switch((w[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*O;case"days":case"day":case"d":return O*H;case"hours":case"hour":case"hrs":case"hr":case"h":return O*M;case"minutes":case"minute":case"mins":case"min":case"m":return O*S;case"seconds":case"second":case"secs":case"sec":case"s":return O*Z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}(_);if("number"===O&&!1===isNaN(_))return w.long?function h(_){return g(_,H,"day")||g(_,M,"hour")||g(_,S,"minute")||g(_,Z,"second")||_+" ms"}(_):function v(_){return _>=H?Math.round(_/H)+"d":_>=M?Math.round(_/M)+"h":_>=S?Math.round(_/S)+"m":_>=Z?Math.round(_/Z)+"s":_+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},8432:(ve,Z,S)=>{var M=S(9903),H=S(4263),j=S(8597),o=M("%TypeError%"),v=M("%WeakMap%",!0),h=M("%Map%",!0),g=H("WeakMap.prototype.get",!0),_=H("WeakMap.prototype.set",!0),w=H("WeakMap.prototype.has",!0),O=H("Map.prototype.get",!0),F=H("Map.prototype.set",!0),L=H("Map.prototype.has",!0),U=function(q,W){for(var de,J=q;null!==(de=J.next);J=de)if(de.key===W)return J.next=de.next,de.next=q.next,q.next=de,de};ve.exports=function(){var q,W,J,de={assert:function(be){if(!de.has(be))throw new o("Side channel does not contain "+j(be))},get:function(be){if(v&&be&&("object"==typeof be||"function"==typeof be)){if(q)return g(q,be)}else if(h){if(W)return O(W,be)}else if(J)return function(q,W){var J=U(q,W);return J&&J.value}(J,be)},has:function(be){if(v&&be&&("object"==typeof be||"function"==typeof be)){if(q)return w(q,be)}else if(h){if(W)return L(W,be)}else if(J)return function(q,W){return!!U(q,W)}(J,be);return!1},set:function(be,ge){v&&be&&("object"==typeof be||"function"==typeof be)?(q||(q=new v),_(q,be,ge)):h?(W||(W=new h),F(W,be,ge)):(J||(J={key:{},next:null}),function(q,W,J){var de=U(q,W);de?de.value=J:q.next={key:W,next:q.next,value:J}}(J,be,ge))}};return de}},574:(ve,Z,S)=>{ve.exports=j;var M=S(3358).EventEmitter;function j(){M.call(this)}S(5035)(j,M),j.Readable=S(1591),j.Writable=S(6480),j.Duplex=S(6124),j.Transform=S(869),j.PassThrough=S(5650),j.finished=S(8938),j.pipeline=S(9719),j.Stream=j,j.prototype.pipe=function(o,v){var h=this;function g(z){o.writable&&!1===o.write(z)&&h.pause&&h.pause()}function _(){h.readable&&h.resume&&h.resume()}h.on("data",g),o.on("drain",_),!o._isStdio&&(!v||!1!==v.end)&&(h.on("end",O),h.on("close",F));var w=!1;function O(){w||(w=!0,o.end())}function F(){w||(w=!0,"function"==typeof o.destroy&&o.destroy())}function L(z){if(U(),0===M.listenerCount(this,"error"))throw z}function U(){h.removeListener("data",g),o.removeListener("drain",_),h.removeListener("end",O),h.removeListener("close",F),h.removeListener("error",L),o.removeListener("error",L),h.removeListener("end",U),h.removeListener("close",U),o.removeListener("close",U)}return h.on("error",L),o.on("error",L),h.on("end",U),h.on("close",U),o.on("close",U),o.emit("pipe",h),o}},3803:ve=>{var S={};function M(h,g,_){_||(_=Error);var O=function(F){function L(U,z,Q){return F.call(this,function w(F,L,U){return"string"==typeof g?g:g(F,L,U)}(U,z,Q))||this}return function Z(h,g){h.prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g}(L,F),L}(_);O.prototype.name=_.name,O.prototype.code=h,S[h]=O}function H(h,g){if(Array.isArray(h)){var _=h.length;return h=h.map(function(w){return String(w)}),_>2?"one of ".concat(g," ").concat(h.slice(0,_-1).join(", "),", or ")+h[_-1]:2===_?"one of ".concat(g," ").concat(h[0]," or ").concat(h[1]):"of ".concat(g," ").concat(h[0])}return"of ".concat(g," ").concat(String(h))}M("ERR_INVALID_OPT_VALUE",function(h,g){return'The value "'+g+'" is invalid for option "'+h+'"'},TypeError),M("ERR_INVALID_ARG_TYPE",function(h,g,_){var w,O;if("string"==typeof g&&function j(h,g,_){return h.substr(!_||_<0?0:+_,g.length)===g}(g,"not ")?(w="must not be",g=g.replace(/^not /,"")):w="must be",function o(h,g,_){return(void 0===_||_>h.length)&&(_=h.length),h.substring(_-g.length,_)===g}(h," argument"))O="The ".concat(h," ").concat(w," ").concat(H(g,"type"));else{var F=function v(h,g,_){return"number"!=typeof _&&(_=0),!(_+g.length>h.length)&&-1!==h.indexOf(g,_)}(h,".")?"property":"argument";O='The "'.concat(h,'" ').concat(F," ").concat(w," ").concat(H(g,"type"))}return O+". Received type ".concat(typeof _)},TypeError),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),M("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),M("ERR_STREAM_PREMATURE_CLOSE","Premature close"),M("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),M("ERR_STREAM_WRITE_AFTER_END","write after end"),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ve.exports.q=S},6124:(ve,Z,S)=>{var M=Object.keys||function(O){var F=[];for(var L in O)F.push(L);return F};ve.exports=g;var H=S(1591),j=S(6480);S(5035)(g,H);for(var o=M(j.prototype),v=0;v<o.length;v++){var h=o[v];g.prototype[h]||(g.prototype[h]=j.prototype[h])}function g(O){if(!(this instanceof g))return new g(O);H.call(this,O),j.call(this,O),this.allowHalfOpen=!0,O&&(!1===O.readable&&(this.readable=!1),!1===O.writable&&(this.writable=!1),!1===O.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||process.nextTick(w,this)}function w(O){O.end()}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(F){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=F,this._writableState.destroyed=F)}})},5650:(ve,Z,S)=>{ve.exports=H;var M=S(869);function H(j){if(!(this instanceof H))return new H(j);M.call(this,j)}S(5035)(H,M),H.prototype._transform=function(j,o,v){v(null,j)}},1591:(ve,Z,S)=>{var M;ve.exports=C,C.ReadableState=A,S(3358);var O,j=function(Ce,dt){return Ce.listeners(dt).length},o=S(5628),v=S(3195).Buffer,h=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w=S(964);O=w&&w.debuglog?w.debuglog("stream"):function(){};var J,de,_e,F=S(8197),L=S(5767),z=S(8003).getHighWaterMark,Q=S(3803).q,Y=Q.ERR_INVALID_ARG_TYPE,ae=Q.ERR_STREAM_PUSH_AFTER_EOF,q=Q.ERR_METHOD_NOT_IMPLEMENTED,W=Q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(5035)(C,o);var be=L.errorOrDestroy,ge=["error","close","destroy","pause","resume"];function A(pe,Ce,dt){M=M||S(6124),"boolean"!=typeof dt&&(dt=Ce instanceof M),this.objectMode=!!(pe=pe||{}).objectMode,dt&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=z(this,pe,"readableHighWaterMark",dt),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(J||(J=S(4547).s),this.decoder=new J(pe.encoding),this.encoding=pe.encoding)}function C(pe){if(M=M||S(6124),!(this instanceof C))return new C(pe);this._readableState=new A(pe,this,this instanceof M),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),o.call(this)}function I(pe,Ce,dt,Ee,le){O("readableAddChunk",Ce);var Fe,ce=pe._readableState;if(null===Ce)ce.reading=!1,function re(pe,Ce){if(O("onEofChunk"),!Ce.ended){if(Ce.decoder){var dt=Ce.decoder.end();dt&&dt.length&&(Ce.buffer.push(dt),Ce.length+=Ce.objectMode?1:dt.length)}Ce.ended=!0,Ce.sync?Ne(pe):(Ce.needReadable=!1,Ce.emittedReadable||(Ce.emittedReadable=!0,at(pe)))}}(pe,ce);else if(le||(Fe=function T(pe,Ce){var dt;return!function _(pe){return v.isBuffer(pe)||pe instanceof h}(Ce)&&"string"!=typeof Ce&&void 0!==Ce&&!pe.objectMode&&(dt=new Y("chunk",["string","Buffer","Uint8Array"],Ce)),dt}(ce,Ce)),Fe)be(pe,Fe);else if(ce.objectMode||Ce&&Ce.length>0)if("string"!=typeof Ce&&!ce.objectMode&&Object.getPrototypeOf(Ce)!==v.prototype&&(Ce=function g(pe){return v.from(pe)}(Ce)),Ee)ce.endEmitted?be(pe,new W):$(pe,ce,Ce,!0);else if(ce.ended)be(pe,new ae);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!dt?(Ce=ce.decoder.write(Ce),ce.objectMode||0!==Ce.length?$(pe,ce,Ce,!1):Oe(pe,ce)):$(pe,ce,Ce,!1)}else Ee||(ce.reading=!1,Oe(pe,ce));return!ce.ended&&(ce.length<ce.highWaterMark||0===ce.length)}function $(pe,Ce,dt,Ee){Ce.flowing&&0===Ce.length&&!Ce.sync?(Ce.awaitDrain=0,pe.emit("data",dt)):(Ce.length+=Ce.objectMode?1:dt.length,Ee?Ce.buffer.unshift(dt):Ce.buffer.push(dt),Ce.needReadable&&Ne(pe)),Oe(pe,Ce)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Ce){this._readableState&&(this._readableState.destroyed=Ce)}}),C.prototype.destroy=L.destroy,C.prototype._undestroy=L.undestroy,C.prototype._destroy=function(pe,Ce){Ce(pe)},C.prototype.push=function(pe,Ce){var Ee,dt=this._readableState;return dt.objectMode?Ee=!0:"string"==typeof pe&&((Ce=Ce||dt.defaultEncoding)!==dt.encoding&&(pe=v.from(pe,Ce),Ce=""),Ee=!0),I(this,pe,Ce,!1,Ee)},C.prototype.unshift=function(pe){return I(this,pe,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(pe){J||(J=S(4547).s);var Ce=new J(pe);this._readableState.decoder=Ce,this._readableState.encoding=this._readableState.decoder.encoding;for(var dt=this._readableState.buffer.head,Ee="";null!==dt;)Ee+=Ce.write(dt.data),dt=dt.next;return this._readableState.buffer.clear(),""!==Ee&&this._readableState.buffer.push(Ee),this._readableState.length=Ee.length,this};var X=1073741824;function De(pe,Ce){return pe<=0||0===Ce.length&&Ce.ended?0:Ce.objectMode?1:pe!=pe?Ce.flowing&&Ce.length?Ce.buffer.head.data.length:Ce.length:(pe>Ce.highWaterMark&&(Ce.highWaterMark=function fe(pe){return pe>=X?pe=X:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}(pe)),pe<=Ce.length?pe:Ce.ended?Ce.length:(Ce.needReadable=!0,0))}function Ne(pe){var Ce=pe._readableState;O("emitReadable",Ce.needReadable,Ce.emittedReadable),Ce.needReadable=!1,Ce.emittedReadable||(O("emitReadable",Ce.flowing),Ce.emittedReadable=!0,process.nextTick(at,pe))}function at(pe){var Ce=pe._readableState;O("emitReadable_",Ce.destroyed,Ce.length,Ce.ended),!Ce.destroyed&&(Ce.length||Ce.ended)&&(pe.emit("readable"),Ce.emittedReadable=!1),Ce.needReadable=!Ce.flowing&&!Ce.ended&&Ce.length<=Ce.highWaterMark,me(pe)}function Oe(pe,Ce){Ce.readingMore||(Ce.readingMore=!0,process.nextTick(rt,pe,Ce))}function rt(pe,Ce){for(;!Ce.reading&&!Ce.ended&&(Ce.length<Ce.highWaterMark||Ce.flowing&&0===Ce.length);){var dt=Ce.length;if(O("maybeReadMore read 0"),pe.read(0),dt===Ce.length)break}Ce.readingMore=!1}function St(pe){var Ce=pe._readableState;Ce.readableListening=pe.listenerCount("readable")>0,Ce.resumeScheduled&&!Ce.paused?Ce.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function it(pe){O("readable nexttick read 0"),pe.read(0)}function st(pe,Ce){O("resume",Ce.reading),Ce.reading||pe.read(0),Ce.resumeScheduled=!1,pe.emit("resume"),me(pe),Ce.flowing&&!Ce.reading&&pe.read(0)}function me(pe){var Ce=pe._readableState;for(O("flow",Ce.flowing);Ce.flowing&&null!==pe.read(););}function ee(pe,Ce){return 0===Ce.length?null:(Ce.objectMode?dt=Ce.buffer.shift():!pe||pe>=Ce.length?(dt=Ce.decoder?Ce.buffer.join(""):1===Ce.buffer.length?Ce.buffer.first():Ce.buffer.concat(Ce.length),Ce.buffer.clear()):dt=Ce.buffer.consume(pe,Ce.decoder),dt);var dt}function se(pe){var Ce=pe._readableState;O("endReadable",Ce.endEmitted),Ce.endEmitted||(Ce.ended=!0,process.nextTick(Re,Ce,pe))}function Re(pe,Ce){if(O("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,Ce.readable=!1,Ce.emit("end"),pe.autoDestroy)){var dt=Ce._writableState;(!dt||dt.autoDestroy&&dt.finished)&&Ce.destroy()}}function Ze(pe,Ce){for(var dt=0,Ee=pe.length;dt<Ee;dt++)if(pe[dt]===Ce)return dt;return-1}C.prototype.read=function(pe){O("read",pe),pe=parseInt(pe,10);var Ce=this._readableState,dt=pe;if(0!==pe&&(Ce.emittedReadable=!1),0===pe&&Ce.needReadable&&((0!==Ce.highWaterMark?Ce.length>=Ce.highWaterMark:Ce.length>0)||Ce.ended))return O("read: emitReadable",Ce.length,Ce.ended),0===Ce.length&&Ce.ended?se(this):Ne(this),null;if(0===(pe=De(pe,Ce))&&Ce.ended)return 0===Ce.length&&se(this),null;var le,Ee=Ce.needReadable;return O("need readable",Ee),(0===Ce.length||Ce.length-pe<Ce.highWaterMark)&&O("length less than watermark",Ee=!0),Ce.ended||Ce.reading?O("reading or ended",Ee=!1):Ee&&(O("do read"),Ce.reading=!0,Ce.sync=!0,0===Ce.length&&(Ce.needReadable=!0),this._read(Ce.highWaterMark),Ce.sync=!1,Ce.reading||(pe=De(dt,Ce))),null===(le=pe>0?ee(pe,Ce):null)?(Ce.needReadable=Ce.length<=Ce.highWaterMark,pe=0):(Ce.length-=pe,Ce.awaitDrain=0),0===Ce.length&&(Ce.ended||(Ce.needReadable=!0),dt!==pe&&Ce.ended&&se(this)),null!==le&&this.emit("data",le),le},C.prototype._read=function(pe){be(this,new q("_read()"))},C.prototype.pipe=function(pe,Ce){var dt=this,Ee=this._readableState;switch(Ee.pipesCount){case 0:Ee.pipes=pe;break;case 1:Ee.pipes=[Ee.pipes,pe];break;default:Ee.pipes.push(pe)}Ee.pipesCount+=1,O("pipe count=%d opts=%j",Ee.pipesCount,Ce);var ce=Ce&&!1===Ce.end||pe===process.stdout||pe===process.stderr?Ie:ut;function ut(){O("onend"),pe.end()}Ee.endEmitted?process.nextTick(ce):dt.once("end",ce),pe.on("unpipe",function Fe(Qr,yr){O("onunpipe"),Qr===dt&&yr&&!1===yr.hasUnpiped&&(yr.hasUnpiped=!0,function Wt(){O("cleanup"),pe.removeListener("close",ir),pe.removeListener("finish",jn),pe.removeListener("drain",Nt),pe.removeListener("error",tn),pe.removeListener("unpipe",Fe),dt.removeListener("end",ut),dt.removeListener("end",Ie),dt.removeListener("data",mn),Mt=!0,Ee.awaitDrain&&(!pe._writableState||pe._writableState.needDrain)&&Nt()}())});var Nt=function et(pe){return function(){var dt=pe._readableState;O("pipeOnDrain",dt.awaitDrain),dt.awaitDrain&&dt.awaitDrain--,0===dt.awaitDrain&&j(pe,"data")&&(dt.flowing=!0,me(pe))}}(dt);pe.on("drain",Nt);var Mt=!1;function mn(Qr){O("ondata");var yr=pe.write(Qr);O("dest.write",yr),!1===yr&&((1===Ee.pipesCount&&Ee.pipes===pe||Ee.pipesCount>1&&-1!==Ze(Ee.pipes,pe))&&!Mt&&(O("false write response, pause",Ee.awaitDrain),Ee.awaitDrain++),dt.pause())}function tn(Qr){O("onerror",Qr),Ie(),pe.removeListener("error",tn),0===j(pe,"error")&&be(pe,Qr)}function ir(){pe.removeListener("finish",jn),Ie()}function jn(){O("onfinish"),pe.removeListener("close",ir),Ie()}function Ie(){O("unpipe"),dt.unpipe(pe)}return dt.on("data",mn),function x(pe,Ce,dt){if("function"==typeof pe.prependListener)return pe.prependListener(Ce,dt);pe._events&&pe._events[Ce]?Array.isArray(pe._events[Ce])?pe._events[Ce].unshift(dt):pe._events[Ce]=[dt,pe._events[Ce]]:pe.on(Ce,dt)}(pe,"error",tn),pe.once("close",ir),pe.once("finish",jn),pe.emit("pipe",dt),Ee.flowing||(O("pipe resume"),dt.resume()),pe},C.prototype.unpipe=function(pe){var Ce=this._readableState,dt={hasUnpiped:!1};if(0===Ce.pipesCount)return this;if(1===Ce.pipesCount)return pe&&pe!==Ce.pipes||(pe||(pe=Ce.pipes),Ce.pipes=null,Ce.pipesCount=0,Ce.flowing=!1,pe&&pe.emit("unpipe",this,dt)),this;if(!pe){var Ee=Ce.pipes,le=Ce.pipesCount;Ce.pipes=null,Ce.pipesCount=0,Ce.flowing=!1;for(var ce=0;ce<le;ce++)Ee[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var Fe=Ze(Ce.pipes,pe);return-1===Fe||(Ce.pipes.splice(Fe,1),Ce.pipesCount-=1,1===Ce.pipesCount&&(Ce.pipes=Ce.pipes[0]),pe.emit("unpipe",this,dt)),this},C.prototype.addListener=C.prototype.on=function(pe,Ce){var dt=o.prototype.on.call(this,pe,Ce),Ee=this._readableState;return"data"===pe?(Ee.readableListening=this.listenerCount("readable")>0,!1!==Ee.flowing&&this.resume()):"readable"===pe&&!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.flowing=!1,Ee.emittedReadable=!1,O("on readable",Ee.length,Ee.reading),Ee.length?Ne(this):Ee.reading||process.nextTick(it,this)),dt},C.prototype.removeListener=function(pe,Ce){var dt=o.prototype.removeListener.call(this,pe,Ce);return"readable"===pe&&process.nextTick(St,this),dt},C.prototype.removeAllListeners=function(pe){var Ce=o.prototype.removeAllListeners.apply(this,arguments);return("readable"===pe||void 0===pe)&&process.nextTick(St,this),Ce},C.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(O("resume"),pe.flowing=!pe.readableListening,function Ve(pe,Ce){Ce.resumeScheduled||(Ce.resumeScheduled=!0,process.nextTick(st,pe,Ce))}(this,pe)),pe.paused=!1,this},C.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(pe){var Ce=this,dt=this._readableState,Ee=!1;for(var le in pe.on("end",function(){if(O("wrapped end"),dt.decoder&&!dt.ended){var Fe=dt.decoder.end();Fe&&Fe.length&&Ce.push(Fe)}Ce.push(null)}),pe.on("data",function(Fe){O("wrapped data"),dt.decoder&&(Fe=dt.decoder.write(Fe)),dt.objectMode&&null==Fe||!(dt.objectMode||Fe&&Fe.length)||Ce.push(Fe)||(Ee=!0,pe.pause())}),pe)void 0===this[le]&&"function"==typeof pe[le]&&(this[le]=function(ut){return function(){return pe[ut].apply(pe,arguments)}}(le));for(var ce=0;ce<ge.length;ce++)pe.on(ge[ce],this.emit.bind(this,ge[ce]));return this._read=function(Fe){O("wrapped _read",Fe),Ee&&(Ee=!1,pe.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===de&&(de=S(8878)),de(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ce){this._readableState&&(this._readableState.flowing=Ce)}}),C._fromList=ee,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(pe,Ce){return void 0===_e&&(_e=S(9586)),_e(C,pe,Ce)})},869:(ve,Z,S)=>{ve.exports=_;var M=S(3803).q,H=M.ERR_METHOD_NOT_IMPLEMENTED,j=M.ERR_MULTIPLE_CALLBACK,o=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=M.ERR_TRANSFORM_WITH_LENGTH_0,h=S(6124);function g(F,L){var U=this._transformState;U.transforming=!1;var z=U.writecb;if(null===z)return this.emit("error",new j);U.writechunk=null,U.writecb=null,null!=L&&this.push(L),z(F);var Q=this._readableState;Q.reading=!1,(Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}function _(F){if(!(this instanceof _))return new _(F);h.call(this,F),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",w)}function w(){var F=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(L,U){O(F,L,U)})}function O(F,L,U){if(L)return F.emit("error",L);if(null!=U&&F.push(U),F._writableState.length)throw new v;if(F._transformState.transforming)throw new o;return F.push(null)}S(5035)(_,h),_.prototype.push=function(F,L){return this._transformState.needTransform=!1,h.prototype.push.call(this,F,L)},_.prototype._transform=function(F,L,U){U(new H("_transform()"))},_.prototype._write=function(F,L,U){var z=this._transformState;if(z.writecb=U,z.writechunk=F,z.writeencoding=L,!z.transforming){var Q=this._readableState;(z.needTransform||Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}},_.prototype._read=function(F){var L=this._transformState;null===L.writechunk||L.transforming?L.needTransform=!0:(L.transforming=!0,this._transform(L.writechunk,L.writeencoding,L.afterTransform))},_.prototype._destroy=function(F,L){h.prototype._destroy.call(this,F,function(U){L(U)})}},6480:(ve,Z,S)=>{function H(me){var ee=this;this.next=null,this.entry=null,this.finish=function(){!function st(me,ee,se){var Re=me.entry;for(me.entry=null;Re;){var Ze=Re.callback;ee.pendingcb--,Ze(se),Re=Re.next}ee.corkedRequestsFree.next=me}(ee,me)}}var j;ve.exports=A,A.WritableState=ge;var x,o={deprecate:S(8059)},v=S(5628),h=S(3195).Buffer,g=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=S(5767),L=S(8003).getHighWaterMark,U=S(3803).q,z=U.ERR_INVALID_ARG_TYPE,Q=U.ERR_METHOD_NOT_IMPLEMENTED,Y=U.ERR_MULTIPLE_CALLBACK,ae=U.ERR_STREAM_CANNOT_PIPE,q=U.ERR_STREAM_DESTROYED,W=U.ERR_STREAM_NULL_VALUES,J=U.ERR_STREAM_WRITE_AFTER_END,de=U.ERR_UNKNOWN_ENCODING,_e=O.errorOrDestroy;function be(){}function ge(me,ee,se){j=j||S(6124),"boolean"!=typeof se&&(se=ee instanceof j),this.objectMode=!!(me=me||{}).objectMode,se&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=L(this,me,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===me.decodeStrings),this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ze){!function re(me,ee){var se=me._writableState,Re=se.sync,Ze=se.writecb;if("function"!=typeof Ze)throw new Y;if(function De(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}(se),ee)!function fe(me,ee,se,Re,Ze){--ee.pendingcb,se?(process.nextTick(Ze,Re),process.nextTick(it,me,ee),me._writableState.errorEmitted=!0,_e(me,Re)):(Ze(Re),me._writableState.errorEmitted=!0,_e(me,Re),it(me,ee))}(me,se,Re,ee,Ze);else{var pe=rt(se)||me.destroyed;!pe&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&Oe(me,se),Re?process.nextTick(Ne,me,se,pe,Ze):Ne(me,se,pe,Ze)}}(ee,Ze)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==me.emitClose,this.autoDestroy=!!me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function A(me){var ee=this instanceof(j=j||S(6124));if(!ee&&!x.call(A,this))return new A(me);this._writableState=new ge(me,this,ee),this.writable=!0,me&&("function"==typeof me.write&&(this._write=me.write),"function"==typeof me.writev&&(this._writev=me.writev),"function"==typeof me.destroy&&(this._destroy=me.destroy),"function"==typeof me.final&&(this._final=me.final)),v.call(this)}function X(me,ee,se,Re,Ze,pe,Ce){ee.writelen=Re,ee.writecb=Ce,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new q("write")):se?me._writev(Ze,ee.onwrite):me._write(Ze,pe,ee.onwrite),ee.sync=!1}function Ne(me,ee,se,Re){se||function at(me,ee){0===ee.length&&ee.needDrain&&(ee.needDrain=!1,me.emit("drain"))}(me,ee),ee.pendingcb--,Re(),it(me,ee)}function Oe(me,ee){ee.bufferProcessing=!0;var se=ee.bufferedRequest;if(me._writev&&se&&se.next){var Ze=new Array(ee.bufferedRequestCount),pe=ee.corkedRequestsFree;pe.entry=se;for(var Ce=0,dt=!0;se;)Ze[Ce]=se,se.isBuf||(dt=!1),se=se.next,Ce+=1;Ze.allBuffers=dt,X(me,ee,!0,ee.length,Ze,"",pe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,pe.next?(ee.corkedRequestsFree=pe.next,pe.next=null):ee.corkedRequestsFree=new H(ee),ee.bufferedRequestCount=0}else{for(;se;){var Ee=se.chunk;if(X(me,ee,!1,ee.objectMode?1:Ee.length,Ee,se.encoding,se.callback),se=se.next,ee.bufferedRequestCount--,ee.writing)break}null===se&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=se,ee.bufferProcessing=!1}function rt(me){return me.ending&&0===me.length&&null===me.bufferedRequest&&!me.finished&&!me.writing}function et(me,ee){me._final(function(se){ee.pendingcb--,se&&_e(me,se),ee.prefinished=!0,me.emit("prefinish"),it(me,ee)})}function it(me,ee){var se=rt(ee);if(se&&(function St(me,ee){!ee.prefinished&&!ee.finalCalled&&("function"!=typeof me._final||ee.destroyed?(ee.prefinished=!0,me.emit("prefinish")):(ee.pendingcb++,ee.finalCalled=!0,process.nextTick(et,me,ee)))}(me,ee),0===ee.pendingcb&&(ee.finished=!0,me.emit("finish"),ee.autoDestroy))){var Re=me._readableState;(!Re||Re.autoDestroy&&Re.endEmitted)&&me.destroy()}return se}S(5035)(A,v),ge.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,se=[];ee;)se.push(ee),ee=ee.next;return se},function(){try{Object.defineProperty(ge.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(ee){return!!x.call(this,ee)||this===A&&ee&&ee._writableState instanceof ge}})):x=function(ee){return ee instanceof this},A.prototype.pipe=function(){_e(this,new ae)},A.prototype.write=function(me,ee,se){var Re=this._writableState,Ze=!1,pe=!Re.objectMode&&function w(me){return h.isBuffer(me)||me instanceof g}(me);return pe&&!h.isBuffer(me)&&(me=function _(me){return h.from(me)}(me)),"function"==typeof ee&&(se=ee,ee=null),pe?ee="buffer":ee||(ee=Re.defaultEncoding),"function"!=typeof se&&(se=be),Re.ending?function C(me,ee){var se=new J;_e(me,se),process.nextTick(ee,se)}(this,se):(pe||function I(me,ee,se,Re){var Ze;return null===se?Ze=new W:"string"!=typeof se&&!ee.objectMode&&(Ze=new z("chunk",["string","Buffer"],se)),!Ze||(_e(me,Ze),process.nextTick(Re,Ze),!1)}(this,Re,me,se))&&(Re.pendingcb++,Ze=function T(me,ee,se,Re,Ze,pe){if(!se){var Ce=function $(me,ee,se){return!me.objectMode&&!1!==me.decodeStrings&&"string"==typeof ee&&(ee=h.from(ee,se)),ee}(ee,Re,Ze);Re!==Ce&&(se=!0,Ze="buffer",Re=Ce)}var dt=ee.objectMode?1:Re.length;ee.length+=dt;var Ee=ee.length<ee.highWaterMark;if(Ee||(ee.needDrain=!0),ee.writing||ee.corked){var le=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:Re,encoding:Ze,isBuf:se,callback:pe,next:null},le?le.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else X(me,ee,!1,dt,Re,Ze,pe);return Ee}(this,Re,pe,me,ee,se)),Ze},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&Oe(this,me))},A.prototype.setDefaultEncoding=function(ee){if("string"==typeof ee&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new de(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(me,ee,se){se(new Q("_write()"))},A.prototype._writev=null,A.prototype.end=function(me,ee,se){var Re=this._writableState;return"function"==typeof me?(se=me,me=null,ee=null):"function"==typeof ee&&(se=ee,ee=null),null!=me&&this.write(me,ee),Re.corked&&(Re.corked=1,this.uncork()),Re.ending||function Ve(me,ee,se){ee.ending=!0,it(me,ee),se&&(ee.finished?process.nextTick(se):me.once("finish",se)),ee.ended=!0,me.writable=!1}(this,Re,se),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),A.prototype.destroy=O.destroy,A.prototype._undestroy=O.undestroy,A.prototype._destroy=function(me,ee){ee(me)}},8878:(ve,Z,S)=>{var M;function H(J,de,_e){return de=function j(J){var de=function o(J,de){if("object"!=typeof J||null===J)return J;var _e=J[Symbol.toPrimitive];if(void 0!==_e){var be=_e.call(J,de||"default");if("object"!=typeof be)return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(J)}(J,"string");return"symbol"==typeof de?de:String(de)}(de),de in J?Object.defineProperty(J,de,{value:_e,enumerable:!0,configurable:!0,writable:!0}):J[de]=_e,J}var v=S(8938),h=Symbol("lastResolve"),g=Symbol("lastReject"),_=Symbol("error"),w=Symbol("ended"),O=Symbol("lastPromise"),F=Symbol("handlePromise"),L=Symbol("stream");function U(J,de){return{value:J,done:de}}function z(J){var de=J[h];if(null!==de){var _e=J[L].read();null!==_e&&(J[O]=null,J[h]=null,J[g]=null,de(U(_e,!1)))}}function Q(J){process.nextTick(z,J)}var ae=Object.getPrototypeOf(function(){}),q=Object.setPrototypeOf((H(M={get stream(){return this[L]},next:function(){var de=this,_e=this[_];if(null!==_e)return Promise.reject(_e);if(this[w])return Promise.resolve(U(void 0,!0));if(this[L].destroyed)return new Promise(function(A,C){process.nextTick(function(){de[_]?C(de[_]):A(U(void 0,!0))})});var ge,be=this[O];if(be)ge=new Promise(function Y(J,de){return function(_e,be){J.then(function(){de[w]?_e(U(void 0,!0)):de[F](_e,be)},be)}}(be,this));else{var x=this[L].read();if(null!==x)return Promise.resolve(U(x,!1));ge=new Promise(this[F])}return this[O]=ge,ge}},Symbol.asyncIterator,function(){return this}),H(M,"return",function(){var de=this;return new Promise(function(_e,be){de[L].destroy(null,function(ge){ge?be(ge):_e(U(void 0,!0))})})}),M),ae);ve.exports=function(de){var _e,be=Object.create(q,(H(_e={},L,{value:de,writable:!0}),H(_e,h,{value:null,writable:!0}),H(_e,g,{value:null,writable:!0}),H(_e,_,{value:null,writable:!0}),H(_e,w,{value:de._readableState.endEmitted,writable:!0}),H(_e,F,{value:function(x,A){var C=be[L].read();C?(be[O]=null,be[h]=null,be[g]=null,x(U(C,!1))):(be[h]=x,be[g]=A)},writable:!0}),_e));return be[O]=null,v(de,function(ge){if(ge&&"ERR_STREAM_PREMATURE_CLOSE"!==ge.code){var x=be[g];return null!==x&&(be[O]=null,be[h]=null,be[g]=null,x(ge)),void(be[_]=ge)}var A=be[h];null!==A&&(be[O]=null,be[h]=null,be[g]=null,A(U(void 0,!0))),be[w]=!0}),de.on("readable",Q.bind(null,be)),be}},8197:(ve,Z,S)=>{function M(Q,Y){var ae=Object.keys(Q);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(Q);Y&&(q=q.filter(function(W){return Object.getOwnPropertyDescriptor(Q,W).enumerable})),ae.push.apply(ae,q)}return ae}function H(Q){for(var Y=1;Y<arguments.length;Y++){var ae=null!=arguments[Y]?arguments[Y]:{};Y%2?M(Object(ae),!0).forEach(function(q){j(Q,q,ae[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ae)):M(Object(ae)).forEach(function(q){Object.defineProperty(Q,q,Object.getOwnPropertyDescriptor(ae,q))})}return Q}function j(Q,Y,ae){return(Y=g(Y))in Q?Object.defineProperty(Q,Y,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Q[Y]=ae,Q}function v(Q,Y){for(var ae=0;ae<Y.length;ae++){var q=Y[ae];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,g(q.key),q)}}function g(Q){var Y=function _(Q,Y){if("object"!=typeof Q||null===Q)return Q;var ae=Q[Symbol.toPrimitive];if(void 0!==ae){var q=ae.call(Q,Y||"default");if("object"!=typeof q)return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Y?String:Number)(Q)}(Q,"string");return"symbol"==typeof Y?Y:String(Y)}var O=S(3195).Buffer,L=S(9862).inspect,U=L&&L.custom||"inspect";function z(Q,Y,ae){O.prototype.copy.call(Q,Y,ae)}ve.exports=function(){function Q(){(function o(Q,Y){if(!(Q instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,Q),this.head=null,this.tail=null,this.length=0}return function h(Q,Y,ae){Y&&v(Q.prototype,Y),ae&&v(Q,ae),Object.defineProperty(Q,"prototype",{writable:!1})}(Q,[{key:"push",value:function(ae){var q={data:ae,next:null};this.length>0?this.tail.next=q:this.head=q,this.tail=q,++this.length}},{key:"unshift",value:function(ae){var q={data:ae,next:this.head};0===this.length&&(this.tail=q),this.head=q,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ae=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,ae}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ae){if(0===this.length)return"";for(var q=this.head,W=""+q.data;q=q.next;)W+=ae+q.data;return W}},{key:"concat",value:function(ae){if(0===this.length)return O.alloc(0);for(var q=O.allocUnsafe(ae>>>0),W=this.head,J=0;W;)z(W.data,q,J),J+=W.data.length,W=W.next;return q}},{key:"consume",value:function(ae,q){var W;return ae<this.head.data.length?(W=this.head.data.slice(0,ae),this.head.data=this.head.data.slice(ae)):W=ae===this.head.data.length?this.shift():q?this._getString(ae):this._getBuffer(ae),W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ae){var q=this.head,W=1,J=q.data;for(ae-=J.length;q=q.next;){var de=q.data,_e=ae>de.length?de.length:ae;if(J+=_e===de.length?de:de.slice(0,ae),0==(ae-=_e)){_e===de.length?(++W,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=de.slice(_e));break}++W}return this.length-=W,J}},{key:"_getBuffer",value:function(ae){var q=O.allocUnsafe(ae),W=this.head,J=1;for(W.data.copy(q),ae-=W.data.length;W=W.next;){var de=W.data,_e=ae>de.length?de.length:ae;if(de.copy(q,q.length-ae,0,_e),0==(ae-=_e)){_e===de.length?(++J,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=de.slice(_e));break}++J}return this.length-=J,q}},{key:U,value:function(ae,q){return L(this,H(H({},q),{},{depth:0,customInspect:!1}))}}]),Q}()},5767:ve=>{function S(v,h){j(v,h),M(v)}function M(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function j(v,h){v.emit("error",h)}ve.exports={destroy:function Z(v,h){var g=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(h?h(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(j,this,v)):process.nextTick(j,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(O){!h&&O?g._writableState?g._writableState.errorEmitted?process.nextTick(M,g):(g._writableState.errorEmitted=!0,process.nextTick(S,g,O)):process.nextTick(S,g,O):h?(process.nextTick(M,g),h(O)):process.nextTick(M,g)}),this)},undestroy:function H(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function o(v,h){var g=v._readableState,_=v._writableState;g&&g.autoDestroy||_&&_.autoDestroy?v.destroy(h):v.emit("error",h)}}},8938:(ve,Z,S)=>{var M=S(3803).q.ERR_STREAM_PREMATURE_CLOSE;function j(){}ve.exports=function v(h,g,_){if("function"==typeof g)return v(h,null,g);g||(g={}),_=function H(h){var g=!1;return function(){if(!g){g=!0;for(var _=arguments.length,w=new Array(_),O=0;O<_;O++)w[O]=arguments[O];h.apply(this,w)}}}(_||j);var w=g.readable||!1!==g.readable&&h.readable,O=g.writable||!1!==g.writable&&h.writable,F=function(){h.writable||U()},L=h._writableState&&h._writableState.finished,U=function(){O=!1,L=!0,w||_.call(h)},z=h._readableState&&h._readableState.endEmitted,Q=function(){w=!1,z=!0,O||_.call(h)},Y=function(J){_.call(h,J)},ae=function(){var J;return w&&!z?((!h._readableState||!h._readableState.ended)&&(J=new M),_.call(h,J)):O&&!L?((!h._writableState||!h._writableState.ended)&&(J=new M),_.call(h,J)):void 0},q=function(){h.req.on("finish",U)};return function o(h){return h.setHeader&&"function"==typeof h.abort}(h)?(h.on("complete",U),h.on("abort",ae),h.req?q():h.on("request",q)):O&&!h._writableState&&(h.on("end",F),h.on("close",F)),h.on("end",Q),h.on("finish",U),!1!==g.error&&h.on("error",Y),h.on("close",ae),function(){h.removeListener("complete",U),h.removeListener("abort",ae),h.removeListener("request",q),h.req&&h.req.removeListener("finish",U),h.removeListener("end",F),h.removeListener("close",F),h.removeListener("finish",U),h.removeListener("end",Q),h.removeListener("error",Y),h.removeListener("close",ae)}}},9586:ve=>{ve.exports=function(){throw new Error("Readable.from is not available in the browser")}},9719:(ve,Z,S)=>{var M,j=S(3803).q,o=j.ERR_MISSING_ARGS,v=j.ERR_STREAM_DESTROYED;function h(U){if(U)throw U}function w(U){U()}function O(U,z){return U.pipe(z)}ve.exports=function L(){for(var U=arguments.length,z=new Array(U),Q=0;Q<U;Q++)z[Q]=arguments[Q];var Y=function F(U){return U.length&&"function"==typeof U[U.length-1]?U.pop():h}(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new o("streams");var ae,q=z.map(function(W,J){var de=J<z.length-1;return function _(U,z,Q,Y){Y=function H(U){var z=!1;return function(){z||(z=!0,U.apply(void 0,arguments))}}(Y);var ae=!1;U.on("close",function(){ae=!0}),void 0===M&&(M=S(8938)),M(U,{readable:z,writable:Q},function(W){if(W)return Y(W);ae=!0,Y()});var q=!1;return function(W){if(!ae&&!q){if(q=!0,function g(U){return U.setHeader&&"function"==typeof U.abort}(U))return U.abort();if("function"==typeof U.destroy)return U.destroy();Y(W||new v("pipe"))}}}(W,de,J>0,function(be){ae||(ae=be),be&&q.forEach(w),!de&&(q.forEach(w),Y(ae))})});return z.reduce(O)}},8003:(ve,Z,S)=>{var M=S(3803).q.ERR_INVALID_OPT_VALUE;ve.exports={getHighWaterMark:function j(o,v,h,g){var _=function H(o,v,h){return null!=o.highWaterMark?o.highWaterMark:v?o[h]:null}(v,g,h);if(null!=_){if(!isFinite(_)||Math.floor(_)!==_||_<0)throw new M(g?h:"highWaterMark",_);return Math.floor(_)}return o.objectMode?16:16384}}},5628:(ve,Z,S)=>{ve.exports=S(3358).EventEmitter},4547:(ve,Z,S)=>{var M=S(7475).Buffer,H=M.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function v(q){var W;switch(this.encoding=function o(q){var W=function j(q){if(!q)return"utf8";for(var W;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(W)return;q=(""+q).toLowerCase(),W=!0}}(q);if("string"!=typeof W&&(M.isEncoding===H||!H(q)))throw new Error("Unknown encoding: "+q);return W||q}(q),this.encoding){case"utf16le":this.text=L,this.end=U,W=4;break;case"utf8":this.fillLast=w,W=4;break;case"base64":this.text=z,this.end=Q,W=3;break;default:return this.write=Y,void(this.end=ae)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(W)}function h(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function w(q){var W=this.lastTotal-this.lastNeed,J=function _(q,W,J){if(128!=(192&W[0]))return q.lastNeed=0,"\ufffd";if(q.lastNeed>1&&W.length>1){if(128!=(192&W[1]))return q.lastNeed=1,"\ufffd";if(q.lastNeed>2&&W.length>2&&128!=(192&W[2]))return q.lastNeed=2,"\ufffd"}}(this,q);return void 0!==J?J:this.lastNeed<=q.length?(q.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,W,0,q.length),void(this.lastNeed-=q.length))}function L(q,W){if((q.length-W)%2==0){var J=q.toString("utf16le",W);if(J){var de=J.charCodeAt(J.length-1);if(de>=55296&&de<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",W,q.length-1)}function U(q){var W=q&&q.length?this.write(q):"";return this.lastNeed?W+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):W}function z(q,W){var J=(q.length-W)%3;return 0===J?q.toString("base64",W):(this.lastNeed=3-J,this.lastTotal=3,1===J?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",W,q.length-J))}function Q(q){var W=q&&q.length?this.write(q):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function Y(q){return q.toString(this.encoding)}function ae(q){return q&&q.length?this.write(q):""}Z.s=v,v.prototype.write=function(q){if(0===q.length)return"";var W,J;if(this.lastNeed){if(void 0===(W=this.fillLast(q)))return"";J=this.lastNeed,this.lastNeed=0}else J=0;return J<q.length?W?W+this.text(q,J):this.text(q,J):W||""},v.prototype.end=function F(q){var W=q&&q.length?this.write(q):"";return this.lastNeed?W+"\ufffd":W},v.prototype.text=function O(q,W){var J=function g(q,W,J){var de=W.length-1;if(de<J)return 0;var _e=h(W[de]);return _e>=0?(_e>0&&(q.lastNeed=_e-1),_e):--de<J||-2===_e?0:(_e=h(W[de]))>=0?(_e>0&&(q.lastNeed=_e-2),_e):--de<J||-2===_e?0:(_e=h(W[de]))>=0?(_e>0&&(2===_e?_e=0:q.lastNeed=_e-3),_e):0}(this,q,W);if(!this.lastNeed)return q.toString("utf8",W);this.lastTotal=J;var de=q.length-(J-this.lastNeed);return q.copy(this.lastChar,0,de),q.toString("utf8",W,de)},v.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},7475:(ve,Z,S)=>{var M=S(3195),H=M.Buffer;function j(v,h){for(var g in v)h[g]=v[g]}function o(v,h,g){return H(v,h,g)}H.from&&H.alloc&&H.allocUnsafe&&H.allocUnsafeSlow?ve.exports=M:(j(M,Z),Z.Buffer=o),j(H,o),o.from=function(v,h,g){if("number"==typeof v)throw new TypeError("Argument must not be a number");return H(v,h,g)},o.alloc=function(v,h,g){if("number"!=typeof v)throw new TypeError("Argument must be a number");var _=H(v);return void 0!==h?"string"==typeof g?_.fill(h,g):_.fill(h):_.fill(0),_},o.allocUnsafe=function(v){if("number"!=typeof v)throw new TypeError("Argument must be a number");return H(v)},o.allocUnsafeSlow=function(v){if("number"!=typeof v)throw new TypeError("Argument must be a number");return M.SlowBuffer(v)}},8372:ve=>{var Z=/^[-+]?0x[a-fA-F0-9]+$/,S=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var M={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};ve.exports=function H(o){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v=Object.assign({},M,v),!o||"string"!=typeof o)return o;var h=o.trim();if(void 0!==v.skipLike&&v.skipLike.test(h))return o;if(v.hex&&Z.test(h))return Number.parseInt(h,16);var g=S.exec(h);if(g){var _=g[1],w=g[2],O=function j(o){return o&&-1!==o.indexOf(".")&&("."===(o=o.replace(/0+$/,""))?o="0":"."===o[0]?o="0"+o:"."===o[o.length-1]&&(o=o.substr(0,o.length-1))),o}(g[3]),F=g[4]||g[6];if(!v.leadingZeros&&w.length>0&&_&&"."!==h[2])return o;if(!v.leadingZeros&&w.length>0&&!_&&"."!==h[1])return o;var L=Number(h),U=""+L;return-1!==U.search(/[eE]/)||F?v.eNotation?L:o:-1!==h.indexOf(".")?"0"===U&&""===O||U===O||_&&U==="-"+O?L:o:w?O===U||_+O===U?L:o:h===U||h===_+U?L:o}return o}},8059:ve=>{function S(M){try{if(!global.localStorage)return!1}catch{return!1}var H=global.localStorage[M];return null!=H&&"true"===String(H).toLowerCase()}ve.exports=function Z(M,H){if(S("noDeprecation"))return M;var j=!1;return function o(){if(!j){if(S("throwDeprecation"))throw new Error(H);S("traceDeprecation")?console.trace(H):console.warn(H),j=!0}return M.apply(this,arguments)}}},2361:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},70:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},9055:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},7994:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},8952:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},1707:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},9106:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},5298:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},9904:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},7716:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},6187:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},8798:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},2220:(ve,Z,S)=>{S.r(Z),S.d(Z,{__assign:()=>j,__asyncDelegator:()=>q,__asyncGenerator:()=>ae,__asyncValues:()=>W,__await:()=>Y,__awaiter:()=>_,__classPrivateFieldGet:()=>be,__classPrivateFieldSet:()=>ge,__createBinding:()=>O,__decorate:()=>v,__exportStar:()=>F,__extends:()=>H,__generator:()=>w,__importDefault:()=>_e,__importStar:()=>de,__makeTemplateObject:()=>J,__metadata:()=>g,__param:()=>h,__read:()=>U,__rest:()=>o,__spread:()=>z,__spreadArrays:()=>Q,__values:()=>L});var M=function(x,A){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,I){C.__proto__=I}||function(C,I){for(var $ in I)I.hasOwnProperty($)&&(C[$]=I[$])})(x,A)};function H(x,A){function C(){this.constructor=x}M(x,A),x.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}var j=function(){return j=Object.assign||function(A){for(var C,I=1,$=arguments.length;I<$;I++)for(var T in C=arguments[I])Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T]);return A},j.apply(this,arguments)};function o(x,A){var C={};for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&A.indexOf(I)<0&&(C[I]=x[I]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(I=Object.getOwnPropertySymbols(x);$<I.length;$++)A.indexOf(I[$])<0&&Object.prototype.propertyIsEnumerable.call(x,I[$])&&(C[I[$]]=x[I[$]])}return C}function v(x,A,C,I){var X,$=arguments.length,T=$<3?A:null===I?I=Object.getOwnPropertyDescriptor(A,C):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(x,A,C,I);else for(var fe=x.length-1;fe>=0;fe--)(X=x[fe])&&(T=($<3?X(T):$>3?X(A,C,T):X(A,C))||T);return $>3&&T&&Object.defineProperty(A,C,T),T}function h(x,A){return function(C,I){A(C,I,x)}}function g(x,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(x,A)}function _(x,A,C,I){return new(C||(C=Promise))(function(T,X){function fe(Ne){try{re(I.next(Ne))}catch(at){X(at)}}function De(Ne){try{re(I.throw(Ne))}catch(at){X(at)}}function re(Ne){Ne.done?T(Ne.value):function $(T){return T instanceof C?T:new C(function(X){X(T)})}(Ne.value).then(fe,De)}re((I=I.apply(x,A||[])).next())})}function w(x,A){var I,$,T,X,C={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return X={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X;function fe(re){return function(Ne){return function De(re){if(I)throw new TypeError("Generator is already executing.");for(;C;)try{if(I=1,$&&(T=2&re[0]?$.return:re[0]?$.throw||((T=$.return)&&T.call($),0):$.next)&&!(T=T.call($,re[1])).done)return T;switch($=0,T&&(re=[2&re[0],T.value]),re[0]){case 0:case 1:T=re;break;case 4:return C.label++,{value:re[1],done:!1};case 5:C.label++,$=re[1],re=[0];continue;case 7:re=C.ops.pop(),C.trys.pop();continue;default:if(!(T=(T=C.trys).length>0&&T[T.length-1])&&(6===re[0]||2===re[0])){C=0;continue}if(3===re[0]&&(!T||re[1]>T[0]&&re[1]<T[3])){C.label=re[1];break}if(6===re[0]&&C.label<T[1]){C.label=T[1],T=re;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(re);break}T[2]&&C.ops.pop(),C.trys.pop();continue}re=A.call(x,C)}catch(Ne){re=[6,Ne],$=0}finally{I=T=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([re,Ne])}}}function O(x,A,C,I){void 0===I&&(I=C),x[I]=A[C]}function F(x,A){for(var C in x)"default"!==C&&!A.hasOwnProperty(C)&&(A[C]=x[C])}function L(x){var A="function"==typeof Symbol&&Symbol.iterator,C=A&&x[A],I=0;if(C)return C.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&I>=x.length&&(x=void 0),{value:x&&x[I++],done:!x}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(x,A){var C="function"==typeof Symbol&&x[Symbol.iterator];if(!C)return x;var $,X,I=C.call(x),T=[];try{for(;(void 0===A||A-- >0)&&!($=I.next()).done;)T.push($.value)}catch(fe){X={error:fe}}finally{try{$&&!$.done&&(C=I.return)&&C.call(I)}finally{if(X)throw X.error}}return T}function z(){for(var x=[],A=0;A<arguments.length;A++)x=x.concat(U(arguments[A]));return x}function Q(){for(var x=0,A=0,C=arguments.length;A<C;A++)x+=arguments[A].length;var I=Array(x),$=0;for(A=0;A<C;A++)for(var T=arguments[A],X=0,fe=T.length;X<fe;X++,$++)I[$]=T[X];return I}function Y(x){return this instanceof Y?(this.v=x,this):new Y(x)}function ae(x,A,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,I=C.apply(x,A||[]),T=[];return $={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$;function X(Oe){I[Oe]&&($[Oe]=function(rt){return new Promise(function(et,St){T.push([Oe,rt,et,St])>1||fe(Oe,rt)})})}function fe(Oe,rt){try{!function De(Oe){Oe.value instanceof Y?Promise.resolve(Oe.value.v).then(re,Ne):at(T[0][2],Oe)}(I[Oe](rt))}catch(et){at(T[0][3],et)}}function re(Oe){fe("next",Oe)}function Ne(Oe){fe("throw",Oe)}function at(Oe,rt){Oe(rt),T.shift(),T.length&&fe(T[0][0],T[0][1])}}function q(x){var A,C;return A={},I("next"),I("throw",function($){throw $}),I("return"),A[Symbol.iterator]=function(){return this},A;function I($,T){A[$]=x[$]?function(X){return(C=!C)?{value:Y(x[$](X)),done:"return"===$}:T?T(X):X}:T}}function W(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=x[Symbol.asyncIterator];return A?A.call(x):(x=L(x),C={},I("next"),I("throw"),I("return"),C[Symbol.asyncIterator]=function(){return this},C);function I(T){C[T]=x[T]&&function(X){return new Promise(function(fe,De){!function $(T,X,fe,De){Promise.resolve(De).then(function(re){T({value:re,done:fe})},X)}(fe,De,(X=x[T](X)).done,X.value)})}}}function J(x,A){return Object.defineProperty?Object.defineProperty(x,"raw",{value:A}):x.raw=A,x}function de(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var C in x)Object.hasOwnProperty.call(x,C)&&(A[C]=x[C]);return A.default=x,A}function _e(x){return x&&x.__esModule?x:{default:x}}function be(x,A){if(!A.has(x))throw new TypeError("attempted to get private field on non-instance");return A.get(x)}function ge(x,A,C){if(!A.has(x))throw new TypeError("attempted to set private field on non-instance");return A.set(x,C),C}},4287:()=>{},6989:()=>{},4654:()=>{},9862:()=>{},964:()=>{},2195:ve=>{ve.exports=function Z(S,M){(null==M||M>S.length)&&(M=S.length);for(var H=0,j=new Array(M);H<M;H++)j[H]=S[H];return j},ve.exports.__esModule=!0,ve.exports.default=ve.exports},4156:ve=>{ve.exports=function Z(S){if(Array.isArray(S))return S},ve.exports.__esModule=!0,ve.exports.default=ve.exports},5664:ve=>{ve.exports=function Z(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")},ve.exports.__esModule=!0,ve.exports.default=ve.exports},6996:(ve,Z,S)=>{var M=S(7588);function H(o,v){for(var h=0;h<v.length;h++){var g=v[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,M(g.key),g)}}ve.exports=function j(o,v,h){return v&&H(o.prototype,v),h&&H(o,h),Object.defineProperty(o,"prototype",{writable:!1}),o},ve.exports.__esModule=!0,ve.exports.default=ve.exports},9482:(ve,Z,S)=>{var M=S(7588);ve.exports=function H(j,o,v){return(o=M(o))in j?Object.defineProperty(j,o,{value:v,enumerable:!0,configurable:!0,writable:!0}):j[o]=v,j},ve.exports.__esModule=!0,ve.exports.default=ve.exports},2956:ve=>{ve.exports=function Z(S,M){var H=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=H){var j,o,v,h,g=[],_=!0,w=!1;try{if(v=(H=H.call(S)).next,0===M){if(Object(H)!==H)return;_=!1}else for(;!(_=(j=v.call(H)).done)&&(g.push(j.value),g.length!==M);_=!0);}catch(O){w=!0,o=O}finally{try{if(!_&&null!=H.return&&(h=H.return(),Object(h)!==h))return}finally{if(w)throw o}}return g}},ve.exports.__esModule=!0,ve.exports.default=ve.exports},8110:ve=>{ve.exports=function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},ve.exports.__esModule=!0,ve.exports.default=ve.exports},3667:(ve,Z,S)=>{var M=S(4156),H=S(2956),j=S(6780),o=S(8110);ve.exports=function v(h,g){return M(h)||H(h,g)||j(h,g)||o()},ve.exports.__esModule=!0,ve.exports.default=ve.exports},6977:(ve,Z,S)=>{var M=S(3881).default;ve.exports=function H(j,o){if("object"!==M(j)||null===j)return j;var v=j[Symbol.toPrimitive];if(void 0!==v){var h=v.call(j,o||"default");if("object"!==M(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(j)},ve.exports.__esModule=!0,ve.exports.default=ve.exports},7588:(ve,Z,S)=>{var M=S(3881).default,H=S(6977);ve.exports=function j(o){var v=H(o,"string");return"symbol"===M(v)?v:String(v)},ve.exports.__esModule=!0,ve.exports.default=ve.exports},3881:ve=>{function Z(S){return ve.exports=Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},ve.exports.__esModule=!0,ve.exports.default=ve.exports,Z(S)}ve.exports=Z,ve.exports.__esModule=!0,ve.exports.default=ve.exports},6780:(ve,Z,S)=>{var M=S(2195);ve.exports=function H(j,o){if(j){if("string"==typeof j)return M(j,o);var v=Object.prototype.toString.call(j).slice(8,-1);if("Object"===v&&j.constructor&&(v=j.constructor.name),"Map"===v||"Set"===v)return Array.from(j);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return M(j,o)}},ve.exports.__esModule=!0,ve.exports.default=ve.exports},203:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2090),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6170),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4582),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8694),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5603),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8047),_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8069),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6718),_ngrx_store__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3896),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(591),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(833),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(745),rxjs__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(6646),rxjs__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(4915),rxjs__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(6067),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1203),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(116),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(635),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3853),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7580),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1989),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3158),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9295),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8951),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2673),rxjs_operators__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(7260),rxjs_operators__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(8728),rxjs_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(538),rxjs_operators__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(4503),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4610),PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING",PerformAction=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z,S){if((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.action=Z,this.timestamp=S,this.type=PERFORM_ACTION,typeof Z.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}),Refresh=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.type=REFRESH}),Reset=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.timestamp=Z,this.type=RESET}),Rollback=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.timestamp=Z,this.type=ROLLBACK}),Commit=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.timestamp=Z,this.type=COMMIT}),Sweep=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.type=SWEEP}),ToggleAction=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.id=Z,this.type=TOGGLE_ACTION}),SetActionsActive=null,JumpToState=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.index=Z,this.type=JUMP_TO_STATE}),JumpToAction=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.actionId=Z,this.type=JUMP_TO_ACTION}),ImportState=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.nextLiftedState=Z,this.type=IMPORT_STATE}),LockChanges=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.status=Z,this.type=LOCK_CHANGES}),PauseRecording=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.status=Z,this.type=PAUSE_RECORDING}),StoreDevtoolsConfig=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function ve(){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,ve),this.maxAge=!1}),STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Initial Config");function noMonitor(){return null}var DEFAULT_NAME="NgRx Store DevTools";function createConfig(ve){var Z={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof ve?ve():ve,H=S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||Z.features;!0===H.import&&(H.import="custom");var j=Object.assign({},Z,{features:H},S);if(j.maxAge&&j.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(j.maxAge));return j}function difference(ve,Z){return ve.filter(function(S){return Z.indexOf(S)<0})}function unliftState(ve){var Z=ve.computedStates,S=ve.currentStateIndex;return S>=Z.length?Z[Z.length-1].state:Z[S].state}function unliftAction(ve){return ve.actionsById[ve.nextActionId-1]}function liftAction(ve){return new PerformAction(ve,+Date.now())}function sanitizeActions(ve,Z){return Object.keys(Z).reduce(function(S,M){var H=Number(M);return S[H]=sanitizeAction(ve,Z[H],H),S},{})}function sanitizeAction(ve,Z,S){return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},Z),{},{action:ve(Z.action,S)})}function sanitizeStates(ve,Z){return Z.map(function(S,M){return{state:sanitizeState(ve,S.state,M),error:S.error}})}function sanitizeState(ve,Z,S){return ve(Z,S)}function shouldFilterActions(ve){return ve.predicate||ve.actionsSafelist||ve.actionsBlocklist}function filterLiftedState(ve,Z,S,M){var H=[],j={},o=[];return ve.stagedActionIds.forEach(function(v,h){var g=ve.actionsById[v];g&&(h&&isActionFiltered(ve.computedStates[h],g,Z,S,M)||(j[v]=g,H.push(v),o.push(ve.computedStates[h])))}),(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},ve),{},{stagedActionIds:H,actionsById:j,computedStates:o})}function isActionFiltered(ve,Z,S,M,H){var j=S&&!S(ve,Z.action),o=M&&!Z.action.type.match(M.map(function(h){return escapeRegExp(h)}).join("|")),v=H&&Z.action.type.match(H.map(function(h){return escapeRegExp(h)}).join("|"));return j||o||v}function escapeRegExp(ve){return ve.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var DevtoolsDispatcher=function(){var ve=function(Z){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_5__.Z)(M,Z);var S=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_6__.Z)(M);function M(){return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,M),S.apply(this,arguments)}return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(M)}(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.UO);return ve.\u0275fac=function(){var Z;return function(M){return(Z||(Z=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275getInheritedFactory(ve)))(M||ve)}}(),ve.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac}),ve}(),ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Redux Devtools Extension"),DevtoolsExtension=function(){var DevtoolsExtension=function(){function DevtoolsExtension(ve,Z,S){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,DevtoolsExtension),this.config=Z,this.dispatcher=S,this.devtoolsExtension=ve,this.createActionStreams()}return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(DevtoolsExtension,[{key:"notify",value:function(Z,S){var M=this;if(this.devtoolsExtension)if(Z.type===PERFORM_ACTION){if(S.isLocked||S.isPaused)return;var H=unliftState(S);if(shouldFilterActions(this.config)&&isActionFiltered(H,Z,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var j=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,H,S.currentStateIndex):H,o=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Z,S.nextActionId):Z;this.sendToReduxDevtools(function(){return M.extensionConnection.send(o,j)})}else{var v=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},S),{},{stagedActionIds:S.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,S.actionsById):S.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,S.computedStates):S.computedStates});this.sendToReduxDevtools(function(){return M.devtoolsExtension.send(null,v,M.getExtensionConfig(M.config))})}}},{key:"createChangesObservable",value:function(){var Z=this;return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_9__.y(function(S){var M=Z.devtoolsExtension.connect(Z.getExtensionConfig(Z.config));return Z.extensionConnection=M,M.init(),M.subscribe(function(H){return S.next(H)}),M.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_8__.E}},{key:"createActionStreams",value:function(){var Z=this,S=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.B)()),M=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.START})),H=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.STOP})),j=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.DISPATCH}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(g){return Z.unwrapAction(g.payload)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.b)(function(g){return g.type===IMPORT_STATE?Z.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(_){return _.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.wb}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(){return g}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(function(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(g)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(g)})),v=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.h)(function(g){return g.type===ExtensionActionTypes.ACTION}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(function(g){return Z.unwrapAction(g.payload)})).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(H)),h=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(H));this.start$=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.R)(H)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.w)(function(){return v})),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.w)(function(){return h}))}},{key:"unwrapAction",value:function unwrapAction(action){return"string"==typeof action?eval("(".concat(action,")")):action}},{key:"getExtensionConfig",value:function ve(Z){var S,M,H,j={name:Z.name,features:Z.features,serialize:Z.serialize,autoPause:null!==(S=Z.autoPause)&&void 0!==S&&S,trace:null!==(M=Z.trace)&&void 0!==M&&M,traceLimit:null!==(H=Z.traceLimit)&&void 0!==H?H:75};return!1!==Z.maxAge&&(j.maxAge=Z.maxAge),j}},{key:"sendToReduxDevtools",value:function ve(Z){try{Z()}catch(S){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",S)}}}]),DevtoolsExtension}();return DevtoolsExtension.\u0275fac=function ve(Z){return new(Z||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension}(),INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ve,Z,S,M,H){if(M)return{state:S,error:"Interrupted by an error up the chain"};var o,j=S;try{j=ve(S,Z)}catch(v){o=v.toString(),H.handleError(v)}return{state:j,error:o}}function recomputeStates(ve,Z,S,M,H,j,o,v,h){if(Z>=ve.length&&ve.length===j.length)return ve;for(var g=ve.slice(0,Z),_=j.length-(h?1:0),w=Z;w<_;w++){var O=j[w],F=H[O].action,L=g[w-1],U=L?L.state:M,z=L?L.error:void 0,Y=o.indexOf(O)>-1?L:computeNextEntry(S,F,U,z,v);g.push(Y)}return h&&g.push(ve[ve.length-1]),g}function liftInitialState(ve,Z){return{monitorState:Z(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ve,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ve,Z,S,M){var H=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(j){return function(o,v){var h=o||Z,g=h.monitorState,_=h.actionsById,w=h.nextActionId,O=h.stagedActionIds,F=h.skippedActionIds,L=h.committedState,U=h.currentStateIndex,z=h.computedStates,Q=h.isLocked,Y=h.isPaused;function ae(De){for(var re=De,Ne=O.slice(1,re+1),at=0;at<Ne.length;at++){if(z[at+1].error){Ne=O.slice(1,(re=at)+1);break}delete _[Ne[at]]}F=F.filter(function(Oe){return-1===Ne.indexOf(Oe)}),O=[0].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O.slice(re+1))),L=z[re].state,z=z.slice(re),U=U>re?U-re:0}function q(){_={0:liftAction(INIT_ACTION)},w=1,O=[0],F=[],L=z[U].state,U=0,z=[]}o||(_=Object.create(_));var W=0;switch(v.type){case LOCK_CHANGES:Q=v.status,W=1/0;break;case PAUSE_RECORDING:(Y=v.status)?(O=[].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[w]),_[w]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),w++,W=O.length-1,z=z.concat(z[z.length-1]),U===O.length-2&&U++,W=1/0):q();break;case RESET:_={0:liftAction(INIT_ACTION)},w=1,O=[0],F=[],L=ve,U=0,z=[];break;case COMMIT:q();break;case ROLLBACK:_={0:liftAction(INIT_ACTION)},w=1,O=[0],F=[],U=0,z=[];break;case TOGGLE_ACTION:var J=v.id,de=F.indexOf(J);F=-1===de?[J].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(F)):F.filter(function(De){return De!==J}),W=O.indexOf(J);break;case SET_ACTIONS_ACTIVE:for(var _e=v.start,be=v.end,ge=v.active,x=[],A=_e;A<be;A++)x.push(A);F=ge?difference(F,x):[].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(F),x),W=O.indexOf(_e);break;case JUMP_TO_STATE:U=v.index,W=1/0;break;case JUMP_TO_ACTION:var C=O.indexOf(v.actionId);-1!==C&&(U=C),W=1/0;break;case SWEEP:O=difference(O,F),F=[],U=Math.min(U,O.length-1);break;case PERFORM_ACTION:if(Q)return o||Z;if(Y||o&&isActionFiltered(o.computedStates[U],v,H.predicate,H.actionsSafelist,H.actionsBlocklist)){var I=z[z.length-1];z=[].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(z.slice(0,-1)),[computeNextEntry(j,v.action,I.state,I.error,S)]),W=1/0;break}H.maxAge&&O.length===H.maxAge&&ae(1),U===O.length-1&&U++;var $=w++;_[$]=v,W=(O=[].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[$])).length-1;break;case IMPORT_STATE:var T=v.nextLiftedState;g=T.monitorState,_=T.actionsById,w=T.nextActionId,O=T.stagedActionIds,F=T.skippedActionIds,L=T.committedState,U=T.currentStateIndex,z=T.computedStates,Q=T.isLocked,Y=T.isPaused;break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_7__.qg:W=0,H.maxAge&&O.length>H.maxAge&&(z=recomputeStates(z,W,j,L,_,O,F,S,Y),ae(O.length-H.maxAge),W=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_7__.wb:if(z.filter(function(De){return De.error}).length>0)W=0,H.maxAge&&O.length>H.maxAge&&(z=recomputeStates(z,W,j,L,_,O,F,S,Y),ae(O.length-H.maxAge),W=1/0);else{if(!Y&&!Q){U===O.length-1&&U++;var fe=w++;_[fe]=new PerformAction(v,+Date.now()),O=[].concat((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_21__.Z)(O),[fe]),z=recomputeStates(z,W=O.length-1,j,L,_,O,F,S,Y)}z=z.map(function(De){return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},De),{},{state:j(De.state,RECOMPUTE_ACTION)})}),U=O.length-1,H.maxAge&&O.length>H.maxAge&&ae(O.length-H.maxAge),W=1/0}break;default:W=1/0}return z=recomputeStates(z,W,j,L,_,O,F,S,Y),{monitorState:g=M(g,v),actionsById:_,nextActionId:w,stagedActionIds:O,skippedActionIds:F,committedState:L,currentStateIndex:U,computedStates:z,isLocked:Q,isPaused:Y}}}}var StoreDevtools=function(){var ve=function(){function Z(S,M,H,j,o,v,h,g){var _=this;(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,Z);var w=liftInitialState(h,g.monitor),O=liftReducerWith(h,w,v,g.monitor,g),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_22__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.T)(M.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.T)(1)),j.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(liftAction)),S,j.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_25__.N)),L=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(O)),U=new rxjs__WEBPACK_IMPORTED_MODULE_26__.t(1),z=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_27__.M)(L),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_28__.R)(function(q,W){var J=q.state,de=(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_29__.Z)(W,2),_e=de[0],ge=(0,de[1])(J,_e);return _e.type!==PERFORM_ACTION&&shouldFilterActions(g)&&(ge=filterLiftedState(ge,g.predicate,g.actionsSafelist,g.actionsBlocklist)),j.notify(_e,ge),{state:ge,action:_e}},{state:w,action:null})).subscribe(function(q){var J=q.action;U.next(q.state),J.type===PERFORM_ACTION&&o.next(J.action)}),Q=j.start$.subscribe(function(){_.refresh()}),Y=U.asObservable(),ae=Y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(unliftState));Object.defineProperty(ae,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_1__.toSignal)(ae,{manualCleanup:!0,requireSync:!0})}),this.extensionStartSubscription=Q,this.stateSubscription=z,this.dispatcher=S,this.liftedState=Y,this.state=ae}return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Z,[{key:"dispatch",value:function(M){this.dispatcher.next(M)}},{key:"next",value:function(M){this.dispatcher.next(M)}},{key:"error",value:function(M){}},{key:"complete",value:function(){}},{key:"performAction",value:function(M){this.dispatch(new PerformAction(M,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new Refresh)}},{key:"reset",value:function(){this.dispatch(new Reset(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new Rollback(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new Commit(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new Sweep)}},{key:"toggleAction",value:function(M){this.dispatch(new ToggleAction(M))}},{key:"jumpToAction",value:function(M){this.dispatch(new JumpToAction(M))}},{key:"jumpToState",value:function(M){this.dispatch(new JumpToState(M))}},{key:"importState",value:function(M){this.dispatch(new ImportState(M))}},{key:"lockChanges",value:function(M){this.dispatch(new LockChanges(M))}},{key:"pauseRecording",value:function(M){this.dispatch(new PauseRecording(M))}}]),Z}();return ve.\u0275fac=function(S){return new(S||ve)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(STORE_DEVTOOLS_CONFIG))},ve.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac}),ve}(),IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ve,Z){return!!ve||Z.monitor!==noMonitor}function createReduxDevtoolsExtension(){var ve="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[ve]<"u"?window[ve]:null}function provideStoreDevtools(){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.makeEnvironmentProviders)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_7__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(ve){return ve.state}var StoreDevtoolsModule=function(){var ve=function(){function Z(){(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,Z)}return(0,_home_runner_work_spearhead_docs_spearhead_docs_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Z,null,[{key:"instrument",value:function(){return{ngModule:Z,providers:[provideStoreDevtools(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]}}}]),Z}();return ve.\u0275fac=function(S){return new(S||ve)},ve.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineNgModule({type:ve}),ve.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjector({}),ve}()},3896:(ve,Z,S)=>{S.d(Z,{hg:()=>mn,UO:()=>et,qg:()=>rt,Y6:()=>st,PB:()=>In,mK:()=>Ct,n$:()=>Ui,Y$:()=>An,FR:()=>$r,yh:()=>Xi,CK:()=>xr,Aw:()=>Ci,cr:()=>Er,wb:()=>Rt,UY:()=>Ie,qC:()=>yr,PH:()=>I,ZF:()=>_u,Lq:()=>ti,P1:()=>as,rM:()=>so,on:()=>si,Ky:()=>$,Ys:()=>Rr});var M=S(5106),H=S(609),j=S(2090),o=S(5488),v=S(6170),h=S(8069),g=S(8047),_=S(4089),w=S(265),O=S(4582),F=S(8694),L=S(7797),U=S(5603),z=S(6718),Q=S(6317),Y=S(833),ae=S(253),q=S(4915),W=S(8728),J=S(538),de=S(4503),_e=S(635);function be(){for(var Ue=arguments.length,ft=new Array(Ue),ht=0;ht<Ue;ht++)ft[ht]=arguments[ht];var kt=ft.length;if(0===kt)throw new Error("list of properties cannot be empty.");return(0,_e.U)(function(jt){for(var Ot=jt,an=0;an<kt;an++){var wn=Ot?.[ft[an]];if(!(typeof wn<"u"))return;Ot=wn}return Ot})}var ge=S(8977),x=S(4610),A={};function I(Ue,ft){if(A[Ue]=(A[Ue]||0)+1,"function"==typeof ft)return X(Ue,function(){return(0,U.Z)((0,U.Z)({},ft.apply(void 0,arguments)),{},{type:Ue})});switch(ft?ft._as:"empty"){case"empty":return X(Ue,function(){return{type:Ue}});case"props":return X(Ue,function(kt){return(0,U.Z)((0,U.Z)({},kt),{},{type:Ue})});default:throw new Error("Unexpected config.")}}function $(){return{_as:"props",_p:void 0}}function X(Ue,ft){return Object.defineProperty(ft,"type",{value:Ue,writable:!1})}var rt="@ngrx/store/init",et=function(){var Ue=function(ft){(0,O.Z)(kt,ft);var ht=(0,F.Z)(kt);function kt(){return(0,h.Z)(this,kt),ht.call(this,{type:rt})}return(0,g.Z)(kt,[{key:"next",value:function(Ot){if("function"==typeof Ot)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ot>"u")throw new TypeError("Actions must be objects");if(typeof Ot.type>"u")throw new TypeError("Actions must have a type property");(0,_.Z)((0,w.Z)(kt.prototype),"next",this).call(this,Ot)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){(0,_.Z)((0,w.Z)(kt.prototype),"complete",this).call(this)}}]),kt}(Q.X);return Ue.\u0275fac=function(ht){return new(ht||Ue)},Ue.\u0275prov=z.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac}),Ue}(),St=[et],it=new z.InjectionToken("@ngrx/store Internal Root Guard"),Ve=new z.InjectionToken("@ngrx/store Internal Initial State"),st=new z.InjectionToken("@ngrx/store Initial State"),me=new z.InjectionToken("@ngrx/store Reducer Factory"),ee=new z.InjectionToken("@ngrx/store Internal Reducer Factory Provider"),se=new z.InjectionToken("@ngrx/store Initial Reducers"),Re=new z.InjectionToken("@ngrx/store Internal Initial Reducers"),Ze=new z.InjectionToken("@ngrx/store Store Features"),pe=new z.InjectionToken("@ngrx/store Internal Store Reducers"),Ce=new z.InjectionToken("@ngrx/store Internal Feature Reducers"),dt=new z.InjectionToken("@ngrx/store Internal Feature Configs"),Ee=new z.InjectionToken("@ngrx/store Internal Store Features"),le=new z.InjectionToken("@ngrx/store Internal Feature Reducers Token"),ce=new z.InjectionToken("@ngrx/store Feature Reducers"),Fe=new z.InjectionToken("@ngrx/store User Provided Meta Reducers"),ut=new z.InjectionToken("@ngrx/store Meta Reducers"),Nt=new z.InjectionToken("@ngrx/store Internal Resolved Meta Reducers"),Mt=new z.InjectionToken("@ngrx/store User Runtime Checks Config"),Wt=new z.InjectionToken("@ngrx/store Internal User Runtime Checks Config"),mn=new z.InjectionToken("@ngrx/store Internal Runtime Checks"),tn=new z.InjectionToken("@ngrx/store Check if Action types are unique");function Ie(Ue){for(var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ht=Object.keys(Ue),kt={},jt=0;jt<ht.length;jt++){var Ot=ht[jt];"function"==typeof Ue[Ot]&&(kt[Ot]=Ue[Ot])}var an=Object.keys(kt);return function(Tn,sr){Tn=void 0===Tn?ft:Tn;for(var Jn=!1,br={},wi=0;wi<an.length;wi++){var Vr=an[wi],Ni=Tn[Vr],ni=(0,kt[Vr])(Ni,sr);br[Vr]=ni,Jn=Jn||ni!==Ni}return Jn?br:Tn}}function yr(){for(var Ue=arguments.length,ft=new Array(Ue),ht=0;ht<Ue;ht++)ft[ht]=arguments[ht];return function(kt){if(0===ft.length)return kt;var jt=ft[ft.length-1];return ft.slice(0,-1).reduceRight(function(an,wn){return wn(an)},jt(kt))}}function nn(Ue,ft){return Array.isArray(ft)&&ft.length>0&&(Ue=yr.apply(null,[].concat((0,v.Z)(ft),[Ue]))),function(ht,kt){var jt=Ue(ht);return function(Ot,an){return jt(Ot=void 0===Ot?kt:Ot,an)}}}new z.InjectionToken("@ngrx/store Root Store Provider"),new z.InjectionToken("@ngrx/store Feature State Provider");var Ui=function(Ue){(0,O.Z)(ht,Ue);var ft=(0,F.Z)(ht);function ht(){return(0,h.Z)(this,ht),ft.apply(this,arguments)}return(0,g.Z)(ht)}(Y.y),Ct=function(Ue){(0,O.Z)(ht,Ue);var ft=(0,F.Z)(ht);function ht(){return(0,h.Z)(this,ht),ft.apply(this,arguments)}return(0,g.Z)(ht)}(et),Rt="@ngrx/store/update-reducers",In=function(){var Ue=function(ft){(0,O.Z)(kt,ft);var ht=(0,F.Z)(kt);function kt(jt,Ot,an,wn){var Tn;return(0,h.Z)(this,kt),(Tn=ht.call(this,wn(an,Ot))).dispatcher=jt,Tn.initialState=Ot,Tn.reducers=an,Tn.reducerFactory=wn,Tn}return(0,g.Z)(kt,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(Ot){this.addFeatures([Ot])}},{key:"addFeatures",value:function(Ot){var an=Ot.reduce(function(wn,Tn){var sr=Tn.reducers,Jn=Tn.reducerFactory,br=Tn.metaReducers,wi=Tn.initialState,Vr=Tn.key,pi="function"==typeof sr?function To(Ue){var ft=Array.isArray(Ue)&&Ue.length>0?yr.apply(void 0,(0,v.Z)(Ue)):function(ht){return ht};return function(ht,kt){return ht=ft(ht),function(jt,Ot){return ht(jt=void 0===jt?kt:jt,Ot)}}}(br)(sr,wi):nn(Jn,br)(sr,wi);return wn[Vr]=pi,wn},{});this.addReducers(an)}},{key:"removeFeature",value:function(Ot){this.removeFeatures([Ot])}},{key:"removeFeatures",value:function(Ot){this.removeReducers(Ot.map(function(an){return an.key}))}},{key:"addReducer",value:function(Ot,an){this.addReducers((0,L.Z)({},Ot,an))}},{key:"addReducers",value:function(Ot){this.reducers=(0,U.Z)((0,U.Z)({},this.reducers),Ot),this.updateReducers(Object.keys(Ot))}},{key:"removeReducer",value:function(Ot){this.removeReducers([Ot])}},{key:"removeReducers",value:function(Ot){var an=this;Ot.forEach(function(wn){an.reducers=function Qr(Ue,ft){return Object.keys(Ue).filter(function(ht){return ht!==ft}).reduce(function(ht,kt){return Object.assign(ht,(0,L.Z)({},kt,Ue[kt]))},{})}(an.reducers,wn)}),this.updateReducers(Ot)}},{key:"updateReducers",value:function(Ot){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Rt,features:Ot})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),kt}(Q.X);return Ue.\u0275fac=function(ht){return new(ht||Ue)(z.\u0275\u0275inject(Ct),z.\u0275\u0275inject(st),z.\u0275\u0275inject(se),z.\u0275\u0275inject(me))},Ue.\u0275prov=z.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac}),Ue}(),or=[In,{provide:Ui,useExisting:In},{provide:Ct,useExisting:et}],An=function(){var Ue=function(ft){(0,O.Z)(kt,ft);var ht=(0,F.Z)(kt);function kt(){return(0,h.Z)(this,kt),ht.apply(this,arguments)}return(0,g.Z)(kt,[{key:"ngOnDestroy",value:function(){this.complete()}}]),kt}(ae.x);return Ue.\u0275fac=function(){var ft;return function(kt){return(ft||(ft=z.\u0275\u0275getInheritedFactory(Ue)))(kt||Ue)}}(),Ue.\u0275prov=z.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac}),Ue}(),vn=[An],$r=function(Ue){(0,O.Z)(ht,Ue);var ft=(0,F.Z)(ht);function ht(){return(0,h.Z)(this,ht),ft.apply(this,arguments)}return(0,g.Z)(ht)}(Y.y),pr=function(){var Ue=function(ft){(0,O.Z)(kt,ft);var ht=(0,F.Z)(kt);function kt(jt,Ot,an,wn){var Tn;(0,h.Z)(this,kt),Tn=ht.call(this,wn);var wi=jt.pipe((0,W.Q)(q.N)).pipe((0,J.M)(Ot)).pipe((0,de.R)(cr,{state:wn}));return Tn.stateSubscription=wi.subscribe(function(Vr){var Ni=Vr.action;Tn.next(Vr.state),an.next(Ni)}),Tn.state=(0,x.toSignal)((0,o.Z)(Tn),{manualCleanup:!0,requireSync:!0}),Tn}return(0,g.Z)(kt,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),kt}(Q.X);return Ue.INIT=rt,Ue.\u0275fac=function(ht){return new(ht||Ue)(z.\u0275\u0275inject(et),z.\u0275\u0275inject(Ui),z.\u0275\u0275inject(An),z.\u0275\u0275inject(st))},Ue.\u0275prov=z.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac}),Ue}();function cr(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},ht=(0,j.Z)(arguments.length>1?arguments[1]:void 0,2),kt=ht[0];return{state:(0,ht[1])(Ue.state,kt),action:kt}}var Ar=[pr,{provide:$r,useExisting:pr}],Xi=function(){var Ue=function(ft){(0,O.Z)(kt,ft);var ht=(0,F.Z)(kt);function kt(jt,Ot,an){var wn;return(0,h.Z)(this,kt),(wn=ht.call(this)).actionsObserver=Ot,wn.reducerManager=an,wn.source=jt,wn.state=jt.state,wn}return(0,g.Z)(kt,[{key:"select",value:function(Ot){for(var an=arguments.length,wn=new Array(an>1?an-1:0),Tn=1;Tn<an;Tn++)wn[Tn-1]=arguments[Tn];return Rr.call.apply(Rr,[null,Ot].concat(wn))(this)}},{key:"selectSignal",value:function(Ot,an){var wn=this;return(0,z.computed)(function(){return Ot(wn.state())},{equal:an?.equal||function(Tn,sr){return Tn===sr}})}},{key:"lift",value:function(Ot){var an=new kt(this,this.actionsObserver,this.reducerManager);return an.operator=Ot,an}},{key:"dispatch",value:function(Ot){this.actionsObserver.next(Ot)}},{key:"next",value:function(Ot){this.actionsObserver.next(Ot)}},{key:"error",value:function(Ot){this.actionsObserver.error(Ot)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(Ot,an){this.reducerManager.addReducer(Ot,an)}},{key:"removeReducer",value:function(Ot){this.reducerManager.removeReducer(Ot)}}]),kt}(Y.y);return Ue.\u0275fac=function(ht){return new(ht||Ue)(z.\u0275\u0275inject($r),z.\u0275\u0275inject(et),z.\u0275\u0275inject(In))},Ue.\u0275prov=z.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac}),Ue}(),zi=[Xi];function Rr(Ue,ft){for(var ht=arguments.length,kt=new Array(ht>2?ht-2:0),jt=2;jt<ht;jt++)kt[jt-2]=arguments[jt];return function(an){var wn;if("string"==typeof Ue){var Tn=[ft].concat(kt).filter(Boolean);wn=an.pipe(be.apply(void 0,[Ue].concat((0,v.Z)(Tn))))}else{if("function"!=typeof Ue)throw new TypeError("Unexpected type '".concat(typeof Ue,"' in select operator,")+" expected 'string' or 'function'");wn=an.pipe((0,_e.U)(function(sr){return Ue(sr,ft)}))}return wn.pipe((0,ge.x)())}}var Lr="https://ngrx.io/guide/store/configuration/runtime-checks";function ei(Ue){return void 0===Ue}function Ko(Ue){return null===Ue}function ki(Ue){return Array.isArray(Ue)}function _i(Ue){return"object"==typeof Ue&&null!==Ue}function Vi(Ue){return"function"==typeof Ue}var _r=!1;function so(){return _r}function Ai(Ue,ft){return Ue===ft}function Wo(Ue){var Ot,ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ai,ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ai,kt=null,jt=null;return{memoized:function sr(){if(void 0!==Ot)return Ot.result;if(!kt)return jt=Ue.apply(null,arguments),kt=arguments,jt;if(!function Qi(Ue,ft,ht){for(var kt=0;kt<Ue.length;kt++)if(!ht(Ue[kt],ft[kt]))return!0;return!1}(arguments,kt,ft))return jt;var Jn=Ue.apply(null,arguments);return kt=arguments,ht(jt,Jn)?jt:(jt=Jn,Jn)},reset:function an(){kt=null,jt=null},setResult:function wn(){Ot={result:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},clearResult:function Tn(){Ot=void 0}}}function as(){return function Fs(Ue){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:bi};return function(){for(var ht=arguments.length,kt=new Array(ht),jt=0;jt<ht;jt++)kt[jt]=arguments[jt];var Ot=kt;if(Array.isArray(Ot[0])){var wn=(0,H.Z)(Ot),Tn=wn[0],sr=wn.slice(1);Ot=[].concat((0,v.Z)(Tn),(0,v.Z)(sr))}else 1===Ot.length&&function Yu(Ue){return!!Ue&&"object"==typeof Ue&&Object.values(Ue).every(function(ft){return"function"==typeof ft})}(Ot[0])&&(Ot=function el(Ue){var ft=Object.values(Ue),ht=Object.keys(Ue);return[].concat(ft,[function(){for(var Ot=arguments.length,an=new Array(Ot),wn=0;wn<Ot;wn++)an[wn]=arguments[wn];return ht.reduce(function(Tn,sr,Jn){return(0,U.Z)((0,U.Z)({},Tn),{},(0,L.Z)({},sr,an[Jn]))},{})}])}(Ot[0]));var Jn=Ot.slice(0,Ot.length-1),br=Ot[Ot.length-1],wi=Jn.filter(function(ni){return ni.release&&"function"==typeof ni.release}),Vr=Ue(function(){for(var ni=arguments.length,lr=new Array(ni),Gr=0;Gr<ni;Gr++)lr[Gr]=arguments[Gr];return br.apply(null,lr)}),pi=Wo(function(ni,lr){return ft.stateFn.apply(null,[ni,Jn,lr,Vr])});return Object.assign(pi.memoized,{release:function Ni(){pi.reset(),Vr.reset(),wi.forEach(function(ni){return ni.release()})},projector:Vr.memoized,setResult:pi.setResult,clearResult:pi.clearResult})}}(Wo).apply(void 0,arguments)}function bi(Ue,ft,ht,kt){if(void 0===ht){var jt=ft.map(function(an){return an(Ue)});return kt.memoized.apply(null,jt)}var Ot=ft.map(function(an){return an(Ue,ht)});return kt.memoized.apply(null,[].concat((0,v.Z)(Ot),[ht]))}function _u(Ue){return as(function(ft){var ht=ft[Ue];return!so()&&(0,z.isDevMode)()&&!(Ue in ft)&&console.warn('@ngrx/store: The feature name "'.concat(Ue,'" does ')+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+"using StoreModule.forRoot('".concat(Ue,"', ...) or ")+"StoreModule.forFeature('".concat(Ue,"', ...).  If the default ")+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),ht},function(ft){return ft})}function P(Ue){return Ue instanceof z.InjectionToken?(0,z.inject)(Ue):Ue}function k(Ue,ft){return ft.map(function(ht,kt){if(Ue[kt]instanceof z.InjectionToken){var jt=(0,z.inject)(Ue[kt]);return{key:ht.key,reducerFactory:jt.reducerFactory?jt.reducerFactory:Ie,metaReducers:jt.metaReducers?jt.metaReducers:[],initialState:jt.initialState}}return ht})}function N(Ue){return Ue.map(function(ft){return ft instanceof z.InjectionToken?(0,z.inject)(ft):ft})}function G(Ue){return"function"==typeof Ue?Ue():Ue}function oe(Ue,ft){return Ue.concat(ft)}function ye(){if((0,z.inject)(Xi,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Le(Ue){Object.freeze(Ue);var ft=Vi(Ue);return Object.getOwnPropertyNames(Ue).forEach(function(ht){if(!ht.startsWith("\u0275")&&function Io(Ue,ft){return Object.prototype.hasOwnProperty.call(Ue,ft)}(Ue,ht)&&(!ft||"caller"!==ht&&"callee"!==ht&&"arguments"!==ht)){var kt=Ue[ht];(_i(kt)||Vi(kt))&&!Object.isFrozen(kt)&&Le(kt)}}),Ue}function je(Ue){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(ei(Ue)||Ko(Ue))&&0===ft.length?{path:["root"],value:Ue}:Object.keys(Ue).reduce(function(kt,jt){if(kt)return kt;var Ot=Ue[jt];return function ca(Ue){return Vi(Ue)&&Ue.hasOwnProperty("\u0275cmp")}(Ot)?kt:!(ei(Ot)||Ko(Ot)||function fo(Ue){return"number"==typeof Ue}(Ot)||function ao(Ue){return"boolean"==typeof Ue}(Ot)||function Do(Ue){return"string"==typeof Ue}(Ot)||ki(Ot))&&(function Pi(Ue){if(!function xi(Ue){return _i(Ue)&&!ki(Ue)}(Ue))return!1;var ft=Object.getPrototypeOf(Ue);return ft===Object.prototype||null===ft}(Ot)?je(Ot,[].concat((0,v.Z)(ft),[jt])):{path:[].concat((0,v.Z)(ft),[jt]),value:Ot})},!1)}function Ge(Ue,ft){if(!1!==Ue){var ht=Ue.path.join("."),kt=new Error("Detected unserializable ".concat(ft,' at "').concat(ht,'". ').concat(Lr,"#strict").concat(ft,"serializability"));throw kt.value=Ue.value,kt.unserializablePath=ht,kt}}function Qe(Ue){return(0,z.isDevMode)()?(0,U.Z)({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Ue):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ot(Ue){var ft=Ue.strictActionSerializability,ht=Ue.strictStateSerializability;return function(kt){return ft||ht?function Be(Ue,ft){return function(ht,kt){ft.action(kt)&&Ge(je(kt),"action");var Ot=Ue(ht,kt);return ft.state()&&Ge(je(Ot),"state"),Ot}}(kt,{action:function(Ot){return ft&&!At(Ot)},state:function(){return ht}}):kt}}function yt(Ue){var ft=Ue.strictActionImmutability,ht=Ue.strictStateImmutability;return function(kt){return ft||ht?function Ae(Ue,ft){return function(ht,kt){var jt=ft.action(kt)?Le(kt):kt,Ot=Ue(ht,jt);return ft.state()?Le(Ot):Ot}}(kt,{action:function(Ot){return ft&&!At(Ot)},state:function(){return ht}}):kt}}function At(Ue){return Ue.type.startsWith("@ngrx")}function Dt(Ue){var ft=Ue.strictActionWithinNgZone;return function(ht){return ft?function Ke(Ue,ft){return function(ht,kt){if(ft.action(kt)&&!z.NgZone.isInAngularZone())throw new Error("Action '".concat(kt.type,"' running outside NgZone. ").concat(Lr,"#strictactionwithinngzone"));return Ue(ht,kt)}}(ht,{action:function(jt){return ft&&!At(jt)}}):ht}}function Pe(Ue){return[{provide:Wt,useValue:Ue},{provide:Mt,useFactory:Xe,deps:[Wt]},{provide:mn,deps:[Mt],useFactory:Qe},{provide:ut,multi:!0,deps:[mn],useFactory:yt},{provide:ut,multi:!0,deps:[mn],useFactory:ot},{provide:ut,multi:!0,deps:[mn],useFactory:Dt}]}function qe(){return[{provide:tn,multi:!0,deps:[mn],useFactory:Je}]}function Xe(Ue){return Ue}function Je(Ue){if(Ue.strictActionTypeUniqueness){var ft=Object.entries(A).filter(function(ht){return(0,j.Z)(ht,2)[1]>1}).map(function(ht){return(0,j.Z)(ht,1)[0]});if(ft.length)throw new Error("Action types are registered more than once, ".concat(ft.map(function(ht){return'"'.concat(ht,'"')}).join(", "),". ").concat(Lr,"#strictactiontypeuniqueness"))}}function Tt(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{provide:it,useFactory:ye},{provide:Ve,useValue:ft.initialState},{provide:st,useFactory:G,deps:[Ve]},{provide:Re,useValue:Ue},{provide:pe,useExisting:Ue instanceof z.InjectionToken?Ue:Re},{provide:se,deps:[Re,[new z.Inject(pe)]],useFactory:P},{provide:Fe,useValue:ft.metaReducers?ft.metaReducers:[]},{provide:Nt,deps:[ut,Fe],useFactory:oe},{provide:ee,useValue:ft.reducerFactory?ft.reducerFactory:Ie},{provide:me,deps:[ee,Nt],useFactory:nn},St,or,vn,Ar,zi,Pe(ft.runtimeChecks),qe()]}function ar(Ue,ft){var ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[{provide:dt,multi:!0,useValue:Ue instanceof Object?{}:ht},{provide:Ze,multi:!0,useValue:{key:Ue instanceof Object?Ue.name:Ue,reducerFactory:ht instanceof z.InjectionToken||!ht.reducerFactory?Ie:ht.reducerFactory,metaReducers:ht instanceof z.InjectionToken||!ht.metaReducers?[]:ht.metaReducers,initialState:ht instanceof z.InjectionToken||!ht.initialState?void 0:ht.initialState}},{provide:Ee,deps:[dt,Ze],useFactory:k},{provide:Ce,multi:!0,useValue:Ue instanceof Object?Ue.reducer:ft},{provide:le,multi:!0,useExisting:ft instanceof z.InjectionToken?ft:Ce},{provide:ce,multi:!0,deps:[Ce,[new z.Inject(le)]],useFactory:N},qe()]}var Er=function(){var Ue=(0,g.Z)(function ft(ht,kt,jt,Ot,an,wn){(0,h.Z)(this,ft)});return Ue.\u0275fac=function(ht){return new(ht||Ue)(z.\u0275\u0275inject(et),z.\u0275\u0275inject(Ui),z.\u0275\u0275inject(An),z.\u0275\u0275inject(Xi),z.\u0275\u0275inject(it,8),z.\u0275\u0275inject(tn,8))},Ue.\u0275mod=z.\u0275\u0275defineNgModule({type:Ue}),Ue.\u0275inj=z.\u0275\u0275defineInjector({}),Ue}(),xr=function(){var Ue=function(){function ft(ht,kt,jt,Ot,an){(0,h.Z)(this,ft),this.features=ht,this.featureReducers=kt,this.reducerManager=jt;var wn=ht.map(function(Tn,sr){var br=kt.shift()[sr];return(0,U.Z)((0,U.Z)({},Tn),{},{reducers:br,initialState:G(Tn.initialState)})});jt.addFeatures(wn)}return(0,g.Z)(ft,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),ft}();return Ue.\u0275fac=function(ht){return new(ht||Ue)(z.\u0275\u0275inject(Ee),z.\u0275\u0275inject(ce),z.\u0275\u0275inject(In),z.\u0275\u0275inject(Er),z.\u0275\u0275inject(tn,8))},Ue.\u0275mod=z.\u0275\u0275defineNgModule({type:Ue}),Ue.\u0275inj=z.\u0275\u0275defineInjector({}),Ue}(),Ci=function(){var Ue=function(){function ft(){(0,h.Z)(this,ft)}return(0,g.Z)(ft,null,[{key:"forRoot",value:function(kt,jt){return{ngModule:Er,providers:(0,v.Z)(Tt(kt,jt))}}},{key:"forFeature",value:function(kt,jt){return{ngModule:xr,providers:(0,v.Z)(ar(kt,jt,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}}}]),ft}();return Ue.\u0275fac=function(ht){return new(ht||Ue)},Ue.\u0275mod=z.\u0275\u0275defineNgModule({type:Ue}),Ue.\u0275inj=z.\u0275\u0275defineInjector({}),Ue}();function si(){for(var Ue=arguments.length,ft=new Array(Ue),ht=0;ht<Ue;ht++)ft[ht]=arguments[ht];return{reducer:ft.pop(),types:ft.map(function(Ot){return Ot.type})}}function ti(Ue){for(var ft=new Map,ht=arguments.length,kt=new Array(ht>1?ht-1:0),jt=1;jt<ht;jt++)kt[jt-1]=arguments[jt];for(var Ot=function(){var br,sr=wn[an],Jn=(0,M.Z)(sr.types);try{var wi=function(){var pi=br.value,Ni=ft.get(pi);ft.set(pi,Ni?function(Gr,Xo){return sr.reducer(Ni(Gr,Xo),Xo)}:sr.reducer)};for(Jn.s();!(br=Jn.n()).done;)wi()}catch(Vr){Jn.e(Vr)}finally{Jn.f()}},an=0,wn=kt;an<wn.length;an++)Ot();return function(){var Tn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,sr=arguments.length>1?arguments[1]:void 0,Jn=ft.get(sr.type);return Jn?Jn(Tn,sr):Tn}}},2162:(ve,Z,S)=>{S.d(Z,{Z:()=>j});var M=S(6),H=S(8568);function j(o,v,h){return(j=(0,H.Z)()?Reflect.construct.bind():function(_,w,O){var F=[null];F.push.apply(F,w);var U=new(Function.bind.apply(_,F));return O&&(0,M.Z)(U,O.prototype),U}).apply(null,arguments)}},609:(ve,Z,S)=>{S.d(Z,{Z:()=>v});var M=S(8091),H=S(4826),j=S(4206),o=S(8217);function v(h){return(0,M.Z)(h)||(0,H.Z)(h)||(0,j.Z)(h)||(0,o.Z)()}},2902:(ve,Z,S)=>{S.d(Z,{Z:()=>v});var M=S(265),H=S(6),o=S(2162);function v(h){var g="function"==typeof Map?new Map:void 0;return v=function(w){if(null===w||!function j(h){return-1!==Function.toString.call(h).indexOf("[native code]")}(w))return w;if("function"!=typeof w)throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(w))return g.get(w);g.set(w,O)}function O(){return(0,o.Z)(w,arguments,(0,M.Z)(this).constructor)}return O.prototype=Object.create(w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),(0,H.Z)(O,w)},v(h)}}}]);
//# sourceMappingURL=261.6a26e676194a11d7.js.map